!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=402)}([function(e,t,n){var i=n(10),r=n(66).f,o=n(69),a=n(31),s=n(171),c=n(244),u=n(112);e.exports=function(e,t){var n,l,p,h,f,d=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[d]||s(d,{}):(i[d]||{}).prototype)for(l in t){if(h=t[l],p=e.dontCallGetSet?(f=r(n,l))&&f.value:n[l],!u(m?l:d+(g?".":"#")+l,e.forced)&&void 0!==p){if(typeof h==typeof p)continue;c(h,p)}(e.sham||p&&p.sham)&&o(h,"sham",!0),a(n,l,h,e)}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var i=n(22),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not an object")}},function(e,t,n){var i=n(9),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(106),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},function(e,t,n){var i=n(43),r=n(239);e.exports=function(e){if("Function"===i(e))return r(e)}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,u=[],l=!1,p=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&f())}function f(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(516),r=n(517),o=n(317);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return L(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var p=!0,h=0;h<c;h++)if(u(e,o+h)!==u(t,h)){p=!1;break}if(p)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,i){return H(L(t,e.length-n),e,n,i)}function _(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function x(e,t,n,i){return _(e,t,n,i)}function k(e,t,n,i){return H(q(t),e,n,i)}function E(e,t,n,i){return H(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function S(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,c,u=e[r],l=null,p=u>239?4:u>223?3:u>191?2:1;if(r+p<=n)switch(p){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[r+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,p=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){o=u[p],a=l[p];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function C(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=N(e[o]);return r}function T(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function B(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function O(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function I(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,i,o){return o||I(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,o){return o||I(e,0,n,8),r.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:L(new c(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(17))},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(17))},function(e,t,n){var i=n(24),r=n(6),o=n(3),a=n(86),s=n(256),c=n(46),u=n(52),l=n(180),p=n(181),h=n(255),f=TypeError,d=function(e,t){this.stopped=e,this.result=t},m=d.prototype;e.exports=function(e,t,n){var g,v,y,b,w,_,x,k=n&&n.that,E=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),j=!(!n||!n.IS_ITERATOR),M=!(!n||!n.INTERRUPTED),A=i(t,k),C=function(e){return g&&h(g,"normal",e),new d(!0,e)},T=function(e){return E?(o(e),M?A(e[0],e[1],C):A(e[0],e[1])):M?A(e,C):A(e)};if(S)g=e.iterator;else if(j)g=e;else{if(!(v=p(e)))throw f(a(e)+" is not iterable");if(s(v)){for(y=0,b=c(e);b>y;y++)if((w=T(e[y]))&&u(m,w))return w;return new d(!1)}g=l(e,v)}for(_=S?e.next:g.next;!(x=r(_,g)).done;){try{w=T(x.value)}catch(e){h(g,"throw",e)}if("object"==typeof w&&w&&u(m,w))return w}return new d(!1)}},function(e,t,n){(function(t,i){var r=n(83),o=n(60).Stream,a=n(18),s=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e,t,n,i,o){throw new r.AssertionError({message:a.format("%s (%s) is required",e,t),actual:void 0===o?typeof i:o(i),expected:t,operator:n||"===",stackStartFunction:u.caller})}function l(e){return Object.prototype.toString.call(e).slice(8,-1)}function p(){}var h={bool:{check:function(e){return"boolean"==typeof e}},func:{check:function(e){return"function"==typeof e}},string:{check:function(e){return"string"==typeof e}},object:{check:function(e){return"object"==typeof e&&null!==e}},number:{check:function(e){return"number"==typeof e&&!isNaN(e)}},finite:{check:function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}},buffer:{check:function(e){return t.isBuffer(e)},operator:"Buffer.isBuffer"},array:{check:function(e){return Array.isArray(e)},operator:"Array.isArray"},stream:{check:function(e){return e instanceof o},operator:"instanceof",actual:l},date:{check:function(e){return e instanceof Date},operator:"instanceof",actual:l},regexp:{check:function(e){return e instanceof RegExp},operator:"instanceof",actual:l},uuid:{check:function(e){return"string"==typeof e&&s.test(e)},operator:"isUUID"}};e.exports=function e(t){var n,o=Object.keys(h);return n=i.env.NODE_NDEBUG?p:function(e,t){e||u(t,"true",e)},o.forEach((function(e){if(t)n[e]=p;else{var i=h[e];n[e]=function(t,n){i.check(t)||u(n,e,i.operator,t,i.actual)}}})),o.forEach((function(e){var i="optional"+c(e);if(t)n[i]=p;else{var r=h[e];n[i]=function(t,n){null!=t&&(r.check(t)||u(n,e,r.operator,t,r.actual))}}})),o.forEach((function(e){var i="arrayOf"+c(e);if(t)n[i]=p;else{var r=h[e],o="["+e+"]";n[i]=function(e,t){var n;for(Array.isArray(e)||u(t,o,r.operator,e,r.actual),n=0;n<e.length;n++)r.check(e[n])||u(t,o,r.operator,e,r.actual)}}})),o.forEach((function(e){var i="optionalArrayOf"+c(e);if(t)n[i]=p;else{var r=h[e],o="["+e+"]";n[i]=function(e,t){var n;if(null!=e)for(Array.isArray(e)||u(t,o,r.operator,e,r.actual),n=0;n<e.length;n++)r.check(e[n])||u(t,o,r.operator,e,r.actual)}}})),Object.keys(r).forEach((function(e){n[e]="AssertionError"!==e&&t?p:r[e]})),n._setExports=e,n}(i.env.NODE_NDEBUG)}).call(this,n(9).Buffer,n(8))},function(e,t,n){var i=n(15),r=n(86),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a function")}},function(e,t,n){"use strict";(function(t){var i,r=n(9),o=r.Buffer,a={};for(i in r)r.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=r[i]);var s=a.Buffer={};for(i in o)o.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(s[i]=o[i]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),s.alloc||(s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=o(e);return t&&0!==t.length?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this,n(8))},function(e,t,n){var i=n(240),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},function(e,t,n){var i=n(10),r=n(87),o=n(23),a=n(139),s=n(84),c=n(241),u=r("wks"),l=i.Symbol,p=l&&l.for,h=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(l,e)?u[e]=l[e]:u[e]=c&&p?p(t):h(t)}return u[e]}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(e){var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++)n[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return n},r=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}})),c=i[n];n<o;c=i[++n])m(c)||!w(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,i){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),r=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var i={seen:[],stylize:u};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),d(n)?i.showHidden=n:n&&t._extend(i,n),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=c),l(i,e,i.depth)}function c(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function l(e,n,i){if(e.customInspect&&n&&k(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return v(r)||(r=l(e,r,i)),r}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(k(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var u,w="",E=!1,S=["{","}"];(f(n)&&(E=!0,S=["[","]"]),k(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+p(n)),0!==a.length||E&&0!=n.length?i<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=E?function(e,t,n,i,r){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(h(e,t,n,i,String(a),!0)):o.push("");return r.forEach((function(r){r.match(/^\d+$/)||o.push(h(e,t,n,i,r,!0))})),o}(e,n,i,s,a):a.map((function(t){return h(e,n,i,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,w,S)):S[0]+w+S[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(i,r)||(a="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===E(e)}function x(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function k(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var i=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,i,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=d,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=_,t.isError=x,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(510);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n(511),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,i=new Promise((function(e,i){t=e,n=i})),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push((function(e,i){e?n(e):t(i)}));try{e.apply(this,r)}catch(e){n(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return r.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(T,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(8))},function(e,t,n){var i=n(10),r=n(15),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(98),t.createHash=t.Hash=n(123),t.createHmac=t.Hmac=n(331);var i=n(540),r=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return o};var a=n(334);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=n(542);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=n(557);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=n(564);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=n(605);var l=n(608);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var p=n(612);t.randomFill=p.randomFill,t.randomFillSync=p.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){var i=n(5);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(15),r=n(240),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===o}:function(e){return"object"==typeof e?null!==e:i(e)}},function(e,t,n){var i=n(7),r=n(32),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},function(e,t,n){var i=n(7),r=n(13),o=n(106),a=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},function(e,t,n){(function(t){e.exports=g;var i,r=n(12),o=n(30),a=n(20),s=n(130),c=n(49),u=n(230).DiffieHellman,l=n(41),p=n(27),h=n(26);try{i=n(374)}catch(e){}var f=l.InvalidAlgorithmError,d=l.KeyParseError,m={};function g(e){r.object(e,"options"),r.arrayOfObject(e.parts,"options.parts"),r.string(e.type,"options.type"),r.optionalString(e.comment,"options.comment");var t=o.info[e.type];if("object"!=typeof t)throw new f(e.type);for(var n,i={},a=0;a<e.parts.length;++a){var s=e.parts[a];i[s.name]=s}if(this.type=e.type,this.parts=e.parts,this.part=i,this.comment=void 0,this.source=e.source,this._rfc4253Cache=e._rfc4253Cache,this._hashCache={},this.curve=void 0,"ecdsa"===this.type){var c=this.part.curve.data.toString();this.curve=c,n=o.curves[c].size}else if("ed25519"===this.type||"curve25519"===this.type)n=256,this.curve="curve25519";else{var u=this.part[t.sizePart];n=8*(n=u.data.length)-p.countZeros(u.data)}this.size=n}m.auto=n(375),m.pem=n(61),m.pkcs1=n(231),m.pkcs8=n(133),m.rfc4253=n(62),m.ssh=n(377),m["ssh-private"]=n(165),m.openssh=m["ssh-private"],m.dnssec=n(232),m.putty=n(233),m.ppk=m.putty,g.formats=m,g.prototype.toBuffer=function(e,t){return void 0===e&&(e="ssh"),r.string(e,"format"),r.object(m[e],"formats[format]"),r.optionalObject(t,"options"),"rfc4253"===e?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=m.rfc4253.write(this)),this._rfc4253Cache):m[e].write(this,t)},g.prototype.toString=function(e,t){return this.toBuffer(e,t).toString()},g.prototype.hash=function(e,t){if(r.string(e,"algorithm"),r.optionalString(t,"type"),void 0===t&&(t="ssh"),e=e.toLowerCase(),void 0===o.hashAlgs[e])throw new f(e);var n,i=e+"||"+t;if(this._hashCache[i])return this._hashCache[i];if("ssh"===t)n=this.toBuffer("rfc4253");else{if("spki"!==t)throw new Error("Hash type "+t+" not supported");n=m.pkcs8.pkcs8ToBuffer(this)}var s=a.createHash(e).update(n).digest();return this._hashCache[i]=s,s},g.prototype.fingerprint=function(e,t){void 0===e&&(e="sha256"),void 0===t&&(t="ssh"),r.string(e,"algorithm"),r.string(t,"type");var n={type:"key",hash:this.hash(e,t),algorithm:e,hashType:t};return new s(n)},g.prototype.defaultHashAlgorithm=function(){var e="sha1";return"rsa"===this.type&&(e="sha256"),"dsa"===this.type&&this.size>1024&&(e="sha256"),"ed25519"===this.type&&(e="sha512"),"ecdsa"===this.type&&(e=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),e},g.prototype.createVerify=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),r.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==i)return new i.Verifier(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var n,o,s;try{o=e.toUpperCase(),n=a.createVerify(o)}catch(e){s=e}(void 0===n||s instanceof Error&&s.message.match(/Unknown message digest/))&&(o="RSA-",o+=e.toUpperCase(),n=a.createVerify(o)),r.ok(n,"failed to create verifier");var u=n.verify.bind(n),l=this.toBuffer("pkcs8"),p=this.curve,h=this;return n.verify=function(n,i){if(c.isSignature(n,[2,0]))return n.type===h.type&&((!n.hashAlgorithm||n.hashAlgorithm===e)&&((!n.curve||"ecdsa"!==h.type||n.curve===p)&&u(l,n.toBuffer("asn1"))));if("string"==typeof n||t.isBuffer(n))return u(l,n,i);throw c.isSignature(n,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},n},g.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new u(this)},g.prototype.createDH=g.prototype.createDiffieHellman,g.parse=function(e,t,n){"string"!=typeof e&&r.buffer(e,"data"),void 0===t&&(t="auto"),r.string(t,"format"),"string"==typeof n&&(n={filename:n}),r.optionalObject(n,"options"),void 0===n&&(n={}),r.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),r.object(m[t],"formats[format]");try{var i=m[t].read(e,n);return i instanceof h&&(i=i.toPublic()),i.comment||(i.comment=n.filename),i}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new d(n.filename,t,e)}},g.isKey=function(e,t){return p.isCompatible(e,g,t)},g.prototype._sshpkApiVersion=[1,7],g._oldVersionDetect=function(e){return r.func(e.toBuffer),r.func(e.fingerprint),e.createDH?[1,4]:e.defaultHashAlgorithm?[1,3]:e.formats.auto?[1,2]:e.formats.pkcs1?[1,1]:[1,0]}}).call(this,n(9).Buffer)},function(e,t,n){e.exports=b;var i=n(12),r=n(14).Buffer,o=n(30),a=n(20),s=(n(130),n(49)),c=n(41),u=n(18),l=n(27),p=n(230),h=p.generateECDSA,f=p.generateED25519,d=n(374),m=n(132),g=n(25),v=(c.InvalidAlgorithmError,c.KeyParseError),y=(c.KeyEncryptedError,{});function b(e){i.object(e,"options"),g.call(this,e),this._pubCache=void 0}y.auto=n(375),y.pem=n(61),y.pkcs1=n(231),y.pkcs8=n(133),y.rfc4253=n(62),y["ssh-private"]=n(165),y.openssh=y["ssh-private"],y.ssh=y["ssh-private"],y.dnssec=n(232),y.putty=n(233),u.inherits(b,g),b.formats=y,b.prototype.toBuffer=function(e,t){return void 0===e&&(e="pkcs1"),i.string(e,"format"),i.object(y[e],"formats[format]"),i.optionalObject(t,"options"),y[e].write(this,t)},b.prototype.hash=function(e,t){return this.toPublic().hash(e,t)},b.prototype.fingerprint=function(e,t){return this.toPublic().fingerprint(e,t)},b.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=o.info[this.type],t=[],n=0;n<e.parts.length;++n){var i=e.parts[n];t.push(this.part[i])}return this._pubCache=new g({type:this.type,source:this,parts:t}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},b.prototype.derive=function(e){var t,n,o;if(i.string(e,"type"),"ed25519"===this.type&&"curve25519"===e)return 0===(t=this.part.k.data)[0]&&(t=t.slice(1)),o=m.box.keyPair.fromSecretKey(new Uint8Array(t)),n=r.from(o.publicKey),new b({type:"curve25519",parts:[{name:"A",data:l.mpNormalize(n)},{name:"k",data:l.mpNormalize(t)}]});if("curve25519"===this.type&&"ed25519"===e)return 0===(t=this.part.k.data)[0]&&(t=t.slice(1)),o=m.sign.keyPair.fromSeed(new Uint8Array(t)),n=r.from(o.publicKey),new b({type:"ed25519",parts:[{name:"A",data:l.mpNormalize(n)},{name:"k",data:l.mpNormalize(t)}]});throw new Error("Key derivation not supported from "+this.type+" to "+e)},b.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},b.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),i.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==d)return new d.Signer(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var t,n,o;try{n=e.toUpperCase(),t=a.createSign(n)}catch(e){o=e}(void 0===t||o instanceof Error&&o.message.match(/Unknown message digest/))&&(n="RSA-",n+=e.toUpperCase(),t=a.createSign(n)),i.ok(t,"failed to create verifier");var c=t.sign.bind(t),u=this.toBuffer("pkcs1"),l=this.type,p=this.curve;return t.sign=function(){var t=c(u);return"string"==typeof t&&(t=r.from(t,"binary")),(t=s.parse(t,l,"asn1")).hashAlgorithm=e,t.curve=p,t},t},b.parse=function(e,t,n){"string"!=typeof e&&i.buffer(e,"data"),void 0===t&&(t="auto"),i.string(t,"format"),"string"==typeof n&&(n={filename:n}),i.optionalObject(n,"options"),void 0===n&&(n={}),i.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),i.object(y[t],"formats[format]");try{var r=y[t].read(e,n);return i.ok(r instanceof b,"key is not a private key"),r.comment||(r.comment=n.filename),r}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new v(n.filename,t,e)}},b.isPrivateKey=function(e,t){return l.isCompatible(e,b,t)},b.generate=function(e,t){switch(void 0===t&&(t={}),i.object(t,"options"),e){case"ecdsa":return void 0===t.curve&&(t.curve="nistp256"),i.string(t.curve,"options.curve"),h(t.curve);case"ed25519":return f();default:throw new Error('Key generation not supported with key type "'+e+'"')}},b.prototype._sshpkApiVersion=[1,6],b._oldVersionDetect=function(e){return i.func(e.toPublic),i.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]}},function(e,t,n){e.exports={bufferSplit:function(e,t){i.buffer(e),i.string(t);for(var n=[],r=0,o=0,a=0;a<e.length;++a)if(e[a]===t.charCodeAt(o)?++o:o=e[a]===t.charCodeAt(0)?1:0,o>=t.length){var s=a+1;n.push(e.slice(r,s-o)),r=s,o=0}r<=e.length&&n.push(e.slice(r,e.length));return n},addRSAMissing:function(e){i.object(e),f(e,o,[1,1]);var t,n=new p(e.part.d.data);if(!e.part.dmodp){var r=new p(e.part.p.data),a=n.mod(r.subtract(1));t=g(a),e.part.dmodp={name:"dmodp",data:t},e.parts.push(e.part.dmodp)}if(!e.part.dmodq){var s=new p(e.part.q.data),c=n.mod(s.subtract(1));t=g(c),e.part.dmodq={name:"dmodq",data:t},e.parts.push(e.part.dmodq)}},calculateDSAPublic:function(e,t,n){return i.buffer(e),i.buffer(t),i.buffer(n),e=new p(e),t=new p(t),n=new p(n),g(e.modPow(n,t))},calculateED25519Public:function(e){i.buffer(e);var t=h.sign.keyPair.fromSeed(new Uint8Array(e));return r.from(t.publicKey)},calculateX25519Public:function(e){i.buffer(e);var t=h.box.keyPair.fromSeed(new Uint8Array(e));return r.from(t.publicKey)},mpNormalize:m,mpDenormalize:function(e){i.buffer(e);for(;e.length>1&&0===e[0];)e=e.slice(1);return e},ecNormalize:function(e,t){if(i.buffer(e),0===e[0]&&4===e[1])return t?e:e.slice(1);if(4===e[0]){if(!t)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==e[0])throw new Error("Not a valid elliptic curve point");if(!t)return e}var n=r.alloc(e.length+1);return n[0]=0,e.copy(n,1),n},countZeros:function(e){var t=0,n=8;for(;t<e.length;){var i=1<<n;if((e[t]&i)===i)break;--n<0&&(t++,n=8)}return 8*t+(8-n)-1},assertCompatible:f,isCompatible:function(e,t,n){if(null===e||"object"!=typeof e)return!1;void 0===n&&(n=t.prototype._sshpkApiVersion);if(e instanceof t&&t.prototype._sshpkApiVersion[0]==n[0])return!0;var i=Object.getPrototypeOf(e),r=0;for(;i.constructor.name!==t.name;)if(!(i=Object.getPrototypeOf(i))||++r>3)return!1;if(i.constructor.name!==t.name)return!1;var o=i._sshpkApiVersion;void 0===o&&(o=t._oldVersionDetect(e));return!(o[0]!=n[0]||o[1]<n[1])},opensslKeyDeriv:function(e,t,n,o){i.buffer(t,"salt"),i.buffer(n,"passphrase"),i.number(o,"iteration count");var a,c,u,l=d[e];i.object(l,"supported cipher"),t=t.slice(0,8);var p=r.alloc(0);for(;p.length<l.key+l.iv;){u=[],c&&u.push(c),u.push(n),u.push(t),a=r.concat(u);for(var h=0;h<o;++h)a=s.createHash("md5").update(a).digest();p=r.concat([p,a]),c=a}return{key:p.slice(0,l.key),iv:p.slice(l.key,l.key+l.iv)}},opensshCipherInfo:function(e){var t={};switch(e){case"3des-cbc":t.keySize=24,t.blockSize=8,t.opensslName="des-ede3-cbc";break;case"blowfish-cbc":t.keySize=16,t.blockSize=8,t.opensslName="bf-cbc";break;case"aes128-cbc":case"aes128-ctr":case"aes128-gcm@openssh.com":t.keySize=16,t.blockSize=16,t.opensslName="aes-128-"+e.slice(7,10);break;case"aes192-cbc":case"aes192-ctr":case"aes192-gcm@openssh.com":t.keySize=24,t.blockSize=16,t.opensslName="aes-192-"+e.slice(7,10);break;case"aes256-cbc":case"aes256-ctr":case"aes256-gcm@openssh.com":t.keySize=32,t.blockSize=16,t.opensslName="aes-256-"+e.slice(7,10);break;default:throw new Error('Unsupported openssl cipher "'+e+'"')}return t},publicFromPrivateECDSA:function(e,t){i.string(e,"curveName"),i.buffer(t);var n=c.curves[e],o=new p(n.p),s=new p(n.a),u=new p(n.b),h=new l.ECCurveFp(o,s,u),f=h.decodePointHex(n.G.toString("hex")),d=new p(m(t)),g=f.multiply(d);g=r.from(h.encodePointHex(g),"hex");var v=[];return v.push({name:"curve",data:r.from(e)}),v.push({name:"Q",data:g}),new a({type:"ecdsa",curve:h,parts:v})},zeroPadToLength:function(e,t){i.buffer(e),i.number(t);for(;e.length>t;)i.equal(e[0],0),e=e.slice(1);for(;e.length<t;){var n=r.alloc(e.length+1);n[0]=0,e.copy(n,1),e=n}return e},writeBitString:function(e,t,n){void 0===n&&(n=u.Ber.BitString);var i=r.alloc(t.length+1);i[0]=0,t.copy(i,1),e.writeBuffer(i,n)},readBitString:function(e,t){void 0===t&&(t=u.Ber.BitString);var n=e.readString(t,!0);return i.strictEqual(n[0],0,"bit strings with unused bits are not supported (0x"+n[0].toString(16)+")"),n.slice(1)},pbkdf2:function(e,t,n,i,o){var a=r.alloc(t.length+4);t.copy(a);var c=0,u=[],l=1;for(;c<i;){var p=h(l++);c+=p.length,u.push(p)}return r.concat(u).slice(0,i);function h(t){a.writeUInt32BE(t,a.length-4);var i=s.createHmac(e,o);i.update(a);for(var r=i.digest(),c=r,u=1;u++<n;){(i=s.createHmac(e,o)).update(c),c=i.digest();for(var l=0;l<r.length;++l)r[l]^=c[l]}return r}}};var i=n(12),r=n(14).Buffer,o=n(26),a=n(25),s=n(20),c=n(30),u=n(50),l=n(164),p=n(131).BigInteger,h=n(132);function f(e,t,n,r){if(void 0===r&&(r="object"),i.ok(e,r+" must not be null"),i.object(e,r+" must be an object"),void 0===n&&(n=t.prototype._sshpkApiVersion),!(e instanceof t&&t.prototype._sshpkApiVersion[0]==n[0])){for(var o=Object.getPrototypeOf(e),a=0;o.constructor.name!==t.name;)o=Object.getPrototypeOf(o),i.ok(o&&++a<=3,r+" must be a "+t.name+" instance");i.strictEqual(o.constructor.name,t.name,r+" must be a "+t.name+" instance");var s=o._sshpkApiVersion;void 0===s&&(s=t._oldVersionDetect(e)),i.ok(s[0]==n[0]&&s[1]>=n[1],r+" must be compatible with "+t.name+" klass version "+n[0]+"."+n[1])}}var d={"des-ede3-cbc":{key:24,iv:8},"aes-128-cbc":{key:16,iv:16},"aes-256-cbc":{key:32,iv:16}};function m(e){for(i.buffer(e);e.length>1&&0===e[0]&&0==(128&e[1]);)e=e.slice(1);if(128==(128&e[0])){var t=r.alloc(e.length+1);t[0]=0,e.copy(t,1),e=t}return e}function g(e){var t=r.from(e.toByteArray());return t=m(t)}},function(e,t,n){var i=n(21),r=n(242),o=n(243),a=n(3),s=n(138),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=i?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=l(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=s(t),a(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(145),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,t,n){var i=n(14).Buffer,r={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["A"],sizePart:"A"}};r.curve25519=r.ed25519;var o={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["A","k"]}};o.curve25519=o.ed25519;var a={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:i.from("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:i.from("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:i.from("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:i.from("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:i.from("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:i.from("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:i.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:i.from("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:i.from("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:i.from("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:i.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:i.from("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:i.from("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:i.from("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:i.from("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:i.from("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:i.from("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:i.from("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};e.exports={info:r,privInfo:o,hashAlgs:{md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves:a}},function(e,t,n){var i=n(15),r=n(28),o=n(404),a=n(171);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(i(n)&&o(n,u,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},function(e,t,n){var i=n(51),r=Object;e.exports=function(e){return r(i(e))}},function(e,t,n){var i=n(108),r=n(51);e.exports=function(e){return i(r(e))}},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var i=t,r=n(48),o=n(34),a=n(355);i.assert=o,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(e,t,n){var i=new Array(Math.max(e.bitLength(),n)+1);i.fill(0);for(var r=1<<t+1,o=e.clone(),a=0;a<i.length;a++){var s,c=o.andln(r-1);o.isOdd()?(s=c>(r>>1)-1?(r>>1)-c:c,o.isubn(s)):s=0,i[a]=s,o.iushrn(1)}return i},i.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var i,r=0,o=0;e.cmpn(-r)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+r&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!==(i=e.andln(7)+r&7)&&5!==i||2!==u?c:-c,n[0].push(a),s=0==(1&u)?0:3!==(i=t.andln(7)+o&7)&&5!==i||2!==c?u:-u,n[1].push(s),2*r===a+1&&(r=1-r),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},i.cachedProperty=function(e,t,n){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(e){return"string"==typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new r(e,"hex","le")}},function(e,t,n){var i=n(3),r=n(279),o=n(44),a=n(16)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||o(n=i(s)[a])?t:r(n)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var i=n(6);e.exports=function(e){return i(Map.prototype.entries,e)}},function(e,t,n){"use strict";var i=n(155),r=n(507);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(156);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof o)return e;var i=new o;return i.parse(e,t,n),i}o.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var x=(_=_[0]).toLowerCase();this.protocol=x,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(k||_&&!v[_])){for(var E,S,j=-1,M=0;M<h.length;M++){-1!==(A=b.indexOf(h[M]))&&(-1===j||A<j)&&(j=A)}-1!==(S=-1===j?b.lastIndexOf("@"):b.lastIndexOf("@",j))&&(E=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(E)),j=-1;for(M=0;M<p.length;M++){var A;-1!==(A=b.indexOf(p[M]))&&(-1===j||A<j)&&(j=A)}-1===j&&(j=b.length),this.host=b.slice(0,j),b=b.slice(j),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var T=this.hostname.split(/\./),P=(M=0,T.length);M<P;M++){var R=T[M];if(R&&!R.match(f)){for(var B="",O=0,I=R.length;O<I;O++)R.charCodeAt(O)>127?B+="x":B+=R[O];if(!B.match(f)){var D=T.slice(0,M),F=T.slice(M+1),z=R.match(d);z&&(D.push(z[1]),F.unshift(z[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=i.toASCII(this.hostname));var N=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+N,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[x])for(M=0,P=l.length;M<P;M++){var q=l[M];if(-1!==b.indexOf(q)){var H=encodeURIComponent(q);H===q&&(H=escape(q)),b=b.split(q).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var $=b.indexOf("?");if(-1!==$?(this.search=b.substr($),this.query=b.substr($+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,$)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var V=this.search||"";this.path=N+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+i},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(r.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,i=Object.keys(this),a=0;a<i.length;a++){var s=i[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var p=Object.keys(e),h=0;h<p.length;h++){var f=p[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,x=_,k=n.pathname&&n.pathname.split("/")||[],E=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),_=_&&(""===d[0]||""===k[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=k.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=k.slice(-1)[0],j=(n.host||e.host||k.length>1)&&("."===S||".."===S)||""===S,M=0,A=k.length;A>=0;A--)"."===(S=k[A])?k.splice(A,1):".."===S?(k.splice(A,1),M++):M&&(k.splice(A,1),M--);if(!_&&!x)for(;M--;M)k.unshift("..");!_||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),j&&"/"!==k.join("/").substr(-1)&&k.push("");var C,T=""===k[0]||k[0]&&"/"===k[0].charAt(0);E&&(n.hostname=n.host=T?"":k.length?k.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(_=_||n.host&&k.length)&&!T&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(34),r=n(2);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(var i=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?n[i++]=a:a<2048?(n[i++]=a>>6|192,n[i++]=63&a|128):o(e,r)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),n[i++]=a>>18|240,n[i++]=a>>12&63|128,n[i++]=a>>6&63|128,n[i++]=63&a|128):(n[i++]=a>>12|224,n[i++]=a>>6&63|128,n[i++]=63&a|128)}else for(r=0;r<e.length;r++)n[r]=0|e[r];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",i=0;i<e.length;i++){var r=e[i];"little"===t&&(r=a(r)),n+=c(r.toString(16))}return n},t.zero2=s,t.zero8=c,t.join32=function(e,t,n,r){var o=n-t;i(o%4==0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===r?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),i=0,r=0;i<e.length;i++,r+=4){var o=e[i];"big"===t?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,i){return e+t+n+i>>>0},t.sum32_5=function(e,t,n,i,r){return e+t+n+i+r>>>0},t.sum64=function(e,t,n,i){var r=e[t],o=i+e[t+1]>>>0,a=(o<i?1:0)+n+r;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,i){return(t+i>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,i){return t+i>>>0},t.sum64_4_hi=function(e,t,n,i,r,o,a,s){var c=0,u=t;return c+=(u=u+i>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+n+r+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,i,r,o,a,s){return t+i+o+s>>>0},t.sum64_5_hi=function(e,t,n,i,r,o,a,s,c,u){var l=0,p=t;return l+=(p=p+i>>>0)<t?1:0,l+=(p=p+o>>>0)<o?1:0,l+=(p=p+s>>>0)<s?1:0,e+n+r+a+c+(l+=(p=p+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,i,r,o,a,s,c,u){return t+i+o+s+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){n(12);var i=n(18);function r(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,r),this.name="FingerprintFormatError",this.fingerprint=e,this.format=t,this.message="Fingerprint format is not supported, or is invalid: ",void 0!==e&&(this.message+=" fingerprint = "+e),void 0!==t&&(this.message+=" format = "+t)}function o(e){Error.captureStackTrace&&Error.captureStackTrace(this,o),this.name="InvalidAlgorithmError",this.algorithm=e,this.message='Algorithm "'+e+'" is not supported'}function a(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.name="KeyParseError",this.format=t,this.keyName=e,this.innerErr=n,this.message="Failed to parse "+e+" as a valid "+t+" format key: "+n.message}function s(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.name="SignatureParseError",this.type=e,this.format=t,this.innerErr=n,this.message="Failed to parse the given data as a "+e+" signature in "+t+" format: "+n.message}function c(e,t,n){Error.captureStackTrace&&Error.captureStackTrace(this,c),this.name="CertificateParseError",this.format=t,this.certName=e,this.innerErr=n,this.message="Failed to parse "+e+" as a valid "+t+" format certificate: "+n.message}function u(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,u),this.name="KeyEncryptedError",this.format=t,this.keyName=e,this.message="The "+t+" format key "+e+" is encrypted (password-protected), and no passphrase was provided in `options`"}i.inherits(r,Error),i.inherits(o,Error),i.inherits(a,Error),i.inherits(s,Error),i.inherits(c,Error),i.inherits(u,Error),e.exports={FingerprintFormatError:r,InvalidAlgorithmError:o,KeyParseError:a,SignatureParseError:s,KeyEncryptedError:u,CertificateParseError:c}},function(e,t,n){var i;
/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,c=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,l=o.indexOf,p={},h=p.toString,f=p.hasOwnProperty,d=f.toString,m=d.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var i,r,o=(n=n||b).createElement("script");if(o.text=e,t)for(i in w)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[h.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:"3.6.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[t],o=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,a[t]=k.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},k.extend({expando:"jQuery"+("3.6.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=a(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&d.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(E(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return c(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){p["[object "+t+"]"]=t.toLowerCase()}));var S=
/*!
 * Sizzle CSS Selector Engine v2.3.6
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2021-02-16
 */
function(e){var t,n,i,r,o,a,s,c,u,l,p,h,f,d,m,g,v,y,b,w="sizzle"+1*new Date,_=e.document,x=0,k=0,E=ce(),S=ce(),j=ce(),M=ce(),A=function(e,t){return e===t&&(p=!0),0},C={}.hasOwnProperty,T=[],P=T.pop,R=T.push,B=T.push,O=T.slice,I=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},D="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",z="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+F+"*("+z+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+F+"*\\]",L=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",q=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),U=new RegExp("^"+F+"*,"+F+"*"),$=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp(F+"|>"),W=new RegExp(L),G=new RegExp("^"+z+"$"),K={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+L),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+D+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){h()},ae=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{B.apply(T=O.call(_.childNodes),_.childNodes),T[_.childNodes.length].nodeType}catch(e){B={apply:T.length?function(e,t){R.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,r){var o,s,u,l,p,d,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!r&&(h(t),t=t||f,m)){if(11!==_&&(p=Q.exec(e)))if(o=p[1]){if(9===_){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return i.push(u),i}else{if(p[2])return B.apply(i,t.getElementsByTagName(e)),i;if((o=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return B.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!M[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===_&&(V.test(e)||$.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(ie,re):t.setAttribute("id",l=w)),s=(d=a(e)).length;s--;)d[s]=(l?"#"+l:":scope")+" "+be(d[s]);v=d.join(",")}try{return B.apply(i,y.querySelectorAll(v)),i}catch(t){M(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return c(e.replace(H,"$1"),t,i,r)}function ce(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ue(e){return e[w]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ue((function(t){return t=+t,ue((function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Z.test(t||n&&n.nodeName||"HTML")},h=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:_;return a!=f&&9===a.nodeType&&a.documentElement?(d=(f=a).documentElement,m=!o(f),_!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=le((function(e){return d.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=le((function(e){return d.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(f.querySelectorAll))&&(le((function(e){var t;d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+D+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",L)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(d.compareDocumentPosition),b=t||J.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return p=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==f||e.ownerDocument==_&&b(_,e)?-1:t==f||t.ownerDocument==_&&b(_,t)?1:l?I(l,e)-I(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==f?-1:t==f?1:r?-1:o?1:l?I(l,e)-I(l,t):0;if(r===o)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?he(a[i],s[i]):a[i]==_?-1:s[i]==_?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&m&&!M[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){M(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=f&&h(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=f&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&C.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ie,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],r=0,o=0;if(p=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(A),p){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return l=null,e},r=se.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=se.selectors={cacheLength:50,createPseudo:ue,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=se.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var u,l,p,h,f,d,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(u=(l=(p=(h=g)[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]||[])[0]===x&&u[1])&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||d.pop();)if(1===h.nodeType&&++b&&h===t){l[e]=[x,f,b];break}}else if(y&&(b=f=(u=(l=(p=(h=t)[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]||[])[0]===x&&u[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||d.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((l=(p=h[w]||(h[w]={}))[h.uniqueID]||(p[h.uniqueID]={}))[e]=[x,b]),h!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=I(e,o[a])]=!(n[i]=o[a])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ue((function(e){var t=[],n=[],i=s(e.replace(H,"$1"));return i[w]?ue((function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ue((function(e){return G.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function we(e,t,n){var i=t.dir,r=t.next,o=r||i,a=n&&"parentNode"===o,s=k++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,r);return!1}:function(t,n,c){var u,l,p,h=[x,s];if(c){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(l=(p=t[w]||(t[w]={}))[t.uniqueID]||(p[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=l[o])&&u[0]===x&&u[1]===s)return h[2]=u[2];if(l[o]=h,h[2]=e(t,n,c))return!0}return!1}}function _e(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function xe(e,t,n,i,r){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function ke(e,t,n,i,r,o){return i&&!i[w]&&(i=ke(i)),r&&!r[w]&&(r=ke(r,o)),ue((function(o,a,s,c){var u,l,p,h=[],f=[],d=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:xe(m,h,e,s,c),v=n?r||(o?e:d||i)?[]:a:g;if(n&&n(g,v,s,c),i)for(u=xe(v,f),i(u,[],s,c),l=u.length;l--;)(p=u[l])&&(v[f[l]]=!(g[f[l]]=p));if(o){if(r||e){if(r){for(u=[],l=v.length;l--;)(p=v[l])&&u.push(g[l]=p);r(null,v=[],u,c)}for(l=v.length;l--;)(p=v[l])&&(u=r?I(o,p):h[l])>-1&&(o[u]=!(a[u]=p))}}else v=xe(v===a?v.splice(d,v.length):v),r?r(null,a,v,c):B.apply(a,v)}))}function Ee(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],c=a?1:0,l=we((function(e){return e===t}),s,!0),p=we((function(e){return I(t,e)>-1}),s,!0),h=[function(e,n,i){var r=!a&&(i||n!==u)||((t=n).nodeType?l(e,n,i):p(e,n,i));return t=null,r}];c<o;c++)if(n=i.relative[e[c].type])h=[we(_e(h),n)];else{if((n=i.filter[e[c].type].apply(null,e[c].matches))[w]){for(r=++c;r<o&&!i.relative[e[r].type];r++);return ke(c>1&&_e(h),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(H,"$1"),n,c<r&&Ee(e.slice(c,r)),r<o&&Ee(e=e.slice(r)),r<o&&be(e))}h.push(n)}return _e(h)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,a=se.tokenize=function(e,t){var n,r,o,a,s,c,u,l=S[e+" "];if(l)return t?0:l.slice(0);for(s=e,c=[],u=i.preFilter;s;){for(a in n&&!(r=U.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(o=[])),n=!1,(r=$.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=K[a].exec(s))||u[a]&&!(r=u[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):S(e,c).slice(0)},s=se.compile=function(e,t){var n,r=[],o=[],s=j[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[w]?r.push(s):o.push(s);(s=j(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,c,l){var p,d,g,v=0,y="0",b=o&&[],w=[],_=u,k=o||r&&i.find.TAG("*",l),E=x+=null==_?1:Math.random()||.1,S=k.length;for(l&&(u=a==f||a||l);y!==S&&null!=(p=k[y]);y++){if(r&&p){for(d=0,a||p.ownerDocument==f||(h(p),s=!m);g=e[d++];)if(g(p,a||f,s)){c.push(p);break}l&&(x=E)}n&&((p=!g&&p)&&v--,o&&b.push(p))}if(v+=y,n&&y!==v){for(d=0;g=t[d++];)g(b,w,a,s);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(c));w=xe(w)}B.apply(c,w),l&&!o&&w.length>0&&v+t.length>1&&se.uniqueSort(c)}return l&&(x=E,u=_),b};return n?ue(o):o}(o,r))).selector=e}return s},c=se.select=function(e,t,n,r){var o,c,u,l,p,h="function"==typeof e&&e,f=!r&&a(e=h.selector||e);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===t.nodeType&&m&&i.relative[c[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=K.needsContext.test(e)?0:c.length;o--&&(u=c[o],!i.relative[l=u.type]);)if((p=i.find[l])&&(r=p(u.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(o,1),!(e=r.length&&be(c)))return B.apply(n,r),n;break}}return(h||s(e,f))(r,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(A).join("")===w,n.detectDuplicates=!!p,h(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||pe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||pe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||pe(D,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(n);k.find=S,k.expr=S.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var j=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&k(e).is(n))break;i.push(e)}return i},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=k.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(e,t,n){return v(t)?k.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return l.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?k.find.matchesSelector(i,e)?[i]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<i;t++)if(k.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)k.find(e,r[t],n);return i>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&A.test(e)?k(e):e||[],!1).length}});var R,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),T.test(i[1])&&k.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,R=k(b);var O=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&k(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(k(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,n){return j(e,"parentNode",n)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,n){return j(e,"nextSibling",n)},prevUntil:function(e,t,n){return j(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(C(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,i){var r=k.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&(I[e]||k.uniqueSort(r),O.test(e)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function z(e){return e}function N(e){throw e}function L(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(F)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,i,r,o=[],a=[],s=-1,c=function(){for(r=r||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){k.each(n,(function(n,i){v(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==x(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var o=0;function a(e,t,i,r){return function(){var s=this,c=arguments,u=function(){var n,u;if(!(e<o)){if((n=i.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(u)?r?u.call(n,a(o,t,z,r),a(o,t,N,r)):(o++,u.call(n,a(o,t,z,r),a(o,t,N,r),a(o,t,z,t.notifyWith))):(i!==z&&(s=void 0,c=[n]),(r||t.resolveWith)(s,c))}},l=r?u:function(){try{u()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,l.stackTrace),e+1>=o&&(i!==N&&(s=void 0,c=[n]),t.rejectWith(s,c))}};e?l():(k.Deferred.getStackHook&&(l.stackTrace=k.Deferred.getStackHook()),n.setTimeout(l))}}return k.Deferred((function(n){t[0][3].add(a(0,n,v(r)?r:z,n.notifyWith)),t[1][3].add(a(0,n,v(e)?e:z)),t[2][3].add(a(0,n,v(i)?i:N))})).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},o={};return k.each(t,(function(e,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add((function(){i=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=s.call(arguments),o=k.Deferred(),a=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(L(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)L(r[n],a(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&q.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){n.setTimeout((function(){throw e}))};var H=k.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),k.ready()}k.fn.ready=function(e){return H.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||H.resolveWith(b,[k]))}}),k.ready.then=H.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var $=function(e,t,n,i,r,o,a){var s=0,c=e.length,u=null==n;if("object"===x(n))for(s in r=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(k(e),n)})),t))for(;s<c;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):c?t(e[0],n):o},V=/^-ms-/,W=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function K(e){return e.replace(V,"ms-").replace(W,G)}var Z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=k.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[K(t)]=n;else for(i in t)r[K(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in i?[t]:t.match(F)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||k.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var X=new Y,J=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=K(i.slice(5)),te(o,i,r[i]));X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){J.set(this,e)})):$(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=te(o,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=X.get(e,t),n&&(!i||Array.isArray(n)?i=X.access(e,t,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),i=n.length,r=n.shift(),o=k._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){k.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:k.Callbacks("once memory").add((function(){X.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=k.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=X.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],oe=b.documentElement,ae=function(e){return k.contains(e.ownerDocument,e)},se={composed:!0};oe.getRootNode&&(ae=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===k.css(e,"display")};function ue(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return k.css(e,t,"")},c=s(),u=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==u&&+c)&&ie.exec(k.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)k.style(e,t,l+u),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),l/=o;l*=2,k.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=l,i.end=r)),r}var le={};function pe(e){var t,n=e.ownerDocument,i=e.nodeName,r=le[i];return r||(t=n.body.appendChild(n.createElement(i)),r=k.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),le[i]=r,r)}function he(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=X.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ce(i)&&(r[o]=pe(i))):"none"!==n&&(r[o]="none",X.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}k.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var fe,de,me=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;fe=b.createDocumentFragment().appendChild(b.createElement("div")),(de=b.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),fe.appendChild(de),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&C(e,t)?k.merge([e],n):n}function we(e,t){for(var n=0,i=e.length;n<i;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,g.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var _e=/<|&#?\w+;/;function xe(e,t,n,i,r){for(var o,a,s,c,u,l,p=t.createDocumentFragment(),h=[],f=0,d=e.length;f<d;f++)if((o=e[f])||0===o)if("object"===x(o))k.merge(h,o.nodeType?[o]:o);else if(_e.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(ge.exec(o)||["",""])[1].toLowerCase(),c=ye[s]||ye._default,a.innerHTML=c[1]+k.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;k.merge(h,a.childNodes),(a=p.firstChild).textContent=""}else h.push(t.createTextNode(o));for(p.textContent="",f=0;o=h[f++];)if(i&&k.inArray(o,i)>-1)r&&r.push(o);else if(u=ae(o),a=be(p.appendChild(o),"script"),u&&we(a),n)for(l=0;o=a[l++];)ve.test(o.type||"")&&n.push(o);return p}var ke=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Se(){return!1}function je(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Me(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,r,i,n)}))}function Ae(e,t,n){n?(X.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=X.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),X.set(this,t,o),i=n(this,t),this[t](),o!==(r=X.get(this,t))||i?X.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r&&r.value}else o.length&&(X.set(this,t,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&k.event.add(e,t,Ee)}k.event={global:{},add:function(e,t,n,i,r){var o,a,s,c,u,l,p,h,f,d,m,g=X.get(e);if(Z(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&k.find.matchesSelector(oe,r),n.guid||(n.guid=k.guid++),(c=g.events)||(c=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(F)||[""]).length;u--;)f=m=(s=ke.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),f&&(p=k.event.special[f]||{},f=(r?p.delegateType:p.bindType)||f,p=k.event.special[f]||{},l=k.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:d.join(".")},o),(h=c[f])||((h=c[f]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(e,i,d,a)||e.addEventListener&&e.addEventListener(f,a)),p.add&&(p.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,l):h.push(l),k.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,c,u,l,p,h,f,d,m,g=X.hasData(e)&&X.get(e);if(g&&(c=g.events)){for(u=(t=(t||"").match(F)||[""]).length;u--;)if(f=m=(s=ke.exec(t[u])||[])[1],d=(s[2]||"").split(".").sort(),f){for(p=k.event.special[f]||{},h=c[f=(i?p.delegateType:p.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)l=h[o],!r&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,p.remove&&p.remove.call(e,l));a&&!h.length&&(p.teardown&&!1!==p.teardown.call(e,d,g.handle)||k.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)k.event.remove(e,f+t[u],n,i,!0);k.isEmptyObject(c)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=new Array(arguments.length),c=k.event.fix(e),u=(X.get(this,"events")||Object.create(null))[c.type]||[],l=k.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=k.event.handlers.call(this,c,u),t=0;(r=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(i=((k.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(c.result=i)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,i,r,o,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?k(r,this).index(u)>-1:k.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return me.test(t.type)&&t.click&&C(t,"input")&&Ae(t,"click",Ee),!1},trigger:function(e){var t=this||e;return me.test(t.type)&&t.click&&C(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return me.test(t.type)&&t.click&&C(t,"input")&&X.get(t,"click")||C(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ae(this,e,je),!1},trigger:function(){return Ae(this,e),!0},_default:function(t){return X.get(t.target,e)},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||k.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,i){return Me(this,e,t,n,i)},one:function(e,t,n,i){return Me(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,k(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){k.event.remove(this,e,n,t)}))}});var Ce=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(e,t){return C(e,"table")&&C(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,i,r,o,a,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(r in X.remove(t,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)k.event.add(t,r,s[r][n]);J.hasData(e)&&(o=J.access(e),a=k.extend({},o),J.set(t,a))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&me.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,i){t=c(t);var r,o,a,s,u,l,p=0,h=e.length,f=h-1,d=t[0],m=v(d);if(m||h>1&&"string"==typeof d&&!g.checkClone&&Te.test(d))return e.each((function(r){var o=e.eq(r);m&&(t[0]=d.call(this,r,o.html())),Fe(o,t,n,i)}));if(h&&(o=(r=xe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=k.map(be(r,"script"),Be)).length;p<h;p++)u=r,p!==f&&(u=k.clone(u,!0,!0),s&&k.merge(a,be(u,"script"))),n.call(e[p],u,p);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Oe),p=0;p<s;p++)u=a[p],ve.test(u.type||"")&&!X.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):_(u.textContent.replace(Pe,""),u,l))}return e}function ze(e,t,n){for(var i,r=t?k.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||k.cleanData(be(i)),i.parentNode&&(n&&ae(i)&&we(be(i,"script")),i.parentNode.removeChild(i));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),c=ae(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=be(s),i=0,r=(o=be(e)).length;i<r;i++)De(o[i],a[i]);if(t)if(n)for(o=o||be(e),a=a||be(s),i=0,r=o.length;i<r;i++)Ie(o[i],a[i]);else Ie(e,s);return(a=be(s,"script")).length>0&&we(a,!c&&be(e,"script")),s},cleanData:function(e){for(var t,n,i,r=k.event.special,o=0;void 0!==(n=e[o]);o++)if(Z(n)){if(t=n[X.expando]){if(t.events)for(i in t.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return $(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Fe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)}))},prepend:function(){return Fe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Fe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!ye[(ge.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,i=[],r=k(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),k(r[a])[t](n),u.apply(i,n.get());return this.pushStack(i)}}));var Ne=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),Le=/^--/,qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},He=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},Ue=new RegExp(re.join("|"),"i"),$e=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g");function Ve(e,t,n){var i,r,o,a,s=Le.test(t),c=e.style;return(n=n||qe(e))&&(a=n.getPropertyValue(t)||n[t],s&&(a=a.replace($e,"$1")),""!==a||ae(e)||(a=k.style(e,t)),!g.pixelBoxStyles()&&Ne.test(a)&&Ue.test(t)&&(i=c.width,r=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=a,a=n.width,c.width=i,c.minWidth=r,c.maxWidth=o)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(u).appendChild(l);var e=n.getComputedStyle(l);i="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),r=36===t(e.width),l.style.position="absolute",o=12===t(l.offsetWidth/3),oe.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,s,c,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,i,r;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),i=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",i.style.height="9px",i.style.display="block",oe.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,oe.removeChild(e)),s}}))}();var Ge=["Webkit","Moz","ms"],Ke=b.createElement("div").style,Ze={};function Ye(e){var t=k.cssProps[e]||Ze[e];return t||(e in Ke?e:Ze[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Ke)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Je={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=ie.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,r,o){var a="width"===t?1:0,s=0,c=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=k.css(e,n+re[a],!0,r)),i?("content"===n&&(c-=k.css(e,"padding"+re[a],!0,r)),"margin"!==n&&(c-=k.css(e,"border"+re[a]+"Width",!0,r))):(c+=k.css(e,"padding"+re[a],!0,r),"padding"!==n?c+=k.css(e,"border"+re[a]+"Width",!0,r):s+=k.css(e,"border"+re[a]+"Width",!0,r));return!i&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function nt(e,t,n){var i=qe(e),r=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,i),o=r,a=Ve(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ne.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&C(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===k.css(e,"boxSizing",!1,i),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(r?"border":"content"),o,i,a)+"px"}function it(e,t,n,i,r){return new it.prototype.init(e,t,n,i,r)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=K(t),c=Le.test(t),u=e.style;if(c||(t=Ye(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=ie.exec(n))&&r[1]&&(n=ue(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,a,s=K(t);return Le.test(t)||(t=Ye(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ve(e,t,i)),"normal"===r&&t in Qe&&(r=Qe[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,i){if(n)return!Xe.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):He(e,Je,(function(){return nt(e,t,i)}))},set:function(e,n,i){var r,o=qe(e),a=!g.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===k.css(e,"boxSizing",!1,o),c=i?tt(e,t,i,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-tt(e,t,"border",!1,o)-.5)),c&&(r=ie.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),et(0,n,c)}}})),k.cssHooks.marginLeft=We(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+re[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(k.cssHooks[e+t].set=et)})),k.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=qe(e),r=t.length;a<r;a++)o[t[a]]=k.css(e,t[a],!1,i);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=it,it.prototype={constructor:it,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ye(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=it.prototype.init,k.fx.step={};var rt,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function ct(){ot&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ct):n.setTimeout(ct,k.fx.interval),k.fx.tick())}function ut(){return n.setTimeout((function(){rt=void 0})),rt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=re[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function pt(e,t,n){for(var i,r=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function ht(e,t,n){var i,r,o=0,a=ht.prefilters.length,s=k.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=rt||ut(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:rt||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var i=k.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=K(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=k.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(l,u.opts.specialEasing);o<a;o++)if(i=ht.prefilters[o].call(u,e,l,u.opts))return v(i.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return k.map(l,pt,u),v(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(F);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,c,u,l,p="width"in t||"height"in t,h=this,f={},d=e.style,m=e.nodeType&&ce(e),g=X.get(e,"fxshow");for(i in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(r=t[i],at.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||k.style(e,i)}if((c=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(i in p&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=g&&g.display)&&(u=X.get(e,"display")),"none"===(l=k.css(e,"display"))&&(u?l=u:(he([e],!0),u=e.style.display||u,l=k.css(e,"display"),he([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===k.css(e,"float")&&(c||(h.done((function(){d.display=u})),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:u}),o&&(g.hidden=!m),m&&he([e],!0),h.done((function(){for(i in m||he([e]),X.remove(e,"fxshow"),f)k.style(e,i,f[i])}))),c=pt(m?g[i]:0,i,h),i in g||(g[i]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),k.speed=function(e,t,n){var i=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in k.fx.speeds?i.duration=k.fx.speeds[i.duration]:i.duration=k.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=k.isEmptyObject(e),o=k.speed(t,n,i),a=function(){var t=ht(this,k.extend({},e),o);(r||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=k.timers,a=X.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&st.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=X.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=k.timers,a=i?i.length:0;for(n.finish=!0,k.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ot||(ot=!0,ct())},k.fx.stop=function(){ot=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ft,dt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return $(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(r=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=k.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&C(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(F);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=dt[t]||k.find.attr;dt[t]=function(e,t,i){var r,o,a=t.toLowerCase();return i||(o=dt[a],dt[a]=r,r=null!=n(e,t,i)?a:null,dt[a]=o),r}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(F)||[]).join(" ")}function yt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(F)||[]}k.fn.extend({prop:function(e,t){return $(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,r=k.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){k(this).addClass(e.call(this,t,yt(this)))})):(t=bt(e)).length?this.each((function(){if(i=yt(this),n=1===this.nodeType&&" "+vt(i)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=vt(n),i!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,i,r,o,a;return v(e)?this.each((function(t){k(this).removeClass(e.call(this,t,yt(this)))})):arguments.length?(t=bt(e)).length?this.each((function(){if(i=yt(this),n=1===this.nodeType&&" "+vt(i)+" "){for(o=0;o<t.length;o++)for(r=t[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");a=vt(n),i!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,o,a=typeof e,s="string"===a||Array.isArray(e);return v(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,yt(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=bt(e),this.each((function(){if(s)for(o=k(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==e&&"boolean"!==a||((i=yt(this))&&X.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":X.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+vt(yt(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,k(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(wt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:vt(k.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:r.length;for(i=o<0?c:a?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!C(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=k.makeArray(t),a=r.length;a--;)((i=r[a]).selected=k.inArray(k.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in n;var _t=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,i,r){var o,a,s,c,u,l,p,h,d=[i||b],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!_t.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:k.makeArray(t,[e]),p=k.event.special[m]||{},r||!p.trigger||!1!==p.trigger.apply(i,t))){if(!r&&!p.noBubble&&!y(i)){for(c=p.delegateType||m,_t.test(c+m)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(i.ownerDocument||b)&&d.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?c:p.bindType||m,(l=(X.get(a,"events")||Object.create(null))[e.type]&&X.get(a,"handle"))&&l.apply(a,t),(l=u&&a[u])&&l.apply&&Z(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(d.pop(),t)||!Z(i)||u&&v(i[m])&&!y(i)&&((s=i[u])&&(i[u]=null),k.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,xt),i[m](),e.isPropagationStopped()&&h.removeEventListener(m,xt),k.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(e,t,n){var i=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(i,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t);r||i.addEventListener(e,n,!0),X.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,t)-1;r?X.access(i,t,r):(i.removeEventListener(e,n,!0),X.remove(i,t))}}}));var kt=n.location,Et={guid:Date.now()},St=/\?/;k.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return i=t&&t.getElementsByTagName("parsererror")[0],t&&!i||k.error("Invalid XML: "+(i?k.map(i.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var jt=/\[\]$/,Mt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,i){var r;if(Array.isArray(t))k.each(t,(function(t,r){n||jt.test(e)?i(e,r):Tt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==x(t))i(e,t);else for(r in t)Tt(e+"["+r+"]",t[r],n,i)}k.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){r(this.name,this.value)}));else for(n in e)Tt(n,e[n],t,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ct.test(this.nodeName)&&!At.test(e)&&(this.checked||!me.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}})):{name:t.name,value:n.replace(Mt,"\r\n")}})).get()}});var Pt=/%20/g,Rt=/#.*$/,Bt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ft={},zt={},Nt="*/".concat("*"),Lt=b.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(F)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ht(e,t,n,i){var r={},o=e===zt;function a(s){var c;return r[s]=!0,k.each(e[s]||[],(function(e,s){var u=s(t,n,i);return"string"!=typeof u||o||r[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),c}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Ut(e,t){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&k.extend(!0,e,i),e}Lt.href=kt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,k.ajaxSettings),t):Ut(k.ajaxSettings,e)},ajaxPrefilter:qt(Ft),ajaxTransport:qt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,c,u,l,p,h,f=k.ajaxSetup({},t),d=f.context||f,m=f.context&&(d.nodeType||d.jquery)?k(d):k.event,g=k.Deferred(),v=k.Callbacks("once memory"),y=f.statusCode||{},w={},_={},x="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ot.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return i&&i.abort(t),S(0,t),this}};if(g.promise(E),f.url=((e||f.url||kt.href)+"").replace(Dt,kt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){c=b.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Lt.protocol+"//"+Lt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),Ht(Ft,f,t,E),u)return E;for(p in(l=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!It.test(f.type),r=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pt,"+")):(h=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(St.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Bt,"$1"),h=(St.test(r)?"&":"?")+"_="+Et.guid+++h),f.url=r+h),f.ifModified&&(k.lastModified[r]&&E.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&E.setRequestHeader("If-None-Match",k.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Nt+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(d,E,f)||u))return E.abort();if(x="abort",v.add(f.complete),E.done(f.success),E.fail(f.error),i=Ht(zt,f,t,E)){if(E.readyState=1,l&&m.trigger("ajaxSend",[E,f]),u)return E;f.async&&f.timeout>0&&(s=n.setTimeout((function(){E.abort("timeout")}),f.timeout));try{u=!1,i.send(w,S)}catch(e){if(u)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,a,c){var p,h,b,w,_,x=t;u||(u=!0,s&&n.clearTimeout(s),i=void 0,o=c||"",E.readyState=e>0?4:0,p=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var i,r,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(f,E,a)),!p&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),w=function(e,t,n,i){var r,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(f,w,E,p),p?(f.ifModified&&((_=E.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=_),(_=E.getResponseHeader("etag"))&&(k.etag[r]=_)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=w.state,h=w.data,p=!(b=w.error))):(b=x,!e&&x||(x="error",e<0&&(e=0))),E.status=e,E.statusText=(t||x)+"",p?g.resolveWith(d,[h,x,E]):g.rejectWith(d,[E,x,b]),E.statusCode(y),y=void 0,l&&m.trigger(p?"ajaxSuccess":"ajaxError",[E,f,p?h:b]),v.fireWith(d,[E,x]),l&&(m.trigger("ajaxComplete",[E,f]),--k.active||k.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:r,data:n,success:i},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Vt=k.ajaxSettings.xhr();g.cors=!!Vt&&"withCredentials"in Vt,g.ajax=Vt=!!Vt,k.ajaxTransport((function(e){var t,i;if(g.cors||Vt&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Gt=[],Kt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+Et.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Kt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||k.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always((function(){void 0===o?k(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),a&&v(o)&&o(a[0]),a=o=void 0})),"script"})),g.createHTMLDocument=((Wt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(i)):t=b),o=!n&&[],(r=T.exec(e))?[t.createElement(r[1])]:(r=xe([e],t,o),o&&o.length&&k(o).remove(),k.merge([],r.childNodes)));var i,r,o},k.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=vt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&k.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(i?k("<div>").append(k.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var i,r,o,a,s,c,u=k.css(e,"position"),l=k(e),p={};"static"===u&&(e.style.position="relative"),s=l.offset(),o=k.css(e,"top"),c=k.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+c).indexOf("auto")>-1?(a=(i=l.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(c)||0),v(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+r),"using"in t?t.using.call(e,p):l.css(p)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),r.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-k.css(i,"marginTop",!0),left:t.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||oe}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(i){return $(this,(function(e,i,r){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=We(g.pixelPosition,(function(e,n){if(n)return n=Ve(e,t),Ne.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){k.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return $(this,(function(t,n,r){var o;return y(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?k.css(t,n,s):k.style(t,n,r,s)}),t,a?r:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Zt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,r},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=C,k.isFunction=v,k.isWindow=y,k.camelCase=K,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(Zt,"$1")},void 0===(i=function(){return k}.apply(t,[]))||(e.exports=i);var Yt=n.jQuery,Xt=n.$;return k.noConflict=function(e){return n.$===k&&(n.$=Xt),e&&n.jQuery===k&&(n.jQuery=Yt),k},void 0===r&&(n.jQuery=n.$=k),k}))},function(e,t,n){var i=n(239),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},function(e,t){e.exports=function(e){return null==e}},function(e,t){e.exports=!1},function(e,t,n){var i=n(143);e.exports=function(e){return i(e.length)}},function(e,t,n){var i=n(177),r=n(31),o=n(430);i||r(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(576).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t,n){e.exports=p;var i=n(12),r=n(14).Buffer,o=(n(30),n(20),n(41)),a=n(27),s=n(50),c=n(104),u=o.InvalidAlgorithmError,l=o.SignatureParseError;function p(e){i.object(e,"options"),i.arrayOfObject(e.parts,"options.parts"),i.string(e.type,"options.type");for(var t={},n=0;n<e.parts.length;++n){var r=e.parts[n];t[r.name]=r}this.type=e.type,this.hashAlgorithm=e.hashAlgo,this.curve=e.curve,this.parts=e.parts,this.part=t}function h(e,t,n,r){if("ssh"===n){try{var o=new c({buffer:e}),a=o.readString()}catch(e){}if(void 0!==o){var s="SSH signature does not match expected type (expected "+t+", got "+a+")";switch(a){case"ssh-rsa":i.strictEqual(t,"rsa",s),r.hashAlgo="sha1";break;case"rsa-sha2-256":i.strictEqual(t,"rsa",s),r.hashAlgo="sha256";break;case"rsa-sha2-512":i.strictEqual(t,"rsa",s),r.hashAlgo="sha512";break;case"ssh-ed25519":i.strictEqual(t,"ed25519",s),r.hashAlgo="sha512";break;default:throw new Error("Unknown SSH signature type: "+a)}var u=o.readPart();return i.ok(o.atEnd(),"extra trailing bytes"),u.name="sig",r.parts.push(u),new p(r)}}return r.parts.push({name:"sig",data:e}),new p(r)}p.prototype.toBuffer=function(e){var t;void 0===e&&(e="asn1"),i.string(e,"format");var n="ssh-"+this.type;switch(this.type){case"rsa":switch(this.hashAlgorithm){case"sha256":n="rsa-sha2-256";break;case"sha512":n="rsa-sha2-512";break;case"sha1":case void 0:break;default:throw new Error("SSH signature format does not support hash algorithm "+this.hashAlgorithm)}return"ssh"===e?((t=new c({})).writeString(n),t.writePart(this.part.sig),t.toBuffer()):this.part.sig.data;case"ed25519":return"ssh"===e?((t=new c({})).writeString(n),t.writePart(this.part.sig),t.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var o,u;if("asn1"===e){var l=new s.BerWriter;return l.startSequence(),o=a.mpNormalize(this.part.r.data),u=a.mpNormalize(this.part.s.data),l.writeBuffer(o,s.Ber.Integer),l.writeBuffer(u,s.Ber.Integer),l.endSequence(),l.buffer}if("ssh"===e&&"dsa"===this.type){if((t=new c({})).writeString("ssh-dss"),(o=this.part.r.data).length>20&&0===o[0]&&(o=o.slice(1)),(u=this.part.s.data).length>20&&0===u[0]&&(u=u.slice(1)),this.hashAlgorithm&&"sha1"!==this.hashAlgorithm||o.length+u.length!==40)throw new Error("OpenSSH only supports DSA signatures with SHA1 hash");return t.writeBuffer(r.concat([o,u])),t.toBuffer()}if("ssh"===e&&"ecdsa"===this.type){var p,h=new c({});o=this.part.r.data,h.writeBuffer(o),h.writePart(this.part.s),t=new c({}),0===o[0]&&(o=o.slice(1));var f=8*o.length;return 256===f?p="nistp256":384===f?p="nistp384":528===f&&(p="nistp521"),t.writeString("ecdsa-sha2-"+p),t.writeBuffer(h.toBuffer()),t.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},p.prototype.toString=function(e){return i.optionalString(e,"format"),this.toBuffer(e).toString("base64")},p.parse=function(e,t,n){"string"==typeof e&&(e=r.from(e,"base64")),i.buffer(e,"data"),i.string(n,"format"),i.string(t,"type");var o={};o.type=t.toLowerCase(),o.parts=[];try{switch(i.ok(e.length>0,"signature must not be empty"),o.type){case"rsa":case"ed25519":return h(e,t,n,o);case"dsa":case"ecdsa":return"asn1"===n?function(e,t,n,i){var r=new s.BerReader(e);r.readSequence();var o=r.readString(s.Ber.Integer,!0),c=r.readString(s.Ber.Integer,!0);return i.parts.push({name:"r",data:a.mpNormalize(o)}),i.parts.push({name:"s",data:a.mpNormalize(c)}),new p(i)}(e,0,0,o):"dsa"===o.type?function(e,t,n,r){if(40!=e.length){var o=new c({buffer:e}),a=o.readBuffer();"ssh-dss"===a.toString("ascii")&&(a=o.readBuffer()),i.ok(o.atEnd(),"extra trailing bytes"),i.strictEqual(a.length,40,"invalid inner length"),e=a}return r.parts.push({name:"r",data:e.slice(0,20)}),r.parts.push({name:"s",data:e.slice(20,40)}),new p(r)}(e,0,0,o):function(e,t,n,r){var o,a,s=new c({buffer:e}),u=s.readBuffer(),l=u.toString("ascii");if("ecdsa-"===l.slice(0,6)){var h=l.split("-");switch(i.strictEqual(h[0],"ecdsa"),i.strictEqual(h[1],"sha2"),r.curve=h[2],r.curve){case"nistp256":r.hashAlgo="sha256";break;case"nistp384":r.hashAlgo="sha384";break;case"nistp521":r.hashAlgo="sha512";break;default:throw new Error("Unsupported ECDSA curve: "+r.curve)}u=s.readBuffer(),i.ok(s.atEnd(),"extra trailing bytes on outer"),s=new c({buffer:u}),o=s.readPart()}else o={data:u};return a=s.readPart(),i.ok(s.atEnd(),"extra trailing bytes"),o.name="r",a.name="s",r.parts.push(o),r.parts.push(a),new p(r)}(e,0,0,o);default:throw new u(t)}}catch(e){if(e instanceof u)throw e;throw new l(t,n,e)}},p.isSignature=function(e,t){return a.isCompatible(e,p,t)},p.prototype._sshpkApiVersion=[2,1],p._oldVersionDetect=function(e){return i.func(e.toBuffer),e.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]}},function(e,t,n){var i=n(634);e.exports={Ber:i,BerReader:i.Reader,BerWriter:i.Writer}},function(e,t,n){var i=n(44),r=TypeError;e.exports=function(e){if(i(e))throw r("Can't call method on "+e);return e}},function(e,t,n){var i=n(7);e.exports=i({}.isPrototypeOf)},function(e,t,n){var i,r,o,a=n(405),s=n(10),c=n(22),u=n(69),l=n(23),p=n(170),h=n(141),f=n(111),d=s.TypeError,m=s.WeakMap;if(a||p.state){var g=p.state||(p.state=new m);g.get=g.get,g.has=g.has,g.set=g.set,i=function(e,t){if(g.has(e))throw d("Object already initialized");return t.facade=e,g.set(e,t),t},r=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var v=h("state");f[v]=!0,i=function(e,t){if(l(e,v))throw d("Object already initialized");return t.facade=e,u(e,v,t),t},r=function(e){return l(e,v)?e[v]:{}},o=function(e){return l(e,v)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw d("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){n(407),n(411),n(412),n(413),n(414)},function(e,t,n){"use strict";var i=n(0),r=n(21),o=n(10),a=n(7),s=n(23),c=n(15),u=n(52),l=n(29),p=n(28).f,h=n(244),f=o.Symbol,d=f&&f.prototype;if(r&&c(f)&&(!("description"in d)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(d,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};h(g,f),g.prototype=d,d.constructor=g;var v="Symbol(test)"==String(f("test")),y=a(d.valueOf),b=a(d.toString),w=/^Symbol\((.*)\)[^)]+$/,_=a("".replace),x=a("".slice);p(d,"description",{configurable:!0,get:function(){var e=y(this);if(s(m,e))return"";var t=b(e),n=v?x(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:g})}},function(e,t,n){"use strict";var i=n(33),r=n(150),o=n(117),a=n(53),s=n(28).f,c=n(183),u=n(185),l=n(45),p=n(21),h=a.set,f=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){h(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?i:"values"==n?t[i]:[i,t[i]],!1)}),"values");var d=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!l&&p&&"values"!==d.name)try{s(d,"name",{value:"values"})}catch(e){}},function(e,t,n){"use strict";var i=n(110).PROPER,r=n(31),o=n(3),a=n(29),s=n(5),c=n(268),u=RegExp.prototype.toString,l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),p=i&&"toString"!=u.name;(l||p)&&r(RegExp.prototype,"toString",(function(){var e=o(this);return"/"+a(e.source)+"/"+a(c(e))}),{unsafe:!0})},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function p(e,t,n,i){var r,o,a,s;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=l(e))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function d(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,l=g(c,u);for(n=0;n<u;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return p(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return p(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(u(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){var i=n(4).Buffer,r=n(60).Transform,o=n(81).StringDecoder;function a(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(2)(a,r),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=i.from(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{n(i)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return n&&(i+=this._decoder.end()),i},e.exports=a},function(e,t,n){e.exports=r;var i=n(58).EventEmitter;function r(){i.call(this)}n(2)(r,i),r.Readable=n(124),r.Writable=n(535),r.Duplex=n(536),r.Transform=n(537),r.PassThrough=n(538),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===i.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),e.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",u),e.on("error",u),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){e.exports={read:function(e,t,n){var c=e;"string"!=typeof e&&(i.buffer(e,"buf"),e=e.toString("ascii"));var u,g,y=e.trim().split(/[\r\n]+/g),b=-1;for(;!u&&b<y.length;)u=y[++b].match(/[-]+[ ]*BEGIN ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);i.ok(u,"invalid PEM header");var w=y.length;for(;!g&&w>0;)g=y[--w].match(/[-]+[ ]*END ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);i.ok(g,"invalid PEM footer"),i.equal(u[2],g[2]);var _,x=u[2].toLowerCase();u[1]&&(i.equal(u[1],g[1],"PEM header and footer mismatch"),_=u[1].trim());y=y.slice(b,w+1);var k,E,S,j={};for(;y=y.slice(1),u=y[0].match(/^([A-Za-z0-9-]+): (.+)$/);)j[u[1].toLowerCase()]=u[2];if(y=y.slice(0,-1).join(""),e=a.from(y,"base64"),j["proc-type"]){var M=j["proc-type"].split(",");if("4"===M[0]&&"ENCRYPTED"===M[1]){if("string"==typeof t.passphrase&&(t.passphrase=a.from(t.passphrase,"utf-8")),!a.isBuffer(t.passphrase))throw new d.KeyEncryptedError(t.filename,"PEM");M=j["dek-info"].split(","),i.ok(2===M.length),k=M[0].toLowerCase(),S=a.from(M[1],"hex"),E=s.opensslKeyDeriv(k,S,t.passphrase,1).key}}if(_&&"encrypted"===_.toLowerCase()){var A,C=new r.BerReader(e);C.readSequence(),C.readSequence(),A=C.offset+C.length;var T=C.readOID();if("1.2.840.113549.1.5.13"!==T)throw new Error("Unsupported PEM/PKCS8 encryption scheme: "+T);C.readSequence(),C.readSequence();var P=C.offset+C.length,R=C.readOID();if("1.2.840.113549.1.5.12"!==R)throw new Error("Unsupported PBES2 KDF: "+R);C.readSequence();var B=C.readString(r.Ber.OctetString,!0),O=C.readInt(),I="sha1";if(C.offset<P){C.readSequence();var D=C.readOID();if(void 0===(I=v[D]))throw new Error("Unsupported PBKDF2 hash: "+D)}C._offset=P,C.readSequence();var F=C.readOID();if(void 0===(k=m[F]))throw new Error("Unsupported PBES2 cipher: "+F);if(S=C.readString(r.Ber.OctetString,!0),C._offset=A,e=C.readString(r.Ber.OctetString,!0),"string"==typeof t.passphrase&&(t.passphrase=a.from(t.passphrase,"utf-8")),!a.isBuffer(t.passphrase))throw new d.KeyEncryptedError(t.filename,"PEM");var z=s.opensshCipherInfo(k);k=z.opensslName,E=s.pbkdf2(I,B,O,z.keySize,t.passphrase),_=void 0}if(k&&E&&S){var N,L=o.createDecipheriv(k,E,S),q=[];for(L.once("error",(function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e})),L.write(e),L.end();null!==(N=L.read());)q.push(N);e=a.concat(q)}if(_&&"openssh"===_.toLowerCase())return h.readSSHPrivate(x,e,t);if(_&&"ssh2"===_.toLowerCase())return f.readType(x,e,t);var H=new r.BerReader(e);return H.originalInput=c,H.readSequence(),_?(n&&i.strictEqual(n,"pkcs1"),l.readPkcs1(_,x,H)):(n&&i.strictEqual(n,"pkcs8"),p.readPkcs8(_,x,H))},write:function(e,t,n){i.object(e);var o,s={ecdsa:"EC",rsa:"RSA",dsa:"DSA",ed25519:"EdDSA"}[e.type],h=new r.BerWriter;if(u.isPrivateKey(e))n&&"pkcs8"===n?(o="PRIVATE KEY",p.writePkcs8(h,e)):(n&&i.strictEqual(n,"pkcs1"),o=s+" PRIVATE KEY",l.writePkcs1(h,e));else{if(!c.isKey(e))throw new Error("key is not a Key or PrivateKey");n&&"pkcs1"===n?(o=s+" PUBLIC KEY",l.writePkcs1(h,e)):(n&&i.strictEqual(n,"pkcs8"),o="PUBLIC KEY",p.writePkcs8(h,e))}var f=h.buffer.toString("base64"),d=f.length+f.length/64+18+16+2*o.length+10,m=a.alloc(d),g=0;g+=m.write("-----BEGIN "+o+"-----\n",g);for(var v=0;v<f.length;){var y=v+64;y>f.length&&(y=f.length),g+=m.write(f.slice(v,y),g),m[g++]=10,v=y}return g+=m.write("-----END "+o+"-----\n",g),m.slice(0,g)}};var i=n(12),r=n(50),o=n(20),a=n(14).Buffer,s=(n(30),n(27)),c=n(25),u=n(26),l=n(231),p=n(133),h=n(165),f=n(62),d=n(41),m={"1.2.840.113549.3.7":"3des-cbc","2.16.840.1.101.3.4.1.2":"aes128-cbc","2.16.840.1.101.3.4.1.42":"aes256-cbc"},g={};Object.keys(m).forEach((function(e){g[m[e]]=e}));var v={"1.2.840.113549.2.7":"sha1","1.2.840.113549.2.9":"sha256","1.2.840.113549.2.11":"sha512"},y={};Object.keys(v).forEach((function(e){y[v[e]]=e}))},function(e,t,n){e.exports={read:h.bind(void 0,!1,void 0),readType:h.bind(void 0,!1),write:function(e,t){i.object(e);var n,s=p(e),l=o.info[e.type];c.isPrivateKey(e)&&(l=o.privInfo[e.type]);var h=l.parts,f=new u({});for(f.writeString(s),n=0;n<h.length;++n){var d=e.part[h[n]].data;!1!==l.normalize&&(d="ed25519"===e.type?a.zeroPadToLength(d,32):a.mpNormalize(d)),"ed25519"===e.type&&"k"===h[n]&&(d=r.concat([d,e.part.A.data])),f.writeBuffer(d)}return f.toBuffer()},readPartial:h.bind(void 0,!0),readInternal:h,keyTypeToAlg:p,algToKeyType:l};var i=n(12),r=n(14).Buffer,o=n(30),a=n(27),s=n(25),c=n(26),u=n(104);function l(e){if(i.string(e),"ssh-dss"===e)return"dsa";if("ssh-rsa"===e)return"rsa";if("ssh-ed25519"===e)return"ed25519";if("ssh-curve25519"===e)return"curve25519";if(e.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+e)}function p(e){if(i.object(e),"dsa"===e.type)return"ssh-dss";if("rsa"===e.type)return"ssh-rsa";if("ed25519"===e.type)return"ssh-ed25519";if("curve25519"===e.type)return"ssh-curve25519";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.part.curve.data.toString();throw new Error("Unknown key type "+e.type)}function h(e,t,n,p){"string"==typeof n&&(n=r.from(n)),i.buffer(n,"buf");var h={},f=h.parts=[],d=new u({buffer:n}),m=d.readString();i.ok(!d.atEnd(),"key must have at least one part"),h.type=l(m);var g=o.info[h.type].parts.length;for(t&&"private"===t&&(g=o.privInfo[h.type].parts.length);!d.atEnd()&&f.length<g;)f.push(d.readPart());for(;!e&&!d.atEnd();)f.push(d.readPart());i.ok(f.length>=1,"key must have at least one part"),i.ok(e||d.atEnd(),"leftover bytes at end of key");var v=s,y=o.info[h.type];if("private"!==t&&y.parts.length===f.length||(y=o.privInfo[h.type],v=c),i.strictEqual(y.parts.length,f.length),"ecdsa"===h.type){var b=/^ecdsa-sha2-(.+)$/.exec(m);i.ok(null!==b),i.strictEqual(b[1],f[0].data.toString())}for(var w=!0,_=0;_<y.parts.length;++_){var x,k=f[_];if(k.name=y.parts[_],"ed25519"===h.type&&"k"===k.name&&(k.data=k.data.slice(0,32)),"curve"!==k.name&&!1!==y.normalize)(x="ed25519"===h.type?a.zeroPadToLength(k.data,32):a.mpNormalize(k.data)).toString("binary")!==k.data.toString("binary")&&(k.data=x,w=!1)}return w&&(h._rfc4253Cache=d.toBuffer()),e&&"object"==typeof e&&(e.remainder=d.remainder(),e.consumed=d._offset),new v(h)}},function(e,t,n){"use strict";n(168),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DataFrame",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return r.default}}),t.Errors=t.default=void 0;var i=u(n(176)),r=u(n(300)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(79));t.Errors=o;var a=u(n(481)),s=u(n(483)),c=u(n(484));function u(e){return e&&e.__esModule?e:{default:e}}i.default.setDefaultModules(a.default,s.default,c.default),i.default.sql=c.default;var l=i.default;t.default=l},function(e,t,n){e.exports=n(733),e.exports.Collection=n(396)},function(e,t,n){var i;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),p=Math.round,h=Math.abs,f=Date.now;function d(e,t,n){return setTimeout(_(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function v(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var y=v((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&c(i,n)}function _(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function k(e,t){return void 0===e?t:e}function E(e,t,n){g(A(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){g(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function j(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function M(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function C(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function P(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];C(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function R(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}}var B=1;function O(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var I="ontouchstart"in r,D=void 0!==R(r,"PointerEvent"),F=I&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z=["x","y"],N=["clientX","clientY"];function L(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function q(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&i-r==0,a=12&t&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=H(t));r>1&&!n.firstMultiple?n.firstMultiple=H(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=U(i);t.timeStamp=f(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=G(s,c),t.distance=W(s,c),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=V(t.deltaX,t.deltaY);var u=$(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=h(u.x)>h(u.y)?u.x:u.y,t.scale=a?(l=a.pointers,p=i,W(p[0],p[1],N)/W(l[0],l[1],N)):1,t.rotation=a?function(e,t){return G(t[1],t[0],N)+G(e[1],e[0],N)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,l=$(s,c,u);i=l.x,r=l.y,n=h(l.x)>h(l.y)?l.x:l.y,o=V(c,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var l,p;var d=e.element;j(t.srcEvent.target,d)&&(d=t.srcEvent.target);t.target=d}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:t,center:U(t),deltaX:e.deltaX,deltaY:e.deltaY}}function U(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:p(n/t),y:p(i/t)}}function $(e,t,n){return{x:t/e||0,y:n/e||0}}function V(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function W(e,t,n){n||(n=z);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function G(e,t,n){n||(n=z);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}L.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)}};var K={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,L.apply(this,arguments)}w(Z,L,{handler:function(e){var t=K[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function ee(){this.evEl=J,this.evWin=Q,L.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),w(ee,L,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=Y[i],o=X[e.pointerType]||e.pointerType,a="touch"==o,s=C(t,e.pointerId,"pointerId");1&r&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&r&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,L.apply(this,arguments)}function ie(e,t){var n=T(e.touches),i=T(e.changedTouches);return 12&t&&(n=P(n.concat(i),"identifier",!0)),[n,i]}w(ne,L,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var re={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function oe(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},L.apply(this,arguments)}function ae(e,t){var n=T(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(e.changedTouches),s=[],c=this.target;if(o=n.filter((function(e){return j(e.target,c)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[P(o.concat(s),"identifier",!0),s]:void 0}w(oe,L,{handler:function(e){var t=re[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){L.apply(this,arguments);var e=_(this.handler,this);this.touch=new oe(this.manager,e),this.mouse=new Z(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ce(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ue.call(this,t)):12&e&&ue.call(this,t)}function ue(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function le(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}w(se,L,{handler:function(e,t,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)ce.call(this,t,n);else if(r&&le.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pe=R(l.style,"touchAction"),he=void 0!==pe,fe=function(){if(!he)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function de(e,t){this.manager=e,this.set(t)}de.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&fe[e]&&(this.manager.element.style[pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(M(e,"none"))return"none";var t=M(e,"pan-x"),n=M(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(M(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=M(i,"none")&&!fe.none,o=M(i,"pan-y")&&!fe["pan-y"],a=M(i,"pan-x")&&!fe["pan-x"];if(r){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function me(e){this.options=c({},this.defaults,e||{}),this.id=B++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager;return n?n.get(e):e}function be(){me.apply(this,arguments)}function we(){be.apply(this,arguments),this.pX=null,this.pY=null}function _e(){be.apply(this,arguments)}function xe(){me.apply(this,arguments),this._timer=null,this._input=null}function ke(){be.apply(this,arguments)}function Ee(){be.apply(this,arguments)}function Se(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function je(e,t){return(t=t||{}).recognizers=k(t.recognizers,je.defaults.preset),new Me(e,t)}me.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===C(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=C(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+ge(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+ge(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(be,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32}}),w(we,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(6&t.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(_e,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(xe,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!r)this.reset();else if(1&e.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(ke,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Ee,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Se,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||W(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),je.VERSION="2.0.7",je.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ke,{enable:!1}],[_e,{enable:!1},["rotate"]],[Ee,{direction:6}],[we,{direction:6},["swipe"]],[Se],[Se,{event:"doubletap",taps:2},["tap"]],[xe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Me(e,t){var n;this.options=c({},je.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(D?ee:F?oe:I?se:Z))(n,q),this.touchAction=new de(this,this.options.touchAction),Ae(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ae(e,t){var n,i=e.element;i.style&&(g(e.options.cssProps,(function(r,o){n=R(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Me.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=C(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return g(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return g(A(e),(function(e){t?n[e]&&n[e].splice(C(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(je,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Me,Input:L,TouchAction:de,TouchInput:oe,MouseInput:Z,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:me,AttrRecognizer:be,Tap:Se,Pan:we,Swipe:Ee,Pinch:_e,Rotate:ke,Press:xe,on:E,off:S,each:g,merge:b,extend:y,assign:c,inherit:w,bindFn:_,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=je,void 0===(i=function(){return je}.call(t,n,t,e))||(e.exports=i)}(window,document)},function(e,t,n){var i=n(21),r=n(6),o=n(137),a=n(107),s=n(33),c=n(138),u=n(23),l=n(242),p=Object.getOwnPropertyDescriptor;t.f=i?p:function(e,t){if(e=s(e),t=c(t),l)try{return p(e,t)}catch(e){}if(u(e,t))return a(!r(o.f,e,t),e[t])}},function(e,t,n){var i,r,o=n(10),a=n(68),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(r=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},function(e,t,n){var i=n(19);e.exports=i("navigator","userAgent")||""},function(e,t,n){var i=n(21),r=n(28),o=n(107);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i,r=n(3),o=n(247),a=n(175),s=n(111),c=n(248),u=n(140),l=n(141),p=l("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},d=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&i?d(i):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):d(i);for(var n=a.length;n--;)delete m.prototype[a[n]];return m()};s[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[p]=e):n=m(),void 0===t?n:o.f(n,t)}},function(e,t,n){n(251)("iterator")},function(e,t,n){"use strict";var i=n(0),r=n(173).includes,o=n(5),a=n(150);i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(e,t,n){var i=n(7),r=n(31),o=Date.prototype,a=i(o.toString),s=i(o.getTime);"Invalid Date"!=String(new Date(NaN))&&r(o,"toString",(function(){var e=s(this);return e==e?a(this):"Invalid Date"}))},function(e,t,n){var i=n(0),r=n(32),o=n(113);i({target:"Object",stat:!0,forced:n(5)((function(){o(1)}))},{keys:function(e){return o(r(e))}})},function(e,t,n){"use strict";var i=n(0),r=n(7),o=n(435),a=n(51),s=n(29),c=n(436),u=r("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(273).charAt,r=n(29),o=n(53),a=n(183),s=n(185),c=o.set,u=o.getterFor("String Iterator");a(String,"String",(function(e){c(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?s(void 0,!0):(e=i(n,r),t.index+=e.length,s(e,!1))}))},function(e,t,n){var i=n(6);e.exports=function(e){return i(Set.prototype.values,e)}},function(e,t,n){var i=n(10),r=n(294),o=n(295),a=n(56),s=n(69),c=n(16),u=c("iterator"),l=c("toStringTag"),p=a.values,h=function(e,t){if(e){if(e[u]!==p)try{s(e,u,p)}catch(t){e[u]=p}if(e[l]||s(e,l,t),r[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in r)h(i[f]&&i[f].prototype,f);h(o,"DOMTokenList")},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return u(e,arguments,p(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),l(i,e)})(e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return(u=c()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&l(r,n.prototype),r}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(54),n(55),n(71),n(90),n(298),n(56),n(152),n(73),n(118),n(441),n(299),n(443),n(47),n(444),n(57),n(76),n(446),n(447),n(448),n(449),n(450),n(451),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.WrongTableNameError=t.TableAlreadyExistsError=t.SQLParseError=t.ArgumentTypeError=t.WrongSchemaError=t.NoSuchColumnError=t.MixedTypeError=t.FileNotFoundError=void 0;var h=function(e){function t(e){var n;return r(this,t),(n=o(this,p(t).call(this,Error))).message="".concat(e," not found. You maybe use a wrong path or url. Be sure you use absolute path, relative one being not supported."),n.name="FileNotFoundError",n}return a(t,e),t}(s(Error));t.FileNotFoundError=h;var f=function(e){function t(){var e;r(this,t),e=o(this,p(t).call(this,TypeError));for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.message="can't work with multiple variable types: [".concat(i.join(","),"]."),e.name="MixedTypeError",e}return a(t,e),t}(s(TypeError));t.MixedTypeError=f;var d=function(e){function t(e,n){var i;return r(this,t),(i=o(this,p(t).call(this,Error))).message="".concat(e," not found in [").concat(n.join(", "),"]."),i.name="NoSuchColumnError",i}return a(t,e),t}(s(Error));t.NoSuchColumnError=d;var m=function(e){function t(e,n){var i;return r(this,t),(i=o(this,p(t).call(this,Error))).message="[".concat(e.join(", "),"] while expecting [").concat(n.join(", "),"]."),i.name="WrongSchemaError",i}return a(t,e),t}(s(Error));t.WrongSchemaError=m;var g=function(e){function t(e,n){var a;return r(this,t),(a=o(this,p(t).call(this,TypeError))).message="".concat(e&&e.constructor?e.constructor.name:i(e)," while expecting ").concat(n,"."),a.name="ArgumentTypeError",a}return a(t,e),t}(s(TypeError));t.ArgumentTypeError=g;var v=function(e){function t(e){var n;return r(this,t),(n=o(this,p(t).call(this,Error))).message="".concat(e,"."),n.name="SQLParseError",n}return a(t,e),t}(s(Error));t.SQLParseError=v;var y=function(e){function t(e){var n;return r(this,t),(n=o(this,p(t).call(this,Error))).message="The SQL temporary table ".concat(e," already exits. Use overwrite = true to overwrite it."),n.name="TableAlreadyExistsError",n}return a(t,e),t}(s(Error));t.TableAlreadyExistsError=y;var b=function(e){function t(e){var n;return r(this,t),(n=o(this,p(t).call(this,Error))).message="The SQL temporary table ".concat(e," is not allowed. Avoid to use Spaces, quotes, tabs...."),n.name="WrongTableNameError",n}return a(t,e),t}(s(Error));t.WrongTableNameError=b},function(e,t){},function(e,t,n){"use strict";var i=n(4).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=a(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var i=n(157),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=p;var o=Object.create(n(125));o.inherits=n(2);var a=n(327),s=n(210);o.inherits(p,a);for(var c=r(s.prototype),u=0;u<c.length;u++){var l=c[u];p.prototype[l]||(p.prototype[l]=s.prototype[l])}function p(e){if(!(this instanceof p))return new p(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),p.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";(function(t){var i=n(620);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=n(18),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function p(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=y,f=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(u)return e.name;var t=e.toString().match(f);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!a.isFunction(e))return a.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,n,i,r){throw new h.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function y(e,t){e||v(e,!0,t,"==",h.ok)}function b(e,t,n,i){if(e===t)return!0;if(o(e)&&o(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(p(e)&&p(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;var s=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,i){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=w(e),o=w(t);if(r&&!o||!r&&o)return!1;if(r)return e=c.call(e),t=c.call(t),b(e,t,n);var s,u,l=k(e),p=k(t);if(l.length!==p.length)return!1;for(l.sort(),p.sort(),u=l.length-1;u>=0;u--)if(l[u]!==p[u])return!1;for(u=l.length-1;u>=0;u--)if(s=l[u],!b(e[s],t[s],n,i))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,i){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&v(r,n,"Missing expected exception"+i);var o="string"==typeof i,s=!e&&r&&!n;if((!e&&a.isError(r)&&o&&_(r,n)||s)&&v(r,n,"Got unwanted exception"+i),e&&r&&n&&!_(r,n)||!e&&r)throw r}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=d(t),o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},a.inherits(h.AssertionError,Error),h.fail=v,h.ok=y,h.equal=function(e,t,n){e!=t&&v(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&v(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){b(e,t,!1)||v(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){b(e,t,!0)||v(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){b(e,t,!1)&&v(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,i){b(t,n,!0)&&v(t,n,i,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&v(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&v(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){x(!0,e,t,n)},h.doesNotThrow=function(e,t,n){x(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=i((function e(t,n){t||v(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var k=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(17))},function(e,t,n){var i=n(67),r=n(5);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i=n(13),r=n(44);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,n){var i=n(45),r=n(170);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var i=n(246),r=n(175).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(24),r=n(7),o=n(108),a=n(32),s=n(46),c=n(252),u=r([].push),l=function(e){var t=1==e,n=2==e,r=3==e,l=4==e,p=6==e,h=7==e,f=5==e||p;return function(d,m,g,v){for(var y,b,w=a(d),_=o(w),x=i(m,g),k=s(_),E=0,S=v||c,j=t?S(d,k):n||h?S(d,0):void 0;k>E;E++)if((f||E in _)&&(b=x(y=_[E],E,w),e))if(t)j[E]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:u(j,y)}else switch(e){case 4:return!1;case 7:u(j,y)}return p?-1:r||l?l:j}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,n){"use strict";var i=n(0),r=n(5),o=n(146),a=n(22),s=n(32),c=n(46),u=n(415),l=n(114),p=n(252),h=n(149),f=n(16),d=n(67),m=f("isConcatSpreadable"),g=d>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=h("concat"),y=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)};i({target:"Array",proto:!0,arity:1,forced:!g||!v},{concat:function(e){var t,n,i,r,o,a=s(this),h=p(a,0),f=0;for(t=-1,i=arguments.length;t<i;t++)if(y(o=-1===t?a:arguments[t]))for(r=c(o),u(f+r),n=0;n<r;n++,f++)n in o&&l(h,f,o[n]);else u(f+1),l(h,f++,o);return h.length=f,h}})},function(e,t,n){"use strict";var i=n(0),r=n(89).filter;i({target:"Array",proto:!0,forced:!n(149)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(5);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},function(e,t,n){var i=n(0),r=n(416);i({target:"Array",stat:!0,forced:!n(182)((function(e){Array.from(e)}))},{from:r})},function(e,t,n){"use strict";var i=n(0),r=n(89).map;i({target:"Array",proto:!0,forced:!n(149)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(259).left,o=n(92),a=n(67),s=n(96);i({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(43),r=n(10);e.exports="process"==i(r.process)},function(e,t,n){"use strict";var i=n(0),r=n(153);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t,n){"use strict";(function(t,i){var r=n(4).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=r.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"==typeof t)return i.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(17),n(8))},function(e,t,n){"use strict";var i={};function r(e,t,n){n||(n=Error);var r=function(e){var n,i;function r(n,i,r){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,r))||this}return i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r}(n);r.prototype.name=n.name,r.prototype.code=e,i[e]=r}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,r,a,s;if("string"==typeof t&&(r="not ",t.substr(!a||a<0?0:+a,r.length)===r)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(o(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},function(e,t,n){"use strict";(function(t){var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var r=n(319),o=n(323);n(2)(u,r);for(var a=i(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(8))},function(e,t,n){var i=n(4).Buffer;function r(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var n=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%r,u=Math.min(o-s,r-c),l=0;l<u;l++)n[c+l]=e[s+l];s+=u,(a+=u)%r==0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0,r=(n-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,n){"use strict";var i={};function r(e,t,n){n||(n=Error);var r=function(e){var n,i;function r(n,i,r){return e.call(this,function(e,n,i){return"string"==typeof t?t:t(e,n,i)}(n,i,r))||this}return i=e,(n=r).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i,r}(n);r.prototype.name=n.name,r.prototype.code=e,i[e]=r}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,r,a,s;if("string"==typeof t&&(r="not ",t.substr(!a||a<0?0:+a,r.length)===r)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(o(t,"type"));else{var c=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(o(t,"type"))}return s+=". Received type ".concat(typeof n)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},function(e,t,n){"use strict";(function(t){var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var r=n(349),o=n(353);n(2)(u,r);for(var a=i(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);r.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(8))},function(e,t,n){e.exports=o;var i=n(12),r=n(14).Buffer;function o(e){i.object(e,"options"),void 0!==e.buffer&&i.buffer(e.buffer,"options.buffer"),this._size=e.buffer?e.buffer.length:1024,this._buffer=e.buffer||r.alloc(this._size),this._offset=0}o.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},o.prototype.atEnd=function(){return this._offset>=this._buffer.length},o.prototype.remainder=function(){return this._buffer.slice(this._offset)},o.prototype.skip=function(e){this._offset+=e},o.prototype.expand=function(){this._size*=2;var e=r.alloc(this._size);this._buffer.copy(e,0),this._buffer=e},o.prototype.readPart=function(){return{data:this.readBuffer()}},o.prototype.readBuffer=function(){var e=this._buffer.readUInt32BE(this._offset);this._offset+=4,i.ok(this._offset+e<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},o.prototype.readString=function(){return this.readBuffer().toString()},o.prototype.readCString=function(){for(var e=this._offset;e<this._buffer.length&&0!==this._buffer[e];)e++;i.ok(e<this._buffer.length,"c string does not terminate");var t=this._buffer.slice(this._offset,e).toString();return this._offset=e+1,t},o.prototype.readInt=function(){var e=this._buffer.readUInt32BE(this._offset);return this._offset+=4,e},o.prototype.readInt64=function(){i.ok(this._offset+8<this._buffer.length,"buffer not long enough to read Int64");var e=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,e},o.prototype.readChar=function(){return this._buffer[this._offset++]},o.prototype.writeBuffer=function(e){for(;this._offset+4+e.length>this._size;)this.expand();this._buffer.writeUInt32BE(e.length,this._offset),this._offset+=4,e.copy(this._buffer,this._offset),this._offset+=e.length},o.prototype.writeString=function(e){this.writeBuffer(r.from(e,"utf8"))},o.prototype.writeCString=function(e){for(;this._offset+1+e.length>this._size;)this.expand();this._buffer.write(e,this._offset),this._offset+=e.length,this._buffer[this._offset++]=0},o.prototype.writeInt=function(e){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(e,this._offset),this._offset+=4},o.prototype.writeInt64=function(e){if(i.buffer(e,"value"),e.length>8){for(var t=e.slice(0,e.length-8),n=0;n<t.length;++n)i.strictEqual(t[n],0,"must fit in 64 bits of precision");e=e.slice(e.length-8,e.length)}for(;this._offset+8>this._size;)this.expand();e.copy(this._buffer,this._offset),this._offset+=8},o.prototype.writeChar=function(e){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=e},o.prototype.writePart=function(e){this.writeBuffer(e.data)},o.prototype.write=function(e){for(;this._offset+e.length>this._size;)this.expand();e.copy(this._buffer,this._offset),this._offset+=e.length}},function(e,t,n){"use strict";function i(e,t,n,i){var r=i?" !== ":" === ",o=i?" || ":" && ",a=i?"!":"",s=i?"":"!";switch(e){case"null":return t+r+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+r+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+o+s+"("+t+" % 1)"+o+t+r+t+(n?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+r+'"'+e+'"'+(n?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:i,checkDataTypes:function(e,t,n){switch(e.length){case 1:return i(e[0],t,n,!0);default:var r="",a=o(e);for(var s in a.array&&a.object&&(r=a.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)r+=(r?" && ":"")+i(s,t,n,!0);return r}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++){var o=t[i];(r[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(r[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:c,escapeQuotes:u,equal:n(236),ucs2length:n(664),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var i in e)if(i!=n&&t[i])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var n in e)if(!t[n])return n},toQuotedString:l,getPathExpr:function(e,t,n,i){return f(e,n?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var i=l(n?"/"+d(t):c(t));return f(e,i)},getData:function(e,t,n){var i,r,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!p.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,o="rootData"}else{if(!(a=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(i=+a[1],"#"==(r=a[2])){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return n[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(o="data"+(t-i||""),!r)return o}for(var s=o,u=r.split("/"),l=0;l<u.length;l++){var f=u[l];f&&(o+=c(m(f)),s+=" && "+o)}return s},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(d(e))},escapeJsonPointer:d};var r=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var a=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":a.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+u(e)+"'"}var p=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function f(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function d(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){var i=n(5);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(7),r=n(5),o=n(43),a=Object,s=i("".split);e.exports=r((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},function(e,t,n){var i=n(19),r=n(15),o=n(52),a=n(241),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,s(e))}},function(e,t,n){var i=n(21),r=n(23),o=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,s=r(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!i||i&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},function(e,t){e.exports={}},function(e,t,n){var i=n(5),r=n(15),o=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==l||n!=u&&(r(t)?i(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,n){var i=n(246),r=n(175);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){"use strict";var i=n(138),r=n(28),o=n(107);e.exports=function(e,t,n){var a=i(t);a in e?r.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var i=n(28).f,r=n(23),o=n(16)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(106),r=Function.prototype,o=r.apply,a=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?a.bind(o):function(){return a.apply(o,arguments)})},function(e,t){e.exports={}},function(e,t,n){var i=n(21),r=n(110).EXISTS,o=n(7),a=n(28).f,s=Function.prototype,c=o(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=o(u.exec);i&&!r&&a(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},function(e,t,n){"use strict";n(54),n(55),n(71),n(90),n(91),n(93),n(72),n(56),n(152),n(94),n(95),n(73),n(74),n(47),n(439),n(97),n(57),n(269),n(75),n(76),n(297),n(275),n(276),n(278),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayOfType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!!(e instanceof Array&&e.hasOwnProperty(n)&&(t===String?"string"==typeof e[n]:e[n]instanceof t))},t.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.arrayEqual=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?Object.keys(e).map((function(n){return e[n]===t[n]})).reduce((function(e,t){return e?t:e}),!0):0===o(new Set(e.filter((function(e){return!new Set(t).has(e)})))).length},t.transpose=function(e){var t=e.map((function(e){return e.length})).reduce((function(e,t){return Math.max(e,t)}),0);return o(Array(t).keys()).map((function(t){return e.map((function(e){return e[t]}))}))},t.makeGenerator=a,t.iter=c,t.chain=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Array.from(c(e,n.reduce((function(e,t){return function(n,i){var r=e(n,i),o=!!r&&t(r,i);return!0===o?r:o}}),(function(e){return e}))))},t.xSplit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){return e.map((function(e){return e.split(t)})).reduce((function(e,t){return[].concat(o(e),o(t))}),[])}),[e])},t.xReplace=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){return e.split(t[0]).join(t[1])}),e)},t.xContains=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.filter((function(t){return e.includes(t)}))},t.hashCode=function(e){var t,n=0;if(0===e.length)return n;for(var i=0;i<e.length;i++)t=e.charCodeAt(i),n=(n<<5)-n+t,n&=n;return n},n(154);var i=regeneratorRuntime.mark(a),r=regeneratorRuntime.mark(s);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}}),i)}function s(e,t){var n,i,o,a,s,c,u,l,p,h=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=h.length>2&&void 0!==h[2]?h[2]:function(){return!1},i=0,o=!0,a=!1,s=void 0,r.prev=5,c=e[Symbol.iterator]();case 7:if(o=(u=c.next()).done){r.next=18;break}if(l=u.value,!n()){r.next=11;break}return r.abrupt("return");case 11:if(!(p=t(l,i++))){r.next=15;break}return r.next=15,p;case 15:o=!0,r.next=7;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(5),a=!0,s=r.t0;case 24:r.prev=24,r.prev=25,o||null==c.return||c.return();case 27:if(r.prev=27,!a){r.next=30;break}throw s;case 30:return r.finish(27);case 31:return r.finish(24);case 32:case"end":return r.stop()}}),r,null,[[5,20,24,32],[25,,27,31]])}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return Array.from(s(e,t,n))}},function(e,t,n){var i=n(10);e.exports=i.Promise},function(e,t,n){var i=n(10),r=n(120),o=n(15),a=n(112),s=n(172),c=n(16),u=n(472),l=n(303),p=n(45),h=n(67),f=r&&r.prototype,d=c("species"),m=!1,g=o(i.PromiseRejectionEvent),v=a("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===h)return!0;if(p&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[d]=i,!(m=n.then((function(){}))instanceof i))return!0}return!t&&(u||l)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},function(e,t,n){"use strict";var i=n(13),r=TypeError,o=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";var i=n(2),r=n(205),o=n(208),a=n(209),s=n(59);function c(e){s.call(this,"digest"),this._hash=e}i(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new r:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},function(e,t,n){(t=e.exports=n(327)).Stream=t,t.Readable=t,t.Writable=n(210),t.Duplex=n(82),t.Transform=n(330),t.PassThrough=n(534)},function(e,t,n){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(9).Buffer.isBuffer},function(e,t,n){(function(t){e.exports=function(e,n){for(var i=Math.min(e.length,n.length),r=new t(i),o=0;o<i;++o)r[o]=e[o]^n[o];return r}}).call(this,n(9).Buffer)},function(e,t,n){"use strict";var i=n(40),r=n(34);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=e>>>24&255,i[r++]=e>>>16&255,i[r++]=e>>>8&255,i[r++]=255&e}else for(i[r++]=255&e,i[r++]=e>>>8&255,i[r++]=e>>>16&255,i[r++]=e>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},function(e,t,n){"use strict";const i=n(2),r=n(223).Reporter,o=n(14).Buffer;function a(e,t){r.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return s.isEncoderBuffer(e)||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(a,r),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){if(e instanceof a)return!0;return"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(e){const t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=s,s.isEncoderBuffer=function(e){if(e instanceof s)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},s.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,n){(function(e){var i=n(614),r=n(371),o=n(616),a=n(617),s=n(39),c=t;c.request=function(t,n){t="string"==typeof t?s.parse(t):o(t);var r=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||r,c=t.hostname||t.host,u=t.port,l=t.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),t.url=(c?a+"//"+c:"")+(u?":"+u:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var p=new i(t);return n&&p.on("response",n),p},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=i,c.IncomingMessage=r.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(17))},function(e,t,n){e.exports=d;var i=n(12),r=n(14).Buffer,o=n(30),a=n(20),s=n(41),c=n(25),u=n(26),l=n(134),p=n(27),h=s.FingerprintFormatError,f=s.InvalidAlgorithmError;function d(e){if(i.object(e,"options"),i.string(e.type,"options.type"),i.buffer(e.hash,"options.hash"),i.string(e.algorithm,"options.algorithm"),this.algorithm=e.algorithm.toLowerCase(),!0!==o.hashAlgs[this.algorithm])throw new f(this.algorithm);this.hash=e.hash,this.type=e.type,this.hashType=e.hashType}d.prototype.toString=function(e){switch(void 0===e&&(e="md5"===this.algorithm||"spki"===this.hashType?"hex":"base64"),i.string(e),e){case"hex":return"spki"===this.hashType?this.hash.toString("hex"):this.hash.toString("hex").replace(/(.{2})(?=.)/g,"$1:");case"base64":return"spki"===this.hashType?this.hash.toString("base64"):(t=this.algorithm,n=this.hash.toString("base64"),t.toUpperCase()+":"+function(e){return e.replace(/=*$/,"")}(n));default:throw new h(void 0,e)}var t,n},d.prototype.matches=function(e){i.object(e,"key or certificate"),"key"===this.type&&"ssh"!==this.hashType?(p.assertCompatible(e,c,[1,7],"key with spki"),u.isPrivateKey(e)&&p.assertCompatible(e,u,[1,6],"privatekey with spki support")):"key"===this.type?p.assertCompatible(e,c,[1,0],"key"):p.assertCompatible(e,l,[1,0],"certificate");var t=e.hash(this.algorithm,this.hashType),n=a.createHash(this.algorithm).update(t).digest("base64");return void 0===this.hash2&&(this.hash2=a.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===n};var m=/^[A-Za-z0-9+\/=]+$/,g=/^[a-fA-F0-9]+$/;d.parse=function(e,t){var n,a,s;i.string(e,"fingerprint"),Array.isArray(t)&&(s=t,t={}),i.optionalObject(t,"options"),void 0===t&&(t={}),void 0!==t.enAlgs&&(s=t.enAlgs),void 0!==t.algorithms&&(s=t.algorithms),i.optionalArrayOfString(s,"algorithms");var c="ssh";void 0!==t.hashType&&(c=t.hashType),i.string(c,"options.hashType");var u=e.split(":");if(2==u.length){if(n=u[0].toLowerCase(),!m.test(u[1]))throw new h(e);try{a=r.from(u[1],"base64")}catch(t){throw new h(e)}}else if(u.length>2){if(n="md5","md5"===u[0].toLowerCase()&&(u=u.slice(1)),u=(u=u.map((function(t){for(;t.length<2;)t="0"+t;if(t.length>2)throw new h(e);return t}))).join(""),!g.test(u)||u.length%2!=0)throw new h(e);try{a=r.from(u,"hex")}catch(t){throw new h(e)}}else{if(g.test(e))a=r.from(e,"hex");else{if(!m.test(e))throw new h(e);a=r.from(e,"base64")}switch(a.length){case 32:n="sha256";break;case 16:n="md5";break;case 20:n="sha1";break;case 64:n="sha512";break;default:throw new h(e)}void 0===t.hashType&&(c="spki")}if(void 0===n)throw new h(e);if(void 0===o.hashAlgs[n])throw new f(n);if(void 0!==s&&-1===(s=s.map((function(e){return e.toLowerCase()}))).indexOf(n))throw new f(n);return new d({algorithm:n,hash:a,type:t.type||"key",hashType:c})},d.isFingerprint=function(e,t){return p.isCompatible(e,d,t)},d.prototype._sshpkApiVersion=[1,2],d._oldVersionDetect=function(e){return i.func(e.toString),i.func(e.matches),[1,0]}},function(e,t,n){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new n(null)}var r="undefined"!=typeof navigator;r&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,i,r,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,l=s*c+u*a;r=((c=a*c+((32767&l)<<15)+n[i]+(1073741823&r))>>>30)+(l>>>15)+s*u+(r>>>30),n[i++]=1073741823&c}return r},t=30):r&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,i,r,o){for(;--o>=0;){var a=t*this[e++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},t=26):(n.prototype.am=function(e,t,n,i,r,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,l=s*c+u*a;r=((c=a*c+((16383&l)<<14)+n[i]+r)>>28)+(l>>14)+s*u,n[i++]=268435455&c}return r},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var o,a,s=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)s[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)s[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)s[o++]=a;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function u(e,t){var n=s[e.charCodeAt(t)];return null==n?-1:n}function l(e){var t=i();return t.fromInt(e),t}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function h(e){this.m=e}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function d(e,t){return e&t}function m(e,t){return e|t}function g(e,t){return e^t}function v(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function b(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function _(e){return e}function x(e){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}h.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.convert=function(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=i();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;for(var r=e.length,o=!1,a=0;--r>=0;){var s=8==i?255&e[r]:u(e,r);s<0?"-"==e.charAt(r)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+i>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=i)>=this.DB&&(a-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>r|s,s=(this[n]&o)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<r,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var i=this.abs(),r=e.abs(),o=i.t;for(t.t=o+r.t;--o>=0;)t[o]=0;for(o=0;o<r.t;++o)t[o+i.t]=i.am(0,r[o],t,o,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=i());var s=i(),c=this.s,u=e.s,l=this.DB-p(o[o.t-1]);l>0?(o.lShiftTo(l,s),a.lShiftTo(l,r)):(o.copyTo(s),a.copyTo(r));var h=s.t,f=s[h-1];if(0!=f){var d=f*(1<<this.F1)+(h>1?s[h-2]>>this.F2:0),m=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,y=r.t,b=y-h,w=null==t?i():t;for(s.dlShiftTo(b,w),r.compareTo(w)>=0&&(r[r.t++]=1,r.subTo(w,r)),n.ONE.dlShiftTo(h,w),w.subTo(s,s);s.t<h;)s[s.t++]=0;for(;--b>=0;){var _=r[--y]==f?this.DM:Math.floor(r[y]*m+(r[y-1]+v)*g);if((r[y]+=s.am(0,_,r,b,0,h))<_)for(s.dlShiftTo(b,w),r.subTo(w,r);r[y]<--_;)r.subTo(w,r)}null!=t&&(r.drShiftTo(h,t),c!=u&&n.ZERO.subTo(t,t)),r.t=h,r.clamp(),l>0&&r.rShiftTo(l,r),c<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=i(),o=i(),a=t.convert(this),s=p(e)-1;for(a.copyTo(r);--s>=0;)if(t.sqrTo(r,o),(e&1<<s)>0)t.mulTo(o,a,r);else{var c=r;r=o,o=c}return t.revert(r)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(r=!0,o=c(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),n>0&&(r=!0),r&&(o+=c(n));return r?o:"0"},n.prototype.negate=function(){var e=i();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new h(t):new f(t),this.exp(e,n)},n.ZERO=l(0),n.ONE=l(1),w.prototype.convert=_,w.prototype.revert=_,w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},x.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t},x.prototype.revert=function(e){return e},x.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},x.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},x.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var k,E,S,j=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],M=(1<<26)/j[j.length-1];function A(){var e;e=(new Date).getTime(),E[S++]^=255&e,E[S++]^=e>>8&255,E[S++]^=e>>16&255,E[S++]^=e>>24&255,S>=I&&(S-=I)}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=l(n),o=i(),a=i(),s="";for(this.divRemTo(r,o,a);o.signum()>0;)s=(n+a.intValue()).toString(e).substr(1)+s,o.divRemTo(r,o,a);return a.intValue().toString(e)+s},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),r=Math.pow(t,i),o=!1,a=0,s=0,c=0;c<e.length;++c){var l=u(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(o=!0):(s=t*s+l,++a>=i&&(this.dMultiply(r),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var r=new Array,o=7&e;r.length=1+(e>>3),t.nextBytes(r),o>0?r[0]&=(1<<o)-1:r[0]=0,this.fromString(r,256)}},n.prototype.bitwiseTo=function(e,t,n){var i,r,o=Math.min(e.t,this.t);for(i=0;i<o;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=o;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var i=n.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i},n.prototype.addTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var i,r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var o=t.shiftRight(r);(e=e+1>>1)>j.length&&(e=j.length);for(var a=i(),s=0;s<e;++s){a.fromInt(j[Math.floor(Math.random()*j.length)]);var c=a.modPow(o,this);if(0!=c.compareTo(n.ONE)&&0!=c.compareTo(t)){for(var u=1;u++<r&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=i();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,r=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=i();return this.bitwiseTo(e,d,t),t},n.prototype.or=function(e){var t=i();return this.bitwiseTo(e,m,t),t},n.prototype.xor=function(e){var t=i();return this.bitwiseTo(e,g,t),t},n.prototype.andNot=function(e){var t=i();return this.bitwiseTo(e,v,t),t},n.prototype.not=function(){for(var e=i(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=i();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=i();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=b(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,m)},n.prototype.clearBit=function(e){return this.changeBit(e,v)},n.prototype.flipBit=function(e){return this.changeBit(e,g)},n.prototype.add=function(e){var t=i();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=i();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=i();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=i();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=i();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=i(),n=i();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,r,o=e.bitLength(),a=l(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,r=o<8?new h(t):t.isEven()?new x(t):new f(t);var s=new Array,c=3,u=n-1,d=(1<<n)-1;if(s[1]=r.convert(this),n>1){var m=i();for(r.sqrTo(s[1],m);c<=d;)s[c]=i(),r.mulTo(m,s[c-2],s[c]),c+=2}var g,v,y=e.t-1,b=!0,w=i();for(o=p(e[y])-1;y>=0;){for(o>=u?g=e[y]>>o-u&d:(g=(e[y]&(1<<o+1)-1)<<u-o,y>0&&(g|=e[y-1]>>this.DB+o-u)),c=n;0==(1&g);)g>>=1,--c;if((o-=c)<0&&(o+=this.DB,--y),b)s[g].copyTo(a),b=!1;else{for(;c>1;)r.sqrTo(a,w),r.sqrTo(w,a),c-=2;c>0?r.sqrTo(a,w):(v=a,a=w,w=v),r.mulTo(w,s[g],a)}for(;y>=0&&0==(e[y]&1<<o);)r.sqrTo(a,w),v=a,a=w,w=v,--o<0&&(o=this.DB-1,--y)}return r.revert(a)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var i=e.clone(),r=this.clone(),o=l(1),a=l(0),s=l(0),c=l(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&c.isEven()||(s.addTo(this,s),c.subTo(e,c)),s.rShiftTo(1,s)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);i.compareTo(r)>=0?(i.subTo(r,i),t&&o.subTo(s,o),a.subTo(c,a)):(r.subTo(i,r),t&&s.subTo(o,s),c.subTo(a,c))}return 0!=r.compareTo(n.ONE)?n.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},n.prototype.pow=function(e){return this.exp(e,new w)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var r=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(r<o&&(o=r),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=j[j.length-1]){for(t=0;t<j.length;++t)if(n[0]==j[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<j.length;){for(var i=j[t],r=t+1;r<j.length&&i<M;)i*=j[r++];for(i=n.modInt(i);t<r;)if(i%j[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=i();return this.squareTo(e),e},n.prototype.Barrett=x,null==E){var C;if(E=new Array,S=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var T=new Uint8Array(32);for(window.crypto.getRandomValues(T),C=0;C<32;++C)E[S++]=T[C]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var P=window.crypto.random(32);for(C=0;C<P.length;++C)E[S++]=255&P.charCodeAt(C)}for(;S<I;)C=Math.floor(65536*Math.random()),E[S++]=C>>>8,E[S++]=255&C;S=0,A()}function R(){if(null==k){for(A(),(k=new O).init(E),S=0;S<E.length;++S)E[S]=0;S=0}return k.next()}function B(){}function O(){this.i=0,this.j=0,this.S=new Array}B.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=R()},O.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0},O.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var I=256;n.SecureRandom=B,n.BigInteger=n,e.exports=n}).call(this)},function(e,t,n){!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},i=function(){throw new Error("no PRNG")},r=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),s=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,n,i){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function m(e,t,n,i,r){var o,a=0;for(o=0;o<r;o++)a|=e[t+o]^n[i+o];return(1&a-1>>>8)-1}function g(e,t,n,i){return m(e,t,n,i,16)}function v(e,t,n,i){return m(e,t,n,i,32)}function y(e,t,n,i){!function(e,t,n,i){for(var r,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,p=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=o,x=a,k=s,E=c,S=u,j=l,M=p,A=h,C=f,T=d,P=m,R=g,B=v,O=y,I=b,D=w,F=0;F<20;F+=2)_^=(r=(B^=(r=(C^=(r=(S^=(r=_+B|0)<<7|r>>>25)+_|0)<<9|r>>>23)+S|0)<<13|r>>>19)+C|0)<<18|r>>>14,j^=(r=(x^=(r=(O^=(r=(T^=(r=j+x|0)<<7|r>>>25)+j|0)<<9|r>>>23)+T|0)<<13|r>>>19)+O|0)<<18|r>>>14,P^=(r=(M^=(r=(k^=(r=(I^=(r=P+M|0)<<7|r>>>25)+P|0)<<9|r>>>23)+I|0)<<13|r>>>19)+k|0)<<18|r>>>14,D^=(r=(R^=(r=(A^=(r=(E^=(r=D+R|0)<<7|r>>>25)+D|0)<<9|r>>>23)+E|0)<<13|r>>>19)+A|0)<<18|r>>>14,_^=(r=(E^=(r=(k^=(r=(x^=(r=_+E|0)<<7|r>>>25)+_|0)<<9|r>>>23)+x|0)<<13|r>>>19)+k|0)<<18|r>>>14,j^=(r=(S^=(r=(A^=(r=(M^=(r=j+S|0)<<7|r>>>25)+j|0)<<9|r>>>23)+M|0)<<13|r>>>19)+A|0)<<18|r>>>14,P^=(r=(T^=(r=(C^=(r=(R^=(r=P+T|0)<<7|r>>>25)+P|0)<<9|r>>>23)+R|0)<<13|r>>>19)+C|0)<<18|r>>>14,D^=(r=(I^=(r=(O^=(r=(B^=(r=D+I|0)<<7|r>>>25)+D|0)<<9|r>>>23)+B|0)<<13|r>>>19)+O|0)<<18|r>>>14;_=_+o|0,x=x+a|0,k=k+s|0,E=E+c|0,S=S+u|0,j=j+l|0,M=M+p|0,A=A+h|0,C=C+f|0,T=T+d|0,P=P+m|0,R=R+g|0,B=B+v|0,O=O+y|0,I=I+b|0,D=D+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=j>>>0&255,e[21]=j>>>8&255,e[22]=j>>>16&255,e[23]=j>>>24&255,e[24]=M>>>0&255,e[25]=M>>>8&255,e[26]=M>>>16&255,e[27]=M>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=T>>>0&255,e[37]=T>>>8&255,e[38]=T>>>16&255,e[39]=T>>>24&255,e[40]=P>>>0&255,e[41]=P>>>8&255,e[42]=P>>>16&255,e[43]=P>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=I>>>0&255,e[57]=I>>>8&255,e[58]=I>>>16&255,e[59]=I>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,n,i)}function b(e,t,n,i){!function(e,t,n,i){for(var r,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,p=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,d=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,_=0;_<20;_+=2)o^=(r=(v^=(r=(f^=(r=(u^=(r=o+v|0)<<7|r>>>25)+o|0)<<9|r>>>23)+u|0)<<13|r>>>19)+f|0)<<18|r>>>14,l^=(r=(a^=(r=(y^=(r=(d^=(r=l+a|0)<<7|r>>>25)+l|0)<<9|r>>>23)+d|0)<<13|r>>>19)+y|0)<<18|r>>>14,m^=(r=(p^=(r=(s^=(r=(b^=(r=m+p|0)<<7|r>>>25)+m|0)<<9|r>>>23)+b|0)<<13|r>>>19)+s|0)<<18|r>>>14,w^=(r=(g^=(r=(h^=(r=(c^=(r=w+g|0)<<7|r>>>25)+w|0)<<9|r>>>23)+c|0)<<13|r>>>19)+h|0)<<18|r>>>14,o^=(r=(c^=(r=(s^=(r=(a^=(r=o+c|0)<<7|r>>>25)+o|0)<<9|r>>>23)+a|0)<<13|r>>>19)+s|0)<<18|r>>>14,l^=(r=(u^=(r=(h^=(r=(p^=(r=l+u|0)<<7|r>>>25)+l|0)<<9|r>>>23)+p|0)<<13|r>>>19)+h|0)<<18|r>>>14,m^=(r=(d^=(r=(f^=(r=(g^=(r=m+d|0)<<7|r>>>25)+m|0)<<9|r>>>23)+g|0)<<13|r>>>19)+f|0)<<18|r>>>14,w^=(r=(b^=(r=(y^=(r=(v^=(r=w+b|0)<<7|r>>>25)+w|0)<<9|r>>>23)+v|0)<<13|r>>>19)+y|0)<<18|r>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=p>>>0&255,e[17]=p>>>8&255,e[18]=p>>>16&255,e[19]=p>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,t,n,i)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(e,t,n,i,r,o,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;r>=64;){for(y(l,u,a,w),c=0;c<64;c++)e[t+c]=n[i+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;r-=64,t+=64,i+=64}if(r>0)for(y(l,u,a,w),c=0;c<r;c++)e[t+c]=n[i+c]^l[c];return 0}function x(e,t,n,i,r){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=i[a];for(;n>=64;){for(y(c,s,r,w),a=0;a<64;a++)e[t+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(y(c,s,r,w),a=0;a<n;a++)e[t+a]=c[a];return 0}function k(e,t,n,i,r){var o=new Uint8Array(32);b(o,i,r,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=i[s+16];return x(e,t,n,a,o)}function E(e,t,n,i,r,o,a){var s=new Uint8Array(32);b(s,o,a,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return _(e,t,n,i,r,c,s)}var S=function(e){var t,n,i,r,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),i=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|i<<6),r=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(i>>>7|r<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(r>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function j(e,t,n,i,r,o){var a=new S(o);return a.update(n,i,r),a.finish(e,t),0}function M(e,t,n,i,r,o){var a=new Uint8Array(16);return j(a,0,n,i,r,o),g(e,t,a,0)}function A(e,t,n,i,r){var o;if(n<32)return-1;for(E(e,0,t,0,n,i,r),j(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function C(e,t,n,i,r){var o,a=new Uint8Array(32);if(n<32)return-1;if(k(a,0,32,i,r),0!==M(t,16,t,32,n-32,a))return-1;for(E(e,0,t,0,n,i,r),o=0;o<32;o++)e[o]=0;return 0}function T(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function P(e){var t,n,i=1;for(t=0;t<16;t++)n=e[t]+i+65535,i=Math.floor(n/65536),e[t]=n-65536*i;e[0]+=i-1+37*(i-1)}function R(e,t,n){for(var i,r=~(n-1),o=0;o<16;o++)i=r&(e[o]^t[o]),e[o]^=i,t[o]^=i}function B(e,n){var i,r,o,a=t(),s=t();for(i=0;i<16;i++)s[i]=n[i];for(P(s),P(s),P(s),r=0;r<2;r++){for(a[0]=s[0]-65517,i=1;i<15;i++)a[i]=s[i]-65535-(a[i-1]>>16&1),a[i-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,R(s,a,1-o)}for(i=0;i<16;i++)e[2*i]=255&s[i],e[2*i+1]=s[i]>>8}function O(e,t){var n=new Uint8Array(32),i=new Uint8Array(32);return B(n,e),B(i,t),v(n,0,i,0)}function I(e){var t=new Uint8Array(32);return B(t,e),1&t[0]}function D(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function F(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]+n[i]}function z(e,t,n){for(var i=0;i<16;i++)e[i]=t[i]-n[i]}function N(e,t,n){var i,r,o=0,a=0,s=0,c=0,u=0,l=0,p=0,h=0,f=0,d=0,m=0,g=0,v=0,y=0,b=0,w=0,_=0,x=0,k=0,E=0,S=0,j=0,M=0,A=0,C=0,T=0,P=0,R=0,B=0,O=0,I=0,D=n[0],F=n[1],z=n[2],N=n[3],L=n[4],q=n[5],H=n[6],U=n[7],$=n[8],V=n[9],W=n[10],G=n[11],K=n[12],Z=n[13],Y=n[14],X=n[15];o+=(i=t[0])*D,a+=i*F,s+=i*z,c+=i*N,u+=i*L,l+=i*q,p+=i*H,h+=i*U,f+=i*$,d+=i*V,m+=i*W,g+=i*G,v+=i*K,y+=i*Z,b+=i*Y,w+=i*X,a+=(i=t[1])*D,s+=i*F,c+=i*z,u+=i*N,l+=i*L,p+=i*q,h+=i*H,f+=i*U,d+=i*$,m+=i*V,g+=i*W,v+=i*G,y+=i*K,b+=i*Z,w+=i*Y,_+=i*X,s+=(i=t[2])*D,c+=i*F,u+=i*z,l+=i*N,p+=i*L,h+=i*q,f+=i*H,d+=i*U,m+=i*$,g+=i*V,v+=i*W,y+=i*G,b+=i*K,w+=i*Z,_+=i*Y,x+=i*X,c+=(i=t[3])*D,u+=i*F,l+=i*z,p+=i*N,h+=i*L,f+=i*q,d+=i*H,m+=i*U,g+=i*$,v+=i*V,y+=i*W,b+=i*G,w+=i*K,_+=i*Z,x+=i*Y,k+=i*X,u+=(i=t[4])*D,l+=i*F,p+=i*z,h+=i*N,f+=i*L,d+=i*q,m+=i*H,g+=i*U,v+=i*$,y+=i*V,b+=i*W,w+=i*G,_+=i*K,x+=i*Z,k+=i*Y,E+=i*X,l+=(i=t[5])*D,p+=i*F,h+=i*z,f+=i*N,d+=i*L,m+=i*q,g+=i*H,v+=i*U,y+=i*$,b+=i*V,w+=i*W,_+=i*G,x+=i*K,k+=i*Z,E+=i*Y,S+=i*X,p+=(i=t[6])*D,h+=i*F,f+=i*z,d+=i*N,m+=i*L,g+=i*q,v+=i*H,y+=i*U,b+=i*$,w+=i*V,_+=i*W,x+=i*G,k+=i*K,E+=i*Z,S+=i*Y,j+=i*X,h+=(i=t[7])*D,f+=i*F,d+=i*z,m+=i*N,g+=i*L,v+=i*q,y+=i*H,b+=i*U,w+=i*$,_+=i*V,x+=i*W,k+=i*G,E+=i*K,S+=i*Z,j+=i*Y,M+=i*X,f+=(i=t[8])*D,d+=i*F,m+=i*z,g+=i*N,v+=i*L,y+=i*q,b+=i*H,w+=i*U,_+=i*$,x+=i*V,k+=i*W,E+=i*G,S+=i*K,j+=i*Z,M+=i*Y,A+=i*X,d+=(i=t[9])*D,m+=i*F,g+=i*z,v+=i*N,y+=i*L,b+=i*q,w+=i*H,_+=i*U,x+=i*$,k+=i*V,E+=i*W,S+=i*G,j+=i*K,M+=i*Z,A+=i*Y,C+=i*X,m+=(i=t[10])*D,g+=i*F,v+=i*z,y+=i*N,b+=i*L,w+=i*q,_+=i*H,x+=i*U,k+=i*$,E+=i*V,S+=i*W,j+=i*G,M+=i*K,A+=i*Z,C+=i*Y,T+=i*X,g+=(i=t[11])*D,v+=i*F,y+=i*z,b+=i*N,w+=i*L,_+=i*q,x+=i*H,k+=i*U,E+=i*$,S+=i*V,j+=i*W,M+=i*G,A+=i*K,C+=i*Z,T+=i*Y,P+=i*X,v+=(i=t[12])*D,y+=i*F,b+=i*z,w+=i*N,_+=i*L,x+=i*q,k+=i*H,E+=i*U,S+=i*$,j+=i*V,M+=i*W,A+=i*G,C+=i*K,T+=i*Z,P+=i*Y,R+=i*X,y+=(i=t[13])*D,b+=i*F,w+=i*z,_+=i*N,x+=i*L,k+=i*q,E+=i*H,S+=i*U,j+=i*$,M+=i*V,A+=i*W,C+=i*G,T+=i*K,P+=i*Z,R+=i*Y,B+=i*X,b+=(i=t[14])*D,w+=i*F,_+=i*z,x+=i*N,k+=i*L,E+=i*q,S+=i*H,j+=i*U,M+=i*$,A+=i*V,C+=i*W,T+=i*G,P+=i*K,R+=i*Z,B+=i*Y,O+=i*X,w+=(i=t[15])*D,a+=38*(x+=i*z),s+=38*(k+=i*N),c+=38*(E+=i*L),u+=38*(S+=i*q),l+=38*(j+=i*H),p+=38*(M+=i*U),h+=38*(A+=i*$),f+=38*(C+=i*V),d+=38*(T+=i*W),m+=38*(P+=i*G),g+=38*(R+=i*K),v+=38*(B+=i*Z),y+=38*(O+=i*Y),b+=38*(I+=i*X),o=(i=(o+=38*(_+=i*F))+(r=1)+65535)-65536*(r=Math.floor(i/65536)),a=(i=a+r+65535)-65536*(r=Math.floor(i/65536)),s=(i=s+r+65535)-65536*(r=Math.floor(i/65536)),c=(i=c+r+65535)-65536*(r=Math.floor(i/65536)),u=(i=u+r+65535)-65536*(r=Math.floor(i/65536)),l=(i=l+r+65535)-65536*(r=Math.floor(i/65536)),p=(i=p+r+65535)-65536*(r=Math.floor(i/65536)),h=(i=h+r+65535)-65536*(r=Math.floor(i/65536)),f=(i=f+r+65535)-65536*(r=Math.floor(i/65536)),d=(i=d+r+65535)-65536*(r=Math.floor(i/65536)),m=(i=m+r+65535)-65536*(r=Math.floor(i/65536)),g=(i=g+r+65535)-65536*(r=Math.floor(i/65536)),v=(i=v+r+65535)-65536*(r=Math.floor(i/65536)),y=(i=y+r+65535)-65536*(r=Math.floor(i/65536)),b=(i=b+r+65535)-65536*(r=Math.floor(i/65536)),w=(i=w+r+65535)-65536*(r=Math.floor(i/65536)),o=(i=(o+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(i/65536)),a=(i=a+r+65535)-65536*(r=Math.floor(i/65536)),s=(i=s+r+65535)-65536*(r=Math.floor(i/65536)),c=(i=c+r+65535)-65536*(r=Math.floor(i/65536)),u=(i=u+r+65535)-65536*(r=Math.floor(i/65536)),l=(i=l+r+65535)-65536*(r=Math.floor(i/65536)),p=(i=p+r+65535)-65536*(r=Math.floor(i/65536)),h=(i=h+r+65535)-65536*(r=Math.floor(i/65536)),f=(i=f+r+65535)-65536*(r=Math.floor(i/65536)),d=(i=d+r+65535)-65536*(r=Math.floor(i/65536)),m=(i=m+r+65535)-65536*(r=Math.floor(i/65536)),g=(i=g+r+65535)-65536*(r=Math.floor(i/65536)),v=(i=v+r+65535)-65536*(r=Math.floor(i/65536)),y=(i=y+r+65535)-65536*(r=Math.floor(i/65536)),b=(i=b+r+65535)-65536*(r=Math.floor(i/65536)),w=(i=w+r+65535)-65536*(r=Math.floor(i/65536)),o+=r-1+37*(r-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=p,e[7]=h,e[8]=f,e[9]=d,e[10]=m,e[11]=g,e[12]=v,e[13]=y,e[14]=b,e[15]=w}function L(e,t){N(e,t,t)}function q(e,n){var i,r=t();for(i=0;i<16;i++)r[i]=n[i];for(i=253;i>=0;i--)L(r,r),2!==i&&4!==i&&N(r,r,n);for(i=0;i<16;i++)e[i]=r[i]}function H(e,n,i){var r,o,a=new Uint8Array(32),s=new Float64Array(80),u=t(),l=t(),p=t(),h=t(),f=t(),d=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,D(s,i),o=0;o<16;o++)l[o]=s[o],h[o]=u[o]=p[o]=0;for(u[0]=h[0]=1,o=254;o>=0;--o)R(u,l,r=a[o>>>3]>>>(7&o)&1),R(p,h,r),F(f,u,p),z(u,u,p),F(p,l,h),z(l,l,h),L(h,f),L(d,u),N(u,p,u),N(p,l,f),F(f,u,p),z(u,u,p),L(l,u),z(p,h,d),N(u,p,c),F(u,u,h),N(p,p,u),N(u,h,d),N(h,l,s),L(l,f),R(u,l,r),R(p,h,r);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=p[o],s[o+48]=l[o],s[o+64]=h[o];var m=s.subarray(32),g=s.subarray(16);return q(m,m),N(g,g,m),B(e,g),0}function U(e,t){return H(e,t,o)}function $(e,t){return i(t,32),U(e,t)}function V(e,t,n){var i=new Uint8Array(32);return H(i,n,t),b(e,r,i,w)}S.prototype.blocks=function(e,t,n){for(var i,r,o,a,s,c,u,l,p,h,f,d,m,g,v,y,b,w,_,x=this.fin?0:2048,k=this.h[0],E=this.h[1],S=this.h[2],j=this.h[3],M=this.h[4],A=this.h[5],C=this.h[6],T=this.h[7],P=this.h[8],R=this.h[9],B=this.r[0],O=this.r[1],I=this.r[2],D=this.r[3],F=this.r[4],z=this.r[5],N=this.r[6],L=this.r[7],q=this.r[8],H=this.r[9];n>=16;)h=p=0,h+=(k+=8191&(i=255&e[t+0]|(255&e[t+1])<<8))*B,h+=(E+=8191&(i>>>13|(r=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),h+=(S+=8191&(r>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*q),h+=(j+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*L),p=(h+=(M+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*N))>>>13,h&=8191,h+=(A+=s>>>1&8191)*(5*z),h+=(C+=8191&(s>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*F),h+=(T+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),h+=(P+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*I),f=p+=(h+=(R+=l>>>5|x)*(5*O))>>>13,f+=k*O,f+=E*B,f+=S*(5*H),f+=j*(5*q),p=(f+=M*(5*L))>>>13,f&=8191,f+=A*(5*N),f+=C*(5*z),f+=T*(5*F),f+=P*(5*D),p+=(f+=R*(5*I))>>>13,f&=8191,d=p,d+=k*I,d+=E*O,d+=S*B,d+=j*(5*H),p=(d+=M*(5*q))>>>13,d&=8191,d+=A*(5*L),d+=C*(5*N),d+=T*(5*z),d+=P*(5*F),m=p+=(d+=R*(5*D))>>>13,m+=k*D,m+=E*I,m+=S*O,m+=j*B,p=(m+=M*(5*H))>>>13,m&=8191,m+=A*(5*q),m+=C*(5*L),m+=T*(5*N),m+=P*(5*z),g=p+=(m+=R*(5*F))>>>13,g+=k*F,g+=E*D,g+=S*I,g+=j*O,p=(g+=M*B)>>>13,g&=8191,g+=A*(5*H),g+=C*(5*q),g+=T*(5*L),g+=P*(5*N),v=p+=(g+=R*(5*z))>>>13,v+=k*z,v+=E*F,v+=S*D,v+=j*I,p=(v+=M*O)>>>13,v&=8191,v+=A*B,v+=C*(5*H),v+=T*(5*q),v+=P*(5*L),y=p+=(v+=R*(5*N))>>>13,y+=k*N,y+=E*z,y+=S*F,y+=j*D,p=(y+=M*I)>>>13,y&=8191,y+=A*O,y+=C*B,y+=T*(5*H),y+=P*(5*q),b=p+=(y+=R*(5*L))>>>13,b+=k*L,b+=E*N,b+=S*z,b+=j*F,p=(b+=M*D)>>>13,b&=8191,b+=A*I,b+=C*O,b+=T*B,b+=P*(5*H),w=p+=(b+=R*(5*q))>>>13,w+=k*q,w+=E*L,w+=S*N,w+=j*z,p=(w+=M*F)>>>13,w&=8191,w+=A*D,w+=C*I,w+=T*O,w+=P*B,_=p+=(w+=R*(5*H))>>>13,_+=k*H,_+=E*q,_+=S*L,_+=j*N,p=(_+=M*z)>>>13,_&=8191,_+=A*F,_+=C*D,_+=T*I,_+=P*O,k=h=8191&(p=(p=((p+=(_+=R*B)>>>13)<<2)+p|0)+(h&=8191)|0),E=f+=p>>>=13,S=d&=8191,j=m&=8191,M=g&=8191,A=v&=8191,C=y&=8191,T=b&=8191,P=w&=8191,R=_&=8191,t+=16,n-=16;this.h[0]=k,this.h[1]=E,this.h[2]=S,this.h[3]=j,this.h[4]=M,this.h[5]=A,this.h[6]=C,this.h[7]=T,this.h[8]=P,this.h[9]=R},S.prototype.finish=function(e,t){var n,i,r,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,i=(1^n)-1,o=0;o<10;o++)a[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,o=1;o<8;o++)r=(this.h[o]+this.pad[o]|0)+(r>>>16)|0,this.h[o]=65535&r;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},S.prototype.update=function(e,t,n){var i,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];if(n-=r,t+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(e,t,r),t+=r,n-=r),n){for(i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=n}};var W=A,G=C;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,i){for(var r,o,a,s,c,u,l,p,h,f,d,m,g,v,y,b,w,_,x,k,E,S,j,M,A,C,T=new Int32Array(16),P=new Int32Array(16),R=e[0],B=e[1],O=e[2],I=e[3],D=e[4],F=e[5],z=e[6],N=e[7],L=t[0],q=t[1],H=t[2],U=t[3],$=t[4],V=t[5],W=t[6],G=t[7],Z=0;i>=128;){for(x=0;x<16;x++)k=8*x+Z,T[x]=n[k+0]<<24|n[k+1]<<16|n[k+2]<<8|n[k+3],P[x]=n[k+4]<<24|n[k+5]<<16|n[k+6]<<8|n[k+7];for(x=0;x<80;x++)if(r=R,o=B,a=O,s=I,c=D,u=F,l=z,N,h=L,f=q,d=H,m=U,g=$,v=V,y=W,G,j=65535&(S=G),M=S>>>16,A=65535&(E=N),C=E>>>16,j+=65535&(S=($>>>14|D<<18)^($>>>18|D<<14)^(D>>>9|$<<23)),M+=S>>>16,A+=65535&(E=(D>>>14|$<<18)^(D>>>18|$<<14)^($>>>9|D<<23)),C+=E>>>16,j+=65535&(S=$&V^~$&W),M+=S>>>16,A+=65535&(E=D&F^~D&z),C+=E>>>16,j+=65535&(S=K[2*x+1]),M+=S>>>16,A+=65535&(E=K[2*x]),C+=E>>>16,E=T[x%16],M+=(S=P[x%16])>>>16,A+=65535&E,C+=E>>>16,A+=(M+=(j+=65535&S)>>>16)>>>16,j=65535&(S=_=65535&j|M<<16),M=S>>>16,A=65535&(E=w=65535&A|(C+=A>>>16)<<16),C=E>>>16,j+=65535&(S=(L>>>28|R<<4)^(R>>>2|L<<30)^(R>>>7|L<<25)),M+=S>>>16,A+=65535&(E=(R>>>28|L<<4)^(L>>>2|R<<30)^(L>>>7|R<<25)),C+=E>>>16,M+=(S=L&q^L&H^q&H)>>>16,A+=65535&(E=R&B^R&O^B&O),C+=E>>>16,p=65535&(A+=(M+=(j+=65535&S)>>>16)>>>16)|(C+=A>>>16)<<16,b=65535&j|M<<16,j=65535&(S=m),M=S>>>16,A=65535&(E=s),C=E>>>16,M+=(S=_)>>>16,A+=65535&(E=w),C+=E>>>16,B=r,O=o,I=a,D=s=65535&(A+=(M+=(j+=65535&S)>>>16)>>>16)|(C+=A>>>16)<<16,F=c,z=u,N=l,R=p,q=h,H=f,U=d,$=m=65535&j|M<<16,V=g,W=v,G=y,L=b,x%16==15)for(k=0;k<16;k++)E=T[k],j=65535&(S=P[k]),M=S>>>16,A=65535&E,C=E>>>16,E=T[(k+9)%16],j+=65535&(S=P[(k+9)%16]),M+=S>>>16,A+=65535&E,C+=E>>>16,w=T[(k+1)%16],j+=65535&(S=((_=P[(k+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),M+=S>>>16,A+=65535&(E=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),C+=E>>>16,w=T[(k+14)%16],M+=(S=((_=P[(k+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,A+=65535&(E=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,T[k]=65535&A|C<<16,P[k]=65535&j|M<<16;j=65535&(S=L),M=S>>>16,A=65535&(E=R),C=E>>>16,E=e[0],M+=(S=t[0])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[0]=R=65535&A|C<<16,t[0]=L=65535&j|M<<16,j=65535&(S=q),M=S>>>16,A=65535&(E=B),C=E>>>16,E=e[1],M+=(S=t[1])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[1]=B=65535&A|C<<16,t[1]=q=65535&j|M<<16,j=65535&(S=H),M=S>>>16,A=65535&(E=O),C=E>>>16,E=e[2],M+=(S=t[2])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[2]=O=65535&A|C<<16,t[2]=H=65535&j|M<<16,j=65535&(S=U),M=S>>>16,A=65535&(E=I),C=E>>>16,E=e[3],M+=(S=t[3])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[3]=I=65535&A|C<<16,t[3]=U=65535&j|M<<16,j=65535&(S=$),M=S>>>16,A=65535&(E=D),C=E>>>16,E=e[4],M+=(S=t[4])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[4]=D=65535&A|C<<16,t[4]=$=65535&j|M<<16,j=65535&(S=V),M=S>>>16,A=65535&(E=F),C=E>>>16,E=e[5],M+=(S=t[5])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[5]=F=65535&A|C<<16,t[5]=V=65535&j|M<<16,j=65535&(S=W),M=S>>>16,A=65535&(E=z),C=E>>>16,E=e[6],M+=(S=t[6])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[6]=z=65535&A|C<<16,t[6]=W=65535&j|M<<16,j=65535&(S=G),M=S>>>16,A=65535&(E=N),C=E>>>16,E=e[7],M+=(S=t[7])>>>16,A+=65535&E,C+=E>>>16,C+=(A+=(M+=(j+=65535&S)>>>16)>>>16)>>>16,e[7]=N=65535&A|C<<16,t[7]=G=65535&j|M<<16,Z+=128,i-=128}return i}function Y(e,t,n){var i,r=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(r,o,t,n),n%=128,i=0;i<n;i++)a[i]=t[s-n+i];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,d(a,n-8,s/536870912|0,s<<3),Z(r,o,a,n),i=0;i<8;i++)d(e,8*i,r[i],o[i]);return 0}function X(e,n){var i=t(),r=t(),o=t(),a=t(),s=t(),c=t(),u=t(),p=t(),h=t();z(i,e[1],e[0]),z(h,n[1],n[0]),N(i,i,h),F(r,e[0],e[1]),F(h,n[0],n[1]),N(r,r,h),N(o,e[3],n[3]),N(o,o,l),N(a,e[2],n[2]),F(a,a,a),z(s,r,i),z(c,a,o),F(u,a,o),F(p,r,i),N(e[0],s,c),N(e[1],p,u),N(e[2],u,c),N(e[3],s,p)}function J(e,t,n){var i;for(i=0;i<4;i++)R(e[i],t[i],n)}function Q(e,n){var i=t(),r=t(),o=t();q(o,n[2]),N(i,n[0],o),N(r,n[1],o),B(e,r),e[31]^=I(i)<<7}function ee(e,t,n){var i,r;for(T(e[0],a),T(e[1],s),T(e[2],s),T(e[3],a),r=255;r>=0;--r)J(e,t,i=n[r/8|0]>>(7&r)&1),X(t,e),X(e,e),J(e,t,i)}function te(e,n){var i=[t(),t(),t(),t()];T(i[0],p),T(i[1],h),T(i[2],s),N(i[3],p,h),ee(e,i,n)}function ne(e,n,r){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(r||i(n,32),Y(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),Q(e,s),o=0;o<32;o++)n[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function re(e,t){var n,i,r,o;for(i=63;i>=32;--i){for(n=0,r=i-32,o=i-12;r<o;++r)t[r]+=n-16*t[i]*ie[r-(i-32)],n=t[r]+128>>8,t[r]-=256*n;t[r]+=n,t[i]=0}for(n=0,r=0;r<32;r++)t[r]+=n-(t[31]>>4)*ie[r],n=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=n*ie[r];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function oe(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;re(e,n)}function ae(e,n,i,r){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),p=[t(),t(),t(),t()];Y(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=i+64;for(o=0;o<i;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(Y(u,e.subarray(32),i+32),oe(u),te(p,u),Q(e,p),o=32;o<64;o++)e[o]=r[o];for(Y(c,e,i+64),oe(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=c[o]*s[a];return re(e.subarray(32),l),h}function se(e,n){var i=t(),r=t(),o=t(),c=t(),l=t(),p=t(),h=t();return T(e[2],s),D(e[1],n),L(o,e[1]),N(c,o,u),z(o,o,e[2]),F(c,e[2],c),L(l,c),L(p,l),N(h,p,l),N(i,h,o),N(i,i,c),function(e,n){var i,r=t();for(i=0;i<16;i++)r[i]=n[i];for(i=250;i>=0;i--)L(r,r),1!==i&&N(r,r,n);for(i=0;i<16;i++)e[i]=r[i]}(i,i),N(i,i,o),N(i,i,c),N(i,i,c),N(e[0],i,c),L(r,e[0]),N(r,r,c),O(r,o)&&N(e[0],e[0],f),L(r,e[0]),N(r,r,c),O(r,o)?-1:(I(e[0])===n[31]>>7&&z(e[0],a,e[0]),N(e[3],e[0],e[1]),0)}function ce(e,n,i,r){var o,a=new Uint8Array(32),s=new Uint8Array(64),c=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(-1,i<64)return-1;if(se(u,r))return-1;for(o=0;o<i;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=r[o];if(Y(s,e,i),oe(s),ee(c,u,s),te(u,n.subarray(32)),X(c,u),Q(a,c),i-=64,v(n,0,a,0)){for(o=0;o<i;o++)e[o]=0;return-1}for(o=0;o<i;o++)e[o]=n[o+64];return i}function ue(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function le(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:k,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:x,crypto_onetimeauth:j,crypto_onetimeauth_verify:M,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:A,crypto_secretbox_open:C,crypto_scalarmult:H,crypto_scalarmult_base:U,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:function(e,t,n,i,r,o){var a=new Uint8Array(32);return V(a,r,o),W(e,t,n,i,a)},crypto_box_open:function(e,t,n,i,r,o){var a=new Uint8Array(32);return V(a,r,o),G(e,t,n,i,a)},crypto_box_keypair:$,crypto_hash:Y,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,n){le(e,t,n),ue(n,t);for(var i=new Uint8Array(32+e.length),r=new Uint8Array(i.length),o=0;o<e.length;o++)i[o+32]=e[o];return A(r,i,i.length,t,n),r.subarray(16)},e.secretbox.open=function(e,t,n){le(e,t,n),ue(n,t);for(var i=new Uint8Array(16+e.length),r=new Uint8Array(i.length),o=0;o<e.length;o++)i[o+16]=e[o];return!(i.length<32)&&(0===C(r,i,i.length,t,n)&&r.subarray(32))},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(le(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return H(n,e,t),n},e.scalarMult.base=function(e){if(le(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return U(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,i,r){var o=e.box.before(i,r);return e.secretbox(t,n,o)},e.box.before=function(e,t){le(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return V(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,i,r){var o=e.box.before(i,r);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return $(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(le(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return U(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(le(e,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+e.length);return ae(n,e,e.length,t),n},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(le(e,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(e.length),i=ce(n,e,e.length,t);if(i<0)return null;for(var r=new Uint8Array(i),o=0;o<r.length;o++)r[o]=n[o];return r},e.sign.detached=function(t,n){for(var i=e.sign(t,n),r=new Uint8Array(64),o=0;o<r.length;o++)r[o]=i[o];return r},e.sign.detached.verify=function(e,t,n){if(le(e,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var i,r=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(i=0;i<64;i++)r[i]=t[i];for(i=0;i<e.length;i++)r[i+64]=e[i];return ce(o,r,r.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(le(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(le(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),i=0;i<32;i++)n[i]=e[i];return ne(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){le(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return le(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){i=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var i,r=new Uint8Array(n);for(i=0;i<n;i+=65536)t.getRandomValues(r.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)e[i]=r[i];pe(r)}))}else(t=n(637))&&t.randomBytes&&e.setPRNG((function(e,n){var i,r=t.randomBytes(n);for(i=0;i<n;i++)e[i]=r[i];pe(r)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){e.exports={read:function(e,t){return l.read(e,t,"pkcs8")},readPkcs8:function(e,t,n){n.peek()===r.Ber.Integer&&(i.strictEqual(t,"private","unexpected Integer at start of public key"),n.readString(r.Ber.Integer,!0));n.readSequence();var a=n.offset+n.length,l=n.readOID();switch(l){case"1.2.840.113549.1.1.1":return n._offset=a,"public"===t?function(e){e.readSequence(r.Ber.BitString),e.readByte(),e.readSequence();var t=p(e,"modulus"),n=p(e,"exponent"),i={type:"rsa",source:e.originalInput,parts:[{name:"e",data:n},{name:"n",data:t}]};return new c(i)}(n):function(e){e.readSequence(r.Ber.OctetString),e.readSequence();var t=p(e,"version");i.equal(t[0],0,"unknown RSA private key version");var n=p(e,"modulus"),o=p(e,"public exponent"),a=p(e,"private exponent"),s=p(e,"prime1"),c=p(e,"prime2"),l=p(e,"exponent1"),h=p(e,"exponent2"),f=p(e,"iqmp");return new u({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:o},{name:"d",data:a},{name:"iqmp",data:f},{name:"p",data:s},{name:"q",data:c},{name:"dmodp",data:l},{name:"dmodq",data:h}]})}(n);case"1.2.840.10040.4.1":return"public"===t?function(e){e.readSequence();var t=p(e,"p"),n=p(e,"q"),i=p(e,"g");e.readSequence(r.Ber.BitString),e.readByte();var o=p(e,"y");return new c({type:"dsa",parts:[{name:"p",data:t},{name:"q",data:n},{name:"g",data:i},{name:"y",data:o}]})}(n):function(e){e.readSequence();var t=p(e,"p"),n=p(e,"q"),i=p(e,"g");e.readSequence(r.Ber.OctetString);var o=p(e,"x"),a=s.calculateDSAPublic(i,t,o);return new u({type:"dsa",parts:[{name:"p",data:t},{name:"q",data:n},{name:"g",data:i},{name:"y",data:a},{name:"x",data:o}]})}(n);case"1.2.840.10045.2.1":return"public"===t?function(e){var t=h(e);i.string(t,"a known elliptic curve");var n=e.readString(r.Ber.BitString,!0);n=s.ecNormalize(n);var a={type:"ecdsa",parts:[{name:"curve",data:o.from(t)},{name:"Q",data:n}]};return new c(a)}(n):function(e){var t=h(e);i.string(t,"a known elliptic curve"),e.readSequence(r.Ber.OctetString),e.readSequence();var n=p(e,"version");i.equal(n[0],1,"unknown version of ECDSA key");var a,c=e.readString(r.Ber.OctetString,!0);160==e.peek()&&(e.readSequence(160),e._offset+=e.length);161==e.peek()&&(e.readSequence(161),a=e.readString(r.Ber.BitString,!0),a=s.ecNormalize(a));if(void 0===a){var l=s.publicFromPrivateECDSA(t,c);a=l.part.Q.data}var f={type:"ecdsa",parts:[{name:"curve",data:o.from(t)},{name:"Q",data:a},{name:"d",data:c}]};return new u(f)}(n);case"1.3.101.112":return"public"===t?function(e){0===e.peek()&&e.readByte();var t=s.readBitString(e),n={type:"ed25519",parts:[{name:"A",data:s.zeroPadToLength(t,32)}]};return new c(n)}(n):function(e){0===e.peek()&&e.readByte();e.readSequence(r.Ber.OctetString);var t,n=e.readString(r.Ber.OctetString,!0);n=s.zeroPadToLength(n,32),e.peek()===r.Ber.BitString?(t=s.readBitString(e),t=s.zeroPadToLength(t,32)):t=s.calculateED25519Public(n);var i={type:"ed25519",parts:[{name:"A",data:s.zeroPadToLength(t,32)},{name:"k",data:s.zeroPadToLength(n,32)}]};return new u(i)}(n);case"1.3.101.110":return"public"===t?function(e){var t=s.readBitString(e),n={type:"curve25519",parts:[{name:"A",data:s.zeroPadToLength(t,32)}]};return new c(n)}(n):function(e){0===e.peek()&&e.readByte();e.readSequence(r.Ber.OctetString);var t=e.readString(r.Ber.OctetString,!0);t=s.zeroPadToLength(t,32);var n=s.calculateX25519Public(t),i={type:"curve25519",parts:[{name:"A",data:s.zeroPadToLength(n,32)},{name:"k",data:s.zeroPadToLength(t,32)}]};return new u(i)}(n);default:throw new Error("Unknown key type OID "+l)}},write:function(e,t){return l.write(e,t,"pkcs8")},writePkcs8:f,pkcs8ToBuffer:function(e){var t=new r.BerWriter;return f(t,e),t.buffer},readECDSACurve:h,writeECDSACurve:d};var i=n(12),r=n(50),o=n(14).Buffer,a=n(30),s=n(27),c=n(25),u=n(26),l=n(61);function p(e,t){return i.strictEqual(e.peek(),r.Ber.Integer,t+" is not an Integer"),s.mpNormalize(e.readString(r.Ber.Integer,!0))}function h(e){var t,n,c,u,l;if(e.peek()===r.Ber.OID){var p=e.readOID();for(n=Object.keys(a.curves),c=0;c<n.length;++c)if(u=n[c],(l=a.curves[u]).pkcs8oid===p){t=u;break}}else{e.readSequence();var h=e.readString(r.Ber.Integer,!0);i.strictEqual(h[0],1,"ECDSA key not version 1");var f={};e.readSequence();var d=e.readOID();i.strictEqual(d,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var m=f.p=s.mpNormalize(e.readString(r.Ber.Integer,!0));f.size=8*m.length-s.countZeros(m),e.readSequence(),f.a=s.mpNormalize(e.readString(r.Ber.OctetString,!0)),f.b=s.mpNormalize(e.readString(r.Ber.OctetString,!0)),e.peek()===r.Ber.BitString&&(f.s=e.readString(r.Ber.BitString,!0)),f.G=e.readString(r.Ber.OctetString,!0),i.strictEqual(f.G[0],4,"uncompressed G is required"),f.n=s.mpNormalize(e.readString(r.Ber.Integer,!0)),f.h=s.mpNormalize(e.readString(r.Ber.Integer,!0)),i.strictEqual(f.h[0],1,"a cofactor=1 curve is required"),n=Object.keys(a.curves);var g=Object.keys(f);for(c=0;c<n.length;++c){u=n[c],l=a.curves[u];for(var v=!0,y=0;y<g.length;++y){var b=g[y];if(void 0!==l[b])if("object"==typeof l[b]&&void 0!==l[b].equals){if(!l[b].equals(f[b])){v=!1;break}}else if(o.isBuffer(l[b])){if(l[b].toString("binary")!==f[b].toString("binary")){v=!1;break}}else if(l[b]!==f[b]){v=!1;break}}if(v){t=u;break}}}return t}function f(e,t){if(e.startSequence(),u.isPrivateKey(t)){var n=o.from([0]);e.writeBuffer(n,r.Ber.Integer)}switch(e.startSequence(),t.type){case"rsa":e.writeOID("1.2.840.113549.1.1.1"),u.isPrivateKey(t)?function(e,t){t.writeNull(),t.endSequence(),t.startSequence(r.Ber.OctetString),t.startSequence();var n=o.from([0]);t.writeBuffer(n,r.Ber.Integer),t.writeBuffer(e.part.n.data,r.Ber.Integer),t.writeBuffer(e.part.e.data,r.Ber.Integer),t.writeBuffer(e.part.d.data,r.Ber.Integer),t.writeBuffer(e.part.p.data,r.Ber.Integer),t.writeBuffer(e.part.q.data,r.Ber.Integer),e.part.dmodp&&e.part.dmodq||s.addRSAMissing(e);t.writeBuffer(e.part.dmodp.data,r.Ber.Integer),t.writeBuffer(e.part.dmodq.data,r.Ber.Integer),t.writeBuffer(e.part.iqmp.data,r.Ber.Integer),t.endSequence(),t.endSequence()}(t,e):function(e,t){t.writeNull(),t.endSequence(),t.startSequence(r.Ber.BitString),t.writeByte(0),t.startSequence(),t.writeBuffer(e.part.n.data,r.Ber.Integer),t.writeBuffer(e.part.e.data,r.Ber.Integer),t.endSequence(),t.endSequence()}(t,e);break;case"dsa":e.writeOID("1.2.840.10040.4.1"),u.isPrivateKey(t)?function(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,r.Ber.Integer),t.writeBuffer(e.part.q.data,r.Ber.Integer),t.writeBuffer(e.part.g.data,r.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(r.Ber.OctetString),t.writeBuffer(e.part.x.data,r.Ber.Integer),t.endSequence()}(t,e):function(e,t){t.startSequence(),t.writeBuffer(e.part.p.data,r.Ber.Integer),t.writeBuffer(e.part.q.data,r.Ber.Integer),t.writeBuffer(e.part.g.data,r.Ber.Integer),t.endSequence(),t.endSequence(),t.startSequence(r.Ber.BitString),t.writeByte(0),t.writeBuffer(e.part.y.data,r.Ber.Integer),t.endSequence()}(t,e);break;case"ecdsa":e.writeOID("1.2.840.10045.2.1"),u.isPrivateKey(t)?function(e,t){d(e,t),t.endSequence(),t.startSequence(r.Ber.OctetString),t.startSequence();var n=o.from([1]);t.writeBuffer(n,r.Ber.Integer),t.writeBuffer(e.part.d.data,r.Ber.OctetString),t.startSequence(161);var i=s.ecNormalize(e.part.Q.data,!0);t.writeBuffer(i,r.Ber.BitString),t.endSequence(),t.endSequence(),t.endSequence()}(t,e):function(e,t){d(e,t),t.endSequence();var n=s.ecNormalize(e.part.Q.data,!0);t.writeBuffer(n,r.Ber.BitString)}(t,e);break;case"ed25519":if(e.writeOID("1.3.101.112"),u.isPrivateKey(t))throw new Error("Ed25519 private keys in pkcs8 format are not supported");!function(e,t){t.endSequence(),s.writeBitString(t,e.part.A.data)}(t,e);break;default:throw new Error("Unsupported key type: "+t.type)}e.endSequence()}function d(e,t){var n=a.curves[e.curve];if(n.pkcs8oid)t.writeOID(n.pkcs8oid);else{t.startSequence();var i=o.from([1]);t.writeBuffer(i,r.Ber.Integer),t.startSequence(),t.writeOID("1.2.840.10045.1.1"),t.writeBuffer(n.p,r.Ber.Integer),t.endSequence(),t.startSequence();var s=n.p;0===s[0]&&(s=s.slice(1)),t.writeBuffer(s,r.Ber.OctetString),t.writeBuffer(n.b,r.Ber.OctetString),t.writeBuffer(n.s,r.Ber.BitString),t.endSequence(),t.writeBuffer(n.G,r.Ber.OctetString),t.writeBuffer(n.n,r.Ber.Integer);var c=n.h;c||(c=o.from([1])),t.writeBuffer(c,r.Ber.Integer),t.endSequence()}}},function(e,t,n){e.exports=g;var i=n(12),r=n(14).Buffer,o=n(30),a=n(20),s=n(130),c=(n(49),n(41)),u=(n(18),n(27)),l=n(25),p=n(26),h=n(135),f={};f.openssh=n(640),f.x509=n(378),f.pem=n(641);var d=c.CertificateParseError,m=c.InvalidAlgorithmError;function g(e){i.object(e,"options"),i.arrayOfObject(e.subjects,"options.subjects"),u.assertCompatible(e.subjects[0],h,[1,0],"options.subjects"),u.assertCompatible(e.subjectKey,l,[1,0],"options.subjectKey"),u.assertCompatible(e.issuer,h,[1,0],"options.issuer"),void 0!==e.issuerKey&&u.assertCompatible(e.issuerKey,l,[1,0],"options.issuerKey"),i.object(e.signatures,"options.signatures"),i.buffer(e.serial,"options.serial"),i.date(e.validFrom,"options.validFrom"),i.date(e.validUntil,"optons.validUntil"),i.optionalArrayOfString(e.purposes,"options.purposes"),this._hashCache={},this.subjects=e.subjects,this.issuer=e.issuer,this.subjectKey=e.subjectKey,this.issuerKey=e.issuerKey,this.signatures=e.signatures,this.serial=e.serial,this.validFrom=e.validFrom,this.validUntil=e.validUntil,this.purposes=e.purposes}g.formats=f,g.prototype.toBuffer=function(e,t){return void 0===e&&(e="x509"),i.string(e,"format"),i.object(f[e],"formats[format]"),i.optionalObject(t,"options"),f[e].write(this,t)},g.prototype.toString=function(e,t){return void 0===e&&(e="pem"),this.toBuffer(e,t).toString()},g.prototype.fingerprint=function(e){void 0===e&&(e="sha256"),i.string(e,"algorithm");var t={type:"certificate",hash:this.hash(e),algorithm:e};return new s(t)},g.prototype.hash=function(e){if(i.string(e,"algorithm"),e=e.toLowerCase(),void 0===o.hashAlgs[e])throw new m(e);if(this._hashCache[e])return this._hashCache[e];var t=a.createHash(e).update(this.toBuffer("x509")).digest();return this._hashCache[e]=t,t},g.prototype.isExpired=function(e){return void 0===e&&(e=new Date),!(e.getTime()>=this.validFrom.getTime()&&e.getTime()<this.validUntil.getTime())},g.prototype.isSignedBy=function(e){return u.assertCompatible(e,g,[1,0],"issuer"),!!this.issuer.equals(e.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf("ca"))&&this.isSignedByKey(e.subjectKey))},g.prototype.getExtension=function(e){return i.string(e,"keyOrOid"),this.getExtensions().filter((function(t){return"x509"===t.format?t.oid===e:"openssh"===t.format&&t.name===e}))[0]},g.prototype.getExtensions=function(){var e=[],t=this.signatures.x509;t&&t.extras&&t.extras.exts&&t.extras.exts.forEach((function(t){t.format="x509",e.push(t)}));var n=this.signatures.openssh;return n&&n.exts&&n.exts.forEach((function(t){t.format="openssh",e.push(t)})),e},g.prototype.isSignedByKey=function(e){if(u.assertCompatible(e,l,[1,2],"issuerKey"),void 0!==this.issuerKey)return this.issuerKey.fingerprint("sha512").matches(e);var t=Object.keys(this.signatures)[0],n=f[t].verify(this,e);return n&&(this.issuerKey=e),n},g.prototype.signWith=function(e){u.assertCompatible(e,p,[1,2],"key");for(var t=Object.keys(f),n=!1,i=0;i<t.length;++i){if("pem"!==t[i])!0===f[t[i]].sign(this,e)&&(n=!0)}if(!n)throw new Error("Failed to sign the certificate for any available certificate formats")},g.createSelfSigned=function(e,t,n){var o;o=Array.isArray(e)?e:[e],i.arrayOfObject(o),o.forEach((function(e){u.assertCompatible(e,h,[1,0],"subject")})),u.assertCompatible(t,p,[1,2],"private key"),i.optionalObject(n,"options"),void 0===n&&(n={}),i.optionalObject(n.validFrom,"options.validFrom"),i.optionalObject(n.validUntil,"options.validUntil");var a=n.validFrom,s=n.validUntil;if(void 0===a&&(a=new Date),void 0===s){i.optionalNumber(n.lifetime,"options.lifetime");var c=n.lifetime;void 0===c&&(c=31536e4),(s=new Date).setTime(s.getTime()+1e3*c)}i.optionalBuffer(n.serial,"options.serial");var l=n.serial;void 0===l&&(l=r.from("0000000000000001","hex"));var f=n.purposes;if(void 0===f&&(f=[]),-1===f.indexOf("signature")&&f.push("signature"),-1===f.indexOf("ca")&&f.push("ca"),-1===f.indexOf("crl")&&f.push("crl"),f.length<=3){var d=o.filter((function(e){return"host"===e.type})),m=o.filter((function(e){return"user"===e.type}));d.length>0&&-1===f.indexOf("serverAuth")&&f.push("serverAuth"),m.length>0&&-1===f.indexOf("clientAuth")&&f.push("clientAuth"),(m.length>0||d.length>0)&&(-1===f.indexOf("keyAgreement")&&f.push("keyAgreement"),"rsa"===t.type&&-1===f.indexOf("encryption")&&f.push("encryption"))}var v=new g({subjects:o,issuer:o[0],subjectKey:t.toPublic(),issuerKey:t.toPublic(),signatures:{},serial:l,validFrom:a,validUntil:s,purposes:f});return v.signWith(t),v},g.create=function(e,t,n,o,a){var s;s=Array.isArray(e)?e:[e],i.arrayOfObject(s),s.forEach((function(e){u.assertCompatible(e,h,[1,0],"subject")})),u.assertCompatible(t,l,[1,0],"key"),p.isPrivateKey(t)&&(t=t.toPublic()),u.assertCompatible(n,h,[1,0],"issuer"),u.assertCompatible(o,p,[1,2],"issuer key"),i.optionalObject(a,"options"),void 0===a&&(a={}),i.optionalObject(a.validFrom,"options.validFrom"),i.optionalObject(a.validUntil,"options.validUntil");var c=a.validFrom,f=a.validUntil;if(void 0===c&&(c=new Date),void 0===f){i.optionalNumber(a.lifetime,"options.lifetime");var d=a.lifetime;void 0===d&&(d=31536e4),(f=new Date).setTime(f.getTime()+1e3*d)}i.optionalBuffer(a.serial,"options.serial");var m=a.serial;void 0===m&&(m=r.from("0000000000000001","hex"));var v=a.purposes;void 0===v&&(v=[]),-1===v.indexOf("signature")&&v.push("signature"),!0===a.ca&&(-1===v.indexOf("ca")&&v.push("ca"),-1===v.indexOf("crl")&&v.push("crl"));var y=s.filter((function(e){return"host"===e.type})),b=s.filter((function(e){return"user"===e.type}));y.length>0&&-1===v.indexOf("serverAuth")&&v.push("serverAuth"),b.length>0&&-1===v.indexOf("clientAuth")&&v.push("clientAuth"),(b.length>0||y.length>0)&&(-1===v.indexOf("keyAgreement")&&v.push("keyAgreement"),"rsa"===t.type&&-1===v.indexOf("encryption")&&v.push("encryption"));var w=new g({subjects:s,issuer:n,subjectKey:t,issuerKey:o.toPublic(),signatures:{},serial:m,validFrom:c,validUntil:f,purposes:v});return w.signWith(o),w},g.parse=function(e,t,n){"string"!=typeof e&&i.buffer(e,"data"),void 0===t&&(t="auto"),i.string(t,"format"),"string"==typeof n&&(n={filename:n}),i.optionalObject(n,"options"),void 0===n&&(n={}),i.optionalString(n.filename,"options.filename"),void 0===n.filename&&(n.filename="(unnamed)"),i.object(f[t],"formats[format]");try{return f[t].read(e,n)}catch(e){throw new d(n.filename,t,e)}},g.isCertificate=function(e,t){return u.isCompatible(e,g,t)},g.prototype._sshpkApiVersion=[1,1],g._oldVersionDetect=function(e){return[1,0]}},function(e,t,n){e.exports=l;var i=n(12),r=(n(30),n(20),n(130),n(49),n(41),n(18),n(27)),o=n(50),a=n(14).Buffer,s=/^([*]|[a-z0-9][a-z0-9\-]{0,62})(?:\.([*]|[a-z0-9][a-z0-9\-]{0,62}))*$/i,c={cn:"2.5.4.3",o:"2.5.4.10",ou:"2.5.4.11",l:"2.5.4.7",s:"2.5.4.8",c:"2.5.4.6",sn:"2.5.4.4",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",street:"2.5.4.9",x500UniqueIdentifier:"2.5.4.45",role:"2.5.4.72",telephoneNumber:"2.5.4.20",description:"2.5.4.13",dc:"0.9.2342.19200300.100.1.25",uid:"0.9.2342.19200300.100.1.1",mail:"0.9.2342.19200300.100.1.3",title:"2.5.4.12",gn:"2.5.4.42",initials:"2.5.4.43",pseudonym:"2.5.4.65",emailAddress:"1.2.840.113549.1.9.1"},u={};function l(e){var t=this;if(i.object(e,"options"),i.arrayOfObject(e.components,"options.components"),this.components=e.components,this.componentLookup={},this.components.forEach((function(e){e.name&&!e.oid&&(e.oid=c[e.name]),e.oid&&!e.name&&(e.name=u[e.oid]),void 0===t.componentLookup[e.name]&&(t.componentLookup[e.name]=[]),t.componentLookup[e.name].push(e)})),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),i.optionalString(e.type,"options.type"),void 0===e.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(s)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type="host",this.hostname=this.componentLookup.dc.map((function(e){return e.value})).join(".")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(s)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type="email",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type="user",this.uid=this.componentLookup.cn[0].value):this.type="unknown";else if(this.type=e.type,"host"===this.type)this.hostname=e.hostname;else if("user"===this.type)this.uid=e.uid;else{if("email"!==this.type)throw new Error("Unknown type "+this.type);this.email=e.email}}Object.keys(c).forEach((function(e){u[c[e]]=e})),l.prototype.toString=function(){return this.components.map((function(e){var t=e.name.toUpperCase();t=t.replace(/=/g,"\\=");var n=e.value;return t+"="+(n=n.replace(/,/g,"\\,"))})).join(", ")},l.prototype.get=function(e,t){i.string(e,"name");var n=this.componentLookup[e];if(void 0!==n&&0!==n.length){if(!t&&n.length>1)throw new Error("Multiple values for attribute "+e);return t?n.map((function(e){return e.value})):n[0].value}},l.prototype.toArray=function(e){return this.components.map((function(e){return{name:e.name,value:e.value}}))};var p=/[^a-zA-Z0-9 '(),+.\/:=?-]/,h=/[^\x00-\x7f]/;function f(e,t){if("**"===e||"**"===t)return!0;var n=e.split("."),i=t.split(".");if(n.length!==i.length)return!1;for(var r=0;r<n.length;++r)if("*"!==n[r]&&"*"!==i[r]&&n[r]!==i[r])return!1;return!0}l.prototype.toAsn1=function(e,t){e.startSequence(t),this.components.forEach((function(t){if(e.startSequence(o.Ber.Constructor|o.Ber.Set),e.startSequence(),e.writeOID(t.oid),t.asn1type===o.Ber.Utf8String||t.value.match(h)){var n=a.from(t.value,"utf8");e.writeBuffer(n,o.Ber.Utf8String)}else if(t.asn1type===o.Ber.IA5String||t.value.match(p))e.writeString(t.value,o.Ber.IA5String);else{var i=o.Ber.PrintableString;void 0!==t.asn1type&&(i=t.asn1type),e.writeString(t.value,i)}e.endSequence(),e.endSequence()})),e.endSequence()},l.prototype.equals=function(e){if(!l.isIdentity(e,[1,0]))return!1;if(e.components.length!==this.components.length)return!1;for(var t=0;t<this.components.length;++t){if(this.components[t].oid!==e.components[t].oid)return!1;if(!f(this.components[t].value,e.components[t].value))return!1}return!0},l.forHost=function(e){return i.string(e,"hostname"),new l({type:"host",hostname:e,components:[{name:"cn",value:e}]})},l.forUser=function(e){return i.string(e,"uid"),new l({type:"user",uid:e,components:[{name:"uid",value:e}]})},l.forEmail=function(e){return i.string(e,"email"),new l({type:"email",email:e,components:[{name:"mail",value:e}]})},l.parseDN=function(e){i.string(e,"dn");for(var t=[""],n=0,r=e;r.length>0;){var o;if(null!==(o=/^,/.exec(r)))t[++n]="",r=r.slice(o[0].length);else if(null!==(o=/^\\,/.exec(r)))t[n]+=",",r=r.slice(o[0].length);else if(null!==(o=/^\\./.exec(r)))t[n]+=o[0],r=r.slice(o[0].length);else{if(null===(o=/^[^\\,]+/.exec(r)))throw new Error("Failed to parse DN");t[n]+=o[0],r=r.slice(o[0].length)}}return new l({components:t.map((function(e){for(var t=(e=e.trim()).indexOf("=");t>0&&"\\"===e.charAt(t-1);)t=e.indexOf("=",t+1);if(-1===t)throw new Error("Failed to parse DN");return{name:e.slice(0,t).toLowerCase().replace(/\\=/g,"="),value:e.slice(t+1)}}))})},l.fromArray=function(e){return i.arrayOfObject(e,"components"),e.forEach((function(e){if(i.object(e,"component"),i.string(e.name,"component.name"),!a.isBuffer(e.value)&&"string"!=typeof e.value)throw new Error("Invalid component value")})),new l({components:e})},l.parseAsn1=function(e,t){var n=[];e.readSequence(t);for(var i=e.offset+e.length;e.offset<i;){e.readSequence(o.Ber.Constructor|o.Ber.Set);var r=e.offset+e.length;e.readSequence();var a,s=e.readOID(),c=e.peek();switch(c){case o.Ber.PrintableString:case o.Ber.IA5String:case o.Ber.OctetString:case o.Ber.T61String:a=e.readString(c);break;case o.Ber.Utf8String:a=(a=e.readString(c,!0)).toString("utf8");break;case o.Ber.CharacterString:case o.Ber.BMPString:a=(a=e.readString(c,!0)).toString("utf16le");break;default:throw new Error("Unknown asn1 type "+c)}n.push({oid:s,asn1type:c,value:a}),e._offset=r}return e._offset=i,new l({components:n})},l.isIdentity=function(e,t){return r.isCompatible(e,l,t)},l.prototype._sshpkApiVersion=[1,0],l._oldVersionDetect=function(e){return[1,0]}},function(e,t,n){"use strict";n.r(t),n.d(t,"dsvFormat",(function(){return a})),n.d(t,"csvParse",(function(){return c})),n.d(t,"csvParseRows",(function(){return u})),n.d(t,"csvFormat",(function(){return l})),n.d(t,"csvFormatRows",(function(){return p})),n.d(t,"tsvParse",(function(){return f})),n.d(t,"tsvParseRows",(function(){return d})),n.d(t,"tsvFormat",(function(){return m})),n.d(t,"tsvFormatRows",(function(){return g}));var i={},r={};function o(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}var a=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function a(e,t){var o,a=[],s=e.length,c=0,u=0,l=s<=0,p=!1;function h(){if(l)return r;if(p)return p=!1,i;var t,o,a=c;if(34===e.charCodeAt(a)){for(;c++<s&&34!==e.charCodeAt(c)||34===e.charCodeAt(++c););return(t=c)>=s?l=!0:10===(o=e.charCodeAt(c++))?p=!0:13===o&&(p=!0,10===e.charCodeAt(c)&&++c),e.slice(a+1,t-1).replace(/""/g,'"')}for(;c<s;){if(10===(o=e.charCodeAt(t=c++)))p=!0;else if(13===o)p=!0,10===e.charCodeAt(c)&&++c;else if(o!==n)continue;return e.slice(a,t)}return l=!0,e.slice(a,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(o=h())!==r;){for(var f=[];o!==i&&o!==r;)f.push(o),o=h();t&&null==(f=t(f,u++))||a.push(f)}return a}function s(t){return t.map(c).join(e)}function c(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,r=a(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=o(e);return function(i,r){return t(n(i),r,e)}}(e,t):o(e)}));return r.columns=i||[],r},parseRows:a,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}(t)),[n.map(c).join(e)].concat(t.map((function(t){return n.map((function(e){return c(t[e])})).join(e)}))).join("\n")},formatRows:function(e){return e.map(s).join("\n")}}},s=a(","),c=s.parse,u=s.parseRows,l=s.format,p=s.formatRows,h=a("\t"),f=h.parse,d=h.parseRows,m=h.format,g=h.formatRows},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(169),r=n(109);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},function(e,t,n){var i=n(7),r=0,o=Math.random(),a=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++r+o,36)}},function(e,t,n){var i=n(10),r=n(22),o=i.document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var i=n(87),r=n(139),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},function(e,t,n){var i=n(406);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},function(e,t,n){var i=n(142),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(177),r=n(15),o=n(43),a=n(16)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:c?o(t):"Object"==(i=o(t))&&r(t.callee)?"Arguments":i}},function(e,t,n){var i=n(43);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(7),r=n(5),o=n(15),a=n(145),s=n(19),c=n(172),u=function(){},l=[],p=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=i(h.exec),d=!h.exec(u),m=function(e){if(!o(e))return!1;try{return p(u,l,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!f(h,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!p||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},function(e,t,n){var i=n(7);e.exports=i([].slice)},function(e,t,n){var i=n(5),r=n(16),o=n(67),a=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var i=n(16),r=n(70),o=n(28).f,a=i("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:r(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var i=n(7),r=n(3),o=n(419);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var i=n(0),r=n(7),o=n(108),a=n(33),s=n(92),c=r([].join),u=o!=Object,l=s("join",",");i({target:"Array",proto:!0,forced:u||!l},{join:function(e){return c(a(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i,r,o=n(6),a=n(7),s=n(29),c=n(265),u=n(187),l=n(87),p=n(70),h=n(53).get,f=n(266),d=n(267),m=l("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=a("".charAt),b=a("".indexOf),w=a("".replace),_=a("".slice),x=(r=/b*/g,o(g,i=/a/,"a"),o(g,r,"a"),0!==i.lastIndex||0!==r.lastIndex),k=u.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(x||E||k||f||d)&&(v=function(e){var t,n,i,r,a,u,l,f=this,d=h(f),S=s(e),j=d.raw;if(j)return j.lastIndex=f.lastIndex,t=o(v,j,S),f.lastIndex=j.lastIndex,t;var M=d.groups,A=k&&f.sticky,C=o(c,f),T=f.source,P=0,R=S;if(A&&(C=w(C,"y",""),-1===b(C,"g")&&(C+="g"),R=_(S,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(S,f.lastIndex-1))&&(T="(?: "+T+")",R=" "+R,P++),n=new RegExp("^(?:"+T+")",C)),E&&(n=new RegExp("^"+T+"$(?!\\s)",C)),x&&(i=f.lastIndex),r=o(g,A?n:f,R),A?r?(r.input=_(r.input,P),r[0]=_(r[0],P),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:x&&r&&(f.lastIndex=f.global?r.index+r[0].length:i),E&&r&&r.length>1&&o(m,r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r&&M)for(r.groups=u=p(null),a=0;a<M.length;a++)u[(l=M[a])[0]]=r[l[1]];return r}),e.exports=v},function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new S(r||[]);return i(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function h(){}function f(){}function d(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(j([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=d.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;i(this,"_invoke",{value:function(i,o){function a(){return new t((function(r,a){!function i(r,o,a,s){var c=l(e[r],e,o);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(p).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:void 0,done:!0}}return f.prototype=d,i(y,"constructor",{value:d,configurable:!0}),i(d,"constructor",{value:f,configurable:!0}),f.displayName=c(d,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new w(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof i&&i;a.global!==a&&a.window!==a&&a.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,d=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+g((e=e.replace(p,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,o=e.length;r<o;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<o?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function x(e){var t,n,i,r,o,a,s,u,l,p,h,d=[],g=e.length,v=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&m("not-basic"),d.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(o=v,a=1,s=36;r>=g&&m("invalid-input"),((u=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||u>f((c-v)/a))&&m("overflow"),v+=u*a,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)a>f(c/(p=36-l))&&m("overflow"),a*=p;w=_(v-o,t=d.length+1,0==o),f(v/t)>c-y&&m("overflow"),y+=f(v/t),v%=t,d.splice(v++,0,y)}return b(d)}function k(e){var t,n,i,r,o,a,s,u,l,p,h,g,v,b,x,k=[];for(g=(e=y(e)).length,t=128,n=0,o=72,a=0;a<g;++a)(h=e[a])<128&&k.push(d(h));for(i=r=k.length,r&&k.push("-");i<g;){for(s=c,a=0;a<g;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>f((c-n)/(v=i+1))&&m("overflow"),n+=(s-t)*v,t=s,a=0;a<g;++a)if((h=e[a])<t&&++n>c&&m("overflow"),h==t){for(u=n,l=36;!(u<(p=l<=o?1:l>=o+26?26:l-o));l+=36)x=u-p,b=36-p,k.push(d(w(p+x%b,0))),u=f(x/b);k.push(d(w(u,0))),o=_(n,v,i==r),n=0,++i}++n,++t}return k.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:x,encode:k,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(37)(e),n(17))},function(e,t,n){"use strict";t.decode=t.parse=n(508),t.encode=t.stringify=n(509)},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,i,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,i)}));case 4:return t.nextTick((function(){e.call(null,n,i,r)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(8))},function(e,t,n){var i=n(4).Buffer;function r(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,n=new Array(t),r=0;r<t;r++)n[r]=e.readUInt32BE(4*r);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,i,r){for(var o,a,s,c,u=n[0],l=n[1],p=n[2],h=n[3],f=e[0]^t[0],d=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],v=4,y=1;y<r;y++)o=u[f>>>24]^l[d>>>16&255]^p[m>>>8&255]^h[255&g]^t[v++],a=u[d>>>24]^l[m>>>16&255]^p[g>>>8&255]^h[255&f]^t[v++],s=u[m>>>24]^l[g>>>16&255]^p[f>>>8&255]^h[255&d]^t[v++],c=u[g>>>24]^l[f>>>16&255]^p[d>>>8&255]^h[255&m]^t[v++],f=o,d=a,m=s,g=c;return o=(i[f>>>24]<<24|i[d>>>16&255]<<16|i[m>>>8&255]<<8|i[255&g])^t[v++],a=(i[d>>>24]<<24|i[m>>>16&255]<<16|i[g>>>8&255]<<8|i[255&f])^t[v++],s=(i[m>>>24]<<24|i[g>>>16&255]<<16|i[f>>>8&255]<<8|i[255&d])^t[v++],c=(i[g>>>24]<<24|i[f>>>16&255]<<16|i[d>>>8&255]<<8|i[255&m])^t[v++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,i[u]=a;var l=e[a],p=e[l],h=e[p],f=257*e[u]^16843008*u;r[0][a]=f<<24|f>>>8,r[1][a]=f<<16|f>>>16,r[2][a]=f<<8|f>>>24,r[3][a]=f,f=16843009*h^65537*p^257*l^16843008*a,o[0][u]=f<<24|f>>>8,o[1][u]=f<<16|f>>>16,o[2][u]=f<<8|f>>>24,o[3][u]=f,0===a?a=s=1:(a=l^e[e[e[h^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function u(e){this._key=r(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,i=4*(n+1),r=[],o=0;o<t;o++)r[o]=e[o];for(o=t;o<i;o++){var a=r[o-1];o%t==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),r[o]=r[o-t]^a}for(var u=[],l=0;l<i;l++){var p=i-l,h=r[p-(l%4?0:4)];u[l]=l<4||p<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=r(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=i.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},u.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},function(e,t,n){var i=n(4).Buffer,r=n(205);e.exports=function(e,t,n,o){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),c=i.alloc(o||0),u=i.alloc(0);a>0||o>0;){var l=new r;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var p=0;if(a>0){var h=s.length-a;p=Math.min(a,u.length),u.copy(s,h,0,p),a-=p}if(p<u.length&&o>0){var f=c.length-o,d=Math.min(o,u.length-p);u.copy(c,f,p,p+d),o-=d}}return u.fill(0),{key:s,iv:c}}},function(e,t,n){"use strict";var i=n(48),r=n(35),o=r.getNAF,a=r.getJSF,s=r.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),i=o(t,1,this._bitLength),r=(1<<n.step+1)-(n.step%2==0?2:1);r/=3;var a,c,u=[];for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];u.push(c)}for(var p=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=r;f>0;f--){for(a=0;a<u.length;a++)(c=u[a])===f?h=h.mixedAdd(n.points[a]):c===-f&&(h=h.mixedAdd(n.points[a].neg()));p=p.add(h)}return p.toP()},c.prototype._wnafMul=function(e,t){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var r=i.points,a=o(t,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var p=a[u];s(0!==p),c="affine"===e.type?p>0?c.mixedAdd(r[p-1>>1]):c.mixedAdd(r[-p-1>>1].neg()):p>0?c.add(r[p-1>>1]):c.add(r[-p-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,n,i,r){var s,c,u,l=this._wnafT1,p=this._wnafT2,h=this._wnafT3,f=0;for(s=0;s<i;s++){var d=(u=t[s])._getNAFPoints(e);l[s]=d.wnd,p[s]=d.points}for(s=i-1;s>=1;s-=2){var m=s-1,g=s;if(1===l[m]&&1===l[g]){var v=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(v[1]=t[m].add(t[g]),v[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(v[1]=t[m].toJ().mixedAdd(t[g]),v[2]=t[m].add(t[g].neg())):(v[1]=t[m].toJ().mixedAdd(t[g]),v[2]=t[m].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[m],n[g]);for(f=Math.max(b[0].length,f),h[m]=new Array(f),h[g]=new Array(f),c=0;c<f;c++){var w=0|b[0][c],_=0|b[1][c];h[m][c]=y[3*(w+1)+(_+1)],h[g][c]=0,p[m]=v}}else h[m]=o(n[m],l[m],this._bitLength),h[g]=o(n[g],l[g],this._bitLength),f=Math.max(h[m].length,f),f=Math.max(h[g].length,f)}var x=this.jpoint(null,null,null),k=this._wnafT4;for(s=f;s>=0;s--){for(var E=0;s>=0;){var S=!0;for(c=0;c<i;c++)k[c]=0|h[c][s],0!==k[c]&&(S=!1);if(!S)break;E++,s--}if(s>=0&&E++,x=x.dblp(E),s<0)break;for(c=0;c<i;c++){var j=k[c];0!==j&&(j>0?u=p[c][j-1>>1]:j<0&&(u=p[c][-j-1>>1].neg()),x="affine"===u.type?x.mixedAdd(u):x.add(u))}}for(s=0;s<i;s++)p[s]=null;return r?x:x.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=r.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return r.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<t;r+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,i=1===n?null:this.dbl(),r=1;r<n;r++)t[r]=t[r-1].add(i);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var i=n(594),r=n(602),o=n(603),a=n(212),s=n(334),c=n(4).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var n,u,l=o(e,t),p=l.tag,h=l.data;switch(p){case"CERTIFICATE":u=i.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=i.PublicKey.decode(h,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=i.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":h=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=r[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,p=parseInt(o.split("-")[1],10)/8,h=s.pbkdf2Sync(t,n,i,p,"sha1"),f=a.createDecipheriv(o,h,u),d=[];return d.push(f.update(l)),d.push(f.final()),c.concat(d)}(h=i.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(n=(u=i.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:i.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=i.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=i.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+p)}}e.exports=u,u.signature=i.signature},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},a={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},function(e,t,n){var i=n(12),r=n(227),o=n(18),a={sha1:!0,sha256:!0,sha512:!0},s={rsa:!0,dsa:!0,ecdsa:!0};function c(e,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||c),this.message=e,this.name=t.name}function u(e){c.call(this,e,u)}o.inherits(c,Error),o.inherits(u,c),e.exports={HASH_ALGOS:a,PK_ALGOS:s,HttpSignatureError:c,InvalidAlgorithmError:u,validateAlgorithm:function(e){var t=e.toLowerCase().split("-");if(2!==t.length)throw new u(t[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==t[0]&&!s[t[0]])throw new u(t[0].toUpperCase()+" type keys are not supported");if(!a[t[1]])throw new u(t[1].toUpperCase()+" is not a supported hash algorithm");return t},sshKeyToPEM:function(e){return i.string(e,"ssh_key"),r.parseKey(e,"ssh").toString("pem")},fingerprint:function(e){return i.string(e,"ssh_key"),r.parseKey(e,"ssh").fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(e,t){i.equal("string",typeof e,"typeof pem");var n=r.parseKey(e,"pem");return n.comment=t,n.toString("ssh")}}},function(e,t,n){var i=n(131).BigInteger,r=i.prototype.Barrett;function o(e,t){this.x=t,this.q=e}function a(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?i.ONE:r,this.zinv=null}function s(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new a(this,null,null),this.reducer=new r(this.q)}o.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},o.prototype.toBigInteger=function(){return this.x},o.prototype.negate=function(){return new o(this.q,this.x.negate().mod(this.q))},o.prototype.add=function(e){return new o(this.q,this.x.add(e.toBigInteger()).mod(this.q))},o.prototype.subtract=function(e){return new o(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},o.prototype.multiply=function(e){return new o(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},o.prototype.square=function(){return new o(this.q,this.x.square().mod(this.q))},o.prototype.divide=function(e){return new o(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},a.prototype.getX=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.getY=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(i.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(i.ZERO))},a.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(i.ZERO)&&!this.y.toBigInteger().equals(i.ZERO)},a.prototype.negate=function(){return new a(this.curve,this.x,this.y.negate(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(i.ZERO.equals(n))return i.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new i("3"),o=this.x.toBigInteger(),s=this.y.toBigInteger(),c=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),u=c.multiply(n),l=o.multiply(c),p=t.square().multiply(this.z),h=p.subtract(l.shiftLeft(1)).multiply(e.z).subtract(u).multiply(n).mod(this.curve.q),f=l.multiply(r).multiply(t).subtract(s.multiply(u)).subtract(p.multiply(t)).multiply(e.z).add(t.multiply(u)).mod(this.curve.q),d=u.multiply(this.z).multiply(e.z).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(f),d)},a.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new i("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),o=r.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),c=t.square().multiply(e);i.ZERO.equals(s)||(c=c.add(this.z.square().multiply(s)));var u=(c=c.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(o)).shiftLeft(1).multiply(r).mod(this.curve.q),l=c.multiply(e).multiply(t).subtract(o.shiftLeft(1)).shiftLeft(2).multiply(o).subtract(c.square().multiply(c)).mod(this.curve.q),p=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(l),p)},a.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new i("3")),o=this.negate(),a=this;for(t=r.bitLength()-2;t>0;--t){a=a.twice();var s=r.testBit(t);s!=n.testBit(t)&&(a=a.add(s?this:o))}return a},a.prototype.multiplyTwo=function(e,t,n){var i;i=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var r=this.curve.getInfinity(),o=this.add(t);i>=0;)r=r.twice(),e.testBit(i)?r=n.testBit(i)?r.add(o):r.add(this):n.testBit(i)&&(r=r.add(t)),--i;return r},s.prototype.getQ=function(){return this.q},s.prototype.getA=function(){return this.a},s.prototype.getB=function(){return this.b},s.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},s.prototype.getInfinity=function(){return this.infinity},s.prototype.fromBigInteger=function(e){return new o(this.q,e)},s.prototype.reduce=function(e){this.reducer.reduce(e)},s.prototype.encodePointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),n=e.getY().toBigInteger().toString(16),i=this.getQ().toString(16).length;for(i%2!=0&&i++;t.length<i;)t="0"+t;for(;n.length<i;)n="0"+n;return"04"+t+n},s.prototype.decodePointHex=function(e){var t;switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:t=!1;case 3:null==t&&(t=!0);var n=e.length-2,r=e.substr(2,n),o=this.fromBigInteger(new i(r,16)),s=o.multiply(o.square().add(this.getA())).add(this.getB()).sqrt();if(null==s)throw"Invalid point compression";var c=s.toBigInteger();return c.testBit(0)!=t&&(s=this.fromBigInteger(this.getQ().subtract(c))),new a(this,o,s);case 4:case 6:case 7:n=(e.length-2)/2,r=e.substr(2,n);var u=e.substr(n+2,n);return new a(this,this.fromBigInteger(new i(r,16)),this.fromBigInteger(new i(u,16)));default:return null}},s.prototype.encodeCompressedPointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),n=this.getQ().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;return(e.getY().toBigInteger().isEven()?"02":"03")+t},o.prototype.getR=function(){if(null!=this.r)return this.r;this.r=null;var e=this.q.bitLength();e>128&&(-1==this.q.shiftRight(e-64).intValue()&&(this.r=i.ONE.shiftLeft(e).subtract(this.q)));return this.r},o.prototype.modMult=function(e,t){return this.modReduce(e.multiply(t))},o.prototype.modReduce=function(e){if(null!=this.getR()){for(var t=q.bitLength();e.bitLength()>t+1;){var n=e.shiftRight(t),r=e.subtract(n.shiftLeft(t));this.getR().equals(i.ONE)||(n=n.multiply(this.getR())),e=n.add(r)}for(;e.compareTo(q)>=0;)e=e.subtract(q)}else e=e.mod(q);return e},o.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var e=new o(this.q,this.x.modPow(this.q.shiftRight(2).add(i.ONE),this.q));return e.square().equals(this)?e:null}var t=this.q.subtract(i.ONE),n=t.shiftRight(1);if(!this.x.modPow(n,this.q).equals(i.ONE))return null;var r,a,s=t.shiftRight(2).shiftLeft(1).add(i.ONE),c=this.x,u=modDouble(modDouble(c));do{var l;do{l=new i(this.q.bitLength(),new SecureRandom)}while(l.compareTo(this.q)>=0||!l.multiply(l).subtract(u).modPow(n,this.q).equals(t));var p=this.lucasSequence(l,c,s);if(r=p[0],a=p[1],this.modMult(a,a).equals(u))return a.testBit(0)&&(a=a.add(q)),a=a.shiftRight(1),new o(q,a)}while(r.equals(i.ONE)||r.equals(t));return null},o.prototype.lucasSequence=function(e,t,n){for(var r=n.bitLength(),o=n.getLowestSetBit(),a=i.ONE,s=i.TWO,c=e,u=i.ONE,l=i.ONE,p=r-1;p>=o+1;--p)u=this.modMult(u,l),n.testBit(p)?(l=this.modMult(u,t),a=this.modMult(a,c),s=this.modReduce(c.multiply(s).subtract(e.multiply(u))),c=this.modReduce(c.multiply(c).subtract(l.shiftLeft(1)))):(l=u,a=this.modReduce(a.multiply(s).subtract(u)),c=this.modReduce(c.multiply(s).subtract(e.multiply(u))),s=this.modReduce(s.multiply(s).subtract(u.shiftLeft(1))));u=this.modMult(u,l),l=this.modMult(u,t),a=this.modReduce(a.multiply(s).subtract(u)),s=this.modReduce(c.multiply(s).subtract(e.multiply(u))),u=this.modMult(u,l);for(p=1;p<=o;++p)a=this.modMult(a,s),s=this.modReduce(s.multiply(s).subtract(u.shiftLeft(1))),u=this.modMult(u,u);return[a,s]};t={ECCurveFp:s,ECPointFp:a,ECFieldElementFp:o};e.exports=t},function(e,t,n){e.exports={read:function(e,t){return u.read(e,t)},readSSHPrivate:function(e,t,c){var u=(t=new p({buffer:t})).readCString();r.strictEqual(u,"openssh-key-v1","bad magic string");var f=t.readString(),d=t.readString(),m=t.readBuffer();if(1!==t.readInt())throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var g=t.readBuffer();if("public"===e)return r.ok(t.atEnd(),"excess bytes left after key"),l.read(g);var v=t.readBuffer();r.ok(t.atEnd(),"excess bytes left after key");var y=new p({buffer:m});switch(d){case"none":if("none"!==f)throw new Error('OpenSSH-format key uses KDF "none" but specifies a cipher other than "none"');break;case"bcrypt":var b=y.readBuffer(),w=y.readInt(),_=a.opensshCipherInfo(f);if(void 0===i&&(i=n(376)),"string"==typeof c.passphrase&&(c.passphrase=o.from(c.passphrase,"utf-8")),!o.isBuffer(c.passphrase))throw new h.KeyEncryptedError(c.filename,"OpenSSH");var x=new Uint8Array(c.passphrase),k=new Uint8Array(b),E=new Uint8Array(_.keySize+_.blockSize);if(0!==i.pbkdf(x,x.length,k,k.length,E,E.length,w))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var S=(E=o.from(E)).slice(0,_.keySize),j=E.slice(_.keySize,_.keySize+_.blockSize),M=s.createDecipheriv(_.opensslName,S,j);M.setAutoPadding(!1);var A,C=[];for(M.once("error",(function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e})),M.write(v),M.end();null!==(A=M.read());)C.push(A);v=o.concat(C);break;default:throw new Error('OpenSSH-format key uses unknown KDF "'+d+'"')}var T=(t=new p({buffer:v})).readInt(),P=t.readInt();if(T!==P)throw new Error("Incorrect passphrase supplied, could not decrypt key");var R={},B=l.readInternal(R,"private",t.remainder());t.skip(R.consumed);var O=t.readString();return B.comment=O,B},write:function(e,t){var u;u=c.isPrivateKey(e)?e.toPublic():e;var l,h,f="none",d="none",m=o.alloc(0),g={blockSize:8};void 0!==t&&("string"==typeof(l=t.passphrase)&&(l=o.from(l,"utf-8")),void 0!==l&&(r.buffer(l,"options.passphrase"),r.optionalString(t.cipher,"options.cipher"),void 0===(f=t.cipher)&&(f="aes128-ctr"),g=a.opensshCipherInfo(f),d="bcrypt"));if(c.isPrivateKey(e)){h=new p({});var v=s.randomBytes(4).readUInt32BE(0);h.writeInt(v),h.writeInt(v),h.write(e.toBuffer("rfc4253")),h.writeString(e.comment||"");for(var y=1;h._offset%g.blockSize!=0;)h.writeChar(y++);h=h.toBuffer()}switch(d){case"none":break;case"bcrypt":var b=s.randomBytes(16),w=new p({});w.writeBuffer(b),w.writeInt(16),m=w.toBuffer(),void 0===i&&(i=n(376));var _=new Uint8Array(l),x=new Uint8Array(b),k=new Uint8Array(g.keySize+g.blockSize);if(0!==i.pbkdf(_,_.length,x,x.length,k,k.length,16))throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var E=(k=o.from(k)).slice(0,g.keySize),S=k.slice(g.keySize,g.keySize+g.blockSize),j=s.createCipheriv(g.opensslName,E,S);j.setAutoPadding(!1);var M,A=[];for(j.once("error",(function(e){throw e})),j.write(h),j.end();null!==(M=j.read());)A.push(M);h=o.concat(A);break;default:throw new Error("Unsupported kdf "+d)}var C,T=new p({});T.writeCString("openssh-key-v1"),T.writeString(f),T.writeString(d),T.writeBuffer(m),T.writeInt(1),T.writeBuffer(u.toBuffer("rfc4253")),h&&T.writeBuffer(h);T=T.toBuffer(),C=c.isPrivateKey(e)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var P=T.toString("base64"),R=P.length+P.length/70+18+16+2*C.length+10;T=o.alloc(R);var B=0;B+=T.write("-----BEGIN "+C+"-----\n",B);for(var O=0;O<P.length;){var I=O+70;I>P.length&&(I=P.length),B+=T.write(P.slice(O,I),B),T[B++]=10,O=I}return B+=T.write("-----END "+C+"-----\n",B),T.slice(0,B)}};var i,r=n(12),o=(n(50),n(14).Buffer),a=(n(30),n(27)),s=n(20),c=(n(25),n(26)),u=n(61),l=n(62),p=n(104),h=n(41)},function(e,t,n){"use strict";var i=/,?([a-z]),?/gi,r=parseFloat,o=Math,a=o.PI,s=o.min,c=o.max,u=o.pow,l=o.abs,p=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,h=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,f=Array.isArray||function(e){return e instanceof Array};function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)d(e,n)&&(t[n]=m(e[n]));return t}function g(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function v(e){var t=v.ps=v.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)d(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function y(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function b(){return this.join(",").replace(i,"$1")}function w(e){var t=m(e);return t.toString=b,t}function _(e,t,n,i,r,o,a,s,c){var l=1-c,p=u(l,3),h=u(l,2),f=c*c*c,d=p*t+3*h*c*i+3*l*c*c*o+f*s;return{x:M(p*e+3*h*c*n+3*l*c*c*r+f*a),y:M(d)}}function x(e){var t=O.apply(null,e);return y(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function k(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function E(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function S(e,t,n,i,r,a,s,c,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,d=0;d<12;d++){var m=l*p[d]+l,g=E(m,e,n,r,s),v=E(m,t,i,a,c),y=g*g+v*v;f+=h[d]*o.sqrt(y)}return l*f}function j(e,t,n,i,r,o,a,u){if(!(c(e,n)<s(r,a)||s(e,n)>c(r,a)||c(t,i)<s(o,u)||s(t,i)>c(o,u))){var l=(e*i-t*n)*(o-u)-(t-i)*(r*u-o*a),p=(e-n)*(o-u)-(t-i)*(r-a);if(p){var h=M(((e*i-t*n)*(r-a)-(e-n)*(r*u-o*a))/p),f=M(l/p),d=+h.toFixed(2),m=+f.toFixed(2);if(!(d<+s(e,n).toFixed(2)||d>+c(e,n).toFixed(2)||d<+s(r,a).toFixed(2)||d>+c(r,a).toFixed(2)||m<+s(t,i).toFixed(2)||m>+c(t,i).toFixed(2)||m<+s(o,u).toFixed(2)||m>+c(o,u).toFixed(2)))return{x:h,y:f}}}}function M(e){return Math.round(1e11*e)/1e11}function A(e,t,n){if(!function(e,t){return e=y(e),k(t=y(t),e.x,e.y)||k(t,e.x2,e.y)||k(t,e.x,e.y2)||k(t,e.x2,e.y2)||k(e,t.x,t.y)||k(e,t.x2,t.y)||k(e,t.x,t.y2)||k(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(x(e),x(t)))return n?0:[];for(var i=S.apply(0,e),r=S.apply(0,t),o=T(e)?1:~~(i/5)||1,a=T(t)?1:~~(r/5)||1,s=[],c=[],u={},p=n?0:[],h=0;h<o+1;h++){var f=_.apply(0,e.concat(h/o));s.push({x:f.x,y:f.y,t:h/o})}for(h=0;h<a+1;h++)f=_.apply(0,t.concat(h/a)),c.push({x:f.x,y:f.y,t:h/a});for(h=0;h<o;h++)for(var d=0;d<a;d++){var m,g=s[h],v=s[h+1],b=c[d],w=c[d+1],E=l(v.x-g.x)<.01?"y":"x",M=l(w.x-b.x)<.01?"y":"x",A=j(g.x,g.y,v.x,v.y,b.x,b.y,w.x,w.y);if(A){if(u[m=A.x.toFixed(9)+"#"+A.y.toFixed(9)])continue;u[m]=!0;var C=g.t+l((A[E]-g[E])/(v[E]-g[E]))*(v.t-g.t),P=b.t+l((A[M]-b[M])/(w[M]-b[M]))*(w.t-b.t);C>=0&&C<=1&&P>=0&&P<=1&&(n?p++:p.push({x:A.x,y:A.y,t1:C,t2:P}))}}return p}function C(e){var t=v(e);if(t.abs)return w(t.abs);if(f(e)&&f(e&&e[0])||(e=function(e){if(!e)return null;var t=v(e);if(t.arr)return m(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return f(e)&&f(e[0])&&(i=m(e)),i.length||String(e).replace(p,(function(e,t,r){var o=[],a=t.toLowerCase();for(r.replace(h,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(i.push([t].concat(o.splice(0,2))),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(i.push([t].concat(o.splice(0,n[a]))),n[a]););})),i.toString=v.toString,t.arr=m(i),i}(e)),!e||!e.length)return[["M",0,0]];var n,i=[],r=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(a=r=+e[0][1],s=o=+e[0][2],c++,i[0]=["M",r,o]);for(var u,l,d=c,g=e.length;d<g;d++){if(i.push(u=[]),(n=(l=e[d])[0])!=n.toUpperCase())switch(u[0]=n.toUpperCase(),u[0]){case"A":u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=+l[6]+r,u[7]=+l[7]+o;break;case"V":u[1]=+l[1]+o;break;case"H":u[1]=+l[1]+r;break;case"M":a=+l[1]+r,s=+l[2]+o;default:for(var y=1,_=l.length;y<_;y++)u[y]=+l[y]+(y%2?r:o)}else for(var x=0,k=l.length;x<k;x++)u[x]=l[x];switch(n=n.toUpperCase(),u[0]){case"Z":r=+a,o=+s;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return i.toString=b,t.abs=w(i),i}function T(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function P(e,t,n,i){return[e,t,n,i,n,i]}function R(e,t,n,i,r,o){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function B(e,t,n,i,r,s,c,u,p,h){var f,m,v=120*a/180,y=a/180*(+r||0),b=[],w=(m=function(e,t,n){return{x:e*o.cos(n)-t*o.sin(n),y:e*o.sin(n)+t*o.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),i=e.cache=e.cache||{},r=e.count=e.count||[];return d(i,n)?(g(r,n),i[n]):(r.length>=1e3&&delete i[r.shift()],r.push(n),i[n]=m.apply(0,t),i[n])});if(h)C=h[0],T=h[1],M=h[2],A=h[3];else{e=(f=w(e,t,-y)).x,t=f.y;var _=(e-(u=(f=w(u,p,-y)).x))/2,x=(t-(p=f.y))/2,k=_*_/(n*n)+x*x/(i*i);k>1&&(n*=k=o.sqrt(k),i*=k);var E=n*n,S=i*i,j=(s==c?-1:1)*o.sqrt(l((E*S-E*x*x-S*_*_)/(E*x*x+S*_*_))),M=j*n*x/i+(e+u)/2,A=j*-i*_/n+(t+p)/2,C=o.asin(((t-A)/i).toFixed(9)),T=o.asin(((p-A)/i).toFixed(9));(C=e<M?a-C:C)<0&&(C=2*a+C),(T=u<M?a-T:T)<0&&(T=2*a+T),c&&C>T&&(C-=2*a),!c&&T>C&&(T-=2*a)}var P=T-C;if(l(P)>v){var R=T,O=u,I=p;T=C+v*(c&&T>C?1:-1),b=B(u=M+n*o.cos(T),p=A+i*o.sin(T),n,i,r,0,c,O,I,[T,R,M,A])}P=T-C;var D=o.cos(C),F=o.sin(C),z=o.cos(T),N=o.sin(T),L=o.tan(P/4),q=4/3*n*L,H=4/3*i*L,U=[e,t],$=[e+q*F,t-H*D],V=[u+q*N,p-H*z],W=[u,p];if($[0]=2*U[0]-$[0],$[1]=2*U[1]-$[1],h)return[$,V,W].concat(b);for(var G=[],K=0,Z=(b=[$,V,W].concat(b).join().split(",")).length;K<Z;K++)G[K]=K%2?w(b[K-1],b[K],y).y:w(b[K],b[K+1],y).x;return G}function O(e,t,n,i,r,a,u,p){for(var h,f,d,m,g,v,y,b,w=[],_=[[],[]],x=0;x<2;++x)if(0==x?(f=6*e-12*n+6*r,h=-3*e+9*n-9*r+3*u,d=3*n-3*e):(f=6*t-12*i+6*a,h=-3*t+9*i-9*a+3*p,d=3*i-3*t),l(h)<1e-12){if(l(f)<1e-12)continue;0<(m=-d/f)&&m<1&&w.push(m)}else y=f*f-4*d*h,b=o.sqrt(y),y<0||(0<(g=(-f+b)/(2*h))&&g<1&&w.push(g),0<(v=(-f-b)/(2*h))&&v<1&&w.push(v));for(var k,E=w.length,S=E;E--;)k=1-(m=w[E]),_[0][E]=k*k*k*e+3*k*k*m*n+3*k*m*m*r+m*m*m*u,_[1][E]=k*k*k*t+3*k*k*m*i+3*k*m*m*a+m*m*m*p;return _[0][S]=e,_[1][S]=t,_[0][S+1]=u,_[1][S+1]=p,_[0].length=_[1].length=S+2,{x0:s.apply(0,_[0]),y0:s.apply(0,_[1]),x1:c.apply(0,_[0]),y1:c.apply(0,_[1])}}function I(e){var t=v(e);if(t.curve)return w(t.curve);for(var n=C(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(B.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r].concat(e.slice(1));break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(R(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(R(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(P(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(P(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(P(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(P(t.x,t.y,t.X,t.Y))}return e},a=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)s[t]="A",e.splice(t++,0,["C"].concat(i.splice(0,6)));e.splice(t,1),p=n.length}},s=[],c="",u="",l=0,p=n.length;l<p;l++){n[l]&&(c=n[l][0]),"C"!=c&&(s[l]=c,l&&(u=s[l-1])),n[l]=o(n[l],i,u),"A"!=s[l]&&"C"==c&&(s[l]="C"),a(n,l);var h=n[l],f=h.length;i.x=h[f-2],i.y=h[f-1],i.bx=r(h[f-4])||i.x,i.by=r(h[f-3])||i.y}return t.curve=w(n),n}e.exports=function(e,t,n){e=I(e),t=I(t);for(var i,r,o,a,s,c,u,l,p,h,f=n?0:[],d=0,m=e.length;d<m;d++){var g=e[d];if("M"==g[0])i=s=g[1],r=c=g[2];else{"C"==g[0]?(p=[i,r].concat(g.slice(1)),i=p[6],r=p[7]):(p=[i,r,i,r,s,c,s,c],i=s,r=c);for(var v=0,y=t.length;v<y;v++){var b=t[v];if("M"==b[0])o=u=b[1],a=l=b[2];else{"C"==b[0]?(h=[o,a].concat(b.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,l,u,l],o=u,a=l);var w=A(p,h,n);if(n)f+=w;else{for(var _=0,x=w.length;_<x;_++)w[_].segment1=d,w[_].segment2=v,w[_].bez1=p,w[_].bez2=h;f=f.concat(w)}}}}}return f}},,function(e,t,n){var i=n(0),r=n(5),o=n(33),a=n(66).f,s=n(21),c=r((function(){a(1)}));i({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t,n){var i=n(6),r=n(22),o=n(109),a=n(85),s=n(403),c=n(16),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,c=a(e,l);if(c){if(void 0===t&&(t="default"),n=i(c,e,t),!r(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},function(e,t,n){var i=n(10),r=n(171),o=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=o},function(e,t,n){var i=n(10),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(7),r=n(15),o=n(170),a=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},function(e,t,n){var i=n(33),r=n(174),o=n(46),a=function(e){return function(t,n,a){var s,c=i(t),u=o(c),l=r(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var i=n(142),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){"use strict";n(54),n(55),n(71),n(90),n(91),n(179),n(93),n(72),n(56),n(152),n(94),n(95),n(420),n(260),n(421),n(261),n(73),n(118),n(262),n(186),n(168),n(428),n(74),n(47),n(264),n(97),n(57),n(269),n(75),n(76),n(274),n(275),n(276),n(278),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(78),n(296),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(154);var i,r=n(119),o=n(79),a=(i=n(300))&&i.__esModule?i:{default:i},s=n(461),c=n(198),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(463));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}var v=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e);var r=this._build(t,n),o=f(r,2);this[c.__rows__]=o[0],this[c.__columns__]=o[1],this.options=i,this.options.modules=[].concat(h(e.defaultModules),h(this.options.modules||[])),Object.assign.apply(Object,[this].concat(h(this.__instanciateModules__(this.options.modules))))}return g(e,null,[{key:"setDefaultModules",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.defaultModules=n}},{key:"fromDSV",value:function(){return u.fromDSV.apply(u,arguments).then((function(t){return new e(t)}))}},{key:"fromText",value:function(){return u.fromText.apply(u,arguments).then((function(t){return new e(t)}))}},{key:"fromCSV",value:function(){return u.fromCSV.apply(u,arguments).then((function(t){return new e(t)}))}},{key:"fromTSV",value:function(){return u.fromTSV.apply(u,arguments).then((function(t){return new e(t)}))}},{key:"fromPSV",value:function(){return u.fromPSV.apply(u,arguments).then((function(t){return new e(t)}))}},{key:"fromJSON",value:function(){return u.fromJSON.apply(u,arguments).then((function(t){return new e(t)}))}}]),g(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,i,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,i=void 0,e.prev=3,r=this[c.__rows__][Symbol.iterator]();case 5:if(t=(o=r.next()).done){e.next=12;break}return a=o.value,e.next=9,a;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,i=e.t0;case 18:e.prev=18,e.prev=19,t||null==r.return||r.return();case 21:if(e.prev=21,!n){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"_columnsAreEquals",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[c.__columns__],n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];if(e[r]!==t[r])return!1}return!0}},{key:"__newInstance__",value:function(t,n){if(!(this._columnsAreEquals(n)&&t[0]instanceof a.default))return new e(t,n,this.options);var i=Object.keys(t[0].toDict());if(!(0,r.arrayEqual)(i,this[c.__columns__],!0))return new e(t,i,this.options);var o=new e([],[],this.options);return o[c.__rows__]=h(t),o[c.__columns__]=h(n),o}},{key:"__instanciateModules__",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.map((function(e){var i=new e(n||t);return p({},i.name,i)}))}},{key:"_build",value:function(t,n){if(t instanceof e)return this._fromArray(Array.from(t[c.__rows__]),n||t[c.__columns__]);if(t instanceof Array&&t.length>0)return this._fromArray(t,n||Array.from(new Set(t.slice(0,10).concat(t.slice(-10,-1)).map((function(e){return Object.keys(e)})).reduce((function(e,t){return e.concat(t)})))));if(t instanceof Array&&0===t.length)return this._fromArray(t,n||[]);if(t instanceof Object)return this._fromDict(t,n||Object.keys(t));throw new o.ArgumentTypeError(t,"DataFrame | Array | Object")}},{key:"_fromDict",value:function(e,t){return[(0,r.transpose)(Object.values(e)).map((function(e){return new a.default(e,t)})),t]}},{key:"_fromArray",value:function(e,t){return[e.map((function(e){return new a.default(e,t)})),t]}},{key:"_joinByType",value:function(e,t,n,i){var r=this,o=t.listHashs();return e.toCollection().map((function(e){var a=e.group,s=e.hash,c=o.includes(s),u=a;if(t.get(s)){var l=t.get(s).group.toCollection(),p=a.toCollection().map((function(e){return l.map((function(t){return Object.assign({},t,e)}))})).reduce((function(e,t){return[].concat(h(e),h(t))}),[]);u=r.__newInstance__(p,i)}var f=function(e){return!!e&&u};return"full"===n?u:f("out"===n?!c:c)})).filter((function(e){return e}))}},{key:"_join",value:function(t,n,i){if(!(t instanceof e))throw new o.ArgumentTypeError(t,"DataFrame");var a=h(new Set([].concat(h(this.listColumns()),h(t.listColumns())))),s=Array.isArray(n)?n:[n],c=this.groupBy.apply(this,h(s)),u=t.groupBy.apply(t,h(s));return[this.__newInstance__([],a)].concat(h((0,r.iter)([].concat(h(i[0]?this._joinByType(c,u,i[0],a):[]),h(i[1]?this._joinByType(u,c,i[1],a):[])),(function(e){return e.restructure(a)})))).reduce((function(e,t){return e.union(t)})).dropDuplicates()}},{key:"_cleanSavePath",value:function(e){return e.replace("file://","/")}},{key:"toDSV",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toDSV.apply(u,[this].concat(t))}},{key:"toCSV",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toCSV.apply(u,[this].concat(t))}},{key:"toTSV",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toTSV.apply(u,[this].concat(t))}},{key:"toPSV",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toPSV.apply(u,[this].concat(t))}},{key:"toText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toText.apply(u,[this].concat(t))}},{key:"toJSON",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.toJSON.apply(u,[this].concat(t))}},{key:"toDict",value:function(){var e=this;return Object.assign.apply(Object,[{}].concat(h(Object.entries(this.transpose().toArray()).map((function(t){var n=f(t,2),i=n[0],r=n[1];return p({},e[c.__columns__][i],r)})))))}},{key:"toArray",value:function(e){return e?Array.from(this).map((function(t){return t.get(e)})):Array.from(this).map((function(e){return e.toArray()}))}},{key:"toCollection",value:function(e){return e?Array.from(this):Array.from(this).map((function(e){return e.toDict()}))}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){return"| ".concat(e.map((function(e){var t=String(e);return t.length>9?t.substring(0,6)+"...":t+Array(10-t.length).join(" ")})).join(" | ")," |")},i=n(this[c.__columns__]),o=0,a=[i,Array(i.length).join("-")].concat(h((0,r.iter)(this[c.__rows__],(function(e){return o++,n(e.toArray())}),(function(){return o>=e})))).join("\n");return t||console.log(a),a}},{key:"dim",value:function(){return[this.count(),this[c.__columns__].length]}},{key:"transpose",value:function(e){var t=[].concat(h(e?["rowNames"]:[]),h(h(Array(this.count()).keys()).reverse())),n=(0,r.transpose)((e?this.push(this[c.__columns__]):this).toArray());return this.__newInstance__(n,t.reverse()).restructure(t)}},{key:"count",value:function(){return this[c.__rows__].length}},{key:"countValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[c.__columns__][0];return this.filter((function(n){return n.get(t)===e})).count()}},{key:"push",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.union(new e(n,this[c.__columns__]))}},{key:"replace",value:function(e,t,n){var i=this,r=n&&n.length>0?n:this[c.__columns__],o=Array.isArray(e)?e:[e];return this.map((function(e){return(r.length>0?r:i[c.__columns__]).reduce((function(e,n){return o.includes(e.get(n))?e.set(n,t):e}),e)}))}},{key:"distinct",value:function(e){return this.__newInstance__(p({},e,h(new Set(this.toArray(e)))),[e])}},{key:"unique",value:function(e){return this.distinct(e)}},{key:"listColumns",value:function(){return h(this[c.__columns__])}},{key:"select",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.__newInstance__(this[c.__rows__].map((function(e){return e.select.apply(e,t)})),t)}},{key:"withColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return this.__newInstance__(this[c.__rows__].map((function(n,i){return n.set(e,t(n,i))})),this[c.__columns__].includes(e)?this[c.__columns__]:[].concat(h(this[c.__columns__]),[e]))}},{key:"restructure",value:function(e){return this.__newInstance__(this[c.__rows__],e)}},{key:"renameAll",value:function(e){if(e.length!==this[c.__columns__].length)throw new o.WrongSchemaError(e,this[c.__columns__]);return this.__newInstance__(this.toArray(),e)}},{key:"rename",value:function(e,t){var n=this[c.__columns__].map((function(n){return n===e?t:n}));return this.renameAll(n)}},{key:"castAll",value:function(e){var t=this;if(e.length!==this[c.__columns__].length)throw new o.WrongSchemaError(e,this[c.__columns__]);return this.map((function(n){return new a.default(n.toArray().map((function(t,n){return e[n](t)})),t[c.__columns__])}))}},{key:"cast",value:function(e,t){return this.withColumn(e,(function(n){return t(n.get(e))}))}},{key:"drop",value:function(e){return this.__newInstance__(this[c.__rows__].map((function(t){return t.delete(e)})),this[c.__columns__].filter((function(t){return t!==e})))}},{key:"chain",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.__newInstance__(h(r.chain.apply(void 0,[this[c.__rows__]].concat(t))),this[c.__columns__])}},{key:"filter",value:function(e){var t="object"===l(e)?function(t){return Object.entries(e).map((function(e){var n=f(e,2),i=n[0],r=n[1];return Object.is(t.get(i),r)})).reduce((function(e,t){return e&&t}))}:e,n=(0,r.iter)(this[c.__rows__],(function(e,n){return!!t(e,n)&&e}));return this.__newInstance__(n,this[c.__columns__])}},{key:"where",value:function(e){return this.filter(e)}},{key:"find",value:function(e){return this.filter(e)[c.__rows__][0]}},{key:"map",value:function(e){return this.__newInstance__((0,r.iter)(this[c.__rows__],(function(t,n){return e(t,n)})),this[c.__columns__])}},{key:"reduce",value:function(e,t){return void 0===t?this[c.__rows__].reduce((function(t,n){return e(t,n)})):this[c.__rows__].reduce((function(t,n){return e(t,n)}),t)}},{key:"reduceRight",value:function(e,t){return void 0===t?this[c.__rows__].reduceRight((function(t,n){return e(t,n)})):this[c.__rows__].reduceRight((function(t,n){return e(t,n)}),t)}},{key:"dropDuplicates",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t&&t.length>0?t:this[c.__columns__];return this.groupBy.apply(this,h(i)).filter((function(e,t){return 0===t}))}},{key:"dropMissingValues",value:function(e){var t=e&&e.length>0?e:this[c.__columns__];return this.filter((function(e){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if([NaN,void 0,null].includes(e.get(s)))return!1}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}))}},{key:"fillMissingValues",value:function(e,t){return this.replace([NaN,void 0,null],e,t)}},{key:"shuffle",value:function(){return this.count()<2?this:this.__newInstance__(this.reduce((function(e,t){var n=Math.floor(Math.random()*(e.length-1)+1);return Array.isArray(e)?[].concat(h(e.slice(n,e.length+1)),[t],h(e.slice(0,n))):[e,t]})),this[c.__columns__])}},{key:"sample",value:function(e){var t=this.count()*e,n=0;return this.__newInstance__((0,r.iter)(this.shuffle()[c.__rows__],(function(e){return n++,e}),(function(){return n>=t})),this[c.__columns__])}},{key:"bisect",value:function(e){var t=this.count()*e,n=0,i=[];return[this.__newInstance__((0,r.iter)(this.shuffle()[c.__rows__],(function(e){if(n<t)return n++,e;i.push(e)})),this[c.__columns__]),this.__newInstance__(i,this[c.__columns__])]}},{key:"groupBy",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.groupBy)(this,t)}},{key:"sortBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"first";Array.isArray(e)||(e=[e]);var i=e,r=["first","last"].includes(n)?n:"first",a=function(e){return[NaN,null,void 0].includes(e)},s=this[c.__rows__].sort((function(e,n){return i.map((function(i){var s=[e.get(i),n.get(i)],c=s[0],u=s[1];if(a(c))return"last"===r?1:-1;if(a(u))return"last"===r?-1:1;if(l(c)!==l(u))throw new o.MixedTypeError([l(c),l(u)]);return c>u?t?-1:1:c<u?t?1:-1:0})).reduce((function(e,t){return e||t}))}));if(i.length>1){var u=[],p=[];return s.forEach((function(e){var t=!0,n=!1,r=void 0;try{for(var o,s=i[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var c=o.value;if(a(e.get(c)))return void u.push(e)}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}p.push(e)})),this.__newInstance__("last"===n?p.concat(u):u.concat(p),this[c.__columns__])}return this.__newInstance__(s,this[c.__columns__])}},{key:"union",value:function(t){if(!(t instanceof e))throw new o.ArgumentTypeError(t,"DataFrame");if(!(0,r.arrayEqual)(this[c.__columns__],t[c.__columns__]))throw new o.WrongSchemaError(t[c.__columns__],this[c.__columns__]);return this.__newInstance__([].concat(h(this),h(t.restructure(this[c.__columns__]))),this[c.__columns__])}},{key:"join",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"inner",r={inner:function(){return n.innerJoin(e,t)},full:function(){return n.fullJoin(e,t)},outer:function(){return n.outerJoin(e,t)},left:function(){return n.leftJoin(e,t)},right:function(){return n.rightJoin(e,t)}};return r[i]()}},{key:"innerJoin",value:function(e,t){return this._join(e,t,["in"])}},{key:"fullJoin",value:function(e,t){return this._join(e,t,["full","full"])}},{key:"outerJoin",value:function(e,t){return this.fullJoin(e,t)}},{key:"leftJoin",value:function(e,t){return this._join(e,t,["full","in"])}},{key:"rightJoin",value:function(e,t){return this._join(e,t,["in","full"])}},{key:"diff",value:function(e,t){return this._join(e,t,["out","out"])}},{key:"head",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.slice(0,e)}},{key:"tail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.slice(-e)}},{key:"slice",value:function(e,t){return this.__newInstance__(this[c.__rows__].slice(e||void 0,t||void 0),this[c.__columns__])}},{key:"getRow",value:function(e){return this[c.__rows__][e]}},{key:"setRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=Array.from(this[c.__rows__]);return n[e]=t(n[e]),this.__newInstance__(n,this[c.__columns__])}}]),e}();v.defaultModules=[];var y=v;t.default=y},function(e,t,n){var i={};i[n(16)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){var i=n(174),r=n(46),o=n(114),a=Array,s=Math.max;e.exports=function(e,t,n){for(var c=r(e),u=i(t,c),l=i(void 0===n?c:n,c),p=a(s(l-u,0)),h=0;u<l;u++,h++)o(p,h,e[u]);return p.length=h,p}},function(e,t,n){"use strict";var i=n(0),r=n(254);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){var i=n(6),r=n(13),o=n(3),a=n(86),s=n(181),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return o(i(n,e));throw c(a(e)+" is not iterable")}},function(e,t,n){var i=n(145),r=n(85),o=n(44),a=n(117),s=n(16)("iterator");e.exports=function(e){if(!o(e))return r(e,s)||r(e,"@@iterator")||a[i(e)]}},function(e,t,n){var i=n(16)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(45),a=n(110),s=n(15),c=n(418),u=n(184),l=n(151),p=n(115),h=n(69),f=n(31),d=n(16),m=n(117),g=n(257),v=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=d("iterator"),x=function(){return this};e.exports=function(e,t,n,a,d,g,k){c(n,t,a);var E,S,j,M=function(e){if(e===d&&R)return R;if(!w&&e in T)return T[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",C=!1,T=e.prototype,P=T[_]||T["@@iterator"]||d&&T[d],R=!w&&P||M(d),B="Array"==t&&T.entries||P;if(B&&(E=u(B.call(new e)))!==Object.prototype&&E.next&&(o||u(E)===b||(l?l(E,b):s(E[_])||f(E,_,x)),p(E,A,!0,!0),o&&(m[A]=x)),v&&"values"==d&&P&&"values"!==P.name&&(!o&&y?h(T,"name","values"):(C=!0,R=function(){return r(P,this)})),d)if(S={values:M("values"),keys:g?R:M("keys"),entries:M("entries")},k)for(j in S)(w||C||!(j in T))&&f(T,j,S[j]);else i({target:t,proto:!0,forced:w||C},S);return o&&!k||T[_]===R||f(T,_,R,{name:d}),m[t]=R,S}},function(e,t,n){var i=n(23),r=n(15),o=n(32),a=n(141),s=n(258),c=a("IE_PROTO"),u=Object,l=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=o(e);if(i(t,c))return t[c];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},function(e,t){e.exports=function(e,t){return{value:e,done:t}}},function(e,t,n){var i=n(0),r=n(263).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},function(e,t,n){var i=n(5),r=n(10).RegExp,o=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||i((function(){return!r("a","y").sticky})),s=o||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},function(e,t,n){var i=n(0),r=n(7),o=n(111),a=n(22),s=n(23),c=n(28).f,u=n(88),l=n(249),p=n(432),h=n(139),f=n(271),d=!1,m=h("meta"),g=0,v=function(e){c(e,m,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},d=!0;var e=u.f,t=r([].splice),n={};n[m]=1,e(n).length&&(u.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===m){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,m)){if(!p(e))return"F";if(!t)return"E";v(e)}return e[m].objectID},getWeakData:function(e,t){if(!s(e,m)){if(!p(e))return!0;if(!t)return!1;v(e)}return e[m].weakData},onFreeze:function(e){return f&&d&&p(e)&&!s(e,m)&&v(e),e}};o[m]=!0},function(e,t,n){var i=n(52),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},function(e,t,n){var i=n(15),r=n(22),o=n(151);e.exports=function(e,t,n){var a,s;return o&&i(a=t.constructor)&&a!==n&&r(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},function(e,t,n){"use strict";var i=n(19),r=n(28),o=n(16),a=n(21),s=o("species");e.exports=function(e){var t=i(e),n=r.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(22),r=n(43),o=n(16)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){"use strict";n(97);var i=n(7),r=n(31),o=n(153),a=n(5),s=n(16),c=n(69),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,p){var h=s(e),f=!a((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),d=f&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!d||n){var m=i(/./[h]),g=t(h,""[e],(function(e,t,n,r,a){var s=i(e),c=t.exec;return c===o||c===l.exec?f&&!a?{done:!0,value:m(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(l,h,g[1])}p&&c(l[h],"sham",!0)}},function(e,t,n){"use strict";var i=n(273).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(6),r=n(3),o=n(15),a=n(43),s=n(153),c=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=i(n,e,t);return null!==u&&r(u),u}if("RegExp"===a(e))return i(s,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,n){var i=n(7),r=n(51),o=n(29),a=n(197),s=i("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),p=function(e){return function(t){var n=o(r(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:p(1),end:p(2),trim:p(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";n(54),n(55),n(47),Object.defineProperty(t,"__esModule",{value:!0}),t.__hashes__=t.__groups__=t.__rows__=t.__columns__=void 0;var i=Symbol("columns");t.__columns__=i;var r=Symbol("rows");t.__rows__=r;var o=Symbol("groups");t.__groups__=o;var a=Symbol("hashes");t.__hashes__=a},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";(function(e){var t=n(492).getNewLibraryCopy(),i=n(494),r=n(504);try{var o=r(n.c,(function(){return n(505)}),(function(){n(729)}),e)}catch(e){var a=n(732).EOL;throw console.error(a+"###"+a+'### The "request" library is not installed automatically anymore.'+a+'### But is a dependency of "request-promise".'+a+"### Please install it with:"+a+"### npm install request --save"+a+"###"+a),e}t.config({cancellation:!0}),i({request:o,PromiseImpl:t,expose:["then","catch","finally","cancel","promise"],constructorMixin:function(e,t,n){var i=this;n((function(){i.abort()}))}}),o.bindCLS=function(){throw new Error("CLS support was dropped. To get it back read: https://github.com/request/request-promise/wiki/Getting-Back-Support-for-Continuation-Local-Storage")},e.exports=o}).call(this,n(37)(e))},function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(493),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(17))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},c=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,n=i.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!o)return!1;for(t in e);return void 0===t||i.call(e,t)},u=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,o,a,p=arguments[0],h=1,f=arguments.length,d=!1;for("boolean"==typeof p&&(d=p,p=arguments[1]||{},h=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});h<f;++h)if(null!=(t=arguments[h]))for(n in t)i=l(p,n),p!==(r=l(t,n))&&(d&&r&&(c(r)||(o=s(r)))?(o?(o=!1,a=i&&s(i)?i:[]):a=i&&c(i)?i:{},u(p,{name:n,newValue:e(d,a,r)})):void 0!==r&&u(p,{name:n,newValue:r}));return p}},function(e,t,n){"use strict";(function(e,i){var r=n(515),o=n(20),a=n(4).Buffer,s=void 0===e?i.nextTick:e;t.paramsHaveRequestBody=function(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart},t.safeStringify=function(e,t){var n;try{n=JSON.stringify(e,t)}catch(i){n=r(e,t)}return n},t.md5=function(e){return o.createHash("md5").update(e).digest("hex")},t.isReadStream=function(e){return e.readable&&e.path&&e.mode},t.toBase64=function(e){return a.from(e||"","utf8").toString("base64")},t.copy=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t},t.version=function(){var e=i.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}},t.defer=s}).call(this,n(201).setImmediate,n(8))},function(e,t,n){"use strict";var i=n(2),r=n(318),o=n(4).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,n,i,r,o,a){return c(e+(t&n|~t&i)+r+o|0,a)+t|0}function l(e,t,n,i,r,o,a){return c(e+(t&i|n&~i)+r+o|0,a)+t|0}function p(e,t,n,i,r,o,a){return c(e+(t^n^i)+r+o|0,a)+t|0}function h(e,t,n,i,r,o,a){return c(e+(n^(t|~i))+r+o|0,a)+t|0}i(s,r),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,i=this._b,r=this._c,o=this._d;n=u(n,i,r,o,e[0],3614090360,7),o=u(o,n,i,r,e[1],3905402710,12),r=u(r,o,n,i,e[2],606105819,17),i=u(i,r,o,n,e[3],3250441966,22),n=u(n,i,r,o,e[4],4118548399,7),o=u(o,n,i,r,e[5],1200080426,12),r=u(r,o,n,i,e[6],2821735955,17),i=u(i,r,o,n,e[7],4249261313,22),n=u(n,i,r,o,e[8],1770035416,7),o=u(o,n,i,r,e[9],2336552879,12),r=u(r,o,n,i,e[10],4294925233,17),i=u(i,r,o,n,e[11],2304563134,22),n=u(n,i,r,o,e[12],1804603682,7),o=u(o,n,i,r,e[13],4254626195,12),r=u(r,o,n,i,e[14],2792965006,17),n=l(n,i=u(i,r,o,n,e[15],1236535329,22),r,o,e[1],4129170786,5),o=l(o,n,i,r,e[6],3225465664,9),r=l(r,o,n,i,e[11],643717713,14),i=l(i,r,o,n,e[0],3921069994,20),n=l(n,i,r,o,e[5],3593408605,5),o=l(o,n,i,r,e[10],38016083,9),r=l(r,o,n,i,e[15],3634488961,14),i=l(i,r,o,n,e[4],3889429448,20),n=l(n,i,r,o,e[9],568446438,5),o=l(o,n,i,r,e[14],3275163606,9),r=l(r,o,n,i,e[3],4107603335,14),i=l(i,r,o,n,e[8],1163531501,20),n=l(n,i,r,o,e[13],2850285829,5),o=l(o,n,i,r,e[2],4243563512,9),r=l(r,o,n,i,e[7],1735328473,14),n=p(n,i=l(i,r,o,n,e[12],2368359562,20),r,o,e[5],4294588738,4),o=p(o,n,i,r,e[8],2272392833,11),r=p(r,o,n,i,e[11],1839030562,16),i=p(i,r,o,n,e[14],4259657740,23),n=p(n,i,r,o,e[1],2763975236,4),o=p(o,n,i,r,e[4],1272893353,11),r=p(r,o,n,i,e[7],4139469664,16),i=p(i,r,o,n,e[10],3200236656,23),n=p(n,i,r,o,e[13],681279174,4),o=p(o,n,i,r,e[0],3936430074,11),r=p(r,o,n,i,e[3],3572445317,16),i=p(i,r,o,n,e[6],76029189,23),n=p(n,i,r,o,e[9],3654602809,4),o=p(o,n,i,r,e[12],3873151461,11),r=p(r,o,n,i,e[15],530742520,16),n=h(n,i=p(i,r,o,n,e[2],3299628645,23),r,o,e[0],4096336452,6),o=h(o,n,i,r,e[7],1126891415,10),r=h(r,o,n,i,e[14],2878612391,15),i=h(i,r,o,n,e[5],4237533241,21),n=h(n,i,r,o,e[12],1700485571,6),o=h(o,n,i,r,e[3],2399980690,10),r=h(r,o,n,i,e[10],4293915773,15),i=h(i,r,o,n,e[1],2240044497,21),n=h(n,i,r,o,e[8],1873313359,6),o=h(o,n,i,r,e[15],4264355552,10),r=h(r,o,n,i,e[6],2734768916,15),i=h(i,r,o,n,e[13],1309151649,21),n=h(n,i,r,o,e[4],4149444226,6),o=h(o,n,i,r,e[11],3174756917,10),r=h(r,o,n,i,e[2],718787259,15),i=h(i,r,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+i|0,this._c=this._c+r|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(17))},function(e,t,n){"use strict";var i=n(99).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||r);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,p=!0,s||o.call(t)},f=function(e){o.call(t,e)},d=function(){var e;return a&&!p?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",d)}}},function(e,t,n){"use strict";var i=n(9).Buffer,r=n(2),o=n(318),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(e,t){return e<<t|e>>>32-t}function m(e,t,n,i,r,o,a,s){return d(e+(t^n^i)+o+a|0,s)+r|0}function g(e,t,n,i,r,o,a,s){return d(e+(t&n|~t&i)+o+a|0,s)+r|0}function v(e,t,n,i,r,o,a,s){return d(e+((t|~n)^i)+o+a|0,s)+r|0}function y(e,t,n,i,r,o,a,s){return d(e+(t&i|n&~i)+o+a|0,s)+r|0}function b(e,t,n,i,r,o,a,s){return d(e+(t^(n|~i))+o+a|0,s)+r|0}r(f,o),f.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,f=0|this._e,w=0|this._a,_=0|this._b,x=0|this._c,k=0|this._d,E=0|this._e,S=0;S<80;S+=1){var j,M;S<16?(j=m(n,i,r,o,f,e[s[S]],p[0],u[S]),M=b(w,_,x,k,E,e[c[S]],h[0],l[S])):S<32?(j=g(n,i,r,o,f,e[s[S]],p[1],u[S]),M=y(w,_,x,k,E,e[c[S]],h[1],l[S])):S<48?(j=v(n,i,r,o,f,e[s[S]],p[2],u[S]),M=v(w,_,x,k,E,e[c[S]],h[2],l[S])):S<64?(j=y(n,i,r,o,f,e[s[S]],p[3],u[S]),M=g(w,_,x,k,E,e[c[S]],h[3],l[S])):(j=b(n,i,r,o,f,e[s[S]],p[4],u[S]),M=m(w,_,x,k,E,e[c[S]],h[4],l[S])),n=f,f=o,o=d(r,10),r=i,i=j,w=E,E=k,k=d(x,10),x=_,_=M}var A=this._b+r+k|0;this._b=this._c+o+E|0,this._c=this._d+f+w|0,this._d=this._e+n+_|0,this._e=this._a+i+x|0,this._a=A},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(527),t.sha1=n(528),t.sha224=n(529),t.sha256=n(325),t.sha384=n(530),t.sha512=n(326)},function(e,t,n){"use strict";(function(t,i,r){var o=n(157);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:o.nextTick;y.WritableState=v;var u=Object.create(n(125));u.inherits=n(2);var l={deprecate:n(206)},p=n(328),h=n(4).Buffer,f=r.Uint8Array||function(){};var d,m=n(329);function g(){}function v(e,t){s=s||n(82),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p=!1===e.decodeStrings;this.decodeStrings=!p,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,r=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,r){--t.pendingcb,n?(o.nextTick(r,i),o.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(r(i),e._writableState.errorEmitted=!0,e.emit("error",i),E(e,t))}(e,n,i,t,r);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||_(e,n),i?c(w,e,n,a,r):w(e,n,a,r)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(82),!(d.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),p.call(this)}function b(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function w(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),E(e,t)}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)r[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;r.allBuffers=c,b(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,p=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,l,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=x(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,p),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):d=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var i,r=this._writableState,a=!1,s=!r.objectMode&&(i=e,h.isBuffer(i)||i instanceof f);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=g),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(i,a),r=!1),r}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,i,r,o);return c}(this,r,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(8),n(201).setImmediate,n(17))},function(e,t,n){"use strict";var i=n(34);function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(r,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,r,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},r.prototype._updateDecrypt=function(e){for(var t=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),n+=this._flushBuffer(r,n);return t+=this._buffer(e,t),r},r.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var i=n(547),r=n(555),o=n(343);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var i={ECB:n(548),CBC:n(549),CFB:n(550),CFB8:n(551),CFB1:n(552),OFB:n(553),CTR:n(341),GCM:n(341)},r=n(343);for(var o in r)r[o].module=i[r[o].mode];e.exports=r},function(e,t,n){var i;function r(e){this.rand=e}if(e.exports=function(e){return i||(i=new r(null)),i.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(561);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(9),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";var i=n(102).codes.ERR_STREAM_PREMATURE_CLOSE;function r(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i)}}}(o||r);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){a=!1,p=!0,s||o.call(t)},f=function(e){o.call(t,e)},d=function(){var e;return a&&!p?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",d),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==n.error&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",l),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",d)}}},function(e,t,n){(function(t){var i=n(218),r=n(98);function o(e){var t,n=e.modulus.byteLength();do{t=new i(r(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,n){var r=function(e){var t=o(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),s=new i(e).mul(r.blinder).umod(n.modulus),c=s.toRed(i.mont(n.prime1)),u=s.toRed(i.mont(n.prime2)),l=n.coefficient,p=n.prime1,h=n.prime2,f=c.redPow(n.exponent1).fromRed(),d=u.redPow(n.exponent2).fromRed(),m=f.isub(d).imul(l).umod(p).imul(h);return d.iadd(m).imul(r.unblinder).umod(n.modulus).toArrayLike(t,"be",a)}a.getr=o,e.exports=a}).call(this,n(9).Buffer)},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(574).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void i(!1,"Invalid character in "+e)}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,r){for(var o=0,a=0,s=Math.min(e.length,n),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=r,a=u>=49?u-49+10:u>=17?u-17+10:u,i(u>=0&&a<r,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch(e){o.prototype.inspect=p}else o.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);o=s>>>24-r&16777215,(r+=2)>=26&&(r-=26,a--),n=0!==o||a!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],l=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,r),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n<e.length)for(e[n++]=i;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),i=0,o=0):(i=a>>>24,o+=2)}if(n>=0)for(e[n--]=i;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this._strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function y(e,t,n){return v(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?m(this,e,t):n<1024?v(this,e,t):y(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},b.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},b.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},b.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},b.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"==typeof e),i(e<67108864);for(var n=0,r=0;r<this.length;r++){var o=(0|this.words[r])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[r]=67108863&a}return 0!==n&&(this.words[r]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=e.words[i]>>>r&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this._strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this._strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s._strip(),i._strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var n=(1<<26)%e,r=0,o=this.length-1;o>=0;o--)r=(n*r+(0|this.words[o]))%e;return t?-r:r},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*n;this.words[r]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new j(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){j.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},r(x,_),x.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(k,_),r(E,_),r(S,_),S.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new x;else if("p224"===e)t=new k;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return w[e]=t,t},j.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},j.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},j.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},j.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},j.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},j.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},j.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},j.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},j.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},j.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},j.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},j.prototype.isqr=function(e){return this.imul(e,e.clone())},j.prototype.sqr=function(e){return this.mul(e,e)},j.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},j.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},j.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},j.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},j.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},r(M,j),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t,n){"use strict";var i=t;i.version=n(575).version,i.utils=n(35),i.rand=n(214),i.curve=n(356),i.curves=n(220),i.ec=n(587),i.eddsa=n(591)},function(e,t,n){"use strict";var i,r=t,o=n(221),a=n(356),s=n(35).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new c(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=n(586)}catch(e){i=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},function(e,t,n){var i=t;i.utils=n(40),i.common=n(127),i.sha=n(580),i.ripemd=n(584),i.hmac=n(585),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},function(e,t,n){"use strict";const i=n(223).Reporter,r=n(128).EncoderBuffer,o=n(128).DecoderBuffer,a=n(34),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t,n){const i={};this._baseState=i,i.name=n,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));const n=new this.constructor(t.parent);return n._baseState=t,n},u.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},u.prototype._init=function(e){const t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){const t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);const i=e[n];t[i]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){u.prototype[e]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),u.prototype.use=function(e){a(e);const t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){const t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){const t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){const t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){const t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){const n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));let i,r=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){let i=null;if(null!==n.explicit?i=n.explicit:null!==n.implicit?i=n.implicit:null!==n.tag&&(i=n.tag),null!==i||n.any){if(a=this._peekTag(e,i,n.any),e.isError(a))return a}else{const i=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(i)}}if(n.obj&&a&&(i=e.enterObject()),a){if(null!==n.explicit){const t=this._decodeTag(e,n.explicit);if(e.isError(t))return t;e=t}const i=e.offset;if(null===n.use&&null===n.choice){let t;n.any&&(t=e.save());const i=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(i))return i;n.any?r=e.raw(t):e=i}if(t&&t.track&&null!==n.tag&&t.track(e.path(),i,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(r=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const i=new o(r);r=this._getUse(n.contains,e._reporterState.obj)._decode(i,t)}}return n.obj&&a&&(r=e.leaveObject(i)),null===n.key||null===r&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,r),r},u.prototype._decodeGeneric=function(e,t,n){const i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(e,t){const n=this._baseState;let i=null,r=!1;return Object.keys(n.choice).some((function(o){const a=e.save(),s=n.choice[o];try{const n=s._decode(e,t);if(e.isError(n))return!1;i={type:o,value:n},r=!0}catch(t){return e.restore(a),!1}return!0}),this),r?i:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},u.prototype._encode=function(e,t,n){const i=this._baseState;if(null!==i.default&&i.default===e)return;const r=this._encodeValue(e,t,n);return void 0===r||this._skipDefault(r,t,n)?void 0:r},u.prototype._encodeValue=function(e,t,n){const r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new i);let o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}let a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,n)._encode(e,t),s=!0;else if(r.children)a=r.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");const i=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const r=n._encode(e[n._baseState.key],t,e);return t.leaveKey(i),r}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){const i=this._baseState;return this._getUse(i.args[0],e)._encode(n,t)}),n))}else null!==r.use?o=this._getUse(r.use,n)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){const e=null!==r.implicit?r.implicit:r.tag,n=null===r.implicit?"universal":"context";null===e?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(e,s,n,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){const n=this._baseState,i=n.choice[e.type];return i||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,n){"use strict";const i=n(2);function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=r,r.prototype.isError=function(e){return e instanceof o},r.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,n){const i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){const t=this._reporterState,n=t.obj;return t.obj=e,n},r.prototype.error=function(e){let t;const n=this._reporterState,i=e instanceof o;if(t=i?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return i||n.errors.push(t),t},r.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){"use strict";function i(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const i=e[n];t[i]=n})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=i(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=i(t.tag)},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(610).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t,n){var i=n(129),r=n(39),o=e.exports;for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);function s(e){if("string"==typeof e&&(e=r.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),i.request.call(this,e,t)},o.get=function(e,t){return e=s(e),i.get.call(this,e,t)}},function(e,t,n){var i=n(25),r=n(130),o=n(49),a=n(26),s=n(134),c=n(135),u=n(41);e.exports={Key:i,parseKey:i.parse,Fingerprint:r,parseFingerprint:r.parse,Signature:o,parseSignature:o.parse,PrivateKey:a,parsePrivateKey:a.parse,generatePrivateKey:a.generate,Certificate:s,parseCertificate:s.parse,createSelfSignedCertificate:s.createSelfSigned,createCertificate:s.create,Identity:c,identityFromDN:c.parseDN,identityForHost:c.forHost,identityForUser:c.forUser,identityForEmail:c.forEmail,identityFromArray:c.fromArray,FingerprintFormatError:u.FingerprintFormatError,InvalidAlgorithmError:u.InvalidAlgorithmError,KeyParseError:u.KeyParseError,SignatureParseError:u.SignatureParseError,KeyEncryptedError:u.KeyEncryptedError,CertificateParseError:u.CertificateParseError}},function(e,t){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},function(e,t){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(e,t,n){e.exports={DiffieHellman:d,generateECDSA:function(e){var t=[];if(p){var n={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e],i=r.createECDH(n);return i.generateKeys(),t.push({name:"curve",data:o.from(e)}),t.push({name:"Q",data:i.getPublicKey()}),t.push({name:"d",data:i.getPrivateKey()}),new l({type:"ecdsa",curve:e,parts:t})}var a=new m(e),s=a.getN(),c=Math.ceil((s.bitLength()+64)/8),u=new f(r.randomBytes(c)),h=s.subtract(f.ONE),d=u.mod(h).add(f.ONE),g=a.getG().multiply(d);return d=o.from(d.toByteArray()),g=o.from(a.getCurve().encodePointHex(g),"hex"),t.push({name:"curve",data:o.from(e)}),t.push({name:"Q",data:g}),t.push({name:"d",data:d}),new l({type:"ecdsa",curve:e,parts:t})},generateED25519:function(){var e=c.sign.keyPair(),t=o.from(e.secretKey),n=o.from(e.publicKey);i.strictEqual(t.length,64),i.strictEqual(n.length,32);var r=[];return r.push({name:"A",data:n}),r.push({name:"k",data:t.slice(0,32)}),new l({type:"ed25519",parts:r})}};var i=n(12),r=n(20),o=n(14).Buffer,a=n(30),s=n(27),c=n(132),u=n(25),l=n(26),p=void 0!==r.createECDH,h=(n(638),n(164)),f=n(131).BigInteger;function d(e){if(s.assertCompatible(e,u,[1,4],"key"),this._isPriv=l.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,"dsa"===e.type){if(!p)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=r.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if("ecdsa"===e.type){if(!p)return this._ecParams=new m(this._curve),void(this._isPriv&&(this._priv=new v(this._ecParams,e.part.d.data)));var t={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e.curve];if(this._dh=r.createECDH(t),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return p=!1,void d.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if("curve25519"!==e.type)throw new Error("DH not supported for "+e.type+" keys");this._isPriv&&(s.assertCompatible(e,l,[1,5],"key"),this._priv=e.part.k.data)}}function m(e){var t=a.curves[e];i.object(t);var n=new f(t.p),r=new f(t.a),o=new f(t.b),s=new f(t.n),c=f.ONE,u=new h.ECCurveFp(n,r,o),l=u.decodePointHex(t.G.toString("hex"));this.curve=u,this.g=l,this.n=s,this.h=c}function g(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString("hex"))}function v(e,t){this._params=e,this._priv=new f(s.mpNormalize(t))}d.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},d.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},d.prototype.getKey=d.prototype.getPrivateKey,d.prototype._keyCheck=function(e,t){if(i.object(e,"key"),t||s.assertCompatible(e,l,[1,3],"key"),s.assertCompatible(e,u,[1,4],"key"),e.type!==this._algo)throw new Error("A "+e.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(e.curve!==this._curve)throw new Error("A key from the "+e.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===e.type&&(i.deepEqual(e.part.p,this._p,"DSA key prime does not match"),i.deepEqual(e.part.g,this._g,"DSA key generator does not match"))},d.prototype.setKey=function(e){if(this._keyCheck(e),"dsa"===e.type)this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data);else if("ecdsa"===e.type)p?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new v(this._ecParams,e.part.d.data);else if("curve25519"===e.type){var t=e.part.k;e.part.k||(t=e.part.r),this._priv=t.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)}this._key=e,this._isPriv=!0},d.prototype.setPrivateKey=d.prototype.setKey,d.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var t;if("dsa"===this._algo)return this._dh.computeSecret(e.part.y.data);if("ecdsa"===this._algo)return p?this._dh.computeSecret(e.part.Q.data):(t=new g(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if("curve25519"===this._algo){for(t=e.part.A.data;0===t[0]&&t.length>32;)t=t.slice(1);var n=this._priv;i.strictEqual(t.length,32),i.strictEqual(n.length,32);var r=c.box.before(new Uint8Array(t),new Uint8Array(n));return o.from(r)}throw new Error("Invalid algorithm: "+this._algo)},d.prototype.generateKey=function(){var e,t,n=[];if("dsa"===this._algo)return this._dh.generateKeys(),n.push({name:"p",data:this._p.data}),n.push({name:"q",data:this._key.part.q.data}),n.push({name:"g",data:this._g.data}),n.push({name:"y",data:this._dh.getPublicKey()}),n.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new l({type:"dsa",parts:n}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(p)return this._dh.generateKeys(),n.push({name:"curve",data:o.from(this._curve)}),n.push({name:"Q",data:this._dh.getPublicKey()}),n.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new l({type:"ecdsa",curve:this._curve,parts:n}),this._isPriv=!0,this._key;var a=this._ecParams.getN(),s=new f(r.randomBytes(a.bitLength())),u=a.subtract(f.ONE);return e=s.mod(u).add(f.ONE),t=this._ecParams.getG().multiply(e),e=o.from(e.toByteArray()),t=o.from(this._ecParams.getCurve().encodePointHex(t),"hex"),this._priv=new v(this._ecParams,e),n.push({name:"curve",data:o.from(this._curve)}),n.push({name:"Q",data:t}),n.push({name:"d",data:e}),this._key=new l({type:"ecdsa",curve:this._curve,parts:n}),this._isPriv=!0,this._key}if("curve25519"===this._algo){var h=c.box.keyPair();return e=o.from(h.secretKey),t=o.from(h.publicKey),e=o.concat([e,t]),i.strictEqual(e.length,64),i.strictEqual(t.length,32),n.push({name:"A",data:t}),n.push({name:"k",data:e}),this._key=new l({type:"curve25519",parts:n}),this._isPriv=!0,this._key}throw new Error("Invalid algorithm: "+this._algo)},d.prototype.generateKeys=d.prototype.generateKey,m.prototype.getCurve=function(){return this.curve},m.prototype.getG=function(){return this.g},m.prototype.getN=function(){return this.n},m.prototype.getH=function(){return this.h},v.prototype.deriveSharedSecret=function(e){i.ok(e instanceof g);var t=e._pub.multiply(this._priv);return o.from(t.getX().toBigInteger().toByteArray())}},function(e,t,n){e.exports={read:function(e,t){return l.read(e,t,"pkcs1")},readPkcs1:function(e,t,n){switch(e){case"RSA":if("public"===t)return function(e){var t=h(e,"modulus"),n=h(e,"exponent");return new c({type:"rsa",parts:[{name:"e",data:n},{name:"n",data:t}]})}(n);if("private"===t)return function(e){var t=h(e,"version");i.strictEqual(t[0],0);var n=h(e,"modulus"),r=h(e,"public exponent"),o=h(e,"private exponent"),a=h(e,"prime1"),s=h(e,"prime2"),c=h(e,"exponent1"),l=h(e,"exponent2"),p=h(e,"iqmp");return new u({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:r},{name:"d",data:o},{name:"iqmp",data:p},{name:"p",data:a},{name:"q",data:s},{name:"dmodp",data:c},{name:"dmodq",data:l}]})}(n);throw new Error("Unknown key type: "+t);case"DSA":if("public"===t)return function(e){var t=h(e,"y"),n=h(e,"p"),i=h(e,"q"),r=h(e,"g");return new c({type:"dsa",parts:[{name:"y",data:t},{name:"p",data:n},{name:"q",data:i},{name:"g",data:r}]})}(n);if("private"===t)return function(e){var t=h(e,"version");i.strictEqual(t.readUInt8(0),0);var n=h(e,"p"),r=h(e,"q"),o=h(e,"g"),a=h(e,"y"),s=h(e,"x");return new u({type:"dsa",parts:[{name:"p",data:n},{name:"q",data:r},{name:"g",data:o},{name:"y",data:a},{name:"x",data:s}]})}(n);throw new Error("Unknown key type: "+t);case"EC":case"ECDSA":if("private"===t)return function(e){var t=h(e,"version");i.strictEqual(t.readUInt8(0),1);var n=e.readString(r.Ber.OctetString,!0);e.readSequence(160);var a=p(e);i.string(a,"a known elliptic curve"),e.readSequence(161);var c=e.readString(r.Ber.BitString,!0);c=s.ecNormalize(c);var l={type:"ecdsa",parts:[{name:"curve",data:o.from(a)},{name:"Q",data:c},{name:"d",data:n}]};return new u(l)}(n);if("public"===t)return function(e){e.readSequence();var t=e.readOID();i.strictEqual(t,"1.2.840.10045.2.1","must be ecPublicKey");for(var n,u=e.readOID(),l=Object.keys(a.curves),p=0;p<l.length;++p){var h=l[p];if(a.curves[h].pkcs8oid===u){n=h;break}}i.string(n,"a known ECDSA named curve");var f=e.readString(r.Ber.BitString,!0);f=s.ecNormalize(f);var d={type:"ecdsa",parts:[{name:"curve",data:o.from(n)},{name:"Q",data:f}]};return new c(d)}(n);throw new Error("Unknown key type: "+t);case"EDDSA":case"EdDSA":if("private"===t)return function(e){var t=h(e,"version");i.strictEqual(t.readUInt8(0),1);var n=e.readString(r.Ber.OctetString,!0);e.readSequence(160);var o=e.readOID();i.strictEqual(o,"1.3.101.112","the ed25519 curve identifier"),e.readSequence(161);var a=s.readBitString(e),c={type:"ed25519",parts:[{name:"A",data:s.zeroPadToLength(a,32)},{name:"k",data:n}]};return new u(c)}(n);throw new Error(t+" keys not supported with EdDSA");default:throw new Error("Unknown key algo: "+e)}},write:function(e,t){return l.write(e,t,"pkcs1")},writePkcs1:function(e,t){switch(e.startSequence(),t.type){case"rsa":u.isPrivateKey(t)?function(e,t){var n=o.from([0]);e.writeBuffer(n,r.Ber.Integer),e.writeBuffer(t.part.n.data,r.Ber.Integer),e.writeBuffer(t.part.e.data,r.Ber.Integer),e.writeBuffer(t.part.d.data,r.Ber.Integer),e.writeBuffer(t.part.p.data,r.Ber.Integer),e.writeBuffer(t.part.q.data,r.Ber.Integer),t.part.dmodp&&t.part.dmodq||s.addRSAMissing(t);e.writeBuffer(t.part.dmodp.data,r.Ber.Integer),e.writeBuffer(t.part.dmodq.data,r.Ber.Integer),e.writeBuffer(t.part.iqmp.data,r.Ber.Integer)}(e,t):function(e,t){e.writeBuffer(t.part.n.data,r.Ber.Integer),e.writeBuffer(t.part.e.data,r.Ber.Integer)}(e,t);break;case"dsa":u.isPrivateKey(t)?function(e,t){var n=o.from([0]);e.writeBuffer(n,r.Ber.Integer),e.writeBuffer(t.part.p.data,r.Ber.Integer),e.writeBuffer(t.part.q.data,r.Ber.Integer),e.writeBuffer(t.part.g.data,r.Ber.Integer),e.writeBuffer(t.part.y.data,r.Ber.Integer),e.writeBuffer(t.part.x.data,r.Ber.Integer)}(e,t):function(e,t){e.writeBuffer(t.part.y.data,r.Ber.Integer),e.writeBuffer(t.part.p.data,r.Ber.Integer),e.writeBuffer(t.part.q.data,r.Ber.Integer),e.writeBuffer(t.part.g.data,r.Ber.Integer)}(e,t);break;case"ecdsa":u.isPrivateKey(t)?function(e,t){var n=o.from([1]);e.writeBuffer(n,r.Ber.Integer),e.writeBuffer(t.part.d.data,r.Ber.OctetString),e.startSequence(160);var c=t.part.curve.data.toString(),u=a.curves[c].pkcs8oid;i.string(u,"a known ECDSA named curve"),e.writeOID(u),e.endSequence(),e.startSequence(161);var l=s.ecNormalize(t.part.Q.data,!0);e.writeBuffer(l,r.Ber.BitString),e.endSequence()}(e,t):function(e,t){e.startSequence(),e.writeOID("1.2.840.10045.2.1");var n=t.part.curve.data.toString(),o=a.curves[n].pkcs8oid;i.string(o,"a known ECDSA named curve"),e.writeOID(o),e.endSequence();var c=s.ecNormalize(t.part.Q.data,!0);e.writeBuffer(c,r.Ber.BitString)}(e,t);break;case"ed25519":u.isPrivateKey(t)?function(e,t){var n=o.from([1]);e.writeBuffer(n,r.Ber.Integer),e.writeBuffer(t.part.k.data,r.Ber.OctetString),e.startSequence(160),e.writeOID("1.3.101.112"),e.endSequence(),e.startSequence(161),s.writeBitString(e,t.part.A.data),e.endSequence()}(e,t):function(e,t){throw new Error("Public keys are not supported for EdDSA PKCS#1")}();break;default:throw new Error("Unknown key algo: "+t.type)}e.endSequence()}};var i=n(12),r=n(50),o=n(14).Buffer,a=n(30),s=n(27),c=n(25),u=n(26),l=n(61),p=n(133).readECDSACurve;function h(e,t){return i.strictEqual(e.peek(),r.Ber.Integer,t+" is not an Integer"),s.mpNormalize(e.readString(r.Ber.Integer,!0))}},function(e,t,n){e.exports={read:function(e,t){"string"!=typeof e&&(i.buffer(e,"buf"),e=e.toString("ascii"));var n=e.split("\n");if(n[0].match(/^Private-key-format\: v1/)){var c=n[1].split(" "),p=parseInt(c[1],10),h=c[2];if(!u[p])throw new Error("Unsupported algorithm: "+h);return function(e,t){if(u[e].match(/^RSA-/))return function(e){var t={};e.forEach((function(e){"Modulus:"===e.split(" ")[0]?t.n=l(e):"PublicExponent:"===e.split(" ")[0]?t.e=l(e):"PrivateExponent:"===e.split(" ")[0]?t.d=l(e):"Prime1:"===e.split(" ")[0]?t.p=l(e):"Prime2:"===e.split(" ")[0]?t.q=l(e):"Exponent1:"===e.split(" ")[0]?t.dmodp=l(e):"Exponent2:"===e.split(" ")[0]?t.dmodq=l(e):"Coefficient:"===e.split(" ")[0]&&(t.iqmp=l(e))}));var n={type:"rsa",parts:[{name:"e",data:s.mpNormalize(t.e)},{name:"n",data:s.mpNormalize(t.n)},{name:"d",data:s.mpNormalize(t.d)},{name:"p",data:s.mpNormalize(t.p)},{name:"q",data:s.mpNormalize(t.q)},{name:"dmodp",data:s.mpNormalize(t.dmodp)},{name:"dmodq",data:s.mpNormalize(t.dmodq)},{name:"iqmp",data:s.mpNormalize(t.iqmp)}]};return new a(n)}(t);if("ECDSA-P384-SHA384"===u[e]||"ECDSA-P256-SHA256"===u[e]){var n=r.from(t[0].split(" ")[1],"base64"),i="nistp384",o=384;"ECDSA-P256-SHA256"===u[e]&&(i="nistp256",o=256);var c=s.publicFromPrivateECDSA(i,n).part.Q.data,p={type:"ecdsa",curve:i,size:o,parts:[{name:"curve",data:r.from(i)},{name:"d",data:n},{name:"Q",data:c}]};return new a(p)}throw new Error("Unsupported algorithm: "+u[e])}(p,n.slice(2))}var f=0;for(;n[f].match(/^\;/);)f++;if((n[f].match(/\. IN KEY /)||n[f].match(/\. IN DNSKEY /))&&0===n[f+1].length)return function(e){var t=e.split(" "),n=parseInt(t[5],10);if(!u[n])throw new Error("Unsupported algorithm: "+n);var i=t.slice(6,t.length).join(),a=r.from(i,"base64");if(u[n].match(/^RSA-/)){var c=a.readUInt8(0);if(3!=c&&1!=c)throw new Error("Cannot parse dnssec key: unsupported exponent length");var l=a.slice(1,c+1);l=s.mpNormalize(l);var p=a.slice(1+c);p=s.mpNormalize(p);var h={type:"rsa",parts:[]};return h.parts.push({name:"e",data:l}),h.parts.push({name:"n",data:p}),new o(h)}if("ECDSA-P384-SHA384"===u[n]||"ECDSA-P256-SHA256"===u[n]){var f="nistp384",d=384;u[n].match(/^ECDSA-P256-SHA256/)&&(f="nistp256",d=256);var m={type:"ecdsa",curve:f,size:d,parts:[{name:"curve",data:r.from(f)},{name:"Q",data:s.ecNormalize(a)}]};return new o(m)}throw new Error("Unsupported algorithm: "+u[n])}(n[f]);throw new Error("Cannot parse dnssec key")},write:function(e,t){if(a.isPrivateKey(e)){if("rsa"===e.type)return function(e,t){e.part.dmodp&&e.part.dmodq||s.addRSAMissing(e);var n="";n+="Private-key-format: v1.3\n",n+="Algorithm: "+function(e){if(e&&e.hashAlgo&&"sha1"!==e.hashAlgo){if("sha256"===e.hashAlgo)return"8 (RSASHA256)";if("sha512"===e.hashAlgo)return"10 (RSASHA512)";throw new Error("Unknown or unsupported hash: "+e.hashAlgo)}return"5 (RSASHA1)"}(t)+"\n";var i=s.mpDenormalize(e.part.n.data);n+="Modulus: "+i.toString("base64")+"\n";var o=s.mpDenormalize(e.part.e.data);n+="PublicExponent: "+o.toString("base64")+"\n";var a=s.mpDenormalize(e.part.d.data);n+="PrivateExponent: "+a.toString("base64")+"\n";var c=s.mpDenormalize(e.part.p.data);n+="Prime1: "+c.toString("base64")+"\n";var u=s.mpDenormalize(e.part.q.data);n+="Prime2: "+u.toString("base64")+"\n";var l=s.mpDenormalize(e.part.dmodp.data);n+="Exponent1: "+l.toString("base64")+"\n";var h=s.mpDenormalize(e.part.dmodq.data);n+="Exponent2: "+h.toString("base64")+"\n";var f=s.mpDenormalize(e.part.iqmp.data);n+="Coefficient: "+f.toString("base64")+"\n";var d=new Date;return n+="Created: "+p(d)+"\n",n+="Publish: "+p(d)+"\n",n+="Activate: "+p(d)+"\n",r.from(n,"ascii")}(e,t);if("ecdsa"===e.type)return function(e,t){var n="";if(n+="Private-key-format: v1.3\n","nistp256"===e.curve)n+="Algorithm: 13 (ECDSAP256SHA256)\n";else{if("nistp384"!==e.curve)throw new Error("Unsupported curve");n+="Algorithm: 14 (ECDSAP384SHA384)\n"}var i=e.part.d.data.toString("base64");n+="PrivateKey: "+i+"\n";var o=new Date;return n+="Created: "+p(o)+"\n",n+="Publish: "+p(o)+"\n",n+="Activate: "+p(o)+"\n",r.from(n,"ascii")}(e);throw new Error("Unsupported algorithm: "+e.type)}throw o.isKey(e)?new Error('Format "dnssec" only supports writing private keys'):new Error("key is not a Key or PrivateKey")}};var i=n(12),r=n(14).Buffer,o=n(25),a=n(26),s=n(27),c=(n(104),n(230),{"rsa-sha1":5,"rsa-sha256":8,"rsa-sha512":10,"ecdsa-p256-sha256":13,"ecdsa-p384-sha384":14}),u={};function l(e){return r.from(e.split(" ")[1],"base64")}function p(e){var t=e.getFullYear()+""+(e.getMonth()+1)+e.getUTCDate();return t+=""+e.getUTCHours()+e.getUTCMinutes(),t+=e.getUTCSeconds()}Object.keys(c).forEach((function(e){u[c[e]]=e.toUpperCase()}))},function(e,t,n){e.exports={read:function(e,t){var n,a,h=e.toString("ascii").split(/[\r\n]+/),f=!1,d=0;for(;d<h.length;)if((n=p(h[d++]))&&(a={"putty-user-key-file-2":2,"putty-user-key-file-3":3}[n[0].toLowerCase()])){f=!0;break}if(!f)throw new Error("No PuTTY format first line found");var m=n[1];n=p(h[d++]),i.equal(n[0].toLowerCase(),"encryption");var g=n[1];n=p(h[d++]),i.equal(n[0].toLowerCase(),"comment");var v=n[1];n=p(h[d++]),i.equal(n[0].toLowerCase(),"public-lines");var y=parseInt(n[1],10);if(!isFinite(y)||y<0||y>h.length)throw new Error("Invalid public-lines count");var b=r.from(h.slice(d,d+y).join(""),"base64"),w=o.algToKeyType(m),_=o.read(b);if(_.type!==w)throw new Error("Outer key algorithm mismatch");if(h[d+=y]){n=p(h[d++]),i.equal(n[0].toLowerCase(),"private-lines");var x=parseInt(n[1],10);if(!isFinite(x)||x<0||x>h.length)throw new Error("Invalid private-lines count");var k=r.from(h.slice(d,d+x).join(""),"base64");if("none"!==g&&3===a)throw new Error("Encrypted keys arenot supported for PuTTY format version 3");if("aes256-cbc"===g){if(!t.passphrase)throw new l.KeyEncryptedError(t.filename,"PEM");var E=r.alloc(16,0),S=c.createDecipheriv("aes-256-cbc",(A=t.passphrase,C=c.createHash("sha1").update(r.concat([r.from([0,0,0,0]),r.from(A)])).digest(),T=c.createHash("sha1").update(r.concat([r.from([0,0,0,1]),r.from(A)])).digest(),r.concat([C,T]).slice(0,32)),E);S.setAutoPadding(!1),k=r.concat([S.update(k),S.final()])}if((_=new u(_)).type!==w)throw new Error("Outer key algorithm mismatch");var j,M=new s({buffer:k});if("ssh-dss"===m)j=[{name:"x",data:M.readBuffer()}];else if("ssh-rsa"===m)j=[{name:"d",data:M.readBuffer()},{name:"p",data:M.readBuffer()},{name:"q",data:M.readBuffer()},{name:"iqmp",data:M.readBuffer()}];else if(m.match(/^ecdsa-sha2-nistp/))j=[{name:"d",data:M.readBuffer()}];else{if("ssh-ed25519"!==m)throw new Error("Unsupported PPK key type: "+m);j=[{name:"k",data:M.readBuffer()}]}_=new u({type:_.type,parts:_.parts.concat(j)})}var A,C,T;return _.comment=v,_},write:function(e,t){if(i.object(e),!a.isKey(e))throw new Error("Must be a public key");var n=o.keyTypeToAlg(e),s=o.write(e),c=e.comment||"",u=function(e,t){var n=[],i=0;for(;i<e.length;)n.push(e.slice(i,i+64)),i+=64;return n}(s.toString("base64"));return u.unshift("Public-Lines: "+u.length),u.unshift("Comment: "+c),u.unshift("Encryption: none"),u.unshift("PuTTY-User-Key-File-2: "+n),r.from(u.join("\n")+"\n")}};var i=n(12),r=n(14).Buffer,o=n(62),a=n(25),s=n(104),c=n(20),u=n(26),l=n(41);function p(e){var t=e.indexOf(":");if(-1===t)return null;var n=e.slice(0,t);for(++t;" "===e[t];)++t;return[n,e.slice(t)]}},function(e,t){function n(e){this.dict=e||{}}n.prototype.set=function(e,t,n){if("object"!=typeof e){void 0===n&&(n=!0);var i=this.has(e);return!n&&i?this.dict[i]=this.dict[i]+","+t:this.dict[i||e]=t,i}for(var r in e)this.set(r,e[r],t)},n.prototype.has=function(e){for(var t=Object.keys(this.dict),n=(e=e.toLowerCase(),0);n<t.length;n++)if(t[n].toLowerCase()===e)return t[n];return!1},n.prototype.get=function(e){var t,n;e=e.toLowerCase();var i=this.dict;return Object.keys(i).forEach((function(r){n=r.toLowerCase(),e===n&&(t=i[r])})),t},n.prototype.swap=function(e){var t=this.has(e);if(t!==e){if(!t)throw new Error('There is no header than matches "'+e+'"');this.dict[e]=this.dict[t],delete this.dict[t]}},n.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]},e.exports=function(e){return new n(e)},e.exports.httpify=function(e,t){var i=new n(t);return e.setHeader=function(e,t,n){if(void 0!==t)return i.set(e,t,n)},e.hasHeader=function(e){return i.has(e)},e.getHeader=function(e){return i.get(e)},e.removeHeader=function(e){return i.del(e)},e.headers=i.dict,i}},function(e,t,n){"use strict";var i=n(663),r=n(236),o=n(105),a=n(384),s=n(665);function c(e,t,n){var i=this._refs[n];if("string"==typeof i){if(!this._refs[i])return c.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[n])instanceof a)return d(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var r,o,s,l=u.call(this,t,n);return l&&(r=l.schema,t=l.root,s=l.baseId),r instanceof a?o=r.validate||e.call(this,r.schema,t,void 0,s):void 0!==r&&(o=d(r,this._opts.inlineRefs)?r:e.call(this,r,t,void 0,s)),o}function u(e,t){var n=i.parse(t),r=g(n),o=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==o){var s=y(r),c=this._refs[s];if("string"==typeof c)return l.call(this,e,c,n);if(c instanceof a)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[s])instanceof a))return;if(c.validate||this._compile(c),s==y(t))return{schema:c,root:e,baseId:o};e=c}if(!e.schema)return;o=m(this._getId(e.schema))}return h.call(this,n,o,e.schema,e)}function l(e,t,n){var i=u.call(this,e,t);if(i){var r=i.schema,o=i.baseId;e=i.root;var a=this._getId(r);return a&&(o=b(o,a)),h.call(this,n,o,r,e)}}e.exports=c,c.normalizeId=y,c.fullPath=m,c.url=b,c.ids=function(e){var t=y(this._getId(e)),n={"":t},a={"":m(t,!1)},c={},u=this;return s(e,{allKeys:!0},(function(e,t,s,l,p,h,f){if(""!==t){var d=u._getId(e),m=n[l],g=a[l]+"/"+p;if(void 0!==f&&(g+="/"+("number"==typeof f?f:o.escapeFragment(f))),"string"==typeof d){d=m=y(m?i.resolve(m,d):d);var v=u._refs[d];if("string"==typeof v&&(v=u._refs[v]),v&&v.schema){if(!r(e,v.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=y(g))if("#"==d[0]){if(c[d]&&!r(e,c[d]))throw new Error('id "'+d+'" resolves to more than one schema');c[d]=e}else u._refs[d]=g}n[t]=m,a[t]=g}})),c},c.inlineRef=d,c.schema=u;var p=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,n,i){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var r=e.fragment.split("/"),a=1;a<r.length;a++){var s=r[a];if(s){if(void 0===(n=n[s=o.unescapeFragment(s)]))break;var c;if(!p[s]&&((c=this._getId(n))&&(t=b(t,c)),n.$ref)){var l=b(t,n.$ref),h=u.call(this,i,l);h&&(n=h.schema,i=h.root,t=h.baseId)}}}return void 0!==n&&n!==i.schema?{schema:n,root:i,baseId:t}:void 0}}var f=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function d(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&!e(n))return!1}else for(var r in t){if("$ref"==r)return!1;if("object"==typeof(n=t[r])&&!e(n))return!1}return!0}(e):t?function e(t){var n,i=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&(i+=e(n)),i==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(f[o])i++;else if("object"==typeof(n=t[o])&&(i+=e(n)+1),i==1/0)return 1/0}return i}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=y(e)),g(i.parse(e))}function g(e){return i.serialize(e).split("#")[0]+"#"}var v=/#\/?$/;function y(e){return e?e.replace(v,""):""}function b(e,t){return t=y(t),i.resolve(e,t)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";var i=n(235);function r(e,t,n){this.message=n||r.message(e,t),this.missingRef=i.url(e,t),this.missingSchema=i.normalizeId(i.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(r)},r.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var i=n(717),r=n(718);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t,n){var i=n(106),r=Function.prototype,o=r.call,a=i&&r.bind.bind(o,o);e.exports=function(e){return i?a(e):function(){return o.apply(e,arguments)}}},function(e,t){var n="object"==typeof document&&document.all,i=void 0===n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:i}},function(e,t,n){var i=n(84);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(21),r=n(5),o=n(140);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(21),r=n(5);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,n){var i=n(23),r=n(245),o=n(66),a=n(28);e.exports=function(e,t,n){for(var s=r(t),c=a.f,u=o.f,l=0;l<s.length;l++){var p=s[l];i(e,p)||n&&i(n,p)||c(e,p,u(t,p))}}},function(e,t,n){var i=n(19),r=n(7),o=n(88),a=n(144),s=n(3),c=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?c(t,n(e)):t}},function(e,t,n){var i=n(7),r=n(23),o=n(33),a=n(173).indexOf,s=n(111),c=i([].push);e.exports=function(e,t){var n,i=o(e),u=0,l=[];for(n in i)!r(s,n)&&r(i,n)&&c(l,n);for(;t.length>u;)r(i,n=t[u++])&&(~a(l,n)||c(l,n));return l}},function(e,t,n){var i=n(21),r=n(243),o=n(28),a=n(3),s=n(33),c=n(113);t.f=i&&!r?Object.defineProperties:function(e,t){a(e);for(var n,i=s(t),r=c(t),u=r.length,l=0;u>l;)o.f(e,n=r[l++],i[n]);return e}},function(e,t,n){var i=n(19);e.exports=i("document","documentElement")},function(e,t,n){var i=n(43),r=n(33),o=n(88).f,a=n(178),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==i(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(r(e))}},function(e,t,n){var i=n(16);t.f=i},function(e,t,n){var i=n(408),r=n(23),o=n(250),a=n(28).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var i=n(410);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){var i=n(84);e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},function(e,t,n){"use strict";var i=n(89).forEach,r=n(92)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var i=n(6),r=n(3),o=n(85);e.exports=function(e,t,n){var a,s;r(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=i(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return r(a),n}},function(e,t,n){var i=n(16),r=n(117),o=i("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){"use strict";var i,r,o,a=n(5),s=n(15),c=n(22),u=n(70),l=n(184),p=n(31),h=n(16),f=n(45),d=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(r=l(l(o)))!==Object.prototype&&(i=r):m=!0),!c(i)||a((function(){var e={};return i[d].call(e)!==e}))?i={}:f&&(i=u(i)),s(i[d])||p(i,d,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},function(e,t,n){var i=n(5);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i=n(13),r=n(32),o=n(108),a=n(46),s=TypeError,c=function(e){return function(t,n,c,u){i(n);var l=r(t),p=o(l),h=a(l),f=e?h-1:0,d=e?-1:1;if(c<2)for(;;){if(f in p){u=p[f],f+=d;break}if(f+=d,e?f<0:h<=f)throw s("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=d)f in p&&(u=n(u,p[f],f,l));return u}};e.exports={left:c(!1),right:c(!0)}},function(e,t,n){"use strict";var i=n(0),r=n(146),o=n(147),a=n(22),s=n(174),c=n(46),u=n(33),l=n(114),p=n(16),h=n(149),f=n(148),d=h("slice"),m=p("species"),g=Array,v=Math.max;i({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var n,i,p,h=u(this),d=c(h),y=s(e,d),b=s(void 0===t?d:t,d);if(r(h)&&(n=h.constructor,(o(n)&&(n===g||r(n.prototype))||a(n)&&null===(n=n[m]))&&(n=void 0),n===g||void 0===n))return f(h,y,b);for(i=new(void 0===n?g:n)(v(b-y,0)),p=0;y<b;y++,p++)y in h&&l(i,p,h[y]);return i.length=p,i}})},function(e,t,n){"use strict";var i=n(0),r=n(5),o=n(32),a=n(169);i({target:"Date",proto:!0,arity:1,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=o(this),n=a(t,"number");return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(0),r=n(427);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},function(e,t,n){var i=n(21),r=n(7),o=n(113),a=n(33),s=r(n(137).f),c=r([].push),u=function(e){return function(t){for(var n,r=a(t),u=o(r),l=u.length,p=0,h=[];l>p;)n=u[p++],i&&!s(r,n)||c(h,e?[n,r[n]]:r[n]);return h}};e.exports={entries:u(!0),values:u(!1)}},function(e,t,n){var i=n(0),r=n(263).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){"use strict";var i=n(3);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},function(e,t,n){var i=n(5),r=n(10).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var i=n(5),r=n(10).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,n){var i=n(6),r=n(23),o=n(52),a=n(265),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||r(e,"flags")||!o(s,e)?t:i(a,e)}},function(e,t,n){n(431)},function(e,t,n){"use strict";var i=n(0),r=n(10),o=n(7),a=n(112),s=n(31),c=n(188),u=n(11),l=n(189),p=n(15),h=n(44),f=n(22),d=n(5),m=n(182),g=n(115),v=n(190);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),w=y?"set":"add",_=r[e],x=_&&_.prototype,k=_,E={},S=function(e){var t=o(x[e]);s(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return b&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!p(_)||!(b||x.forEach&&!d((function(){(new _).entries().next()})))))k=n.getConstructor(t,e,y,w),c.enable();else if(a(e,!0)){var j=new k,M=j[w](b?{}:-0,1)!=j,A=d((function(){j.has(1)})),C=m((function(e){new _(e)})),T=!b&&d((function(){for(var e=new _,t=5;t--;)e[w](t,t);return!e.has(-0)}));C||((k=t((function(e,t){l(e,x);var n=v(new _,e,k);return h(t)||u(t,n[w],{that:n,AS_ENTRIES:y}),n}))).prototype=x,x.constructor=k),(A||T)&&(S("delete"),S("has"),y&&S("get")),(T||M)&&S(w),b&&x.clear&&delete x.clear}return E[e]=k,i({global:!0,constructor:!0,forced:k!=_},E),g(k,e),b||n.setStrong(k,e,y),k}},function(e,t,n){var i=n(5);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var i=n(28).f,r=n(70),o=n(434),a=n(24),s=n(189),c=n(44),u=n(11),l=n(183),p=n(185),h=n(191),f=n(21),d=n(188).fastKey,m=n(53),g=m.set,v=m.getterFor;e.exports={getConstructor:function(e,t,n,l){var p=e((function(e,i){s(e,h),g(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),f||(e.size=0),c(i)||u(i,e[l],{that:e,AS_ENTRIES:n})})),h=p.prototype,m=v(t),y=function(e,t,n){var i,r,o=m(e),a=b(e,t);return a?a.value=n:(o.last=a={index:r=d(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),f?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},b=function(e,t){var n,i=m(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return o(h,{clear:function(){for(var e=m(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=m(this),n=b(this,e);if(n){var i=n.next,r=n.previous;delete t.index[n.index],n.removed=!0,r&&(r.next=i),i&&(i.previous=r),t.first==n&&(t.first=i),t.last==n&&(t.last=r),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=m(this),i=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),o(h,n?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&i(h,"size",{get:function(){return m(this).size}}),p},setStrong:function(e,t,n){var i=t+" Iterator",r=v(t),o=v(i);l(e,t,(function(e,t){g(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?p("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,p(void 0,!0))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){var i=n(7),r=n(142),o=n(29),a=n(51),s=i("".charAt),c=i("".charCodeAt),u=i("".slice),l=function(e){return function(t,n){var i,l,p=o(a(t)),h=r(n),f=p.length;return h<0||h>=f?e?"":void 0:(i=c(p,h))<55296||i>56319||h+1===f||(l=c(p,h+1))<56320||l>57343?e?s(p,h):i:e?u(p,h,h+2):l-56320+(i-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t,n){"use strict";var i=n(116),r=n(6),o=n(7),a=n(193),s=n(5),c=n(3),u=n(15),l=n(44),p=n(142),h=n(143),f=n(29),d=n(51),m=n(194),g=n(85),v=n(437),y=n(195),b=n(16)("replace"),w=Math.max,_=Math.min,x=o([].concat),k=o([].push),E=o("".indexOf),S=o("".slice),j="$0"==="a".replace(/./,"$0"),M=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(e,t,n){var o=M?"$":"$0";return[function(e,n){var i=d(this),o=l(e)?void 0:g(e,b);return o?r(o,e,i,n):r(t,f(i),e,n)},function(e,r){var a=c(this),s=f(e);if("string"==typeof r&&-1===E(r,o)&&-1===E(r,"$<")){var l=n(t,a,s,r);if(l.done)return l.value}var d=u(r);d||(r=f(r));var g=a.global;if(g){var b=a.unicode;a.lastIndex=0}for(var j=[];;){var M=y(a,s);if(null===M)break;if(k(j,M),!g)break;""===f(M[0])&&(a.lastIndex=m(s,h(a.lastIndex),b))}for(var A,C="",T=0,P=0;P<j.length;P++){for(var R=f((M=j[P])[0]),B=w(_(p(M.index),s.length),0),O=[],I=1;I<M.length;I++)k(O,void 0===(A=M[I])?A:String(A));var D=M.groups;if(d){var F=x([R],O,B,s);void 0!==D&&k(F,D);var z=f(i(r,void 0,F))}else z=v(R,s,B,O,D,r);B>=T&&(C+=S(s,T,B)+z,T=B+R.length)}return C+S(s,T)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!j||M)},function(e,t,n){"use strict";n(0)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:n(438)})},function(e,t,n){"use strict";n(0)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:n(277)})},function(e,t,n){"use strict";var i=n(6),r=n(13),o=n(3);e.exports=function(){for(var e,t=o(this),n=r(t.delete),a=!0,s=0,c=arguments.length;s<c;s++)e=i(n,t,arguments[s]),a=a&&e;return!!a}},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(6),a=n(13),s=n(3),c=n(36),u=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(e){var t=s(this),n=new(c(t,r("Set")))(t),i=a(n.delete);return u(e,(function(e){o(i,n,e)})),n}})},function(e,t,n){var i=n(147),r=n(86),o=TypeError;e.exports=function(e){if(i(e))return e;throw o(r(e)+" is not a constructor")}},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(77),s=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{every:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n){if(!i(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(6),a=n(13),s=n(3),c=n(24),u=n(36),l=n(77),p=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(e){var t=s(this),n=l(t),i=c(e,arguments.length>1?arguments[1]:void 0),h=new(u(t,r("Set"))),f=a(h.add);return p(n,(function(e){i(e,e,t)&&o(f,h,e)}),{IS_ITERATOR:!0}),h}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(77),s=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{find:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n){if(i(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(6),a=n(13),s=n(3),c=n(36),u=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(e){var t=s(this),n=new(c(t,r("Set"))),i=a(t.has),l=a(n.add);return u(e,(function(e){o(i,t,e)&&o(l,n,e)})),n}})},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(13),a=n(3),s=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,i){if(!0===r(n,t,e))return i()}),{INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(6),a=n(13),s=n(15),c=n(3),u=n(180),l=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(e){var t=u(this),n=c(e),i=n.has;return s(i)||(n=new(r("Set"))(e),i=a(n.has)),!l(t,(function(e,t){if(!1===o(i,n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(13),a=n(3),s=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e,i){if(!1===r(n,t,e))return i()}),{INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(7),o=n(3),a=n(29),s=n(77),c=n(11),u=r([].join),l=[].push;i({target:"Set",proto:!0,real:!0,forced:!0},{join:function(e){var t=o(this),n=s(t),i=void 0===e?",":a(e),r=[];return c(n,l,{that:r,IS_ITERATOR:!0}),u(r,i)}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(24),a=n(6),s=n(13),c=n(3),u=n(36),l=n(77),p=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{map:function(e){var t=c(this),n=l(t),i=o(e,arguments.length>1?arguments[1]:void 0),h=new(u(t,r("Set"))),f=s(h.add);return p(n,(function(e){a(f,h,i(e,e,t))}),{IS_ITERATOR:!0}),h}})},function(e,t,n){"use strict";var i=n(0),r=n(13),o=n(3),a=n(77),s=n(11),c=TypeError;i({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=o(this),n=a(t),i=arguments.length<2,u=i?void 0:arguments[1];if(r(e),s(n,(function(n){i?(i=!1,u=n):u=e(u,n,n,t)}),{IS_ITERATOR:!0}),i)throw c("Reduce of empty set with no initial value");return u}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(77),s=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{some:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n){if(i(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(6),a=n(13),s=n(3),c=n(36),u=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(e){var t=s(this),n=new(c(t,r("Set")))(t),i=a(n.delete),l=a(n.add);return u(e,(function(e){o(i,n,e)||o(l,n,e)})),n}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(13),a=n(3),s=n(36),c=n(11);i({target:"Set",proto:!0,real:!0,forced:!0},{union:function(e){var t=a(this),n=new(s(t,r("Set")))(t);return c(e,o(n.add),{that:n}),n}})},function(e,t,n){var i=n(10),r=n(294),o=n(295),a=n(254),s=n(69),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in r)r[u]&&c(i[u]&&i[u].prototype);c(o)},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(140)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},function(e,t,n){"use strict";var i=n(0),r=n(6);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},function(e,t,n){"use strict";var i=n(116),r=n(6),o=n(7),a=n(193),s=n(3),c=n(44),u=n(192),l=n(51),p=n(36),h=n(194),f=n(143),d=n(29),m=n(85),g=n(178),v=n(195),y=n(153),b=n(187),w=n(5),_=b.UNSUPPORTED_Y,x=Math.min,k=[].push,E=o(/./.exec),S=o(k),j=o("".slice);a("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=d(l(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!u(e))return r(t,o,e,a);for(var s,c,p,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=new RegExp(e.source,f+"g");(s=r(y,v,o))&&!((c=v.lastIndex)>m&&(S(h,j(o,m,s.index)),s.length>1&&s.index<o.length&&i(k,h,g(s,1)),p=s[0].length,m=c,h.length>=a));)v.lastIndex===s.index&&v.lastIndex++;return m===o.length?!p&&E(v,"")||S(h,""):S(h,j(o,m)),h.length>a?g(h,0,a):h}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t,[function(t,n){var i=l(this),a=c(t)?void 0:m(t,e);return a?r(a,t,i,n):r(o,d(i),t,n)},function(e,i){var r=s(this),a=d(e),c=n(o,r,a,i,o!==t);if(c.done)return c.value;var u=p(r,RegExp),l=r.unicode,m=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(_?"g":"y"),g=new u(_?"^(?:"+r.source+")":r,m),y=void 0===i?4294967295:i>>>0;if(0===y)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var b=0,w=0,k=[];w<a.length;){g.lastIndex=_?0:w;var E,M=v(g,_?j(a,w):a);if(null===M||(E=x(f(g.lastIndex+(_?w:0)),a.length))===b)w=h(a,w,l);else{if(S(k,j(a,b,w)),k.length===y)return k;for(var A=1;A<=M.length-1;A++)if(S(k,M[A]),k.length===y)return k;w=b=E}}return S(k,j(a,b)),k}]}),!!w((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_)},function(e,t,n){"use strict";var i=n(0),r=n(7),o=n(173).indexOf,a=n(92),s=r([].indexOf),c=!!s&&1/s([1],1,-0)<0,u=a("indexOf");i({target:"Array",proto:!0,forced:c||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:o(this,e,t)}})},function(e,t,n){var i=n(0),r=n(5),o=n(32),a=n(184),s=n(258);i({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){"use strict";n(54),n(55),n(71),n(90),n(91),n(93),n(72),n(56),n(94),n(73),n(262),n(186),n(460),n(299),n(74),n(47),n(264),n(57),n(75),n(76),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(154);var i=n(119),r=n(79);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=Symbol("columns"),u=Symbol("values"),l=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new r.ArgumentTypeError(t,"Row | Array | Object");this[c]=n||Object.keys(t),this[u]=Object.freeze(this._build(t))}var t,n,l;return t=e,(n=[{key:Symbol.iterator,value:regeneratorRuntime.mark((function(){var e,t,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=0,t=Object.values(this[u]);case 1:if(!(e<t.length)){i.next=8;break}return n=t[e],i.next=5,n;case 5:e++,i.next=1;break;case 8:case"end":return i.stop()}}),n,this)}))},{key:"__newInstance__",value:function(t,n){var r;return(0,i.arrayEqual)(this[c],n)?Object.assign(Object.create(Object.getPrototypeOf(this)),this,(o(r={},u,t),o(r,c,a(n)),r)):new e(t,n)}},{key:"_build",value:function(t){if(t instanceof Array)return this._fromArray(t);if(t instanceof e)return this._fromObject(t[u]);if(t instanceof Object&&null!==t)return this._fromObject(t);throw new r.ArgumentTypeError(t,"Row | Array | Object")}},{key:"_fromObject",value:function(e){return Object.assign.apply(Object,[{}].concat(a(this[c].map((function(t){return o({},t,e[t])})))))}},{key:"_fromArray",value:function(e){return Object.assign.apply(Object,[{}].concat(a(Object.entries(this[c]).map((function(t){return o({},t[1],e[t[0]])})))))}},{key:"toDict",value:function(){return Object.assign({},this[u])}},{key:"toArray",value:function(){return a(this)}},{key:"size",value:function(){return this[c].length}},{key:"hash",value:function(){return(0,i.hashCode)(JSON.stringify(this[u]))}},{key:"has",value:function(e){return this[c].includes(e)}},{key:"select",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.__newInstance__(Object.assign.apply(Object,[{}].concat(a(n.map((function(t){return o({},t,e.get(t))}))))),n)}},{key:"get",value:function(e){if(!this.has(e))throw new r.NoSuchColumnError(e,this[c]);return this[u][e]}},{key:"set",value:function(e,t){var n=Object.assign({},this[u],o({},e,t));return this.__newInstance__(n,Object.keys(n))}},{key:"delete",value:function(e){if(!this.has(e))throw new r.NoSuchColumnError(e,this[c]);return this.select.apply(this,a(this[c].filter((function(t){return t!==e}))))}}])&&s(t.prototype,n),l&&s(t,l),e}();t.default=l},function(e,t,n){var i,r,o,a,s=n(10),c=n(116),u=n(24),l=n(15),p=n(23),h=n(5),f=n(248),d=n(148),m=n(140),g=n(466),v=n(302),y=n(96),b=s.setImmediate,w=s.clearImmediate,_=s.process,x=s.Dispatch,k=s.Function,E=s.MessageChannel,S=s.String,j=0,M={};try{i=s.location}catch(e){}var A=function(e){if(p(M,e)){var t=M[e];delete M[e],t()}},C=function(e){return function(){A(e)}},T=function(e){A(e.data)},P=function(e){s.postMessage(S(e),i.protocol+"//"+i.host)};b&&w||(b=function(e){g(arguments.length,1);var t=l(e)?e:k(e),n=d(arguments,1);return M[++j]=function(){c(t,void 0,n)},r(j),j},w=function(e){delete M[e]},y?r=function(e){_.nextTick(C(e))}:x&&x.now?r=function(e){x.now(C(e))}:E&&!v?(a=(o=new E).port2,o.port1.onmessage=T,r=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!h(P)?(r=P,s.addEventListener("message",T,!1)):r="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),A(e)}}:function(e){setTimeout(C(e),0)}),e.exports={set:b,clear:w}},function(e,t,n){var i=n(68);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},function(e,t,n){var i=n(120),r=n(182),o=n(121).CONSTRUCTOR;e.exports=o||!r((function(e){i.all(e).then(void 0,(function(){}))}))},function(e,t,n){"use strict";var i=n(21),r=n(10),o=n(7),a=n(112),s=n(31),c=n(23),u=n(190),l=n(52),p=n(109),h=n(169),f=n(5),d=n(88).f,m=n(66).f,g=n(28).f,v=n(482),y=n(196).trim,b=r.Number,w=b.prototype,_=r.TypeError,x=o("".slice),k=o("".charCodeAt),E=function(e){var t=h(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,n,i,r,o,a,s,c,u=h(e,"number");if(p(u))throw _("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(t=k(u,0))||45===t){if(88===(n=k(u,2))||120===n)return NaN}else if(48===t){switch(k(u,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=(o=x(u,2)).length,s=0;s<a;s++)if((c=k(o,s))<48||c>r)return NaN;return parseInt(o,i)}return+u};if(a("Number",!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var j,M=function(e){var t=arguments.length<1?0:b(E(e)),n=this;return l(w,n)&&f((function(){v(n)}))?u(Object(t),n,M):t},A=i?d(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),C=0;A.length>C;C++)c(b,j=A[C])&&!c(M,j)&&g(M,j,m(b,j));M.prototype=w,w.constructor=M,s(r,"Number",M,{constructor:!0})}},function(e,t,n){n(0)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(308),r=n(501);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var i=n(309),r=n(499),o=n(500),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):o(e)}},function(e,t,n){var i=n(497).Symbol;e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var i=n(506),r=i.Cookie,o=i.CookieJar;function a(e){this._jar=new o(e,{looseMode:!0})}t.parse=function(e){if(e&&e.uri&&(e=e.uri),"string"!=typeof e)throw new Error("The cookie function only accepts STRING as param");return r.parse(e,{loose:!0})},a.prototype.setCookie=function(e,t,n){return this._jar.setCookieSync(e,t,n||{})},a.prototype.getCookieString=function(e){return this._jar.getCookieStringSync(e)},a.prototype.getCookies=function(e){return this._jar.getCookiesSync(e)},t.jar=function(e){return new a(e)}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2018, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(313);t.getPublicSuffix=function(e){return i.get(e)}},function(e,t,n){"use strict";var i=n(155),r={};r.rules=n(512).map((function(e){return{rule:e,suffix:e.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===e.charAt(0),exception:"!"===e.charAt(0)}})),r.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},r.findRule=function(e){var t=i.toASCII(e);return r.rules.reduce((function(e,n){return-1===n.punySuffix&&(n.punySuffix=i.toASCII(n.suffix)),r.endsWith(t,"."+n.punySuffix)||t===n.punySuffix?n:e}),null)},t.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},r.validate=function(e){var t=i.toASCII(e);if(t.length<1)return"DOMAIN_TOO_SHORT";if(t.length>255)return"DOMAIN_TOO_LONG";for(var n,r=t.split("."),o=0;o<r.length;++o){if(!(n=r[o]).length)return"LABEL_TOO_SHORT";if(n.length>63)return"LABEL_TOO_LONG";if("-"===n.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===n.charAt(n.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(n))return"LABEL_INVALID_CHARS"}},t.parse=function(e){if("string"!=typeof e)throw new TypeError("Domain name must be a string.");var n=e.slice(0).toLowerCase();"."===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1));var o=r.validate(n);if(o)return{input:e,error:{message:t.errorCodes[o],code:o}};var a={input:e,tld:null,sld:null,domain:null,subdomain:null,listed:!1},s=n.split(".");if("local"===s[s.length-1])return a;var c=function(){return/xn--/.test(n)?(a.domain&&(a.domain=i.toASCII(a.domain)),a.subdomain&&(a.subdomain=i.toASCII(a.subdomain)),a):a},u=r.findRule(n);if(!u)return s.length<2?a:(a.tld=s.pop(),a.sld=s.pop(),a.domain=[a.sld,a.tld].join("."),s.length&&(a.subdomain=s.pop()),c());a.listed=!0;var l=u.suffix.split("."),p=s.slice(0,s.length-l.length);return u.exception&&p.push(l.shift()),a.tld=l.join("."),p.length?(u.wildcard&&(l.unshift(p.pop()),a.tld=l.join(".")),p.length?(a.sld=p.pop(),a.domain=[a.sld,a.tld].join("."),p.length&&(a.subdomain=p.join(".")),c()):c()):c()},t.get=function(e){return e&&t.parse(e).domain||null},t.isValid=function(e){var n=t.parse(e);return Boolean(n.domain&&n.listed)}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */function i(){}t.Store=i,i.prototype.synchronous=!1,i.prototype.findCookie=function(e,t,n,i){throw new Error("findCookie is not implemented")},i.prototype.findCookies=function(e,t,n){throw new Error("findCookies is not implemented")},i.prototype.putCookie=function(e,t){throw new Error("putCookie is not implemented")},i.prototype.updateCookie=function(e,t,n){throw new Error("updateCookie is not implemented")},i.prototype.removeCookie=function(e,t,n,i){throw new Error("removeCookie is not implemented")},i.prototype.removeCookies=function(e,t,n){throw new Error("removeCookies is not implemented")},i.prototype.removeAllCookies=function(e){throw new Error("removeAllCookies is not implemented")},i.prototype.getAllCookies=function(e){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(312);t.permuteDomain=function(e){var t=i.getPublicSuffix(e);if(!t)return null;if(t==e)return[e];for(var n=e.slice(0,-(t.length+1)).split(".").reverse(),r=t,o=[r];n.length;)r=n.shift()+"."+r,o.push(r);return o}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */t.pathMatch=function(e,t){if(t===e)return!0;if(0===e.indexOf(t)){if("/"===t.substr(-1))return!0;if("/"===e.substr(t.length,1))return!0}return!1}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i=n(518).Buffer,r=n(519).Transform;function o(e){r.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(2)(o,r),o.prototype._transform=function(e,t,n){var i=null;try{this.update(e,t)}catch(e){i=e}n(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var n=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)n[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,i){var r;e.exports=S,S.ReadableState=E;n(58).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(320),s=n(9).Buffer,c=t.Uint8Array||function(){};var u,l=n(520);u=l&&l.debuglog?l.debuglog("stream"):function(){};var p,h,f,d=n(521),m=n(321),g=n(322).getHighWaterMark,v=n(99).codes,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(2)(S,a);var x=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function E(e,t,i){r=r||n(100),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(81).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||n(100),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function j(e,t,n,i,r){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,a);else if(r||(o=function(e,t){var n;i=t,s.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(a,t)),o)x(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),i)a.endEmitted?x(e,new _):M(e,a,t,!0);else if(a.ended)x(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?M(e,a,t,!1):P(e,a)):M(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function M(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),P(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=s.from(e,t),t=""),n=!0),j(this,e,t,!1,n)},S.prototype.unshift=function(e){return j(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){p||(p=n(81).StringDecoder);var t=new p(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(T,e))}function T(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function P(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){u("readable nexttick read 0"),e.read(0)}function I(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(N,t,e))}function N(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function L(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):C(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&z(this),null;var i,r=t.needReadable;return u("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",r=!0),t.ended||t.reading?u("reading or ended",r=!1):r&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){x(this,new w("_read()"))},S.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:g;function s(t,i){u("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",d),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",h),p=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",l);var p=!1;function h(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==L(r.pipes,e))&&!p&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===o(e,"error")&&x(e,t)}function d(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",d),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",m),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=L(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},S.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?C(this):r.reading||i.nextTick(O,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(B,this),n},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(u("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){u("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(523)),h(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=F,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=n(524)),f(S,e,t)})}).call(this,n(17),n(8))},function(e,t,n){e.exports=n(58).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){r(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,e)):t.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(i,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(i,a),o(e)):t.nextTick(i,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(8))},function(e,t,n){"use strict";var i=n(99).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,i){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=E;var a={deprecate:n(206)},s=n(320),c=n(9).Buffer,u=t.Uint8Array||function(){};var l,p=n(321),h=n(322).getHighWaterMark,f=n(99).codes,d=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,x=p.errorOrDestroy;function k(){}function E(e,t,a){o=o||n(100),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(P,e,t),e._writableState.errorEmitted=!0,x(e,r)):(o(r),e._writableState.errorEmitted=!0,x(e,r),P(e,t))}(e,n,r,t,o);else{var a=C(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?i.nextTick(M,e,n,a,o):M(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(o=o||n(100));if(!t&&!l.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function j(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function M(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,j(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,p=n.callback;if(j(e,t,!1,t.objectMode?1:u.length,u,l,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var n=C(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(2)(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===S&&(e&&e._writableState instanceof E)}})):l=function(e){return e instanceof this},S.prototype.pipe=function(){x(this,new v)},S.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=k),o.ending?function(e,t){var n=new w;x(e,n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(x(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else j(e,t,!1,s,i,r,o);return u}(this,o,s,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,n){n(new m("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this,n(17),n(8))},function(e,t,n){"use strict";e.exports=l;var i=n(99).codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,c=n(100);function u(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(2)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new r("_transform()"))},l.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var i=n(2),r=n(101),o=n(4).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function p(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(c,r),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+f(n[v-15])+n[v-16];for(var y=0;y<64;++y){var b=g+h(c)+u(c,d,m)+a[y]+n[y]|0,w=p(i)+l(i,r,o)|0;g=m,m=d,d=c,c=s+b|0,s=o,o=r,r=i,i=b+w|0}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=d+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,n){var i=n(2),r=n(101),o=n(4).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,r.call(this,128,112)}function u(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function p(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}i(c,r),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,x=0|this._cl,k=0|this._dl,E=0|this._el,S=0|this._fl,j=0|this._gl,M=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var C=t[A-30],T=t[A-30+1],P=f(C,T),R=d(T,C),B=m(C=t[A-4],T=t[A-4+1]),O=g(T,C),I=t[A-14],D=t[A-14+1],F=t[A-32],z=t[A-32+1],N=R+D|0,L=P+I+v(N,R)|0;L=(L=L+B+v(N=N+O|0,O)|0)+F+v(N=N+z|0,z)|0,t[A]=L,t[A+1]=N}for(var q=0;q<160;q+=2){L=t[q],N=t[q+1];var H=l(n,i,r),U=l(w,_,x),$=p(n,w),V=p(w,n),W=h(s,E),G=h(E,s),K=a[q],Z=a[q+1],Y=u(s,c,y),X=u(E,S,j),J=M+G|0,Q=b+W+v(J,M)|0;Q=(Q=(Q=Q+Y+v(J=J+X|0,X)|0)+K+v(J=J+Z|0,Z)|0)+L+v(J=J+N|0,N)|0;var ee=V+U|0,te=$+H+v(ee,V)|0;b=y,M=j,y=c,j=S,c=s,S=E,s=o+Q+v(E=k+J|0,k)|0,o=r,k=x,r=i,x=_,i=n,_=w,n=Q+te+v(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+x|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+S|0,this._gl=this._gl+j|0,this._hl=this._hl+M|0,this._ah=this._ah+n+v(this._al,w)|0,this._bh=this._bh+i+v(this._bl,_)|0,this._ch=this._ch+r+v(this._cl,x)|0,this._dh=this._dh+o+v(this._dl,k)|0,this._eh=this._eh+s+v(this._el,E)|0,this._fh=this._fh+c+v(this._fl,S)|0,this._gh=this._gh+y+v(this._gl,j)|0,this._hh=this._hh+b+v(this._hl,M)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,n){"use strict";(function(t,i){var r=n(157);e.exports=b;var o,a=n(317);b.ReadableState=y;n(58).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=n(328),u=n(4).Buffer,l=t.Uint8Array||function(){};var p=Object.create(n(125));p.inherits=n(2);var h=n(531),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var d,m=n(532),g=n(329);p.inherits(b,c);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var i=t instanceof(o=o||n(82));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(81).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(82),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function w(e,t,n,i,r){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}(e,a)):(r||(o=function(e,t){var n;i=t,u.isBuffer(i)||i instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),i?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):S(e,a)):_(e,a,t,!1))):i||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),S(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=u.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=n(81).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(E,e):E(e))}function E(e){f("emit readable"),e.emit("readable"),C(e)}function S(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(j,e,t))}function j(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function M(e){f("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=u.allocUnsafe(e),i=t.head,r=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function B(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&P(this),null;var i,r=t.needReadable;return f("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",r=!0),t.ended||t.reading?f("reading or ended",r=!1):r&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(i=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?l:b;function u(t,i){f("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",p),e.removeListener("error",g),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),h=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||p())}function l(){f("onend"),e.end()}o.endEmitted?r.nextTick(c):n.once("end",c),e.on("unpipe",u);var p=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,C(e))}}(n);e.on("drain",p);var h=!1;var d=!1;function m(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==B(o.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(t){f("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",v),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=B(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&k(this):r.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(A,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(f("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){f("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=T}).call(this,n(17),n(8))},function(e,t,n){e.exports=n(58).EventEmitter},function(e,t,n){"use strict";var i=n(157);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var i=n(82),r=Object.create(n(125));function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);i.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(2),r.inherits(a,i),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var i=n(2),r=n(539),o=n(59),a=n(4).Buffer,s=n(332),c=n(208),u=n(209),l=a.alloc(128);function p(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var i=this._ipad=a.allocUnsafe(n),r=this._opad=a.allocUnsafe(n),s=0;s<n;s++)i[s]=54^t[s],r[s]=92^t[s];this._hash="rmd160"===e?new c:u(e),this._hash.update(i)}i(p,o),p.prototype._update=function(e){this._hash.update(e)},p.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new p("rmd160",t):"md5"===e?new r(s,t):new p(e,t)}},function(e,t,n){var i=n(205);e.exports=function(e){return(new i).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(541),t.pbkdf2Sync=n(337)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t,n){var i;if(t.process&&t.process.browser)i="utf-8";else if(t.process&&t.process.version){i=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else i="utf-8";e.exports=i}).call(this,n(17),n(8))},function(e,t,n){var i=n(332),r=n(208),o=n(209),a=n(4).Buffer,s=n(335),c=n(336),u=n(338),l=a.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,n){var s=function(e){function t(t){return o(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new r).update(e).digest()}:"md5"===e?i:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=s(t):t.length<c&&(t=a.concat([t,l],c));for(var u=a.allocUnsafe(c+p[e]),h=a.allocUnsafe(c+p[e]),f=0;f<c;f++)u[f]=54^t[f],h[f]=92^t[f];var d=a.allocUnsafe(c+n+4);u.copy(d,0,0,c),this.ipad1=d,this.ipad2=u,this.opad=h,this.alg=e,this.blocksize=c,this.hash=s,this.size=p[e]}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,i,r){s(n,i);var o=new h(r=r||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),l=a.allocUnsafe(i),f=a.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var d=0,m=p[r],g=Math.ceil(i/m),v=1;v<=g;v++){f.writeUInt32BE(v,t.length);for(var y=o.run(f,o.ipad1),b=y,w=1;w<n;w++){b=o.run(b,o.ipad2);for(var _=0;_<m;_++)y[_]^=b[_]}y.copy(l,d),d+=m}return l}},function(e,t,n){var i=n(4).Buffer;e.exports=function(e,t,n){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,t);if(ArrayBuffer.isView(e))return i.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,i){for(var r=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},t.rip=function(e,t,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)r<<=1,r|=t>>>s+a&1,r<<=1,r|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.pc1=function(e,t,n,i){for(var r=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(s=0;s<=24;s+=8)r<<=1,r|=e>>s+a&1}for(s=0;s<=24;s+=8)r<<=1,r|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,r){for(var o=0,a=0,s=i.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>i[c]&1;for(c=s;c<i.length;c++)a<<=1,a|=t>>>i[c]&1;n[r+0]=o>>>0,n[r+1]=a>>>0},t.expand=function(e,t,n){var i=0,r=0;i=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(o=11;o>=3;o-=4)r|=e>>>o&63,r<<=6;r|=(31&e)<<1|e>>>31,t[n+0]=i>>>0,t[n+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var r=[],o=0;o<t;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},function(e,t,n){"use strict";var i=n(34),r=n(2),o=n(339),a=n(211);function s(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}r(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),r=o.readUInt32BE(t,4);o.pc1(n,r,e.tmp,0),n=e.tmp[0],r=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),r=o.r28shl(r,s),o.pc2(n,r,e.keys,a)}},c.prototype._update=function(e,t,n,i){var r=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,a,s,r.tmp,0):this._decrypt(r,a,s,r.tmp,0),a=r.tmp[0],s=r.tmp[1],o.writeUInt32BE(n,a,i),o.writeUInt32BE(n,s,i+4)},c.prototype._pad=function(e,t){for(var n=e.length-t,i=t;i<e.length;i++)e[i]=n;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)i.equal(e[n],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,n,i,r){for(var a=t,s=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var p=o.substitute(u,l),h=s;s=(a^o.permute(p))>>>0,a=h}o.rip(s,a,i,r)},c.prototype._decrypt=function(e,t,n,i,r){for(var a=n,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var p=o.substitute(u,l),h=a;a=(s^o.permute(p))>>>0,s=h}o.rip(a,s,i,r)}},function(e,t,n){var i=n(126),r=n(4).Buffer,o=n(342);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(e),u=o+16*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,l)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var i=n(158),r=n(4).Buffer,o=n(59),a=n(2),s=n(554),c=n(126),u=n(342);function l(e,t,n,a){o.call(this);var c=r.alloc(4,0);this._cipher=new i.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=function(e,t,n){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var i=new s(n),o=t.length,a=o%16;i.update(t),a&&(a=16-a,i.update(r.alloc(a,0))),i.update(r.alloc(8,0));var c=8*o,l=r.alloc(8);l.writeUIntBE(c,0,8),i.update(l),e._finID=i.state;var p=r.from(e._finID);return u(p),p}(this,n,l),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var i=Math.min(e.length,t.length),r=0;r<i;++r)n+=e[r]^t[r];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,n){var i=n(158),r=n(4).Buffer,o=n(59);function a(e,t,n,a){o.call(this),this._cipher=new i.AES(t),this._prev=r.from(n),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=a,this._mode=e}n(2)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var i=n(98);e.exports=y,y.simpleSieve=g,y.fermatTest=v;var r=n(347),o=new r(24),a=new(n(348)),s=new r(1),c=new r(2),u=new r(5),l=(new r(16),new r(8),new r(10)),p=new r(3),h=(new r(7),new r(11)),f=new r(4),d=(new r(12),null);function m(){if(null!==d)return d;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<t&&e[r]<=i&&n%e[r]!=0;r++);t!==r&&e[r]<=i||(e[t++]=n)}return d=e,e}function g(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=r.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new r(2===t||5===t?[140,123]:[140,39]);var n,d;for(t=new r(t);;){for(n=new r(i(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;n.mod(l).cmp(p);)n.iadd(f)}else for(;n.mod(o).cmp(h);)n.iadd(f);if(g(d=n.shrn(1))&&g(n)&&v(d)&&v(n)&&a.test(d)&&a.test(n))return n}}},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(558).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t,n){var i=n(559),r=n(214);function o(e){this.rand=e||new r.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(e)>=0);return r},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var r=e.bitLength(),o=i.mont(e),a=new i(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var u=e.shrn(c),l=s.toRed(o);t>0;t--){var p=this._randrange(new i(2),s);n&&n(p);var h=p.toRed(o).redPow(u);if(0!==h.cmp(a)&&0!==h.cmp(l)){for(var f=1;f<c;f++){if(0===(h=h.redSqr()).cmp(a))return!1;if(0===h.cmp(l))break}if(f===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),r=i.mont(e),o=new i(1).toRed(r);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),u=a.toRed(r);t>0;t--){var l=this._randrange(new i(2),a),p=e.gcd(l);if(0!==p.cmpn(1))return p;var h=l.toRed(r).redPow(c);if(0!==h.cmp(o)&&0!==h.cmp(u)){for(var f=1;f<s;f++){if(0===(h=h.redSqr()).cmp(o))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(f===s)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";(function(t,i){var r;e.exports=S,S.ReadableState=E;n(58).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(350),s=n(9).Buffer,c=t.Uint8Array||function(){};var u,l=n(566);u=l&&l.debuglog?l.debuglog("stream"):function(){};var p,h,f,d=n(567),m=n(351),g=n(352).getHighWaterMark,v=n(102).codes,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,_=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(2)(S,a);var x=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function E(e,t,i){r=r||n(103),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(81).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function S(e){if(r=r||n(103),!(this instanceof S))return new S(e);var t=this instanceof r;this._readableState=new E(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function j(e,t,n,i,r){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,a);else if(r||(o=function(e,t){var n;i=t,s.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var i;return n}(a,t)),o)x(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),i)a.endEmitted?x(e,new _):M(e,a,t,!0);else if(a.ended)x(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?M(e,a,t,!1):P(e,a)):M(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function M(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),P(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=s.from(e,t),t=""),n=!0),j(this,e,t,!1,n)},S.prototype.unshift=function(e){return j(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){p||(p=n(81).StringDecoder);var t=new p(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,r="";null!==i;)r+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(T,e))}function T(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function P(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(u("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function B(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function O(e){u("readable nexttick read 0"),e.read(0)}function I(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function F(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function z(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(N,t,e))}function N(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function L(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):C(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&z(this),null;var i,r=t.needReadable;return u("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",r=!0),t.ended||t.reading?u("reading or ended",r=!1):r&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(n,t))),null===(i=e>0?F(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==i&&this.emit("data",i),i},S.prototype._read=function(e){x(this,new w("_read()"))},S.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,u("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:g;function s(t,i){u("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",d),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",s),n.removeListener("end",c),n.removeListener("end",g),n.removeListener("data",h),p=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",s);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,D(e))}}(n);e.on("drain",l);var p=!1;function h(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==L(r.pipes,e))&&!p&&(u("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){u("onerror",t),g(),e.removeListener("error",f),0===o(e,"error")&&x(e,t)}function d(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",d),g()}function g(){u("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",m),e.emit("pipe",n),r.flowing||(u("pipe resume"),n.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=L(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},S.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,u("on readable",r.length,r.reading),r.length?C(this):r.reading||i.nextTick(O,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(B,this),n},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(B,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(u("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){u("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(569)),h(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=F,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===f&&(f=n(570)),f(S,e,t)})}).call(this,n(17),n(8))},function(e,t,n){e.exports=n(58).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){r(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,e)):t.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(i,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(i,a),o(e)):t.nextTick(i,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(8))},function(e,t,n){"use strict";var i=n(102).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,r){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(r?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,i){function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=S,S.WritableState=E;var a={deprecate:n(206)},s=n(350),c=n(9).Buffer,u=t.Uint8Array||function(){};var l,p=n(351),h=n(352).getHighWaterMark,f=n(102).codes,d=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,x=p.errorOrDestroy;function k(){}function E(e,t,a){o=o||n(103),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(P,e,t),e._writableState.errorEmitted=!0,x(e,r)):(o(r),e._writableState.errorEmitted=!0,x(e,r),P(e,t))}(e,n,r,t,o);else{var a=C(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?i.nextTick(M,e,n,a,o):M(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function S(e){var t=this instanceof(o=o||n(103));if(!t&&!l.call(S,this))return new S(e);this._writableState=new E(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function j(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function M(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,j(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,p=n.callback;if(j(e,t,!1,t.objectMode?1:u.length,u,l,p),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(n){t.pendingcb--,n&&x(e,n),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var n=C(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(2)(S,s),E.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===S&&(e&&e._writableState instanceof E)}})):l=function(e){return e instanceof this},S.prototype.pipe=function(){x(this,new v)},S.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=k),o.ending?function(e,t){var n=new w;x(e,n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(x(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,i,r,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n));return t}(t,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else j(e,t,!1,s,i,r,o);return u}(this,o,s,e,t,n)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,n){n(new m("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,P(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)}}).call(this,n(17),n(8))},function(e,t,n){"use strict";e.exports=l;var i=n(102).codes,r=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=i.ERR_TRANSFORM_WITH_LENGTH_0,c=n(103);function u(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(null===i)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,n){h(e,t,n)}))}function h(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(2)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new r("_transform()"))},l.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){"use strict";var i=t;function r(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}i.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)n[i]=0|e[i];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var r=e.charCodeAt(i),o=r>>8,a=255&r;o?n.push(o,a):n.push(a)}return n},i.zero2=r,i.toHex=o,i.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var i=t;i.base=n(160),i.short=n(577),i.mont=n(578),i.edwards=n(579)},function(e,t,n){"use strict";var i=n(40).rotr32;function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,i){return 0===e?r(t,n,i):1===e||3===e?a(t,n,i):2===e?o(t,n,i):void 0},t.ch32=r,t.maj32=o,t.p32=a,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},function(e,t,n){"use strict";var i=n(40),r=n(127),o=n(357),a=n(34),s=i.sum32,c=i.sum32_4,u=i.sum32_5,l=o.ch32,p=o.maj32,h=o.s0_256,f=o.s1_256,d=o.g0_256,m=o.g1_256,g=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=c(m(n[i-2]),n[i-7],d(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],g=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),i=0;i<n.length;i++){var x=u(_,f(y),l(y,b,w),this.k[i],n[i]),k=s(h(r),p(r,o,g));_=w,w=b,b=y,y=s(v,x),v=g,g=o,o=r,r=s(x,k)}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],v),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";var i=n(40),r=n(127),o=n(34),a=i.rotr64_hi,s=i.rotr64_lo,c=i.shr64_hi,u=i.shr64_lo,l=i.sum64,p=i.sum64_hi,h=i.sum64_lo,f=i.sum64_4_hi,d=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,v=r.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,n,i,r){var o=e&n^~e&r;return o<0&&(o+=4294967296),o}function _(e,t,n,i,r,o){var a=t&i^~t&o;return a<0&&(a+=4294967296),a}function x(e,t,n,i,r){var o=e&n^e&r^n&r;return o<0&&(o+=4294967296),o}function k(e,t,n,i,r,o){var a=t&i^t&o^i&o;return a<0&&(a+=4294967296),a}function E(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function S(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function j(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function M(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,1)^a(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,1)^s(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,19)^a(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}function P(e,t){var n=s(e,t,19)^s(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}i.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,i=0;i<32;i++)n[i]=e[t+i];for(;i<n.length;i+=2){var r=T(n[i-4],n[i-3]),o=P(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],c=A(n[i-30],n[i-29]),u=C(n[i-30],n[i-29]),l=n[i-32],p=n[i-31];n[i]=f(r,o,a,s,c,u,l,p),n[i+1]=d(r,o,a,s,c,u,l,p)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,i=this.h[0],r=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7],v=this.h[8],y=this.h[9],b=this.h[10],A=this.h[11],C=this.h[12],T=this.h[13],P=this.h[14],R=this.h[15];o(this.k.length===n.length);for(var B=0;B<n.length;B+=2){var O=P,I=R,D=j(v,y),F=M(v,y),z=w(v,y,b,A,C),N=_(v,y,b,A,C,T),L=this.k[B],q=this.k[B+1],H=n[B],U=n[B+1],$=m(O,I,D,F,z,N,L,q,H,U),V=g(O,I,D,F,z,N,L,q,H,U);O=E(i,r),I=S(i,r),D=x(i,r,a,s,c),F=k(i,r,a,s,c,u);var W=p(O,I,D,F),G=h(O,I,D,F);P=C,R=T,C=b,T=A,b=v,A=y,v=p(f,d,$,V),y=h(d,d,$,V),f=c,d=u,c=a,u=s,a=i,s=r,i=p($,V,W,G),r=h($,V,W,G)}l(this.h,0,i,r),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,f,d),l(this.h,8,v,y),l(this.h,10,b,A),l(this.h,12,C,T),l(this.h,14,P,R)},b.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";const i=t;i.bignum=n(361),i.define=n(596).define,i.base=n(599),i.constants=n(600),i.decoders=n(364),i.encoders=n(362)},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(595).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t,n){"use strict";const i=t;i.der=n(363),i.pem=n(597)},function(e,t,n){"use strict";const i=n(2),r=n(14).Buffer,o=n(222),a=n(224);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=s,s.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(c,o),c.prototype._encodeComposite=function(e,t,n,i){const o=function(e,t,n,i){let r;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))r=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);r=e}if(r>=31)return i.error("Multi-octet tag encoding unsupported");t||(r|=32);return r|=a.tagClassByName[n||"universal"]<<6,r}(e,t,n,this.reporter);if(i.length<128){const e=r.alloc(2);return e[0]=o,e[1]=i.length,this._createEncoderBuffer([e,i])}let s=1;for(let e=i.length;e>=256;e>>=8)s++;const c=r.alloc(2+s);c[0]=o,c[1]=128|s;for(let e=1+s,t=i.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,i])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=r.alloc(2*e.length);for(let n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let i=0;for(let t=0;t<e.length;t++){let n=e[t];for(i++;n>=128;n>>=7)i++}const o=r.alloc(i);let a=o.length-1;for(let t=e.length-1;t>=0;t--){let n=e[t];for(o[a--]=127&n;(n>>=7)>0;)o[a--]=128|127&n}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(e,t){let n;const i=new Date(e);return"gentime"===t?n=[u(i.getUTCFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[u(i.getUTCFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=r.from(t)}if(r.isBuffer(e)){let t=e.length;0===e.length&&t++;const n=r.alloc(t);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const i=new Array(n);for(let t=i.length-1;t>=0;t--)i[t]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(r.from(i))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){const i=this._baseState;let r;if(null===i.default)return!1;const o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(e,t,n){"use strict";const i=t;i.der=n(365),i.pem=n(598)},function(e,t,n){"use strict";const i=n(2),r=n(361),o=n(128).DecoderBuffer,a=n(222),s=n(224);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.call(this,"der",e)}function l(e,t){let n=e.readUInt8(t);if(e.isError(n))return n;const i=s.tagClass[n>>6],r=0==(32&n);if(31==(31&n)){let i=n;for(n=0;128==(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;n<<=7,n|=127&i}}else n&=31;return{cls:i,primitive:r,tag:n,tagStr:s.tag[n]}}function p(e,t,n){let i=e.readUInt8(n);if(e.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;const r=127&i;if(r>4)return e.error("length octect is too long");i=0;for(let t=0;t<r;t++){i<<=8;const t=e.readUInt8(n);if(e.isError(t))return t;i|=t}return i}e.exports=c,c.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},i(u,a),u.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;const i=e.save(),r=l(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(i),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||n)},u.prototype._decodeTag=function(e,t,n){const i=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;let r=p(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!n&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(r=e.offset-o.offset,e.restore(o),e.skip(r,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){const n=l(e,t);if(e.isError(n))return n;const i=p(e,n.primitive,t);if(e.isError(i))return i;let r;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,n,i){const r=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=n.decode(e,"der",i);if(e.isError(o)&&t)break;r.push(o)}return r},u.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let e=0;e<t.length/2;e++)n+=String.fromCharCode(t.readUInt16BE(2*e));return n}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,n){let i;const r=[];let o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(r.push(o),o=0);128&a&&r.push(o);const s=r[0]/40|0,c=r[0]%40;if(i=n?r:[s,c].concat(r.slice(1)),t){let e=t[i.join(" ")];void 0===e&&(e=t[i.join(".")]),void 0!==e&&(i=e)}return i},u.prototype._decodeTime=function(e,t){const n=e.raw().toString();let i,r,o,a,s,c;if("gentime"===t)i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,a,s,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){const n=e.raw();let i=new r(n);return t&&(i=t[i.toString(10)]||i),i},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var i=n(123),r=n(4).Buffer;function o(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=r.alloc(0),s=0;a.length<t;)n=o(s++),a=r.concat([a,i("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,i=-1;++i<n;)e[i]^=t[i];return e}},function(e,t,n){var i=n(225),r=n(4).Buffer;e.exports=function(e,t){return r.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function i(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function r(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&r("arraybuffer"),t.msstream=!t.fetch&&a&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&s(i().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(17))},function(e,t,n){(function(e,i,r){var o=n(370),a=n(2),s=n(124),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,a,c){var u=this;if(s.Readable.call(u),u._mode=a,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",(function(){e.nextTick((function(){u.emit("close")}))})),"fetch"===a){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach((function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)})),o.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,n){u._destroyed?n():u.push(new i(e))?t():u._resumeFetch=t}))},close:function(){r.clearTimeout(c),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(l).catch((function(e){r.clearTimeout(c),u._destroyed||u.emit("error",e)}))}catch(e){}}var p=n.body.getReader();!function e(){p.read().then((function(t){if(!u._destroyed){if(t.done)return r.clearTimeout(c),void u.push(null);u.push(new i(t.value)),e()}})).catch((function(e){r.clearTimeout(c),u._destroyed||u.emit("error",e)}))}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}})),u._charset="x-user-defined",!o.overrideMimeType){var h=u.rawHeaders["mime-type"];if(h){var f=h.match(/;\s*charset=([^;])(;|$)/);f&&(u._charset=f[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==c.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new i(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new i(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var u=new r.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(8),n(9).Buffer,n(17))},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){e.exports={Verifier:u,Signer:l};var i=n(132),r=n(60),o=n(18),a=n(12),s=n(14).Buffer,c=n(49);function u(e,t){if("sha512"!==t.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],r.Writable.call(this,{})}function l(e,t){if("sha512"!==t.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],r.Writable.call(this,{})}o.inherits(u,r.Writable),u.prototype._write=function(e,t,n){this.chunks.push(e),n()},u.prototype.update=function(e){"string"==typeof e&&(e=s.from(e,"binary")),this.chunks.push(e)},u.prototype.verify=function(e,t){var n;if(c.isSignature(e,[2,0])){if("ed25519"!==e.type)return!1;n=e.toBuffer("raw")}else if("string"==typeof e)n=s.from(e,"base64");else if(c.isSignature(e,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return a.buffer(n),i.sign.detached.verify(new Uint8Array(s.concat(this.chunks)),new Uint8Array(n),new Uint8Array(this.key.part.A.data))},o.inherits(l,r.Writable),l.prototype._write=function(e,t,n){this.chunks.push(e),n()},l.prototype.update=function(e){"string"==typeof e&&(e=s.from(e,"binary")),this.chunks.push(e)},l.prototype.sign=function(){var e=i.sign.detached(new Uint8Array(s.concat(this.chunks)),new Uint8Array(s.concat([this.key.part.k.data,this.key.part.A.data]))),t=s.from(e),n=c.parse(t,"ed25519","raw");return n.hashAlgorithm="sha512",n}},function(e,t,n){e.exports={read:function(e,t){if("string"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return o.read(e,t);if(e.match(/^\s*ssh-[a-z]/))return a.read(e,t);if(e.match(/^\s*ecdsa-/))return a.read(e,t);if(e.match(/^putty-user-key-file-2:/i))return u.read(e,t);if(l(e))return c.read(e,t);e=r.from(e,"binary")}else{if(i.buffer(e),function(e){var t=0;for(;t<e.length&&(32===e[t]||10===e[t]);)++t;if(45!==e[t])return!1;for(;t<e.length&&45===e[t];)++t;for(;t<e.length&&32===e[t];)++t;return!(t+5>e.length||"BEGIN"!==e.slice(t,t+5).toString("ascii"))}(e))return o.read(e,t);if(function(e){var t=0;for(;t<e.length&&(32===e[t]||10===e[t]||9===e[t]);)++t;return t+4<=e.length&&"ssh-"===e.slice(t,t+4).toString("ascii")||t+6<=e.length&&"ecdsa-"===e.slice(t,t+6).toString("ascii")}(e))return a.read(e,t);if(function(e){var t=0;for(;t<e.length&&(32===e[t]||10===e[t]||9===e[t]);)++t;return t+22<=e.length&&"putty-user-key-file-2:"===e.slice(t,t+22).toString("ascii").toLowerCase()}(e))return u.read(e,t);if(l(e))return c.read(e,t)}if(e.readUInt32BE(0)<e.length)return s.read(e,t);throw new Error("Failed to auto-detect format of key")},write:function(e,t){throw new Error('"auto" format cannot be used for writing')}};var i=n(12),r=n(14).Buffer,o=(n(27),n(25),n(26),n(61)),a=n(377),s=n(62),c=n(232),u=n(233);function l(e){if(e.length<="Private-key-format: v1".length)return!1;if("Private-key-format: v1"===e.slice(0,"Private-key-format: v1".length).toString("ascii"))return!0;"string"!=typeof e&&(e=e.toString("ascii"));for(var t=e.split("\n"),n=0;t[n].match(/^\;/);)n++;return!!t[n].toString("ascii").match(/\. IN KEY /)||!!t[n].toString("ascii").match(/\. IN DNSKEY /)}},function(e,t,n){"use strict";var i=n(132).lowlevel.crypto_hash,r=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function a(e,t,n){return(e[0][t[n+3]]+e[1][t[n+2]]^e[2][t[n+1]])+e[3][t[n]]}function s(e,t){var n,i=0;for(n=0;n<4;n++,r++)r>=t&&(r=0),i=i<<8|e[r];return i}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var n=1;n<16;n+=2)e[1]^=a(this.S,t,0)^this.P[n],e[0]^=a(this.S,t,4)^this.P[n+1];var i=e[0];e[0]=e[1]^this.P[17],e[1]=i},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var n=16;n>0;n-=2)e[1]^=a(this.S,t,0)^this.P[n],e[0]^=a(this.S,t,4)^this.P[n-1];var i=e[0];e[0]=e[1]^this.P[0],e[1]=i},o.prototype.expand0state=function(e,t){var n,i,o=new Uint32Array(2),a=new Uint8Array(o.buffer);for(n=0,r=0;n<18;n++)this.P[n]^=s(e,t);for(r=0,n=0;n<18;n+=2)this.encipher(o,a),this.P[n]=o[0],this.P[n+1]=o[1];for(n=0;n<4;n++)for(i=0;i<256;i+=2)this.encipher(o,a),this.S[n][i]=o[0],this.S[n][i+1]=o[1]},o.prototype.expandstate=function(e,t,n,i){var o,a,c=new Uint32Array(2);for(o=0,r=0;o<18;o++)this.P[o]^=s(n,i);for(o=0,r=0;o<18;o+=2)c[0]^=s(e,t),c[1]^=s(e,t),this.encipher(c),this.P[o]=c[0],this.P[o+1]=c[1];for(o=0;o<4;o++)for(a=0;a<256;a+=2)c[0]^=s(e,t),c[1]^=s(e,t),this.encipher(c),this.S[o][a]=c[0],this.S[o][a+1]=c[1];r=0},o.prototype.enc=function(e,t){for(var n=0;n<t;n++)this.encipher(e.subarray(2*n))},o.prototype.dec=function(e,t){for(var n=0;n<t;n++)this.decipher(e.subarray(2*n))};function c(e,t,n){var i,r=new o,a=new Uint32Array(8),c=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(r.expandstate(t,64,e,64),i=0;i<64;i++)r.expand0state(t,64),r.expand0state(e,64);for(i=0;i<8;i++)a[i]=s(c,c.byteLength);for(i=0;i<64;i++)r.enc(a,a.byteLength/8);for(i=0;i<8;i++)n[4*i+3]=a[i]>>>24,n[4*i+2]=a[i]>>>16,n[4*i+1]=a[i]>>>8,n[4*i+0]=a[i]}e.exports={BLOCKS:8,HASHSIZE:32,hash:c,pbkdf:function(e,t,n,r,o,a,s){var u,l,p,h,f,d,m=new Uint8Array(64),g=new Uint8Array(64),v=new Uint8Array(32),y=new Uint8Array(32),b=new Uint8Array(r+4),w=a;if(s<1)return-1;if(0===t||0===r||0===a||a>v.byteLength*v.byteLength||r>1<<20)return-1;for(h=Math.floor((a+v.byteLength-1)/v.byteLength),p=Math.floor((a+h-1)/h),u=0;u<r;u++)b[u]=n[u];for(i(m,e,t),d=1;a>0;d++){for(b[r+0]=d>>>24,b[r+1]=d>>>16,b[r+2]=d>>>8,b[r+3]=d,i(g,b,r+4),c(m,g,y),u=v.byteLength;u--;)v[u]=y[u];for(u=1;u<s;u++)for(i(g,y,y.byteLength),c(m,g,y),l=0;l<v.byteLength;l++)v[l]^=y[l];for(p=Math.min(p,a),u=0;u<p&&!((f=u*h+(d-1))>=w);u++)o[f]=v[u];a-=u}return 0}}},function(e,t,n){e.exports={read:function(e,t){"string"!=typeof e&&(i.buffer(e,"buf"),e=e.toString("ascii"));var n=e.trim().replace(/[\\\r]/g,""),a=n.match(s);a||(a=n.match(c));i.ok(a,"key must match regex");var u,l=o.algToKeyType(a[1]),p=r.from(a[2],"base64"),h={};if(a[4])try{u=o.read(p)}catch(e){a=n.match(c),i.ok(a,"key must match regex"),p=r.from(a[2],"base64"),u=o.readInternal(h,"public",p)}else u=o.readInternal(h,"public",p);if(i.strictEqual(l,u.type),a[4]&&a[4].length>0)u.comment=a[4];else if(h.consumed){var f=a[2]+(a[3]?a[3]:""),d=4*Math.ceil(h.consumed/3);for(f=f.slice(0,d-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+f.slice(d-2),h.consumed%3>0&&"="!==f.slice(d-1,d)&&d--;"="===f.slice(d,d+1);)d++;var m=f.slice(d);(m=m.replace(/[\r\n]/g," ").replace(/^\s+/,"")).match(/^[a-zA-Z0-9]/)&&(u.comment=m)}return u},write:function(e,t){if(i.object(e),!a.isKey(e))throw new Error("Must be a public key");var n=[],s=o.keyTypeToAlg(e);n.push(s);var c=o.write(e);n.push(c.toString("base64")),e.comment&&n.push(e.comment);return r.from(n.join(" "))}};var i=n(12),r=n(14).Buffer,o=n(62),a=(n(27),n(25)),s=(n(26),n(165),/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([ \t]+([^ \t][^\n]*[\n]*)?)?$/),c=/^([a-z0-9-]+)[ \t\n]+([a-zA-Z0-9+\/][a-zA-Z0-9+\/ \t\n=]*)([^a-zA-Z0-9+\/ \t\n=].*)?$/},function(e,t,n){e.exports={read:function(e,t){"string"==typeof e&&(e=o.from(e,"binary"));i.buffer(e,"buf");var n=new r.BerReader(e);if(n.readSequence(),Math.abs(n.length-n.remain)>1)throw new Error("DER sequence does not contain whole byte stream");var h=n.offset;n.readSequence();var d=n.offset+n.length,m=d;if(n.peek()===p(0)){n.readSequence(p(0));var g=n.readInt();i.ok(g<=3,"only x.509 versions up to v3 supported")}var v={signatures:{}},b=v.signatures.x509={};b.extras={},v.serial=function(e,t){return i.strictEqual(e.peek(),r.Ber.Integer,t+" is not an Integer"),a.mpNormalize(e.readString(r.Ber.Integer,!0))}(n,"serial"),n.readSequence();var w=n.offset+n.length,_=n.readOID();if(void 0===f[_])throw new Error("unknown signature algorithm "+_);n._offset=w,v.issuer=s.parseAsn1(n),n.readSequence(),v.validFrom=y(n),v.validUntil=y(n),v.subjects=[s.parseAsn1(n)],n.readSequence(),w=n.offset+n.length,v.subjectKey=l.readPkcs8(void 0,"public",n),n._offset=w,n.peek()===p(1)&&(n.readSequence(p(1)),b.extras.issuerUniqueID=e.slice(n.offset,n.offset+n.length),n._offset+=n.length);n.peek()===p(2)&&(n.readSequence(p(2)),b.extras.subjectUniqueID=e.slice(n.offset,n.offset+n.length),n._offset+=n.length);if(n.peek()===p(3)){n.readSequence(p(3));var x=n.offset+n.length;for(n.readSequence();n.offset<x;)E(v,e,n);i.strictEqual(n.offset,x)}i.strictEqual(n.offset,d),n.readSequence(),w=n.offset+n.length;var k=n.readOID(),S=f[k];if(void 0===S)throw new Error("unknown signature algorithm "+k);n._offset=w;var j=n.readString(r.Ber.BitString,!0);0===j[0]&&(j=j.slice(1));var M=S.split("-");return b.signature=c.parse(j,M[0],"asn1"),b.signature.hashAlgorithm=M[1],b.algo=S,b.cache=e.slice(h,m),new u(v)},verify:function(e,t){var n=e.signatures.x509;i.object(n,"x509 signature");var o=n.algo.split("-");if(o[0]!==t.type)return!1;var a=n.cache;if(void 0===a){var s=new r.BerWriter;A(e,s),a=s.buffer}var c=t.createVerify(o[1]);return c.write(a),c.verify(n.signature)},sign:function(e,t){void 0===e.signatures.x509&&(e.signatures.x509={});var n=e.signatures.x509;if(n.algo=t.type+"-"+t.defaultHashAlgorithm(),void 0===f[n.algo])return!1;var i=new r.BerWriter;A(e,i);var o=i.buffer;n.cache=o;var a=t.createSign();return a.write(o),e.signatures.x509.signature=a.sign(),!0},signAsync:function(e,t,n){void 0===e.signatures.x509&&(e.signatures.x509={});var i=e.signatures.x509,o=new r.BerWriter;A(e,o);var a=o.buffer;i.cache=a,t(a,(function(e,t){e?n(e):(i.algo=t.type+"-"+t.hashAlgorithm,void 0!==f[i.algo]?(i.signature=t,n()):n(new Error('Invalid signing algorithm "'+i.algo+'"')))}))},write:function(e,t){var n=e.signatures.x509;i.object(n,"x509 signature");var a=new r.BerWriter;a.startSequence(),n.cache?(a._ensure(n.cache.length),n.cache.copy(a._buf,a._offset),a._offset+=n.cache.length):A(e,a);a.startSequence(),a.writeOID(f[n.algo]),n.algo.match(/^rsa-/)&&a.writeNull();a.endSequence();var s=n.signature.toBuffer("asn1"),c=o.alloc(s.length+1);return c[0]=0,s.copy(c,1),a.writeBuffer(c,r.Ber.BitString),a.endSequence(),a.buffer}};var i=n(12),r=n(50),o=n(14).Buffer,a=(n(30),n(27)),s=(n(25),n(26),n(61),n(135)),c=n(49),u=n(134),l=n(133);function p(e){return r.Ber.Context|r.Ber.Constructor|e}function h(e){return r.Ber.Context|e}var f={"rsa-md5":"1.2.840.113549.1.1.4","rsa-sha1":"1.2.840.113549.1.1.5","rsa-sha256":"1.2.840.113549.1.1.11","rsa-sha384":"1.2.840.113549.1.1.12","rsa-sha512":"1.2.840.113549.1.1.13","dsa-sha1":"1.2.840.10040.4.3","dsa-sha256":"2.16.840.1.101.3.4.3.2","ecdsa-sha1":"1.2.840.10045.4.1","ecdsa-sha256":"1.2.840.10045.4.3.2","ecdsa-sha384":"1.2.840.10045.4.3.3","ecdsa-sha512":"1.2.840.10045.4.3.4","ed25519-sha512":"1.3.101.112"};Object.keys(f).forEach((function(e){f[f[e]]=e})),f["1.3.14.3.2.3"]="rsa-md5",f["1.3.14.3.2.29"]="rsa-sha1";var d="2.5.29.17",m="2.5.29.19",g="2.5.29.15",v="2.5.29.37";function y(e){if(e.peek()===r.Ber.UTCTime)return function(e){var t=e.match(S);i.ok(t,"timestamps must be in UTC");var n=new Date,r=n.getUTCFullYear(),o=100*Math.floor(r/100),a=parseInt(t[1],10);a+=r%100<50&&a>=60?o-1:o;n.setUTCFullYear(a,parseInt(t[2],10)-1,parseInt(t[3],10)),n.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&n.setUTCSeconds(parseInt(t[6],10));return n}(e.readString(r.Ber.UTCTime));if(e.peek()===r.Ber.GeneralizedTime)return function(e){var t=e.match(j);i.ok(t);var n=new Date;n.setUTCFullYear(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)),n.setUTCHours(parseInt(t[4],10),parseInt(t[5],10)),t[6]&&t[6].length>0&&n.setUTCSeconds(parseInt(t[6],10));return n}(e.readString(r.Ber.GeneralizedTime));throw new Error("Unsupported date format")}function b(e,t){var n,i;t.getUTCFullYear()>=2050||t.getUTCFullYear()<1950?e.writeString((i="",i+=M((n=t).getUTCFullYear(),4),i+=M(n.getUTCMonth()+1),i+=M(n.getUTCDate()),i+=M(n.getUTCHours()),i+=M(n.getUTCMinutes()),i+=M(n.getUTCSeconds()),i+="Z"),r.Ber.GeneralizedTime):e.writeString(function(e){var t="";return t+=M(e.getUTCFullYear()%100),t+=M(e.getUTCMonth()+1),t+=M(e.getUTCDate()),t+=M(e.getUTCHours()),t+=M(e.getUTCMinutes()),t+=M(e.getUTCSeconds()),t+="Z"}(t),r.Ber.UTCTime)}var w={OtherName:p(0),RFC822Name:h(1),DNSName:h(2),X400Address:p(3),DirectoryName:p(4),EDIPartyName:p(5),URI:h(6),IPAddress:h(7),OID:h(8)},_={serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",joyentDocker:"1.3.6.1.4.1.38678.1.4.1",joyentCmon:"1.3.6.1.4.1.38678.1.4.2"},x={};Object.keys(_).forEach((function(e){x[_[e]]=e}));var k=["signature","identity","keyEncryption","encryption","keyAgreement","ca","crl"];function E(e,t,n){n.readSequence();var i,o,a=n.offset+n.length,c=n.readOID(),u=e.signatures.x509;switch(u.extras.exts||(u.extras.exts=[]),n.peek()===r.Ber.Boolean&&(o=n.readBoolean()),c){case m:n.readSequence(r.Ber.OctetString),n.readSequence();var l=n.offset+n.length,p=!1;n.peek()===r.Ber.Boolean&&(p=n.readBoolean()),void 0===e.purposes&&(e.purposes=[]),!0===p&&e.purposes.push("ca");var h={oid:c,critical:o};n.offset<l&&n.peek()===r.Ber.Integer&&(h.pathLen=n.readInt()),u.extras.exts.push(h);break;case v:n.readSequence(r.Ber.OctetString),n.readSequence(),void 0===e.purposes&&(e.purposes=[]);for(var f=n.offset+n.length;n.offset<f;){var y=n.readOID();e.purposes.push(x[y]||y)}-1!==e.purposes.indexOf("serverAuth")&&-1===e.purposes.indexOf("clientAuth")?e.subjects.forEach((function(e){"host"!==e.type&&(e.type="host",e.hostname=e.uid||e.email||e.components[0].value)})):-1!==e.purposes.indexOf("clientAuth")&&-1===e.purposes.indexOf("serverAuth")&&e.subjects.forEach((function(e){"user"!==e.type&&(e.type="user",e.uid=e.hostname||e.email||e.components[0].value)})),u.extras.exts.push({oid:c,critical:o});break;case g:n.readSequence(r.Ber.OctetString);var b=n.readString(r.Ber.BitString,!0);(function(e,t){for(var n=8*(e.length-1)-e[0],i={},r=0;r<n;++r){var o=1+Math.floor(r/8),a=1<<7-r%8,s=0!=(e[o]&a),c=t[r];s&&"string"==typeof c&&(i[c]=!0)}return Object.keys(i)})(b,k).forEach((function(t){void 0===e.purposes&&(e.purposes=[]),-1===e.purposes.indexOf(t)&&e.purposes.push(t)})),u.extras.exts.push({oid:c,critical:o,bits:b});break;case d:n.readSequence(r.Ber.OctetString),n.readSequence();for(var _=n.offset+n.length;n.offset<_;)switch(n.peek()){case w.OtherName:case w.EDIPartyName:n.readSequence(),n._offset+=n.length;break;case w.OID:n.readOID(w.OID);break;case w.RFC822Name:var E=n.readString(w.RFC822Name);i=s.forEmail(E),e.subjects[0].equals(i)||e.subjects.push(i);break;case w.DirectoryName:n.readSequence(w.DirectoryName),i=s.parseAsn1(n),e.subjects[0].equals(i)||e.subjects.push(i);break;case w.DNSName:var S=n.readString(w.DNSName);i=s.forHost(S),e.subjects[0].equals(i)||e.subjects.push(i);break;default:n.readString(n.peek())}u.extras.exts.push({oid:c,critical:o});break;default:u.extras.exts.push({oid:c,critical:o,data:n.readString(r.Ber.OctetString,!0)})}n._offset=a}var S=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;var j=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function M(e,t){void 0===t&&(t=2);for(var n=""+e;n.length<t;)n="0"+n;return n}function A(e,t){var n=e.signatures.x509;i.object(n,"x509 signature"),t.startSequence(),t.startSequence(p(0)),t.writeInt(2),t.endSequence(),t.writeBuffer(a.mpNormalize(e.serial),r.Ber.Integer),t.startSequence(),t.writeOID(f[n.algo]),n.algo.match(/^rsa-/)&&t.writeNull(),t.endSequence(),e.issuer.toAsn1(t),t.startSequence(),b(t,e.validFrom),b(t,e.validUntil),t.endSequence();var o=e.subjects[0],s=e.subjects.slice(1);if(o.toAsn1(t),l.writePkcs8(t,e.subjectKey),n.extras&&n.extras.issuerUniqueID&&t.writeBuffer(n.extras.issuerUniqueID,p(1)),n.extras&&n.extras.subjectUniqueID&&t.writeBuffer(n.extras.subjectUniqueID,p(2)),s.length>0||"host"===o.type||void 0!==e.purposes&&e.purposes.length>0||n.extras&&n.extras.exts){t.startSequence(p(3)),t.startSequence();var c=[];void 0!==e.purposes&&e.purposes.length>0&&(c.push({oid:m,critical:!0}),c.push({oid:g,critical:!0}),c.push({oid:v,critical:!0})),c.push({oid:d}),n.extras&&n.extras.exts&&(c=n.extras.exts);for(var u=0;u<c.length;++u){if(t.startSequence(),t.writeOID(c[u].oid),void 0!==c[u].critical&&t.writeBoolean(c[u].critical),c[u].oid===d){t.startSequence(r.Ber.OctetString),t.startSequence(),"host"===o.type&&t.writeString(o.hostname,h(2));for(var y=0;y<s.length;++y)"host"===s[y].type?t.writeString(s[y].hostname,w.DNSName):"email"===s[y].type?t.writeString(s[y].email,w.RFC822Name):(t.startSequence(w.DirectoryName),s[y].toAsn1(t),t.endSequence());t.endSequence(),t.endSequence()}else if(c[u].oid===m){t.startSequence(r.Ber.OctetString),t.startSequence();var x=-1!==e.purposes.indexOf("ca"),E=c[u].pathLen;t.writeBoolean(x),void 0!==E&&t.writeInt(E),t.endSequence(),t.endSequence()}else if(c[u].oid===v)t.startSequence(r.Ber.OctetString),t.startSequence(),e.purposes.forEach((function(e){if("ca"!==e&&-1===k.indexOf(e)){var n=e;void 0!==_[e]&&(n=_[e]),t.writeOID(n)}})),t.endSequence(),t.endSequence();else if(c[u].oid===g){if(t.startSequence(r.Ber.OctetString),void 0!==c[u].bits)t.writeBuffer(c[u].bits,r.Ber.BitString);else{var S=C(e.purposes,k);t.writeBuffer(S,r.Ber.BitString)}t.endSequence()}else t.writeBuffer(c[u].data,r.Ber.OctetString);t.endSequence()}t.endSequence(),t.endSequence()}t.endSequence()}function C(e,t){var n=t.length,i=Math.ceil(n/8),r=8*i-n,a=o.alloc(1+i);a[0]=r;for(var s=0;s<n;++s){var c=1+Math.floor(s/8),u=1<<7-s%8,l=t[s];if(void 0!==l)-1!==e.indexOf(l)&&(a[c]|=u)}return a}},function(e,t,n){(function(e){var i=n(83),r=n(18);function o(e){var t,n,o,a,u,l,p,h,f,d=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),m=new RegExp(d),g=Array.prototype.slice.call(arguments,1),v="",y=1;for(i.equal("string",typeof e);null!==(f=m.exec(e));)if(v+=f[1],e=e.substring(f[0].length),t=f[2]||"",n=f[3]||0,o=f[4]||"",u=!1,p=!1,l=" ","%"!=(a=f[6])){if(0===g.length)throw new Error("too few args to sprintf");if(h=g.shift(),y++,t.match(/[\' #]/))throw new Error("unsupported flags: "+t);if(o.length>0)throw new Error("non-zero precision not supported");switch(t.match(/-/)&&(u=!0),t.match(/0/)&&(l="0"),t.match(/\+/)&&(p=!0),a){case"s":if(null==h)throw new Error("argument "+y+": attempted to print undefined or null as a string");v+=s(l,n,u,h.toString());break;case"d":h=Math.floor(h);case"f":v+=(p=p&&h>0?"+":"")+s(l,n,u,h.toString());break;case"x":v+=s(l,n,u,h.toString(16));break;case"j":0===n&&(n=10),v+=r.inspect(h,!1,n);break;case"r":v+=c(h);break;default:throw new Error("unsupported conversion: "+a)}}else v+="%";return v+=e}function a(e){var t=Array.prototype.slice.call(arguments,1);return e.write(o.apply(this,t))}function s(e,t,n,i){for(var r=i;r.length<t;)n?r+=e:r=e+r;return r}function c(e){var t;if(!(e instanceof Error))throw new Error(o("invalid type for %%r: %j",e));if(t="EXCEPTION: "+e.constructor.name+": "+e.stack,e.cause&&"function"==typeof e.cause){var n=e.cause();n&&(t+="\nCaused by: "+c(n))}return t}t.sprintf=o,t.printf=function(){var t=Array.prototype.slice.call(arguments);t.unshift(e.stdout),a.apply(null,t)},t.fprintf=a}).call(this,n(8))},function(e,t,n){var i=n(60);function r(e){return e instanceof i.Stream}function o(e){return r(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function a(e){return r(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}e.exports=r,e.exports.isReadable=o,e.exports.isWritable=a,e.exports.isDuplex=function(e){return o(e)&&a(e)}},function(e,t,n){"use strict";var i=n(657),r=n(658),o=n(383);e.exports={formats:o,parse:r,stringify:i}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],o=r.obj[r.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var i=[],r=0;r<t.length;++r)void 0!==t[r]&&i.push(t[r]);n.obj[n.prop]=i}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?n+=t.charAt(i):o<128?n+=r[o]:o<2048?n+=r[192|o>>6]+r[128|63&o]:o<55296||o>=57344?n+=r[224|o>>12]+r[128|o>>6&63]+r[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),n+=r[240|o>>18]+r[128|o>>12&63]+r[128|o>>6&63]+r[128|63&o])}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return Array.isArray(t)&&!Array.isArray(n)&&(a=o(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";var i=n(105);e.exports=function(e){i.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,c=Object.keys(t).sort(r&&r(t));for(a="",n=0;n<c.length;n++){var u=c[n],l=e(t[u]);l&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l)}return o.splice(s,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i="",r=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var c="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(i+=" var validate = ",r&&(e.async=!0,i+="async "),i+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(i+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var u=e.level,l=e.dataLevel,p=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),f=e.errSchemaPath+"/false schema",d=!e.opts.allErrors,m="data"+(l||""),g="valid"+u;if(!1===e.schema){e.isTop?d=!0:i+=" var "+g+" = false; ",(Y=Y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'boolean schema is false' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ";var v=i;i=Y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i+=r?" return data; ":" validate.errors = null; return true; ":i+=" var "+g+" = true; ";return e.isTop&&(i+=" }; return validate; "),i}if(e.isTop){var y=e.isTop;u=e.level=0,l=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}i+=" var vErrors = null; ",i+=" var errors = 0;     ",i+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((l=e.dataLevel)||"");if(a&&(e.baseId=e.resolve.url(e.baseId,a)),r&&!e.async)throw new Error("async schema in sync schema");i+=" var errs_"+u+" = errors;"}g="valid"+u,d=!e.opts.allErrors;var w="",_="",x=e.schema.type,k=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],k=!0)),k&&1==x.length&&(x=x[0],k=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(i+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,x);var S=e.RULES.types[x];if(E||k||!0===S||S&&!X(S)){h=e.schemaPath+".type",f=e.errSchemaPath+"/type",h=e.schemaPath+".type",f=e.errSchemaPath+"/type";var j=k?"checkDataTypes":"checkDataType";if(i+=" if ("+e.util[j](x,m,e.opts.strictNumbers,!0)+") { ",E){var M="dataType"+u,A="coerced"+u;i+=" var "+M+" = typeof "+m+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(i+=" if ("+M+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+M+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+A+" = "+m+"; } "),i+=" if ("+A+" !== undefined) ; ";var C=E;if(C)for(var T,P=-1,R=C.length-1;P<R;)"string"==(T=C[P+=1])?i+=" else if ("+M+" == 'number' || "+M+" == 'boolean') "+A+" = '' + "+m+"; else if ("+m+" === null) "+A+" = ''; ":"number"==T||"integer"==T?(i+=" else if ("+M+" == 'boolean' || "+m+" === null || ("+M+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==T&&(i+=" && !("+m+" % 1)"),i+=")) "+A+" = +"+m+"; "):"boolean"==T?i+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+A+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+A+" = true; ":"null"==T?i+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(i+=" else if ("+M+" == 'string' || "+M+" == 'number' || "+M+" == 'boolean' || "+m+" == null) "+A+" = ["+m+"]; ");i+=" else {   ",(Y=Y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=k?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=k?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ";v=i;i=Y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } if ("+A+" !== undefined) {  ";var B=l?"data"+(l-1||""):"parentData";i+=" "+m+" = "+A+"; ",l||(i+="if ("+B+" !== undefined)"),i+=" "+B+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+A+"; } "}else{(Y=Y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=k?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=k?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ";v=i;i=Y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}i+=" } "}}if(e.schema.$ref&&!o)i+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(i+=" } if (errors === ",i+=y?"0":"errs_"+u,i+=") { ",_+="}");else{var O=e.RULES;if(O)for(var I=-1,D=O.length-1;I<D;)if(X(S=O[I+=1])){if(S.type&&(i+=" if ("+e.util.checkDataType(S.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){p=e.schema.properties;var F=Object.keys(p);if(F)for(var z,N=-1,L=F.length-1;N<L;){if(void 0!==(U=p[z=F[N+=1]]).default){var q=m+e.util.getProperty(z);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else i+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+q+" === null || "+q+" === '' "),i+=" ) "+q+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(U.default)+" ":i+=" "+JSON.stringify(U.default)+" ",i+="; "}}}else if("array"==S.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){P=-1;for(var U,$=H.length-1;P<$;)if(void 0!==(U=H[P+=1]).default){q=m+"["+P+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+q;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else i+=" if ("+q+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+q+" === null || "+q+" === '' "),i+=" ) "+q+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(U.default)+" ":i+=" "+JSON.stringify(U.default)+" ",i+="; "}}}var V=S.rules;if(V)for(var W,G=-1,K=V.length-1;G<K;)if(J(W=V[G+=1])){var Z=W.code(e,W.keyword,S.type);Z&&(i+=" "+Z+" ",d&&(w+="}"))}if(d&&(i+=" "+w+" ",w=""),S.type&&(i+=" } ",x&&x===S.type&&!E)){i+=" else { ";var Y;h=e.schemaPath+".type",f=e.errSchemaPath+"/type";(Y=Y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=k?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=k?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),i+=" } "):i+=" {} ";v=i;i=Y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}d&&(i+=" if (errors === ",i+=y?"0":"errs_"+u,i+=") { ",_+="}")}}function X(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,i=0;i<n.length;i++)if(void 0!==e.schema[n[i]])return!0}(t)}return d&&(i+=" "+_+" "),y?(r?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }; return validate;"):i+=" var "+g+" = errors === errs_"+u+";",i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s;var f="maximum"==t,d=f?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[d],g=e.opts.$data&&m&&m.$data,v=f?"<":">",y=f?">":"<",b=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(d+" must be number or boolean");if(g){var w=e.util.getData(m.$data,a,e.dataPathArr),_="exclusive"+o,x="exclType"+o,k="exclIsNumber"+o,E="' + "+(M="op"+o)+" + '";r+=" var schemaExcl"+o+" = "+w+"; ",r+=" var "+_+"; var "+x+" = typeof "+(w="schemaExcl"+o)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var S;b=d;(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: '"+d+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var j=r;r=S.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+x+" == 'number' ? ( ("+_+" = "+i+" === undefined || "+w+" "+v+"= "+i+") ? "+p+" "+y+"= "+w+" : "+p+" "+y+" "+i+" ) : ( ("+_+" = "+w+" === true) ? "+p+" "+y+"= "+i+" : "+p+" "+y+" "+i+" ) || "+p+" !== "+p+") { var op"+o+" = "+_+" ? '"+v+"' : '"+v+"='; ",void 0===s&&(b=d,u=e.errSchemaPath+"/"+d,i=w,h=g)}else{E=v;if((k="number"==typeof m)&&h){var M="'"+E+"'";r+=" if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" ( "+i+" === undefined || "+m+" "+v+"= "+i+" ? "+p+" "+y+"= "+m+" : "+p+" "+y+" "+i+" ) || "+p+" !== "+p+") { "}else{k&&void 0===s?(_=!0,b=d,u=e.errSchemaPath+"/"+d,i=m,y+="="):(k&&(i=Math[f?"min":"max"](m,s)),m===(!k||i)?(_=!0,b=d,u=e.errSchemaPath+"/"+d,y+="="):(_=!1,E+="="));M="'"+E+"'";r+=" if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+p+" "+y+" "+i+" || "+p+" !== "+p+") { "}}b=b||t,(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+M+", limit: "+i+", exclusive: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+E+" ",r+=h?"' + "+i:i+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";j=r;return r=S.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+p+".length "+("maxItems"==t?">":"<")+" "+i+") { ";var f=t,d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxItems"==t?"more":"fewer",r+=" than ",r+=h?"' + "+i+" + '":""+s,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var m=r;return r=d.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var f="maxLength"==t?">":"<";r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===e.opts.unicode?r+=" "+p+".length ":r+=" ucs2length("+p+") ",r+=" "+f+" "+i+") { ";var d=t,m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be ",r+="maxLength"==t?"longer":"shorter",r+=" than ",r+=h?"' + "+i+" + '":""+s,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" Object.keys("+p+").length "+("maxProperties"==t?">":"<")+" "+i+") { ";var f=t,d=d||[];d.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxProperties"==t?"more":"fewer",r+=" than ",r+=h?"' + "+i+" + '":""+s,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var m=r;return r=d.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",l&&(r+=" else { "),r}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2018, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(313);t.getPublicSuffix=function(e){return i.get(e)}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */function i(){}t.Store=i,i.prototype.synchronous=!1,i.prototype.findCookie=function(e,t,n,i){throw new Error("findCookie is not implemented")},i.prototype.findCookies=function(e,t,n){throw new Error("findCookies is not implemented")},i.prototype.putCookie=function(e,t){throw new Error("putCookie is not implemented")},i.prototype.updateCookie=function(e,t,n){throw new Error("updateCookie is not implemented")},i.prototype.removeCookie=function(e,t,n,i){throw new Error("removeCookie is not implemented")},i.prototype.removeCookies=function(e,t,n){throw new Error("removeCookies is not implemented")},i.prototype.removeAllCookies=function(e){throw new Error("removeAllCookies is not implemented")},i.prototype.getAllCookies=function(e){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(392);t.permuteDomain=function(e){var t=i.getPublicSuffix(e);if(!t)return null;if(t==e)return[e];for(var n=e.slice(0,-(t.length+1)).split(".").reverse(),r=t,o=[r];n.length;)r=n.shift()+"."+r,o.push(r);return o}},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */t.pathMatch=function(e,t){if(t===e)return!0;if(0===e.indexOf(t)){if("/"===t.substr(-1))return!0;if("/"===e.substr(t.length,1))return!0}return!1}},function(e,t,n){"use strict";e.exports.extend=function(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},e.exports.isExtended=function(e){return!0===e.__refs_collection}},function(e){e.exports=JSON.parse('{"name":"Object diagram","uri":"http://tk/schema/od","prefix":"od","xml":{"tagAlias":"lowerCase"},"types":[{"name":"BoardElement","isAbstract":true,"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"id","isAttr":true,"type":"String","isId":true}]},{"name":"Object","superClass":["BoardElement"],"properties":[{"name":"attributeValues","isAttr":true,"type":"String"},{"name":"links","isMany":true,"type":"Link","isReference":true}]},{"name":"Link","superClass":["BoardElement"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"sourceRef","isAttr":true,"isReference":true,"type":"Object"},{"name":"targetRef","isAttr":true,"isReference":true,"type":"Object"}]},{"name":"OdBoard","superClass":["RootElement"],"properties":[{"name":"boardElements","isMany":true,"type":"BoardElement"}]},{"name":"TextBox","superClass":["BoardElement"]},{"name":"RootElement","isAbstract":true,"superClass":["BoardElement"]},{"name":"Definitions","superClass":["BoardElement"],"properties":[{"name":"targetNamespace","isAttr":true,"type":"String"},{"name":"expressionLanguage","default":"http://www.w3.org/1999/XPath","isAttr":true,"type":"String"},{"name":"typeLanguage","default":"http://www.w3.org/2001/XMLSchema","isAttr":true,"type":"String"},{"name":"rootElements","type":"RootElement","isMany":true},{"name":"rootBoards","isMany":true,"type":"odDi:OdRootBoard"},{"name":"exporter","isAttr":true,"type":"String"},{"name":"exporterVersion","isAttr":true,"type":"String"}]}]}')},function(e){e.exports=JSON.parse('{"name":"ODDI","uri":"http://tk/schema/odDi","prefix":"odDi","xml":{"tagAlias":"lowerCase"},"types":[{"name":"OdRootBoard","properties":[{"name":"plane","type":"OdPlane","redefines":"Board#rootElement"},{"name":"labelStyle","type":"OdLabelStyle","isMany":true}],"superClass":["Board"]},{"name":"OdPlane","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"od:BoardElement","redefines":"BoardElement#modelElement"}],"superClass":["Plane"]},{"name":"OdShape","properties":[{"name":"boardElement","isAttr":true,"isReference":true,"type":"od:BoardElement","redefines":"BoardElement#modelElement"},{"name":"label","type":"OdLabel"}],"superClass":["LabeledShape"]},{"name":"Link","properties":[{"name":"label","type":"OdLabel"},{"name":"boardElement","isAttr":true,"isReference":true,"type":"od:BoardElement","redefines":"BoardElement#modelElement"},{"name":"sourceElement","isAttr":true,"isReference":true,"type":"od:BoardElement","redefines":"Edge#source"},{"name":"targetElement","isAttr":true,"isReference":true,"type":"od:BoardElement","redefines":"Edge#target"},{"name":"messageVisibleKind","type":"MessageVisibleKind","isAttr":true,"default":"initiating"}],"superClass":["LabeledEdge"]},{"name":"OdLabel","properties":[{"name":"labelStyle","type":"OdLabelStyle","isAttr":true,"isReference":true,"redefines":"BoardElement#style"}],"superClass":["Label"]},{"name":"OdLabelStyle","properties":[{"name":"font","type":"dc:Font"}],"superClass":["Style"]},{"name":"BoardElement","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"owningBoard","type":"Board","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"owningElement","type":"BoardElement","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"modelElement","isReadOnly":true,"isVirtual":true,"isReference":true,"type":"Element"},{"name":"style","type":"Style","isReadOnly":true,"isVirtual":true,"isReference":true}]},{"name":"Node","isAbstract":true,"superClass":["BoardElement"]},{"name":"Edge","isAbstract":true,"superClass":["BoardElement"],"properties":[{"name":"source","type":"od:BoardElement","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"target","type":"od:BoardElement","isReadOnly":true,"isVirtual":true,"isReference":true},{"name":"waypoint","isUnique":false,"isMany":true,"type":"dc:Point","xml":{"serialize":"xsi:type"}}]},{"name":"Board","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"},{"name":"rootElement","type":"BoardElement","isReadOnly":true,"isVirtual":true},{"name":"name","isAttr":true,"type":"String"},{"name":"resolution","isAttr":true,"type":"Real"},{"name":"ownedStyle","type":"Style","isReadOnly":true,"isMany":true,"isVirtual":true}]},{"name":"Shape","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Plane","isAbstract":true,"superClass":["Node"],"properties":[{"name":"planeElement","type":"BoardElement","subsettedProperty":"BoardElement-ownedElement","isMany":true}]},{"name":"LabeledEdge","isAbstract":true,"superClass":["Edge"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"LabeledShape","isAbstract":true,"superClass":["Shape"],"properties":[{"name":"ownedLabel","type":"Label","isReadOnly":true,"subsettedProperty":"BoardElement-ownedElement","isMany":true,"isVirtual":true}]},{"name":"Label","isAbstract":true,"superClass":["Node"],"properties":[{"name":"bounds","type":"dc:Bounds"}]},{"name":"Style","isAbstract":true,"properties":[{"name":"id","isAttr":true,"isId":true,"type":"String"}]},{"name":"Extension","properties":[{"name":"values","isMany":true,"type":"Element"}]}],"enumerations":[],"associations":[]}')},function(e){e.exports=JSON.parse('{"name":"dc","uri":"http://www.omg.org/spec/DD/20100524/DC","prefix":"dc","types":[{"name":"Boolean"},{"name":"Integer"},{"name":"Real"},{"name":"String"},{"name":"Font","properties":[{"name":"name","type":"String","isAttr":true},{"name":"size","type":"Real","isAttr":true},{"name":"isBold","type":"Boolean","isAttr":true},{"name":"isItalic","type":"Boolean","isAttr":true},{"name":"isUnderline","type":"Boolean","isAttr":true},{"name":"isStrikeThrough","type":"Boolean","isAttr":true}]},{"name":"Point","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true}]},{"name":"Bounds","properties":[{"name":"x","type":"Real","default":"0","isAttr":true},{"name":"y","type":"Real","default":"0","isAttr":true},{"name":"width","type":"Real","isAttr":true},{"name":"height","type":"Real","isAttr":true}]}],"associations":[]}')},function(e,t,n){(function(e){var n;n=function(){var e=null,t={};a("monochrome",null,[[0,0],[100,0]]),a("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),a("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),a("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),a("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),a("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),a("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),a("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]);var n=[],i=function(a){if(void 0!==(a=a||{}).seed&&null!==a.seed&&a.seed===parseInt(a.seed,10))e=a.seed;else if("string"==typeof a.seed)e=function(e){for(var t=0,n=0;n!==e.length&&!(t>=Number.MAX_SAFE_INTEGER);n++)t+=e.charCodeAt(n);return t}(a.seed);else{if(void 0!==a.seed&&null!==a.seed)throw new TypeError("The seed value must be an integer or string");e=null}var l,p;if(null!==a.count&&void 0!==a.count){for(var h=a.count,f=[],d=0;d<a.count;d++)n.push(!1);for(a.count=null;h>f.length;){var m=i(a);null!==e&&(a.seed=e),f.push(m)}return a.count=h,f}return function(e,t){switch(t.format){case"hsvArray":return e;case"hslArray":return u(e);case"hsl":var n=u(e);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"hsla":var i=u(e),r=t.alpha||Math.random();return"hsla("+i[0]+", "+i[1]+"%, "+i[2]+"%, "+r+")";case"rgbArray":return s(e);case"rgb":return"rgb("+s(e).join(", ")+")";case"rgba":var o=s(e);return r=t.alpha||Math.random(),"rgba("+o.join(", ")+", "+r+")";default:return function(e){var t=s(e);function n(e){var t=e.toString(16);return 1==t.length?"0"+t:t}return"#"+n(t[0])+n(t[1])+n(t[2])}(e)}}([l=function(e){if(n.length>0){var i=o(p=function(e){if(isNaN(e)){if("string"==typeof e)if(t[e]){var n=t[e];if(n.hueRange)return n.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i))return r(c(e)[0]).hueRange}else{var i=parseInt(e);if(i<360&&i>0)return r(e).hueRange}return[0,360]}(e.hue)),a=(p[1]-p[0])/n.length,s=parseInt((i-p[0])/a);!0===n[s]?s=(s+2)%n.length:n[s]=!0;var u=(p[0]+s*a)%359,l=(p[0]+(s+1)*a)%359;return(i=o(p=[u,l]))<0&&(i=360+i),i}var p=function(e){if("number"==typeof parseInt(e)){var n=parseInt(e);if(n<360&&n>0)return[n,n]}if("string"==typeof e)if(t[e]){var i=t[e];if(i.hueRange)return i.hueRange}else if(e.match(/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i)){var r=c(e)[0];return[r,r]}return[0,360]}(e.hue);return(i=o(p))<0&&(i=360+i),i}(a),p=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return o([0,100]);var n=function(e){return r(e).saturationRange}(e),i=n[0],a=n[1];switch(t.luminosity){case"bright":i=55;break;case"dark":i=a-10;break;case"light":a=55}return o([i,a])}(l,a),function(e,t,n){var i=function(e,t){for(var n=r(e).lowerBounds,i=0;i<n.length-1;i++){var o=n[i][0],a=n[i][1],s=n[i+1][0],c=n[i+1][1];if(t>=o&&t<=s){var u=(c-a)/(s-o);return u*t+(a-u*o)}}return 0}(e,t),a=100;switch(n.luminosity){case"dark":a=i+20;break;case"light":i=(a+i)/2;break;case"random":i=0,a=100}return o([i,a])}(l,p,a)],a)};function r(e){for(var n in e>=334&&e<=360&&(e-=360),t){var i=t[n];if(i.hueRange&&e>=i.hueRange[0]&&e<=i.hueRange[1])return t[n]}return"Color not found"}function o(t){if(null===e){var n=Math.random();return n+=.618033988749895,n%=1,Math.floor(t[0]+n*(t[1]+1-t[0]))}var i=t[1]||1,r=t[0]||0,o=(e=(9301*e+49297)%233280)/233280;return Math.floor(r+o*(i-r))}function a(e,n,i){var r=i[0][0],o=i[i.length-1][0],a=i[i.length-1][1],s=i[0][1];t[e]={hueRange:n,lowerBounds:i,saturationRange:[r,o],brightnessRange:[a,s]}}function s(e){var t=e[0];0===t&&(t=1),360===t&&(t=359),t/=360;var n=e[1]/100,i=e[2]/100,r=Math.floor(6*t),o=6*t-r,a=i*(1-n),s=i*(1-o*n),c=i*(1-(1-o)*n),u=256,l=256,p=256;switch(r){case 0:u=i,l=c,p=a;break;case 1:u=s,l=i,p=a;break;case 2:u=a,l=i,p=c;break;case 3:u=a,l=s,p=i;break;case 4:u=c,l=a,p=i;break;case 5:u=i,l=a,p=s}return[Math.floor(255*u),Math.floor(255*l),Math.floor(255*p)]}function c(e){e=3===(e=e.replace(/^#/,"")).length?e.replace(/(.)/g,"$1$1"):e;var t=parseInt(e.substr(0,2),16)/255,n=parseInt(e.substr(2,2),16)/255,i=parseInt(e.substr(4,2),16)/255,r=Math.max(t,n,i),o=r-Math.min(t,n,i),a=r?o/r:0;switch(r){case t:return[(n-i)/o%6*60||0,a,r];case n:return[60*((i-t)/o+2)||0,a,r];case i:return[60*((t-n)/o+4)||0,a,r]}}function u(e){var t=e[0],n=e[1]/100,i=e[2]/100,r=(2-n)*i;return[t,Math.round(n*i/(r<1?r:2-r)*1e4)/100,r/2*100]}return i}(),e&&e.exports&&(t=e.exports=n),t.randomColor=n}).call(this,n(37)(e))},,function(e,t,n){e.exports=n(735)},function(e,t,n){var i=n(6),r=n(15),o=n(22),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!o(s=i(n,e)))return s;if(r(n=e.valueOf)&&!o(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!o(s=i(n,e)))return s;throw a("Can't convert object to primitive value")}},function(e,t,n){var i=n(5),r=n(15),o=n(23),a=n(21),s=n(110).CONFIGURABLE,c=n(172),u=n(53),l=u.enforce,p=u.get,h=Object.defineProperty,f=a&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),d=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&o(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=l(e);return o(i,"source")||(i.source=d.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return r(this)&&p(this).source||c(this)}),"toString")},function(e,t,n){var i=n(10),r=n(15),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:n)(t)}},function(e,t,n){"use strict";var i=n(0),r=n(10),o=n(6),a=n(7),s=n(45),c=n(21),u=n(84),l=n(5),p=n(23),h=n(52),f=n(3),d=n(33),m=n(138),g=n(29),v=n(107),y=n(70),b=n(113),w=n(88),_=n(249),x=n(144),k=n(66),E=n(28),S=n(247),j=n(137),M=n(31),A=n(87),C=n(141),T=n(111),P=n(139),R=n(16),B=n(250),O=n(251),I=n(409),D=n(115),F=n(53),z=n(89).forEach,N=C("hidden"),L=F.set,q=F.getterFor("Symbol"),H=Object.prototype,U=r.Symbol,$=U&&U.prototype,V=r.TypeError,W=r.QObject,G=k.f,K=E.f,Z=_.f,Y=j.f,X=a([].push),J=A("symbols"),Q=A("op-symbols"),ee=A("wks"),te=!W||!W.prototype||!W.prototype.findChild,ne=c&&l((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=G(H,t);i&&delete H[t],K(e,t,n),i&&e!==H&&K(H,t,i)}:K,ie=function(e,t){var n=J[e]=y($);return L(n,{type:"Symbol",tag:e,description:t}),c||(n.description=t),n},re=function(e,t,n){e===H&&re(Q,t,n),f(e);var i=m(t);return f(n),p(J,i)?(n.enumerable?(p(e,N)&&e[N][i]&&(e[N][i]=!1),n=y(n,{enumerable:v(0,!1)})):(p(e,N)||K(e,N,v(1,{})),e[N][i]=!0),ne(e,i,n)):K(e,i,n)},oe=function(e,t){f(e);var n=d(t),i=b(n).concat(ue(n));return z(i,(function(t){c&&!o(ae,n,t)||re(e,t,n[t])})),e},ae=function(e){var t=m(e),n=o(Y,this,t);return!(this===H&&p(J,t)&&!p(Q,t))&&(!(n||!p(this,t)||!p(J,t)||p(this,N)&&this[N][t])||n)},se=function(e,t){var n=d(e),i=m(t);if(n!==H||!p(J,i)||p(Q,i)){var r=G(n,i);return!r||!p(J,i)||p(n,N)&&n[N][i]||(r.enumerable=!0),r}},ce=function(e){var t=Z(d(e)),n=[];return z(t,(function(e){p(J,e)||p(T,e)||X(n,e)})),n},ue=function(e){var t=e===H,n=Z(t?Q:d(e)),i=[];return z(n,(function(e){!p(J,e)||t&&!p(H,e)||X(i,J[e])})),i};u||(M($=(U=function(){if(h($,this))throw V("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=P(e),n=function(e){this===H&&o(n,Q,e),p(this,N)&&p(this[N],t)&&(this[N][t]=!1),ne(this,t,v(1,e))};return c&&te&&ne(H,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return q(this).tag})),M(U,"withoutSetter",(function(e){return ie(P(e),e)})),j.f=ae,E.f=re,S.f=oe,k.f=se,w.f=_.f=ce,x.f=ue,B.f=function(e){return ie(R(e),e)},c&&(K($,"description",{configurable:!0,get:function(){return q(this).description}}),s||M(H,"propertyIsEnumerable",ae,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:U}),z(b(ee),(function(e){O(e)})),i({target:"Symbol",stat:!0,forced:!u},{useSetter:function(){te=!0},useSimple:function(){te=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!c},{create:function(e,t){return void 0===t?y(e):oe(y(e),t)},defineProperty:re,defineProperties:oe,getOwnPropertyDescriptor:se}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ce}),I(),D(U,"Symbol"),T[N]=!0},function(e,t,n){var i=n(10);e.exports=i},function(e,t,n){var i=n(6),r=n(19),o=n(16),a=n(31);e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return i(n,this)}),{arity:1})}},function(e,t,n){var i=n(146),r=n(147),o=n(22),a=n(16)("species"),s=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===s||i(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},function(e,t,n){var i=n(0),r=n(19),o=n(23),a=n(29),s=n(87),c=n(253),u=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=a(e);if(o(u,t))return u[t];var n=r("Symbol")(t);return u[t]=n,l[n]=t,n}})},function(e,t,n){var i=n(0),r=n(23),o=n(109),a=n(86),s=n(87),c=n(253),u=s("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw TypeError(a(e)+" is not a symbol");if(r(u,e))return u[e]}})},function(e,t,n){var i=n(0),r=n(19),o=n(116),a=n(6),s=n(7),c=n(5),u=n(146),l=n(15),p=n(22),h=n(109),f=n(148),d=n(84),m=r("JSON","stringify"),g=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),_=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,E=!d||c((function(){var e=r("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),S=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),j=function(e,t){var n=f(arguments),i=t;if((p(t)||void 0!==e)&&!h(e))return u(t)||(t=function(e,t){if(l(i)&&(t=a(i,this,e,t)),!h(t))return t}),n[1]=t,o(m,null,n)},M=function(e,t,n){var i=v(n,t-1),r=v(n,t+1);return g(x,e)&&!g(k,r)||g(k,e)&&!g(x,i)?"\\u"+w(y(e,0),16):e};m&&i({target:"JSON",stat:!0,arity:3,forced:E||S},{stringify:function(e,t,n){var i=f(arguments),r=o(E?j:m,null,i);return S&&"string"==typeof r?b(r,_,M):r}})},function(e,t,n){var i=n(0),r=n(84),o=n(5),a=n(144),s=n(32);i({target:"Object",stat:!0,forced:!r||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},function(e,t){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},function(e,t,n){"use strict";var i=n(24),r=n(6),o=n(32),a=n(417),s=n(256),c=n(147),u=n(46),l=n(114),p=n(180),h=n(181),f=Array;e.exports=function(e){var t=o(e),n=c(this),d=arguments.length,m=d>1?arguments[1]:void 0,g=void 0!==m;g&&(m=i(m,d>2?arguments[2]:void 0));var v,y,b,w,_,x,k=h(t),E=0;if(!k||this===f&&s(k))for(v=u(t),y=n?new this(v):f(v);v>E;E++)x=g?m(t[E],E):t[E],l(y,E,x);else for(_=(w=p(t,k)).next,y=n?new this:[];!(b=r(_,w)).done;E++)x=g?a(w,m,[b.value,E],!0):b.value,l(y,E,x);return y.length=E,y}},function(e,t,n){var i=n(3),r=n(255);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},function(e,t,n){"use strict";var i=n(257).IteratorPrototype,r=n(70),o=n(107),a=n(115),s=n(117),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=r(i,{next:o(+!u,n)}),a(e,l,!1,!0),s[l]=c,e}},function(e,t,n){var i=n(15),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+r(e)+" as a prototype")}},function(e,t,n){"use strict";var i=n(0),r=n(259).right,o=n(92),a=n(67),s=n(96);i({target:"Array",proto:!0,forced:!o("reduceRight")||!s&&a>79&&a<83},{reduceRight:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(0),r=n(7),o=n(13),a=n(32),s=n(46),c=n(422),u=n(29),l=n(5),p=n(423),h=n(92),f=n(424),d=n(425),m=n(67),g=n(426),v=[],y=r(v.sort),b=r(v.push),w=l((function(){v.sort(void 0)})),_=l((function(){v.sort(null)})),x=h("sort"),k=!l((function(){if(m)return m<70;if(!(f&&f>3)){if(d)return!0;if(g)return g<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)v.push({k:t+i,v:n})}for(v.sort((function(e,t){return t.v-e.v})),i=0;i<v.length;i++)t=v[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:w||!_||!x||!k},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(k)return void 0===e?y(t):y(t,e);var n,i,r=[],l=s(t);for(i=0;i<l;i++)i in t&&b(r,t[i]);for(p(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}}(e)),n=s(r),i=0;i<n;)t[i]=r[i++];for(;i<l;)c(t,i++);return t}})},function(e,t,n){"use strict";var i=n(86),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},function(e,t,n){var i=n(178),r=Math.floor,o=function(e,t){var n=e.length,c=r(n/2);return n<8?a(e,t):s(e,o(i(e,0,c),t),o(i(e,c),t),t)},a=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},s=function(e,t,n,i){for(var r=t.length,o=n.length,a=0,s=0;a<r||s<o;)e[a+s]=a<r&&s<o?i(t[a],n[s])<=0?t[a++]:n[s++]:a<r?t[a++]:n[s++];return e};e.exports=o},function(e,t,n){var i=n(68).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},function(e,t,n){var i=n(68);e.exports=/MSIE|Trident/.test(i)},function(e,t,n){var i=n(68).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},function(e,t,n){"use strict";var i=n(21),r=n(7),o=n(6),a=n(5),s=n(113),c=n(144),u=n(137),l=n(32),p=n(108),h=Object.assign,f=Object.defineProperty,d=r([].concat);e.exports=!h||a((function(){if(i&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=h({},e)[n]||"abcdefghijklmnopqrst"!=s(h({},t)).join("")}))?function(e,t){for(var n=l(e),r=arguments.length,a=1,h=c.f,f=u.f;r>a;)for(var m,g=p(arguments[a++]),v=h?d(s(g),h(g)):s(g),y=v.length,b=0;y>b;)m=v[b++],i&&!o(f,g,m)||(n[m]=g[m]);return n}:h},function(e,t,n){n(0)({target:"Object",stat:!0},{is:n(429)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(177),r=n(145);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(e,t,n){"use strict";n(270)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(272))},function(e,t,n){var i=n(5),r=n(22),o=n(43),a=n(433),s=Object.isExtensible,c=i((function(){s(1)}));e.exports=c||a?function(e){return!!r(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},function(e,t,n){var i=n(5);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,n){var i=n(31);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(192),r=TypeError;e.exports=function(e){if(i(e))throw r("The method doesn't accept regular expressions");return e}},function(e,t,n){var i=n(16)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var i=n(7),r=n(32),o=Math.floor,a=i("".charAt),s=i("".replace),c=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,p,h){var f=n+e.length,d=i.length,m=l;return void 0!==p&&(p=r(p),m=u),s(h,m,(function(r,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":u=p[c(s,1,-1)];break;default:var l=+s;if(0===l)return r;if(l>d){var h=o(l/10);return 0===h?r:h<=d?void 0===i[h-1]?a(s,1):i[h-1]+a(s,1):r}u=i[l-1]}return void 0===u?"":u}))}},function(e,t,n){"use strict";var i=n(6),r=n(13),o=n(3);e.exports=function(){for(var e=o(this),t=r(e.add),n=0,a=arguments.length;n<a;n++)i(t,e,arguments[n]);return e}},function(e,t,n){var i=n(0),r=n(440);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){var i=n(10),r=n(5),o=n(7),a=n(29),s=n(196).trim,c=n(197),u=o("".charAt),l=i.parseFloat,p=i.Symbol,h=p&&p.iterator,f=1/l(c+"-0")!=-1/0||h&&!r((function(){l(Object(h))}));e.exports=f?function(e){var t=s(a(e)),n=l(t);return 0===n&&"-"==u(t,0)?-0:n}:l},function(e,t,n){n(442)},function(e,t,n){"use strict";n(270)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(272))},function(e,t,n){n(0)({target:"Object",stat:!0},{setPrototypeOf:n(151)})},function(e,t,n){var i=n(0),r=n(19),o=n(116),a=n(445),s=n(279),c=n(3),u=n(22),l=n(70),p=n(5),h=r("Reflect","construct"),f=Object.prototype,d=[].push,m=p((function(){function e(){}return!(h((function(){}),[],e)instanceof e)})),g=!p((function(){h((function(){}))})),v=m||g;i({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){s(e),c(t);var n=arguments.length<3?e:s(arguments[2]);if(g&&!m)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return o(d,i,t),new(o(a,e,i))}var r=n.prototype,p=l(u(r)?r:f),v=o(e,p,t);return u(v)?v:p}})},function(e,t,n){"use strict";var i=n(7),r=n(13),o=n(22),a=n(23),s=n(148),c=n(106),u=Function,l=i([].concat),p=i([].join),h={},f=function(e,t,n){if(!a(h,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";h[t]=u("C,a","return new C("+p(i,",")+")")}return h[t](e,n)};e.exports=c?u.bind:function(e){var t=r(this),n=t.prototype,i=s(arguments,1),a=function(){var n=l(i,s(arguments));return this instanceof a?f(t,n.length,n):t.apply(e,n)};return o(n)&&(a.prototype=n),a}},function(e,t,n){"use strict";n(0)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:n(277)})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(38),s=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return!s(n,(function(e,n,r){if(!i(n,e,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(24),a=n(6),s=n(13),c=n(3),u=n(36),l=n(38),p=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var t=c(this),n=l(t),i=o(e,arguments.length>1?arguments[1]:void 0),h=new(u(t,r("Map"))),f=s(h.set);return p(n,(function(e,n){i(n,e,t)&&a(f,h,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(38),s=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(38),s=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(38),a=n(452),s=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return s(o(r(this)),(function(t,n,i){if(a(n,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(38),a=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){return a(o(r(this)),(function(t,n,i){if(n===e)return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(24),a=n(6),s=n(13),c=n(3),u=n(36),l=n(38),p=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var t=c(this),n=l(t),i=o(e,arguments.length>1?arguments[1]:void 0),h=new(u(t,r("Map"))),f=s(h.set);return p(n,(function(e,n){a(f,h,i(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(24),a=n(6),s=n(13),c=n(3),u=n(36),l=n(38),p=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var t=c(this),n=l(t),i=o(e,arguments.length>1?arguments[1]:void 0),h=new(u(t,r("Map"))),f=s(h.set);return p(n,(function(e,n){a(f,h,e,i(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},function(e,t,n){"use strict";var i=n(0),r=n(13),o=n(3),a=n(11);i({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var t=o(this),n=r(t.set),i=arguments.length,s=0;s<i;)a(arguments[s++],n,{that:t,AS_ENTRIES:!0});return t}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(13),a=n(38),s=n(11),c=TypeError;i({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var t=r(this),n=a(t),i=arguments.length<2,u=i?void 0:arguments[1];if(o(e),s(n,(function(n,r){i?(i=!1,u=r):u=e(u,r,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw c("Reduce of empty map with no initial value");return u}})},function(e,t,n){"use strict";var i=n(0),r=n(3),o=n(24),a=n(38),s=n(11);i({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var t=r(this),n=a(t),i=o(e,arguments.length>1?arguments[1]:void 0);return s(n,(function(e,n,r){if(i(n,e,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(3),a=n(13),s=TypeError;i({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var n=o(this),i=a(n.get),c=a(n.has),u=a(n.set),l=arguments.length;a(t);var p=r(c,n,e);if(!p&&l<3)throw s("Updating absent value");var h=p?r(i,n,e):a(l>2?arguments[2]:void 0)(e,n);return r(u,n,e,t(h,e,n)),n}})},function(e,t,n){var i=n(0),r=n(271),o=n(5),a=n(22),s=n(188).onFreeze,c=Object.freeze;i({target:"Object",stat:!0,forced:o((function(){c(1)})),sham:!r},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},function(e,t,n){"use strict";n(54),n(55),n(71),n(90),n(91),n(179),n(93),n(72),n(298),n(56),n(94),n(95),n(73),n(186),n(168),n(462),n(74),n(47),n(57),n(75),n(76),n(293),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=function(e,t){var n={},i=[],r=!0,o=!1,a=void 0;try{for(var s,c=e.toCollection(!0)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,h=l.select.apply(l,u(t)).hash();n[h]||(i.push(h),n[h]=[]),n[h].push(l)}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}var f=i.reduce((function(i,r){var o;return i[r]={groupKey:(o=n[r][0]).select.apply(o,u(t)).toDict(),hash:r,group:new e.constructor(n[r],e.listColumns())},i}),{});return new p(e,t,f,i)},t.GroupedDataFrame=void 0,n(154);var i=n(198);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[i.__groups__]=r,this[i.__hashes__]=o,this.df=t,this.on=n.length>0?n:t.listColumns()}var t,n,a;return t=e,(n=[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,r,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,o=this[i.__hashes__][Symbol.iterator]();case 5:if(t=(a=o.next()).done){e.next=12;break}return s=a.value,e.next=9,this[i.__groups__][s];case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==o.return||o.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"get",value:function(e){return this[i.__groups__][e]}},{key:"toCollection",value:function(){return u(this)}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return u(this).map((function(t){var n=t.group,i=t.groupKey,r="--\n[".concat(JSON.stringify(i),"]\n--");return e||console.log(r),r+"\n"+n.show(10,e)})).reduce((function(e,t){return e+"\n"+t}))}},{key:"listGroups",value:function(){return u(this).map((function(e){return e.groupKey}))}},{key:"listHashs",value:function(){return this[i.__hashes__]}},{key:"map",value:function(e){var t,n=u(this).map((function(t){return t.group.map(e)}));return this.df.__newInstance__((t=[]).concat.apply(t,u(n.map((function(e){return e.toCollection()})))),n[0].listColumns())}},{key:"filter",value:function(e){var t,n=u(this).map((function(t){return t.group.filter(e)})).filter((function(e){return e.listColumns().length>0}));return 0===n.length?this.df.__newInstance__([],this.df.listColumns()):this.df.__newInstance__((t=[]).concat.apply(t,u(n.map((function(e){return e.toCollection()})))),this.df.listColumns())}},{key:"chain",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=u(this).map((function(e){var t=e.group;return t.chain.apply(t,n)}));return this.df.__newInstance__((e=[]).concat.apply(e,u(r.map((function(e){return e.toCollection()})))),r[0].listColumns())}},{key:"aggregate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aggregation";return this.df.__newInstance__(u(this).map((function(n){var i=n.group,r=n.groupKey;return s({},r,c({},t,e(i,r)))})),[].concat(u(this.on),[t]))}},{key:"pivot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.count()},n=[].concat(u(this.on),u(this.df.distinct(e).toArray(e)));return this.df.__newInstance__(this.aggregate((function(n){return n.groupBy(e).aggregate((function(n,i){return c({},i[e],t(n,i))})).toArray("aggregation").reduce((function(e,t){return s({},e,{},t)}),{})})).toCollection().map((function(e){var t=e.aggregation;return s({},o(e,["aggregation"]),{},t)})),n)}},{key:"melt",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"variable",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",i=[].concat(u(this.on),[t,n]);return this.df.__newInstance__(this.aggregate((function(i){return Object.entries(i.toDict()).reduce((function(i,o){var a=r(o,2),s=a[0],l=a[1];return[].concat(u(i),u(l.reduce((function(i,r){var o;return e.on.includes(s)?i:[].concat(u(i),[(o={},c(o,t,s),c(o,n,r),o)])}),[])))}),[])})).toCollection().reduce((function(e,t){var n=t.aggregation,i=o(t,["aggregation"]);return[].concat(u(e),u(n.map((function(e){return s({},i,{},e)}))))}),[]),i)}}])&&l(t.prototype,n),a&&l(t,a),e}();t.GroupedDataFrame=p},function(e,t,n){var i=n(0),r=n(21),o=n(245),a=n(33),s=n(66),c=n(114);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),r=s.f,u=o(i),l={},p=0;u.length>p;)void 0!==(n=r(i,t=u[p++]))&&c(l,t,n);return l}})},function(e,t,n){"use strict";n(72),n(261),n(47),n(464),n(97),n(75),n(479),n(296),Object.defineProperty(t,"__esModule",{value:!0}),t.toDSV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=(0,r.dsvFormat)(t),s=n?a.format(e.toCollection(),e[o.__columns__]):a.formatRows(e.toArray());i&&c(e._cleanSavePath(i),s);return s},t.toCSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.toDSV(",",t,n)},t.toTSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.toDSV("\t",t,n)},t.toPSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.toDSV("|",t,n)},t.toText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return e.toDSV(t,n,i)},t.toJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=JSON.stringify(t?e.toCollection():e.toDict());n&&c(e._cleanSavePath(n),i);return i},t.fromDSV=p,t.fromCSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p(e,",",t)},t.fromTSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p(e,"\t",t)},t.fromPSV=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p(e,"|",t)},t.fromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return p(e,t,n)},t.fromJSON=function(e){return new Promise((function(t){return"string"==typeof e?(0,i.json)(l(e),t):u(e,(function(e){return t(JSON.parse(e))}))})).then((function(t){if(null===t)throw new a.FileNotFoundError(e);return t}))};var i=n(736),r=n(136),o=n(198),a=n(79),s=/^(?:[/]|[./]|(?:[a-zA-z]:\/)).*$/;function c(e,t){try{n(480).writeFileSync(e,t)}catch(e){console.warn("File system module is not available.")}}function u(e,t){if(FileReader&&File){var n=new FileReader;n.onload=function(e){return t(e.target.result)},n.readAsText(e)}}function l(e){return String(e).match(s)?"file://".concat(e):e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=(0,r.dsvFormat)(t);return new Promise((function(t){var r=function(e){if(e.includes("Error: ENOENT"))return t(null);var i=n?o.parse(e):o.parseRows(e);return t(i)};return"string"==typeof e?(0,i.text)(l(e),r):u(e,r)})).then((function(t){if(null===t)throw new a.FileNotFoundError(e);return t}))}},function(e,t,n){n(465),n(473),n(474),n(475),n(476),n(477)},function(e,t,n){"use strict";var i,r,o,a=n(0),s=n(45),c=n(96),u=n(10),l=n(6),p=n(31),h=n(151),f=n(115),d=n(191),m=n(13),g=n(15),v=n(22),y=n(189),b=n(36),w=n(301).set,_=n(467),x=n(470),k=n(199),E=n(471),S=n(53),j=n(120),M=n(121),A=n(122),C=M.CONSTRUCTOR,T=M.REJECTION_EVENT,P=M.SUBCLASSING,R=S.getterFor("Promise"),B=S.set,O=j&&j.prototype,I=j,D=O,F=u.TypeError,z=u.document,N=u.process,L=A.f,q=L,H=!!(z&&z.createEvent&&u.dispatchEvent),U=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},$=function(e,t){var n,i,r,o=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,p=e.domain;try{s?(a||(2===t.rejection&&Z(t),t.rejection=1),!0===s?n=o:(p&&p.enter(),n=s(o),p&&(p.exit(),r=!0)),n===e.promise?u(F("Promise-chain cycle")):(i=U(n))?l(i,n,c,u):c(n)):u(o)}catch(e){p&&!r&&p.exit(),u(e)}},V=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,i=e.reactions;n=i.get();)$(n,e);e.notified=!1,t&&!e.rejection&&G(e)})))},W=function(e,t,n){var i,r;H?((i=z.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!T&&(r=u["on"+e])?r(i):"unhandledrejection"===e&&x("Unhandled promise rejection",n)},G=function(e){l(w,u,(function(){var t,n=e.facade,i=e.value;if(K(e)&&(t=k((function(){c?N.emit("unhandledRejection",i,n):W("unhandledrejection",n,i)})),e.rejection=c||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){l(w,u,(function(){var t=e.facade;c?N.emit("rejectionHandled",t):W("rejectionhandled",t,e.value)}))},Y=function(e,t,n){return function(i){e(t,i,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,V(e,!0))},J=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var i=U(t);i?_((function(){var n={done:!1};try{l(i,t,Y(J,n,e),Y(X,n,e))}catch(t){X(n,t,e)}})):(e.value=t,e.state=1,V(e,!1))}catch(t){X({done:!1},t,e)}}};if(C&&(D=(I=function(e){y(this,D),m(e),l(i,this);var t=R(this);try{e(Y(J,t),Y(X,t))}catch(e){X(t,e)}}).prototype,(i=function(e){B(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new E,rejection:!1,state:0,value:void 0})}).prototype=p(D,"then",(function(e,t){var n=R(this),i=L(b(this,I));return n.parent=!0,i.ok=!g(e)||e,i.fail=g(t)&&t,i.domain=c?N.domain:void 0,0==n.state?n.reactions.add(i):_((function(){$(i,n)})),i.promise})),r=function(){var e=new i,t=R(e);this.promise=e,this.resolve=Y(J,t),this.reject=Y(X,t)},A.f=L=function(e){return e===I||void 0===e?new r(e):q(e)},!s&&g(j)&&O!==Object.prototype)){o=O.then,P||p(O,"then",(function(e,t){var n=this;return new I((function(e,t){l(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete O.constructor}catch(e){}h&&h(O,D)}a({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:I}),f(I,"Promise",!1,!0),d("Promise")},function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},function(e,t,n){var i,r,o,a,s,c,u,l,p=n(10),h=n(24),f=n(66).f,d=n(301).set,m=n(302),g=n(468),v=n(469),y=n(96),b=p.MutationObserver||p.WebKitMutationObserver,w=p.document,_=p.process,x=p.Promise,k=f(p,"queueMicrotask"),E=k&&k.value;E||(i=function(){var e,t;for(y&&(e=_.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?a():o=void 0,e}}o=void 0,e&&e.enter()},m||y||v||!b||!w?!g&&x&&x.resolve?((u=x.resolve(void 0)).constructor=x,l=h(u.then,u),a=function(){l(i)}):y?a=function(){_.nextTick(i)}:(d=h(d,p),a=function(){d(i)}):(s=!0,c=w.createTextNode(""),new b(i).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,a()),o=t}},function(e,t,n){var i=n(68),r=n(10);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},function(e,t,n){var i=n(68);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(10);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},function(e,t,n){var i=n(303),r=n(96);e.exports=!i&&!r&&"object"==typeof window&&"object"==typeof document},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(13),a=n(122),s=n(199),c=n(11);i({target:"Promise",stat:!0,forced:n(304)},{all:function(e){var t=this,n=a.f(t),i=n.resolve,u=n.reject,l=s((function(){var n=o(t.resolve),a=[],s=0,l=1;c(e,(function(e){var o=s++,c=!1;l++,r(n,t,e).then((function(e){c||(c=!0,a[o]=e,--l||i(a))}),u)})),--l||i(a)}));return l.error&&u(l.value),n.promise}})},function(e,t,n){"use strict";var i=n(0),r=n(45),o=n(121).CONSTRUCTOR,a=n(120),s=n(19),c=n(15),u=n(31),l=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&c(a)){var p=s("Promise").prototype.catch;l.catch!==p&&u(l,"catch",p,{unsafe:!0})}},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(13),a=n(122),s=n(199),c=n(11);i({target:"Promise",stat:!0,forced:n(304)},{race:function(e){var t=this,n=a.f(t),i=n.reject,u=s((function(){var a=o(t.resolve);c(e,(function(e){r(a,t,e).then(n.resolve,i)}))}));return u.error&&i(u.value),n.promise}})},function(e,t,n){"use strict";var i=n(0),r=n(6),o=n(122);i({target:"Promise",stat:!0,forced:n(121).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return r(t.reject,void 0,e),t.promise}})},function(e,t,n){"use strict";var i=n(0),r=n(19),o=n(45),a=n(120),s=n(121).CONSTRUCTOR,c=n(478),u=r("Promise"),l=o&&!s;i({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(l&&this===u?a:this,e)}})},function(e,t,n){var i=n(3),r=n(22),o=n(122);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(6),r=n(193),o=n(3),a=n(44),s=n(143),c=n(29),u=n(51),l=n(85),p=n(194),h=n(195);r("match",(function(e,t,n){return[function(t){var n=u(this),r=a(t)?void 0:l(t,e);return r?i(r,t,n):new RegExp(t)[e](c(n))},function(e){var i=o(this),r=c(e),a=n(t,i,r);if(a.done)return a.value;if(!i.global)return h(i,r);var u=i.unicode;i.lastIndex=0;for(var l,f=[],d=0;null!==(l=h(i,r));){var m=c(l[0]);f[d]=m,""===m&&(i.lastIndex=p(r,s(i.lastIndex),u)),d++}return 0===d?null:f}]}))},function(e,t){},function(e,t,n){"use strict";n(91),n(95),n(118),n(305),n(306),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(119);function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.df=t,this.name="stat"}var t,n,o;return t=e,(n=[{key:"_castAsNumber",value:function(e){return this.df.withColumn(e,(function(t){return Number(t.get(e))})).filter((function(t){return!Number.isNaN(t.get(e))}))}},{key:"sum",value:function(e){return Number(this.df.reduce((function(t,n){return(0,i.isNumber)(n.get(e))?t+Number(n.get(e)):t}),0))}},{key:"max",value:function(e){return this._castAsNumber(e).reduce((function(t,n){return n.get(e)>t.get(e)?n:t})).get(e)}},{key:"min",value:function(e){return this._castAsNumber(e).reduce((function(t,n){return t.get(e)>n.get(e)?n:t})).get(e)}},{key:"mean",value:function(e){var t=this.df.filter((function(t){return(0,i.isNumber)(t.get(e))}));return Number(t.reduce((function(t,n){return(0,i.isNumber)(n.get(e))?t+Number(n.get(e)):t}),0))/t.count()}},{key:"average",value:function(e){return this.mean(e)}},{key:"var",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.df.filter((function(t){return(0,i.isNumber)(t.get(e))})),r=this.mean(e);return Number(n.reduce((function(t,n){return t+Math.pow(n.get(e)-r,2)}),0))/(n.count()-(t?0:1))}},{key:"sd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Math.sqrt(this.var(e,t))}},{key:"stats",value:function(e){return{sum:this.sum(e),mean:this.mean(e),min:this.min(e),max:this.max(e),var:this.var(e),varpop:this.var(e,!0),sd:this.sd(e),sdpop:this.sd(e,!0)}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.default=o},function(e,t,n){var i=n(7);e.exports=i(1..valueOf)},function(e,t,n){"use strict";n(54),n(55),n(71),n(93),n(56),n(94),n(95),n(73),n(118),n(74),n(47),n(57),n(76),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=n(176))&&i.__esModule?i:{default:i},o=n(79),a=n(119);function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.df=t,this.name="matrix"}var t,n,i;return t=e,(n=[{key:"isCommutative",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof r.default))throw new o.ArgumentTypeError(e,"DataFrame");return(0,a.arrayEqual)(this.df.dim(),t?e.dim().reverse():e.dim(),!0)}},{key:"add",value:function(e){var t=this;if(!this.isCommutative(e))throw new o.WrongSchemaError(this.df.dim(),e.dim());var n=s(Array(this.df.dim()[1]).keys());return this.df.__newInstance__(s((0,a.iter)(Object.keys(s(this.df)),(function(i){var r=s(t.df)[i].toArray(),o=s(e)[i].toArray();return n.map((function(e){return r[e]+o[e]}))}))),this.df.listColumns())}},{key:"product",value:function(e){if("number"!=typeof e)throw new o.ArgumentTypeError(e,"Number");return this.df.map((function(t){return t.toArray().map((function(t){return t*e}))}))}},{key:"dot",value:function(e){var t=this;if(!this.isCommutative(e,!0))throw new o.WrongSchemaError(this.df.dim(),e.dim().reverse());var n=s(Array(this.df.dim()[0]).keys());return this.df.__newInstance__(s((0,a.iter)(Object.keys(s(this.df)),(function(i){var r=s(t.df)[i].toArray();return s((0,a.iter)(n,(function(t){var n=s(e.transpose())[t].toArray();return Object.keys(n).reduce((function(e,t){return e+n[t]*r[t]}),0)})))}))),n)}}])&&c(t.prototype,n),i&&c(t,i),e}();t.default=u},function(e,t,n){"use strict";n(72),n(118),n(74),n(485),n(97),n(57),n(75),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(487)),r=a(n(176)),o=n(79);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.df=t,this.name="sql"}return c(e,null,[{key:"request",value:function(t){if("string"!=typeof t)throw new o.ArgumentTypeError(t,"Stri g");return(0,i.default)(t,e.tables)}},{key:"dropTables",value:function(){e.tables={}}},{key:"dropTable",value:function(t){delete e.tables[t]}},{key:"renameTable",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.registerTable(e.tables[t],n,i),e.dropTable(t)}},{key:"listTables",value:function(){return Object.keys(e.tables)}},{key:"registerTable",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(t instanceof r.default))throw new o.ArgumentTypeError(t,"DataFrame");var a=new RegExp("^[a-zA-Z_][a-zA-Z0-9_]*$");if(!a.test(n))throw new o.WrongTableNameError(n);if(e.listTables().includes(n)&&!i)throw new o.TableAlreadyExistsError(n);e.tables[n]=t}}]),c(e,[{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.registerTable(this.df,t,n),this.df}}]),e}();u.tables={};var l=u;t.default=l},function(e,t,n){var i=n(21),r=n(10),o=n(7),a=n(112),s=n(190),c=n(69),u=n(88).f,l=n(52),p=n(192),h=n(29),f=n(268),d=n(187),m=n(486),g=n(31),v=n(5),y=n(23),b=n(53).enforce,w=n(191),_=n(16),x=n(266),k=n(267),E=_("match"),S=r.RegExp,j=S.prototype,M=r.SyntaxError,A=o(j.exec),C=o("".charAt),T=o("".replace),P=o("".indexOf),R=o("".slice),B=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,O=/a/g,I=/a/g,D=new S(O)!==O,F=d.MISSED_STICKY,z=d.UNSUPPORTED_Y,N=i&&(!D||F||x||k||v((function(){return I[E]=!1,S(O)!=O||S(I)==I||"/a/i"!=S(O,"i")})));if(a("RegExp",N)){for(var L=function(e,t){var n,i,r,o,a,u,d=l(j,this),m=p(e),g=void 0===t,v=[],w=e;if(!d&&m&&g&&e.constructor===L)return e;if((m||l(j,e))&&(e=e.source,g&&(t=f(w))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),w=e,x&&"dotAll"in O&&(i=!!t&&P(t,"s")>-1)&&(t=T(t,/s/g,"")),n=t,F&&"sticky"in O&&(r=!!t&&P(t,"y")>-1)&&z&&(t=T(t,/y/g,"")),k&&(e=(o=function(e){for(var t,n=e.length,i=0,r="",o=[],a={},s=!1,c=!1,u=0,l="";i<=n;i++){if("\\"===(t=C(e,i)))t+=C(e,++i);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:A(B,R(e,i+1))&&(i+=2,c=!0),r+=t,u++;continue;case">"===t&&c:if(""===l||y(a,l))throw new M("Invalid capture group name");a[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:r+=t}return[r,o]}(e))[0],v=o[1]),a=s(S(e,t),d?this:j,L),(i||r||v.length)&&(u=b(a),i&&(u.dotAll=!0,u.raw=L(function(e){for(var t,n=e.length,i=0,r="",o=!1;i<=n;i++)"\\"!==(t=C(e,i))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),r+=t):r+="[\\s\\S]":r+=t+C(e,++i);return r}(e),n)),r&&(u.sticky=!0),v.length&&(u.groups=v)),e!==w)try{c(a,"source",""===w?"(?:)":w)}catch(e){}return a},q=u(S),H=0;q.length>H;)m(L,S,q[H++]);j.constructor=L,L.prototype=j,g(r,"RegExp",L,{constructor:!0})}w("RegExp")},function(e,t,n){var i=n(28).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},function(e,t,n){"use strict";n(54),n(55),n(71),n(90),n(91),n(488),n(489),n(179),n(93),n(72),n(56),n(152),n(94),n(95),n(260),n(73),n(305),n(306),n(74),n(47),n(97),n(57),n(75),n(76),n(274),n(297),n(490),n(78),Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var i=n(119),r=n(79);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=[["INNER JOIN","INNERJOIN"],["LEFT JOIN","LEFTJOIN"],["RIGHT JOIN","RIGHTJOIN"],["FULL JOIN","FULLJOIN"],["GROUP BY","GROUPBY"]],c={IN:function(e,t){return t.includes(e)},LIKE:function(e,t){return t.includes(e)||e.includes(t)},">=":function(e,t){return e>=t},"<=":function(e,t){return e<=t},"!=":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"=":function(e,t){return e===t},AND:function(e,t){return e&&t},OR:function(e,t){return e||t}},u={COUNT:function(e){return e.count()},SUM:function(e,t){return e.stat.sum(t)},MAX:function(e,t){return e.stat.max(t)},MIN:function(e,t){return e.stat.min(t)},AVG:function(e,t){return e.stat.mean(t)}};function l(e){return(0,i.xReplace)(e.join(" "),[" ",""]).split(",")}function p(e,t,n){var i=e.findIndex((function(e){return"ON"===e.toUpperCase()}))+1;return function(r){return r.join(t[e[0]],l(e.filter((function(e,t){return t>=i}))),n)}}var h={WHERE:function(e){var t=(0,i.xSplit)(e.join(" ")," AND "," OR ");return function(n){return n.filter((function(n){var r=e.filter((function(e){return["AND","OR"].includes(e.toUpperCase())}));return t.map((function(e){var t=i.xContains.apply(void 0,[e].concat(a(Object.keys(c))))[0],r=e.split(t).map((function(e){return e.trim()}));if(!n.has(r[0])&&n.has(r[1]))return c[t]((0,i.xReplace)(r[0].trim(),['"',""],["'",""],["`",""]),String(n.get(r[1])));var o=Number(r[1]);return c[t](String(n.get(r[0])),Number.isNaN(o)?(0,i.xReplace)(r[1].trim(),['"',""],["'",""],["`",""]):o)})).reduce((function(e,t){return c[r.shift()](e,t)}))}))}},JOIN:function(e,t){return p(e,t,"inner")},INNERJOIN:function(e,t){return p(e,t,"inner")},LEFTJOIN:function(e,t){return p(e,t,"left")},RIGHTJOIN:function(e,t){return p(e,t,"right")},FULLJOIN:function(e,t){return p(e,t,"full")},UNION:function(e,t){return function(n){return n.union(e[0].toUpperCase().includes("SELECT")?m(e.join(" "),t):t[e[0]])}},GROUPBY:function(e){return function(t){return t.groupBy.apply(t,a(l(e)))}}};function f(e){var t=function(e){var t=e;return s.forEach((function(e){var n=o(e,2),i=n[0],r=n[1];t=t.replace(i,r).replace(i.toLowerCase(),r)})),t}(e).split(" "),n=t.findIndex((function(e){return"FROM"===e.toUpperCase()}));if(-1===n)throw new r.SQLParseError("Your query should contains FROM keyword");return{selections:t.slice(0,n),table:t[n+1],operations:t.slice(n+2,t.length)}}function d(e){if("SELECT"!==e[0].toUpperCase())throw new r.SQLParseError("Your query should begin with SELECT keyword");return e.shift(),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=(0,i.makeGenerator)(n),a=function t(n){return n[0](e)?n[1](e):t(o.next().value)};return a(o.next().value)}(e.join(" ").split(",").map((function(e){return e.trim()})),[function(e){return"*"===(0,i.xReplace)(e[0],[" ",""])},function(){return function(e){return e}}],[function(e){return e[0].toUpperCase().includes("DISTINCT")},function(e){var t=(0,i.xReplace)(e[0].split(" AS ")[0],["DISTINCT",""],["distinct",""],[" ",""]);return function(n){return n.distinct(t).rename(t,e[0].includes("AS")?e[0].split("AS")[1].replace(" ",""):t)}}],[function(e){return i.xContains.apply(void 0,[e[0].toUpperCase()].concat(a(Object.keys(u))))[0]},function(e){return function(t){var n=Object.keys(u).find((function(t){return e[0].toUpperCase().includes(t)})),r=function(t){return u[n](t,(0,i.xReplace)(e[0],["".concat(n.toLowerCase(),"("),""],["".concat(n,"("),""],["(",""],[")",""]))};return t.on&&t.df?t.aggregate(r):r(t)}}],[function(){return!0},function(e){return function(t){return t.select.apply(t,a(e.map((function(e){return e.split(" AS ")[0].replace(" ","")})))).renameAll(e.map((function(e){return e.includes("AS")?e.split("AS")[1].replace(" ",""):e})))}}])}function m(e,t){var n=f(e),i=n.selections,o=n.table,a=n.operations;if(!o||!Object.keys(t).includes(o))throw new r.SQLParseError("Wrong table name in your query: ".concat(o));var s=function(e,t){var n=e.map((function(e,t){return Object.keys(h).includes(e.toUpperCase())?t:void 0})).filter((function(e){return void 0!==e}));return n.map((function(i,r){return h[e[i].toUpperCase()](e.slice(i+1,n[r+1]?n[r+1]:e.length),t)})).reduce((function(e,t){return function(n){return t(e(n))}}),(function(e){return e}))}(a,t);return d(i)(s(t[o]))}},function(e,t,n){"use strict";var i=n(0),r=n(89).find,o=n(150),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){"use strict";var i=n(0),r=n(89).findIndex,o=n(150),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(e,t,n){"use strict";var i=n(0),r=n(196).trim;i({target:"String",proto:!0,forced:n(491)("trim")},{trim:function(){return r(this)}})},function(e,t,n){var i=n(110).PROPER,r=n(5),o=n(197);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||i&&o[e].name!==e}))}},function(e,t,n){(function(t,n,i){var r;r=function(){var e,r,o;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){var n=t[a][1][e];return r(n||e)}),l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(e,n,i){"use strict";var r;try{throw new Error}catch(e){r=e}var o=e("./schedule"),a=e("./queue");function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function c(e){for(;e.length()>0;)u(e)}function u(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var n=e.shift(),i=e.shift();t.call(n,i)}}s.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},s.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.prototype.invokeLater=function(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()},s.prototype.invoke=function(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()},s.prototype.settlePromises=function(e){this._normalQueue._pushOne(e),this._queueTick()},s.prototype._drainQueues=function(){c(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,c(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},n.exports=s,n.exports.firstLineError=r},{"./queue":26,"./schedule":29}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var u=n(o),l=new e(t);l._propagateFrom(this,1);var p=this._target();if(l._setBoundTo(u),u instanceof e){var h={promiseRejectionQueued:!1,promise:l,target:p,bindingPromise:u};p._then(t,a,void 0,l,h),u._then(s,c,void 0,l,h),l._setOnCancel(u)}else l._resolveCallback(p);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(e){}return r},t.exports=r},{"./promise":22}],5:[function(e,t,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}t.exports=function(t){var n=e("./util"),i=n.canEvaluate;function r(e){return function(e,i){var r;if(null!=e&&(r=e[i]),"function"!=typeof r){var o="Object "+n.classString(e)+" has no method '"+n.toString(i)+"'";throw new t.TypeError(o)}return r}(e,this.pop()).apply(e,this)}function o(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}n.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(r,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(i){var n=(void 0)(e);t=null!==n?n:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util"),a=o.tryCatch,s=o.errorObj,c=t._async;t.prototype.break=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),c.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),c.throwLater(i.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),c.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),i=e("./es5").keys,r=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(c){var u=s._boundValue();e:for(var l=0;l<e.length;++l){var p=e[l];if(p===Error||null!=p&&p.prototype instanceof Error){if(c instanceof p)return r(a).call(u,c)}else if("function"==typeof p){var h=r(p).call(u,c);if(h===o)return h;if(h)return r(a).call(u,c)}else if(n.isObject(c)){for(var f=i(p),d=0;d<f.length;++d){var m=f[d];if(p[m]!=c[m])continue e}return r(a).call(u,c)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=!1,n=[];function i(){this._trace=new i.CapturedTrace(r())}function r(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},i.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},i.CapturedTrace=null,i.create=function(){if(t)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=c,t=!1},t=!0,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},i}},{}],9:[function(e,n,i){"use strict";n.exports=function(n,i,r,o){var a,s,c,u,l=n._async,p=e("./errors").Warning,h=e("./util"),f=e("./es5"),d=h.canAttachTrace,m=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,g=/\((?:timers\.js):\d+:\d+\)/,v=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,y=null,b=null,w=!1,_=!(0==h.env("BLUEBIRD_DEBUG")),x=!(0==h.env("BLUEBIRD_WARNINGS")||!_&&!h.env("BLUEBIRD_WARNINGS")),k=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),E=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(x||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var e=[];function t(){for(var t=0;t<e.length;++t)e[t]._notifyUnhandledRejection();i()}function i(){e.length=0}u=function(n){e.push(n),setTimeout(t,1)},f.defineProperty(n,"_unhandledRejectionCheck",{value:t}),f.defineProperty(n,"_unhandledRejectionClear",{value:i})}(),n.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),u(this))},n.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",a,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),K("unhandledRejection",s,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(e,t,n){return $(e,t,n||this)},n.onPossiblyUnhandledRejection=function(e){var t=n._getContext();s=h.contextBind(t,e)},n.onUnhandledRejectionHandled=function(e){var t=n._getContext();a=h.contextBind(t,e)};var S=function(){};n.longStackTraces=function(){if(l.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ne.longStackTraces&&Y()){var e=n.prototype._captureStackTrace,t=n.prototype._attachExtraTrace,r=n.prototype._dereferenceTrace;ne.longStackTraces=!0,S=function(){if(l.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=e,n.prototype._attachExtraTrace=t,n.prototype._dereferenceTrace=r,i.deactivateLongStackTraces(),ne.longStackTraces=!1},n.prototype._captureStackTrace=q,n.prototype._attachExtraTrace=H,n.prototype._dereferenceTrace=U,i.activateLongStackTraces()}},n.hasLongStackTraces=function(){return ne.longStackTraces&&Y()};var j={unhandledrejection:{before:function(){var e=h.global.onunhandledrejection;return h.global.onunhandledrejection=null,e},after:function(e){h.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=h.global.onrejectionhandled;return h.global.onrejectionhandled=null,e},after:function(e){h.global.onrejectionhandled=e}}},M=function(){var e=function(e,t){if(!e)return!h.global.dispatchEvent(t);var n;try{return n=e.before(),!h.global.dispatchEvent(t)}finally{e.after(n)}};try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=new CustomEvent(t,{detail:n,cancelable:!0});return f.defineProperty(i,"promise",{value:n.promise}),f.defineProperty(i,"reason",{value:n.reason}),e(j[t],i)}}return"function"==typeof Event?(t=new Event("CustomEvent"),h.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=new Event(t,{cancelable:!0});return i.detail=n,f.defineProperty(i,"promise",{value:n.promise}),f.defineProperty(i,"reason",{value:n.reason}),e(j[t],i)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,n){t=t.toLowerCase();var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,!1,!0,n),e(j[t],i)})}catch(e){}return function(){return!1}}(),A=h.isNode?function(){return t.emit.apply(t,arguments)}:h.global?function(e){var t="on"+e.toLowerCase(),n=h.global[t];return!!n&&(n.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(e,t){return{promise:t}}var T={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:C},P=function(e){var t=!1;try{t=A.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var n=!1;try{n=M(e,T[e].apply(null,arguments))}catch(e){l.throwLater(e),n=!0}return n||t};function R(){return!1}function B(e,t,n){var i=this;try{e(t,n,(function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+h.toString(e));i._attachCancellationCallback(e)}))}catch(e){return e}}function O(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?h.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function I(){return this._onCancelField}function D(e){this._onCancelField=e}function F(){this._cancellationParent=void 0,this._onCancelField=void 0}function z(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}n.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?n.longStackTraces():!e.longStackTraces&&n.hasLongStackTraces()&&S()),"warnings"in e){var t=e.warnings;ne.warnings=!!t,E=ne.warnings,h.isObject(t)&&"wForgottenReturn"in t&&(E=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ne.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=F,n.prototype._propagateFrom=z,n.prototype._onCancel=I,n.prototype._setOnCancel=D,n.prototype._attachCancellationCallback=O,n.prototype._execute=B,N=z,ne.cancellation=!0}if("monitoring"in e&&(e.monitoring&&!ne.monitoring?(ne.monitoring=!0,n.prototype._fireEvent=P):!e.monitoring&&ne.monitoring&&(ne.monitoring=!1,n.prototype._fireEvent=R)),"asyncHooks"in e&&h.nodeSupportsAsyncResource){var i=ne.asyncHooks,a=!!e.asyncHooks;i!==a&&(ne.asyncHooks=a,a?r():o())}return n},n.prototype._fireEvent=R,n.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(e){},n.prototype._attachCancellationCallback=function(e){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(e,t){};var N=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function L(){var e=this._boundTo;return void 0!==e&&e instanceof n?e.isFulfilled()?e.value():void 0:e}function q(){this._trace=new ee(this._peekContext())}function H(e,t){if(d(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=W(e);h.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),h.notEnumerableProp(e,"__stackCleaned__",!0)}}}function U(){this._trace=void 0}function $(e,t,i){if(ne.warnings){var r,o=new p(e);if(t)i._attachExtraTrace(o);else if(ne.longStackTraces&&(r=n._peekContext()))r.attachExtraTrace(o);else{var a=W(o);o.stack=a.message+"\n"+a.stack.join("\n")}P("warning",o)||G(o,"",!0)}}function V(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||y.test(i),o=r&&X(i);r&&!o&&(w&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function W(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||y.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:V(t)}}function G(e,t,n){if("undefined"!=typeof console){var i;if(h.isObject(e)){var r=e.stack;i=t+b(r,e)}else i=t+String(e);"function"==typeof c?c(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function K(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(e){l.throwLater(e)}"unhandledRejection"===e?P(e,n,i)||r||G(n,"Unhandled rejection "):P(e,i)}function Z(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():h.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function Y(){return"function"==typeof te}var X=function(){return!1},J=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Q(e){var t=e.match(J);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function ee(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);te(this,ee),t>32&&this.uncycle()}h.inherits(ee,Error),i.CapturedTrace=ee,ee.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(i=0;i<e;++i){var a=n[t[i].stack];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=i>0?t[i-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=i-2;u>=0;--u)t[u]._length=c,c++;return}}}},ee.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=W(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(V(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(s=a;s>=0;--s){var c=i[s];if(t[r]!==c)break;t.pop(),r--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),h.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,i)),h.notEnumerableProp(e,"__stackCleaned__",!0)}};var te=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():Z(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,y=e,b=t;var n=Error.captureStackTrace;return X=function(e){return m.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return y=/@/,b=t,w=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){i="stack"in e}return!("stack"in r)&&i&&"number"==typeof Error.stackTraceLimit?(y=e,b=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}):(b=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?Z(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(c=function(e){console.warn(e)},h.isNode&&t.stderr.isTTY?c=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:h.isNode||"string"!=typeof(new Error).stack||(c=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ne={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return k&&n.longStackTraces(),{asyncHooks:function(){return ne.asyncHooks},longStackTraces:function(){return ne.longStackTraces},warnings:function(){return ne.warnings},cancellation:function(){return ne.cancellation},monitoring:function(){return ne.monitoring},propagateFromFunction:function(){return N},boundValueFunction:function(){return L},checkForgottenReturns:function(e,t,n,i,r){if(void 0===e&&null!==t&&E){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&i._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=V(s),u=c.length-1;u>=0;--u){var l=c[u];if(!g.test(l)){var p=l.match(v);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0){var h=c[0];for(u=0;u<s.length;++u)if(s[u]===h){u>0&&(a="\n"+s[u-1]);break}}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;i._warn(f,!0,t)}},setBounds:function(e,t){if(Y()){for(var n,i,r=(e.stack||"").split("\n"),o=(t.stack||"").split("\n"),a=-1,s=-1,c=0;c<r.length;++c)if(u=Q(r[c])){n=u.fileName,a=u.line;break}for(c=0;c<o.length;++c){var u;if(u=Q(o[c])){i=u.fileName,s=u.line;break}}a<0||s<0||!n||!i||n!==i||a>=s||(X=function(e){if(m.test(e))return!0;var t=Q(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:$,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),$(n)},CapturedTrace:ee,fireDomEvent:M,fireGlobalEvent:A}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],i=function(){throw t};return this.caught(e,i)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];i instanceof e&&i.suppressUnhandledRejections();var r=function(){return i};return this.caught(n,r)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce,i=e.all;function r(){return i(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,i){return n(e,i,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,i){return n(e,i,t,t)}}},{}],12:[function(e,t,n){"use strict";var i,r,o=e("./es5"),a=o.freeze,s=e("./util"),c=s.inherits,u=s.notEnumerableProp;function l(e,t){function n(i){if(!(this instanceof n))return new n(i);u(this,"message","string"==typeof i?i:t),u(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(n,Error),n}var p=l("Warning","warning"),h=l("CancellationError","cancellation error"),f=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(e){i=l("TypeError","type error"),r=l("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<m.length;++g)"function"==typeof Array.prototype[m[g]]&&(d.prototype[m[g]]=Array.prototype[m[g]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var v=0;function y(e){if(!(this instanceof y))return new y(e);u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];t+=(i=r.join("\n"))+"\n"}return v--,t},c(y,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:h,TimeoutError:f,OperationalError:y,RejectionError:y,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,n){var i=function(){"use strict";return void 0===this}();if(i)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=e("./util"),o=t.CancellationError,a=r.errorObj,s=e("./catch_filter")(i);function c(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function u(e){this.finallyHandler=e}function l(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function p(){return f.call(this,this.promise._target()._settledValue())}function h(e){if(!l(this,e))return a.e=e,a}function f(e){var r=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(r._boundValue()):s.call(r._boundValue(),e);if(c===i)return c;if(void 0!==c){r._setReturnedNonUndefined();var f=n(c,r);if(f instanceof t){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new o("late cancellation observer");return r._attachExtraTrace(d),a.e=d,a}f.isPending()&&f._attachCancellationCallback(new u(this))}return f._then(p,h,void 0,this,void 0)}}}return r.isRejected()?(l(this),a.e=e,a):(l(this),e)}return c.prototype.isFinallyHandler=function(){return 0===this.type},u.prototype._resultCancelled=function(){l(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new c(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,f,f)},t.prototype.tap=function(e){return this._passThrough(e,1,f)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,f);var i,o=new Array(n-1),a=0;for(i=0;i<n-1;++i){var c=arguments[i];if(!r.isObject(c))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+r.classString(c)));o[a++]=c}o.length=a;var u=arguments[i];return this._passThrough(s(o,u,this),1,void 0,f)},c}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./errors").TypeError,c=e("./util"),u=c.errorObj,l=c.tryCatch,p=[];function h(e,n,r,o){if(a.cancellation()){var s=new t(i),c=this._finallyPromise=new t(i);this._promise=s.lastly((function(){return c})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(i))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(h,o),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},h.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(e){var n=this._promise;if(e===u)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var i=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(i);var o=r(i,this._promise);if(o instanceof t||null!==(o=function(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=l(n[o])(e);if(i._popContext(),a===u){i._pushContext();var s=t.reject(u.e);return i._popContext(),s}var c=r(a,i);if(c instanceof t)return c}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=h,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+c.classString(e));p.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new h(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var i=[].slice.call(arguments);e&&i.pop();var r=new n(i).promise();return void 0!==e?r.spread(e):r}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util"),c=s.tryCatch,u=s.errorObj,l=t._async;function p(e,n,i,r){this.constructor$(e),this._promise._captureStackTrace();var a=t._getContext();if(this._callback=s.contextBind(a,n),this._preservedValues=r===o?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0),s.isArray(e))for(var c=0;c<e.length;++c){var u=e[c];u instanceof t&&u.suppressUnhandledRejections()}}function h(e,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+s.classString(n));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return t.reject(new TypeError("options argument must be an object but it is "+s.classString(r)));if("number"!=typeof r.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(r.concurrency)));a=r.concurrency}return new p(e,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}s.inherits(p,n),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,l=this._limit;if(n<0){if(i[n=-1*n-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return i[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var p=this._promise,h=this._callback,f=p._boundValue();p._pushContext();var d=c(h).call(f,e,n,o),m=p._popContext();if(a.checkForgottenReturns(d,m,null!==s?"Promise.filter":"Promise.map",p),d===u)return this._reject(d.e),!0;var g=r(d,this._promise);if(g instanceof t){var v=(g=g._target())._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,i[n]=g,g._proxy(this,-1*(n+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}i[n]=d}return++this._totalResolved>=o&&(null!==s?this._filter(i,s):this._resolve(i),!0)},p.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},p.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;o<n;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},p.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return h(this,e,t,null)},t.map=function(e,t,n,i){return h(e,t,n,i)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments),a=i._popContext();return o.checkForgottenReturns(r,a,"Promise.method",i),i._resolveFromSyncValue(r),i}},t.attempt=t.try=function(e){if("function"!=typeof e)return r("expecting a function but got "+a.classString(e));var i,c=new t(n);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];i=a.isArray(u)?s(e).apply(l,u):s(e).call(l,u)}else i=s(e)();var p=c._popContext();return o.checkForgottenReturns(i,p,"Promise.try",c),c._resolveFromSyncValue(i),c},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var i=e("./util"),r=i.maybeWrapAsError,o=e("./errors").OperationalError,a=e("./es5"),s=/^(?:name|message|stack|cause)$/;function c(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=a.keys(e),r=0;r<n.length;++r){var c=n[r];s.test(c)||(t[c]=e[c])}return t}return i.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(n,i){if(null!==e){if(n){var o=c(r(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(i);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),i=t._async,r=n.tryCatch,o=n.errorObj;function a(e,t){if(!n.isArray(e))return s.call(this,e,t);var a=r(t).apply(this._boundValue(),[null].concat(e));a===o&&i.throwLater(a.e)}function s(e,t){var n=this._boundValue(),a=void 0===e?r(t).call(n,null):r(t).call(n,null,e);a===o&&i.throwLater(a.e)}function c(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var a=r(t).call(this._boundValue(),e);a===o&&i.throwLater(a.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=s;void 0!==t&&Object(t).spread&&(n=a),this._then(n,c,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,n,i){"use strict";n.exports=function(){var i=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new B.PromiseInspection(this._target())},o=function(e){return B.reject(new y(e))};function a(){}var s={},c=e("./util");c.setReflectHandler(r);var u=function(){var e=t.domain;return void 0===e?null:e},l=function(){return{domain:u(),async:null}},p=c.isNode&&c.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,h=function(){return{domain:u(),async:new p("Bluebird::Promise")}},f=c.isNode?l:function(){return null};c.notEnumerableProp(B,"_getContext",f);var d=e("./es5"),m=e("./async"),g=new m;d.defineProperty(B,"_async",{value:g});var v=e("./errors"),y=B.TypeError=v.TypeError;B.RangeError=v.RangeError;var b=B.CancellationError=v.CancellationError;B.TimeoutError=v.TimeoutError,B.OperationalError=v.OperationalError,B.RejectionError=v.OperationalError,B.AggregateError=v.AggregateError;var w=function(){},_={},x={},k=e("./thenables")(B,w),E=e("./promise_array")(B,w,k,o,a),S=e("./context")(B),j=S.create,M=e("./debuggability")(B,S,(function(){f=h,c.notEnumerableProp(B,"_getContext",h)}),(function(){f=l,c.notEnumerableProp(B,"_getContext",l)})),A=(M.CapturedTrace,e("./finally")(B,k,x)),C=e("./catch_filter")(x),T=e("./nodeback"),P=c.errorObj,R=c.tryCatch;function B(e){e!==w&&function(e,t){if(null==e||e.constructor!==B)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new y("expecting a function but got "+c.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function O(e){this.promise._resolveCallback(e)}function I(e){this.promise._rejectCallback(e,!1)}function D(e){var t=new B(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return B.prototype.toString=function(){return"[object Promise]"},B.prototype.caught=B.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,i=new Array(t-1),r=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!c.isObject(a))return o("Catch statement predicate: expecting an object but got "+c.classString(a));i[r++]=a}if(i.length=r,"function"!=typeof(e=arguments[n]))throw new y("The last argument to .catch() must be a function, got "+c.toString(e));return this.then(void 0,C(i,e,this))}return this.then(void 0,e)},B.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},B.prototype.then=function(e,t){if(M.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+c.classString(e);arguments.length>1&&(n+=", "+c.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},B.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},B.prototype.spread=function(e){return"function"!=typeof e?o("expecting a function but got "+c.classString(e)):this.all()._then(e,void 0,void 0,_,void 0)},B.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},B.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new E(this).promise()},B.prototype.error=function(e){return this.caught(c.originatesFromRejection,e)},B.getNewLibraryCopy=n.exports,B.is=function(e){return e instanceof B},B.fromNode=B.fromCallback=function(e){var t=new B(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=R(e)(T(t,n));return i===P&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},B.all=function(e){return new E(e).promise()},B.cast=function(e){var t=k(e);return t instanceof B||((t=new B(w))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},B.resolve=B.fulfilled=B.cast,B.reject=B.rejected=function(e){var t=new B(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},B.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+c.classString(e));return g.setScheduler(e)},B.prototype._then=function(e,t,n,i,r){var o=void 0!==r,a=o?r:new B(w),s=this._target(),u=s._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===i&&0!=(2097152&this._bitField)&&(i=0!=(50397184&u)?this._boundValue():s===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var l=f();if(0!=(50397184&u)){var p,h,d=s._settlePromiseCtx;0!=(33554432&u)?(h=s._rejectionHandler0,p=e):0!=(16777216&u)?(h=s._fulfillmentHandler0,p=t,s._unsetRejectionIsUnhandled()):(d=s._settlePromiseLateCancellationObserver,h=new b("late cancellation observer"),s._attachExtraTrace(h),p=t),g.invoke(d,s,{handler:c.contextBind(l,p),promise:a,receiver:i,value:h})}else s._addCallbacks(e,t,a,i,l);return a},B.prototype._length=function(){return 65535&this._bitField},B.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},B.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},B.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},B.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},B.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},B.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},B.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},B.prototype._isFinal=function(){return(4194304&this._bitField)>0},B.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},B.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},B.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},B.prototype._setAsyncGuaranteed=function(){if(!g.hasCustomScheduler()){var e=this._bitField;this._bitField=e|(536870912&e)>>2^134217728}},B.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},B.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==s)return void 0===t&&this._isBound()?this._boundValue():t},B.prototype._promiseAt=function(e){return this[4*e-4+2]},B.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},B.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},B.prototype._boundValue=function(){},B.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=s),this._addCallbacks(t,n,i,r,null)},B.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=s),this._addCallbacks(n,i,r,o,null)},B.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=c.contextBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=c.contextBind(r,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=i,"function"==typeof e&&(this[a+0]=c.contextBind(r,e)),"function"==typeof t&&(this[a+1]=c.contextBind(r,t))}return this._setLength(o+1),o},B.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},B.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(i(),!1);var n=k(e,this);if(!(n instanceof B))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r!==this){var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var c=new b("late cancellation observer");r._attachExtraTrace(c),this._reject(c)}}else this._reject(i())}},B.prototype._rejectCallback=function(e,t,n){var i=c.ensureErrorObject(e),r=i===e;if(!r&&!n&&M.warnings()){var o="a promise was rejected with a non-error: "+c.classString(e);this._warn(o,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},B.prototype._resolveFromExecutor=function(e){if(e!==w){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,n)}));n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)}},B.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(0==(65536&r)){var o;i._pushContext(),t===_?n&&"number"==typeof n.length?o=R(e).apply(this._boundValue(),n):(o=P).e=new y("cannot .spread() a non-array: "+c.classString(n)):o=R(e).call(t,n);var a=i._popContext();0==(65536&(r=i._bitField))&&(o===x?i._reject(n):o===P?i._rejectCallback(o.e,!1):(M.checkForgottenReturns(o,a,"",i,this),i._resolveCallback(o)))}},B.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},B.prototype._followee=function(){return this._rejectionHandler0},B.prototype._setFollowee=function(e){this._rejectionHandler0=e},B.prototype._settlePromise=function(e,t,n,i){var o=e instanceof B,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),n instanceof A&&n.isFinallyHandler()?(n.cancelPromise=e,R(t).call(n,i)===P&&e._reject(P.e)):t===r?e._fulfill(r.call(n)):n instanceof a?n._promiseCancelled(e):o||e instanceof E?e._cancel():n.cancel()):"function"==typeof t?o?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof a?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):o&&(c&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(i):e._reject(i))},B.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof B?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof B&&n._reject(r)},B.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},B.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},B.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},B.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=i();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():g.settlePromises(this),this._dereferenceTrace())}},B.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return g.fatalError(e,c.isNode);(65535&t)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled()}},B.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},B.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,o,t)}},B.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},B.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&d.defineProperty(B.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),B.defer=B.pending=function(){return M.deprecated("Promise.defer","new Promise"),{promise:new B(w),resolve:O,reject:I}},c.notEnumerableProp(B,"_makeSelfResolutionError",i),e("./method")(B,w,k,o,M),e("./bind")(B,w,k,M),e("./cancel")(B,E,o,M),e("./direct_resolve")(B),e("./synchronous_inspection")(B),e("./join")(B,E,k,w,g),B.Promise=B,B.version="3.7.2",e("./call_get.js")(B),e("./generators.js")(B,o,w,k,a,M),e("./map.js")(B,E,o,k,w,M),e("./nodeify.js")(B),e("./promisify.js")(B,w),e("./props.js")(B,E,k,o),e("./race.js")(B,w,k,o),e("./reduce.js")(B,E,o,k,w,M),e("./settle.js")(B,E,M),e("./some.js")(B,E,o),e("./timers.js")(B,w,M),e("./using.js")(B,o,k,j,w,M),e("./any.js")(B),e("./each.js")(B,w),e("./filter.js")(B,w),c.toFastProperties(B),c.toFastProperties(B.prototype),D({a:1}),D({b:2}),D({c:3}),D(1),D((function(){})),D(void 0),D(!1),D(new B(w)),M.setBounds(m.firstLineError,c.lastLineError),B}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o){var a=e("./util");function s(e){var i=this._promise=new t(n);e instanceof t&&(i._propagateFrom(e,3),e.suppressUnhandledRejections()),i._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=i(this._values,this._promise);if(s instanceof t){var c=(s=s._target())._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var u=r("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(u,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<n;++s){var c=i(e[s],r);a=c instanceof t?(c=c._target())._bitField:null,o?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):o=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(c,s)}o||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var i={},r=e("./util"),o=e("./nodeback"),a=r.withAppended,s=r.maybeWrapAsError,c=r.canEvaluate,u=e("./errors").TypeError,l={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return r.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function f(e){return!p.test(e)}function d(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function m(e,t,n){var i=r.getDataPropertyOrDefault(e,t+n,l);return!!i&&d(i)}function g(e,t,n,i){for(var o=r.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var c=o[s],l=e[c],p=i===h||h(c);"function"!=typeof l||d(l)||m(e,c,t)||!i(c,l,e,p)||a.push(c,l)}return function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new u("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,n),a}var v=c?void 0:function(e,c,u,l,p,h){var f=function(){return this}(),d=e;function m(){var r=c;c===i&&(r=this);var u=new t(n);u._captureStackTrace();var l="string"==typeof d&&this!==f?this[d]:e,p=o(u,h);try{l.apply(r,a(arguments,p))}catch(e){u._rejectCallback(s(e),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof d&&(e=l),r.notEnumerableProp(m,"__isPromisified__",!0),m};function y(e,t,n,o,a){for(var s=new RegExp(t.replace(/([$])/,"\\$")+"$"),c=g(e,t,s,n),u=0,l=c.length;u<l;u+=2){var p=c[u],h=c[u+1],f=p+t;if(o===v)e[f]=v(p,i,p,h,t,a);else{var d=o(h,(function(){return v(p,i,p,h,t,a)}));r.notEnumerableProp(d,"__isPromisified__",!0),e[f]=d}}return r.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new u("expecting a function but got "+r.classString(e));if(d(e))return e;var n=function(e,t,n){return v(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?i:t.context,!!t.multiArgs);return r.copyDescriptors(e,n,f),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new u("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,i=t.suffix;"string"!=typeof i&&(i="Async");var o=t.filter;"function"!=typeof o&&(o=h);var a=t.promisifier;if("function"!=typeof a&&(a=v),!r.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=r.inheritedDataKeys(e),c=0;c<s.length;++c){var l=e[s[c]];"constructor"!==s[c]&&r.isClass(l)&&(y(l.prototype,i,o,a,n),y(l,i,o,a,n))}return y(e,i,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o,a=e("./util"),s=a.isObject,c=e("./es5");"function"==typeof Map&&(o=Map);var u=function(){var e=0,t=0;function n(n,i){this[e]=n,this[e+t]=i,e++}return function(i){t=i.size,e=0;var r=new Array(2*i.size);return i.forEach(n,r),r}}();function l(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=u(e),n=!0;else{var i=c.keys(e),r=i.length;t=new Array(2*r);for(var a=0;a<r;++a){var s=i[a];t[a]=e[s],t[a+r]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function p(e){var n,o=i(e);return s(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,n),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new o,n=e.length/2|0,i=0;i<n;++i){var r=e[n+i],a=e[i];t.set(r,a)}return t}(this._values);else{n={};for(var i=this.length(),r=0,a=this.length();r<a;++r)n[this._values[r+i]]=this._values[r]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return p(this)},t.props=function(e){return p(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},i.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,i,r){for(var o=0;o<r;++o)n[o+i]=e[o+t],e[o+t]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=i},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,i,r){var o=e("./util");function a(e,s){var c,u=i(e);if(u instanceof t)return(c=u).then((function(e){return a(e,c)}));if(null===(e=o.asArray(e)))return r("expecting an array or an iterable object but got "+o.classString(e));var l=new t(n);void 0!==s&&l._propagateFrom(s,3);for(var p=l._fulfill,h=l._reject,f=0,d=e.length;f<d;++f){var m=e[f];(void 0!==m||f in e)&&t.cast(m)._then(p,h,void 0,l,null)}return l}t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util"),c=s.tryCatch;function u(e,n,i,r){this.constructor$(e);var a=t._getContext();this._fn=s.contextBind(a,n),void 0!==i&&(i=t.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=r===o?Array(this._length):0===r?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function p(e,t,n,r){return"function"!=typeof t?i("expecting a function but got "+s.classString(t)):new u(e,t,n,r).promise()}function h(e){this.accum=e,this.array._gotAccum(e);var n=r(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n,i=this.array,r=i._promise,o=c(i._fn);r._pushContext(),(n=void 0!==i._eachValues?o.call(r._boundValue(),e,this.index,this.length):o.call(r._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(i._currentCancellable=n);var s=r._popContext();return a.checkForgottenReturns(n,s,void 0!==i._eachValues?"Promise.each":"Promise.reduce",r),n}s.inherits(u,n),u.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},u.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},u.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(e){var n,i;this._values=e;var r=e.length;void 0!==this._initialValue?(n=this._initialValue,i=0):(n=t.resolve(e[0]),i=1),this._currentCancellable=n;for(var o=i;o<r;++o){var a=e[o];a instanceof t&&a.suppressUnhandledRejections()}if(!n.isRejected())for(;i<r;++i){var s={accum:null,value:e[i],index:i,length:r,array:this};n=n._then(h,void 0,void 0,s,void 0),0==(127&i)&&n._setNoAsyncGuarantee()}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(l,l,void 0,n,this)},t.prototype.reduce=function(e,t){return p(this,e,t,null)},t.reduce=function(e,t,n,i){return p(e,t,n,i)}}},{"./util":36}],29:[function(e,r,o){"use strict";var a,s,c,u,l,p=e("./util"),h=p.getNativePromise();if(p.isNode&&"undefined"==typeof MutationObserver){var f=n.setImmediate,d=t.nextTick;a=p.isRecentNode?function(e){f.call(n,e)}:function(e){d.call(t,e)}}else if("function"==typeof h&&"function"==typeof h.resolve){var m=h.resolve();a=function(e){m.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(s=document.createElement("div"),c={attributes:!0},u=!1,l=document.createElement("div"),new MutationObserver((function(){s.classList.toggle("foo"),u=!1})).observe(l,c),function(e){var t=new MutationObserver((function(){t.disconnect(),e()}));t.observe(s,c),u||(u=!0,l.classList.toggle("foo"))});r.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=t.PromiseInspection;function o(e){this.constructor$(e)}e("./util").inherits(o,n),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var n=new r;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new r;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return i.deprecated(".settle()",".reflect()"),new o(e).promise()},t.allSettled=function(e){return new o(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=r.isArray,c={};function u(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new u(e),r=n.promise();return n.setHowMany(t),n.init(),r}r.inherits(u,n),u.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},u.prototype.init=function(){this._initialized=!0,this._init()},u.prototype.setUnwrap=function(){this._unwrap=!0},u.prototype.howMany=function(){return this._howMany},u.prototype.setHowMany=function(e){this._howMany=e},u.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},u.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},u.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(c),this._checkOutcome())},u.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==c&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},u.prototype._fulfilled=function(){return this._totalResolved},u.prototype._rejected=function(){return this._values.length-this.length()},u.prototype._addRejected=function(e){this._values.push(e)},u.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},u.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},u.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},u.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return l(e,t)},t.prototype.some=function(e){return l(this,e)},t._SomePromiseArray=u}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var i=e("./util"),r=i.errorObj,o=i.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var c=function(e){try{return function(e){return e.then}(e)}catch(e){return r.e=e,r}}(e);if(c===r){s&&s._pushContext();var u=t.reject(c.e);return s&&s._popContext(),u}if("function"==typeof c)return function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(e)?(u=new t(n),e._then(u._fulfill,u._reject,void 0,u,null),u):function(e,o,a){var s=new t(n),c=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var u=i.tryCatch(o).call(e,(function(e){s&&(s._resolveCallback(e),s=null)}),(function(e){s&&(s._rejectCallback(e,!1,!0),s=null)}));return s&&u===r&&(s._rejectCallback(u.e,!0,!0),s=null),c}(e,c,s)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,i){var r=e("./util"),o=t.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,r){var o,c;return void 0!==r?(o=t.resolve(r)._then(s,null,null,e,void 0),i.cancellation()&&r instanceof t&&o._setOnCancel(r)):(o=new t(n),c=setTimeout((function(){o._fulfill()}),+e),i.cancellation()&&o._setOnCancel(new a(c)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function u(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return c(e,this)},t.prototype.timeout=function(e,t){var n,s;e=+e;var c=new a(setTimeout((function(){n.isPending()&&function(e,t,n){var i;i="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),r.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._reject(i),null!=n&&n.cancel()}(n,t,s)}),e));return i.cancellation()?(s=this.then(),(n=s._then(u,l,void 0,c,void 0))._setOnCancel(c)):n=this._then(u,l,void 0,c,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,i,r,o,a){var s=e("./util"),c=e("./errors").TypeError,u=e("./util").inherits,l=s.errorObj,p=s.tryCatch,h={};function f(e){setTimeout((function(){throw e}),0)}function d(e,n){var r=0,a=e.length,s=new t(o);return function o(){if(r>=a)return s._fulfill();var c=function(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[r++]);if(c instanceof t&&c._isDisposable()){try{c=i(c._getDisposer().tryDispose(n),e.promise)}catch(e){return f(e)}if(c instanceof t)return c._then(o,f,null,null,null)}o()}(),s}function m(e,t,n){this._data=e,this._promise=t,this._context=n}function g(e,t,n){this.constructor$(e,t,n)}function v(e){return m.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function y(e){this.length=e,this.promise=null,this[e-1]=null}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},m.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==h?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},m.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},u(g,m),g.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},y.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var i=this[n];i instanceof t&&i.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var r,o=arguments[e-1];if("function"!=typeof o)return n("expecting a function but got "+s.classString(o));var c=!0;2===e&&Array.isArray(arguments[0])?(e=(r=arguments[0]).length,c=!1):(r=arguments,e--);for(var u=new y(e),h=0;h<e;++h){var f=r[h];if(m.isDisposer(f)){var g=f;(f=f.promise())._setDisposable(g)}else{var b=i(f);b instanceof t&&(f=b._then(v,null,null,{resources:u,index:h},void 0))}u[h]=f}var w=new Array(u.length);for(h=0;h<w.length;++h)w[h]=t.resolve(u[h]).reflect();var _=t.all(w).then((function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}x._pushContext(),o=p(o);var i=c?o.apply(void 0,e):o(e),r=x._popContext();return a.checkForgottenReturns(i,r,"Promise.using",x),i})),x=_.lastly((function(){var e=new t.PromiseInspection(_);return d(u,e)}));return u.promise=x,x._setOnCancel(u),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new g(e,this,r());throw new c}}},{"./errors":12,"./util":36}],36:[function(e,i,r){"use strict";var o=e("./es5"),a="undefined"==typeof navigator,s={e:{}},c,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null;function l(){try{var e=c;return c=null,e.apply(this,arguments)}catch(e){return s.e=e,s}}function p(e){return c=e,l}var h=function(e,t){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=t.prototype[i])}return i.prototype=t.prototype,e.prototype=new i,e.prototype};function f(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function d(e){return"function"==typeof e||"object"==typeof e&&null!==e}function m(e){return f(e)?new Error(M(e)):e}function g(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r}function v(e,t,n){if(!o.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function y(e,t,n){if(f(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(e,t,i),e}function b(e){throw e}var w=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],r=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return i}for(var s=0;s<a.length;++s){var c=a[s];if(!r[c]){r[c]=!0;var u=Object.getOwnPropertyDescriptor(e,c);null!=u&&null==u.get&&null==u.set&&i.push(c)}}e=o.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),_=/this\s*\.\s*\S+\s*=/;function x(e){try{if("function"==typeof e){var t=o.names(e.prototype),n=o.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),r=_.test(e+"")&&o.names(e).length>0;if(n||i||r)return!0}return!1}catch(e){return!1}}function k(e){function t(){}t.prototype=e;var n=new t;function i(){return typeof n.foo}return i(),i(),e}var E=/^[a-z$_][a-z$_0-9]*$/i;function S(e){return E.test(e)}function j(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i}function M(e){try{return e+""}catch(e){return"[no string representation]"}}function A(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function C(e){try{y(e,"isOperational",!0)}catch(e){}}function T(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function P(e){return A(e)&&o.propertyIsWritable(e,"stack")}var R="stack"in new Error?function(e){return P(e)?e:new Error(M(e))}:function(e){if(P(e))return e;try{throw new Error(M(e))}catch(e){return e}};function B(e){return{}.toString.call(e)}function O(e,t,n){for(var i=o.names(e),r=0;r<i.length;++r){var a=i[r];if(n(a))try{o.defineProperty(t,a,o.getDescriptor(e,a))}catch(e){}}}var I=function(e){return o.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var D="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};I=function(e){return o.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?D(e):null}}var F=void 0!==t&&"[object process]"===B(t).toLowerCase(),z=void 0!==t&&void 0!==t.env,N;function L(e){return z?t.env[e]:void 0}function q(){if("function"==typeof Promise)try{if("[object Promise]"===B(new Promise((function(){}))))return Promise}catch(e){}}function H(e,t){if(null===e||"function"!=typeof t||t===N)return t;null!==e.domain&&(t=e.domain.bind(t));var n=e.async;if(null!==n){var i=t;t=function(){var e=new Array(2).concat([].slice.call(arguments));return e[0]=i,e[1]=this,n.runInAsyncScope.apply(n,e)}}return t}var U={setReflectHandler:function(e){N=e},isClass:x,isIdentifier:S,inheritedDataKeys:w,getDataPropertyOrDefault:v,thrower:b,isArray:o.isArray,asArray:I,notEnumerableProp:y,isPrimitive:f,isObject:d,isError:A,canEvaluate:a,errorObj:s,tryCatch:p,inherits:h,withAppended:g,maybeWrapAsError:m,toFastProperties:k,filledRange:j,toString:M,canAttachTrace:P,ensureErrorObject:R,originatesFromRejection:T,markAsOriginatingFromRejection:C,classString:B,copyDescriptors:O,isNode:F,hasEnvVariables:z,env:L,global:u,getNativePromise:q,contextBind:H},$;U.isRecentNode=U.isNode&&(t.versions&&t.versions.node?$=t.versions.node.split(".").map(Number):t.version&&($=t.version.split(".").map(Number)),0===$[0]&&$[1]>10||$[0]>0),U.nodeSupportsAsyncResource=U.isNode&&function(){var t=!1;try{t="function"==typeof e("async_hooks").AsyncResource.prototype.runInAsyncScope}catch(e){t=!1}return t}(),U.isNode&&U.toFastProperties(t);try{throw new Error}catch(e){U.lastLineError=e}i.exports=U},{"./es5":13,async_hooks:void 0}]},{},[4])(4)},e.exports=r(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(8),n(17),n(201).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var i,r,o,a,s,c=1,u={},l=!1,p=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},i=function(e){o.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(r=p.documentElement,i=function(e){var t=p.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):i=function(e){setTimeout(d,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),i=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,i(c),c++},h.clearImmediate=f}function f(e){delete u[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(17),n(8))},function(e,t,n){"use strict";var i=n(495),r=n(310),o=n(307),a=n(202);e.exports=function(e){var t="Please verify options";if(!a(e))throw new TypeError(t);if(!o(e.request))throw new TypeError(t+".request");if(!r(e.expose)||0===e.expose.length)throw new TypeError(t+".expose");var n=i({PromiseImpl:e.PromiseImpl,constructorMixin:e.constructorMixin}),s=e.request.Request.prototype.init;e.request.Request.prototype.init=function(e){return!a(e)||this._callback||this._rp_promise||n.init.call(this,e),s.apply(this,arguments)};for(var c=!1,u=0;u<e.expose.length;u+=1){var l=e.expose[u];n["promise"===l?"exposePromise":"exposePromiseMethod"](e.request.Request.prototype,null,"_rp_promise",l),"then"===l&&(c=!0)}if(!c)throw new Error('Please expose "then"')}},function(e,t,n){"use strict";var i=n(496),r=n(307),o=n(202),a=n(502),s=n(503);e.exports=function(e){var t="Please verify options";if(!o(e))throw new TypeError(t);if(!r(e.PromiseImpl))throw new TypeError(t+".PromiseImpl");if(!s(e.constructorMixin)&&!r(e.constructorMixin))throw new TypeError(t+".PromiseImpl");var n=e.PromiseImpl,c=e.constructorMixin,u={init:function(e){var t=this;t._rp_promise=new n((function(e,n){t._rp_resolve=e,t._rp_reject=n,c&&c.apply(t,arguments)})),t._rp_callbackOrig=e.callback,e.callback=t.callback=function(e,n,i){u.callback.call(t,e,n,i)},a(e.method)&&(e.method=e.method.toUpperCase()),e.transform=e.transform||u.defaultTransformations[e.method],t._rp_options=e,t._rp_options.simple=!1!==e.simple,t._rp_options.resolveWithFullResponse=!0===e.resolveWithFullResponse,t._rp_options.transform2xxOnly=!0===e.transform2xxOnly},defaultTransformations:{HEAD:function(e,t,n){return n?t:t.headers}},callback:function(e,t,o){var a=this,s=!1,c=null;if(r(a._rp_callbackOrig))try{a._rp_callbackOrig.apply(a,arguments)}catch(e){s=!0,c=e}var u=!e&&/^2/.test(""+t.statusCode);if(e?a._rp_reject(new i.RequestError(e,a._rp_options,t)):a._rp_options.simple&&!u?r(a._rp_options.transform)&&!1===a._rp_options.transform2xxOnly?new n((function(e){e(a._rp_options.transform(o,t,a._rp_options.resolveWithFullResponse))})).then((function(e){a._rp_reject(new i.StatusCodeError(t.statusCode,o,a._rp_options,e))})).catch((function(e){a._rp_reject(new i.TransformError(e,a._rp_options,t))})):a._rp_reject(new i.StatusCodeError(t.statusCode,o,a._rp_options,t)):r(a._rp_options.transform)&&(u||!1===a._rp_options.transform2xxOnly)?new n((function(e){e(a._rp_options.transform(o,t,a._rp_options.resolveWithFullResponse))})).then((function(e){a._rp_resolve(e)})).catch((function(e){a._rp_reject(new i.TransformError(e,a._rp_options,t))})):a._rp_options.resolveWithFullResponse?a._rp_resolve(t):a._rp_resolve(o),s)throw c},exposePromiseMethod:function(e,t,n,i,r){if((r=r||i)in e)throw new Error('Unable to expose method "'+r+'"');e[r]=function(){var e=t||this;return e[n][i].apply(e[n],arguments)}},exposePromise:function(e,t,n,i){if((i=i||"promise")in e)throw new Error('Unable to expose method "'+i+'"');e[i]=function(){return(t||this)[n]}}};return u}},function(e,t,n){"use strict";function i(e,t,n){this.name="RequestError",this.message=String(e),this.cause=e,this.error=e,this.options=t,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}function r(e,t,n,i){this.name="StatusCodeError",this.statusCode=e,this.message=e+" - "+(JSON&&JSON.stringify?JSON.stringify(t):t),this.error=t,this.options=n,this.response=i,Error.captureStackTrace&&Error.captureStackTrace(this)}function o(e,t,n){this.name="TransformError",this.message=String(e),this.cause=e,this.error=e,this.options=t,this.response=n,Error.captureStackTrace&&Error.captureStackTrace(this)}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,e.exports={RequestError:i,StatusCodeError:r,TransformError:o}},function(e,t,n){var i=n(498),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(17))},function(e,t,n){var i=n(309),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var i=n(308),r=n(310),o=n(202);e.exports=function(e){return"string"==typeof e||!r(e)&&o(e)&&"[object String]"==i(e)}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var i=/\.node$/;function r(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n)}function o(e,t){return r(t,(function(n){e[n]=t[n]})),e}function a(e){r(e,(function(t){i.test(t)||delete e[t]}))}e.exports=function(e,t,n,i){var s=o({},e);if(a(e),n){var c=!!i.children&&i.children.slice();n();var u=[];r(e,(function(e){u.push(e)})),a(e),i.children&&(i.children=c);for(var l=0;l<u.length;l+=1)s[u[l]]&&(e[u[l]]=s[u[l]])}var p=t(),h=!!n&&o({},e);if(a(e),n)for(var f=0;f<u.length;f+=1)h[u[f]]&&(e[u[f]]=h[u[f]]);return o(e,s),p}},function(e,t,n){"use strict";var i=n(203),r=n(311),o=n(204).paramsHaveRequestBody;function a(e,t,n){"function"==typeof t&&(n=t);var r={};return null!==t&&"object"==typeof t?i(r,t,{uri:e}):i(r,"string"==typeof e?{uri:e}:e),r.callback=n||r.callback,r}function s(e,t,n){if(void 0===e)throw new Error("undefined is not a valid uri or options object.");var i=a(e,t,n);if("HEAD"===i.method&&o(i))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new s.Request(i)}function c(e){var t=e.toUpperCase();return function(e,n,i){var r=a(e,n,i);return r.method=t,s(r,r.callback)}}function u(e,t,n,r){return function(o,s,c){var u=a(o,s,c),l={};return i(!0,l,t,u),l.pool=u.pool||t.pool,r&&(l.method=r.toUpperCase()),"function"==typeof n&&(e=n),e(l,l.callback)}}s.get=c("get"),s.head=c("head"),s.options=c("options"),s.post=c("post"),s.put=c("put"),s.patch=c("patch"),s.del=c("delete"),s.delete=c("delete"),s.jar=function(e){return r.jar(e)},s.cookie=function(e){return r.parse(e)},s.defaults=function(e,t){var n=this;"function"==typeof(e=e||{})&&(t=e,e={});var i=u(n,e,t);return["get","head","post","put","patch","del","delete"].forEach((function(r){i[r]=u(n[r],e,t,r)})),i.cookie=u(n.cookie,e,t),i.jar=n.jar,i.defaults=n.defaults,i},s.forever=function(e,t){var n={};return t&&i(n,t),e&&(n.agentOptions=e),n.forever=!0,s.defaults(n)},e.exports=s,s.Request=n(613),s.initParams=a,Object.defineProperty(s,"debug",{enumerable:!0,get:function(){return s.Request.debug},set:function(e){s.Request.debug=e}})},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i,r=n(80),o=n(39).parse,a=n(18),s=n(312),c=n(314).Store,u=n(513).MemoryCookieStore,l=n(316).pathMatch,p=n(514);try{i=n(155)}catch(e){console.warn("tough-cookie: can't load punycode; won't use punycode for domain normalization")}var h=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,f=/[\x00-\x1F]/,d=["\n","\r","\0"],m=/[\x20-\x3A\x3C-\x7E]+/,g=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,v={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function w(e,t,n,i){for(var r=0;r<e.length;){var o=e.charCodeAt(r);if(o<=47||o>=58)break;r++}return r<t||r>n?null:i||r==e.length?parseInt(e.substr(0,r),10):null}function _(e){var t=e.split(":"),n=[0,0,0];if(3!==t.length)return null;for(var i=0;i<3;i++){var r=2==i,o=w(t[i],1,2,r);if(null===o)return null;n[i]=o}return n}function x(e){e=String(e).substr(0,3).toLowerCase();var t=v[e];return t>=0?t:null}function k(e){if(e){var t=e.split(g);if(t){for(var n=null,i=null,r=null,o=null,a=null,s=null,c=0;c<t.length;c++){var u,l=t[c].trim();if(l.length)null===r&&(u=_(l))?(n=u[0],i=u[1],r=u[2]):null!==o||null===(u=w(l,1,2,!0))?null!==a||null===(u=x(l))?null===s&&null!==(u=w(l,2,4,!0))&&((s=u)>=70&&s<=99?s+=1900:s>=0&&s<=69&&(s+=2e3)):a=u:o=u}if(!(null===o||null===a||null===s||null===r||o<1||o>31||s<1601||n>23||i>59||r>59))return new Date(Date.UTC(s,a,o,n,i,r))}}}function E(e){var t=e.getUTCDate();t=t>=10?t:"0"+t;var n=e.getUTCHours();n=n>=10?n:"0"+n;var i=e.getUTCMinutes();i=i>=10?i:"0"+i;var r=e.getUTCSeconds();return r=r>=10?r:"0"+r,b[e.getUTCDay()]+", "+t+" "+y[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+n+":"+i+":"+r+" GMT"}function S(e){return null==e?null:(e=e.trim().replace(/^\./,""),i&&/[^\u0001-\u007f]/.test(e)&&(e=i.toASCII(e)),e.toLowerCase())}function j(e,t,n){if(null==e||null==t)return null;if(!1!==n&&(e=S(e),t=S(t)),e==t)return!0;if(r.isIP(e))return!1;var i=e.indexOf(t);return!(i<=0)&&(e.length===t.length+i&&"."===e.substr(i-1,1))}function M(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function A(e,t){var n,i,r=(e=function(e){for(var t=0;t<d.length;t++){var n=e.indexOf(d[t]);-1!==n&&(e=e.substr(0,n))}return e}(e)).indexOf("=");if(t)0===r&&(r=(e=e.substr(1)).indexOf("="));else if(r<=0)return;if(r<=0?(n="",i=e.trim()):(n=e.substr(0,r).trim(),i=e.substr(r+1).trim()),!f.test(n)&&!f.test(i)){var o=new O;return o.key=n,o.value=i,o}}function C(e,t){t&&"object"==typeof t||(t={});var n=(e=e.trim()).indexOf(";"),i=A(-1===n?e:e.substr(0,n),!!t.loose);if(i){if(-1===n)return i;var r=e.slice(n+1).trim();if(0===r.length)return i;for(var o=r.split(";");o.length;){var a=o.shift().trim();if(0!==a.length){var s,c,u=a.indexOf("=");switch(-1===u?(s=a,c=null):(s=a.substr(0,u),c=a.substr(u+1)),s=s.trim().toLowerCase(),c&&(c=c.trim()),s){case"expires":if(c){var l=k(c);l&&(i.expires=l)}break;case"max-age":if(c&&/^-?[0-9]+$/.test(c)){var p=parseInt(c,10);i.setMaxAge(p)}break;case"domain":if(c){var h=c.trim().replace(/^\./,"");h&&(i.domain=h.toLowerCase())}break;case"path":i.path=c&&"/"===c[0]?c:null;break;case"secure":i.secure=!0;break;case"httponly":i.httpOnly=!0;break;default:i.extensions=i.extensions||[],i.extensions.push(a)}}}return i}}function T(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}function P(e){if(!e)return null;var t;if("string"==typeof e){if((t=T(e))instanceof Error)return null}else t=e;for(var n=new O,i=0;i<O.serializableProperties.length;i++){var r=O.serializableProperties[i];void 0!==t[r]&&t[r]!==O.prototype[r]&&("expires"===r||"creation"===r||"lastAccessed"===r?null===t[r]?n[r]=null:n[r]="Infinity"==t[r]?"Infinity":new Date(t[r]):n[r]=t[r])}return n}function R(e,t){var n=0,i=e.path?e.path.length:0;return 0!==(n=(t.path?t.path.length:0)-i)||0!==(n=(e.creation?e.creation.getTime():2147483647e3)-(t.creation?t.creation.getTime():2147483647e3))?n:n=e.creationIndex-t.creationIndex}function B(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return o(e)}function O(e){e=e||{},Object.keys(e).forEach((function(t){O.prototype.hasOwnProperty(t)&&O.prototype[t]!==e[t]&&"_"!==t.substr(0,1)&&(this[t]=e[t])}),this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++O.cookiesCreated})}function I(e,t){"boolean"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new u),this.store=e}O.cookiesCreated=0,O.parse=C,O.fromJSON=P,O.prototype.key="",O.prototype.value="",O.prototype.expires="Infinity",O.prototype.maxAge=null,O.prototype.domain=null,O.prototype.path=null,O.prototype.secure=!1,O.prototype.httpOnly=!1,O.prototype.extensions=null,O.prototype.hostOnly=null,O.prototype.pathIsDefault=null,O.prototype.creation=null,O.prototype.lastAccessed=null,Object.defineProperty(O.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),O.serializableProperties=Object.keys(O.prototype).filter((function(e){return!(O.prototype[e]instanceof Function||"creationIndex"===e||"_"===e.substr(0,1))})),O.prototype.inspect=function(){var e=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?e-this.creation.getTime()+"ms":"?")+'"'},a.inspect.custom&&(O.prototype[a.inspect.custom]=O.prototype.inspect),O.prototype.toJSON=function(){for(var e={},t=O.serializableProperties,n=0;n<t.length;n++){var i=t[n];this[i]!==O.prototype[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===this[i]?e[i]=null:e[i]="Infinity"==this[i]?"Infinity":this[i].toISOString():"maxAge"===i?null!==this[i]&&(e[i]=this[i]==1/0||this[i]==-1/0?this[i].toString():this[i]):this[i]!==O.prototype[i]&&(e[i]=this[i]))}return e},O.prototype.clone=function(){return P(this.toJSON())},O.prototype.validate=function(){if(!h.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||k(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!m.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;if(null==s.getPublicSuffix(e))return!1}return!0},O.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=k(e)||"Infinity"},O.prototype.setMaxAge=function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e},O.prototype.cookieString=function(){var e=this.value;return null==e&&(e=""),""===this.key?e:this.key+"="+e},O.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?e+="; Expires="+E(this.expires):e+="; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(e+="; Domain="+this.domain),this.path&&(e+="; Path="+this.path),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.extensions&&this.extensions.forEach((function(t){e+="; "+t})),e},O.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=k(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},O.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,n=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+n}return this.expires==1/0?1/0:this.expires.getTime()},O.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(2147483647e3):t==-1/0?new Date(0):new Date(t)},O.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},O.prototype.cdomain=O.prototype.canonicalizedDomain=function(){return null==this.domain?null:S(this.domain)},I.prototype.store=null,I.prototype.rejectPublicSuffixes=!0,I.prototype.enableLooseMode=!1;var D=[];function F(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var t,n,i=Array.prototype.slice.call(arguments);if(i.push((function(e,i){t=e,n=i})),this[e].apply(this,i),t)throw t;return n}}D.push("setCookie"),I.prototype.setCookie=function(e,t,n,i){var r,o=B(t);n instanceof Function&&(i=n,n={});var a=S(o.hostname),c=this.enableLooseMode;if(null!=n.loose&&(c=n.loose),e instanceof O||(e=O.parse(e,{loose:c})),!e)return r=new Error("Cookie failed to parse"),i(n.ignoreError?null:r);var u=n.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==s.getPublicSuffix(e.cdomain()))return r=new Error("Cookie has domain set to a public suffix"),i(n.ignoreError?null:r);if(e.domain){if(!j(a,e.cdomain(),!1))return r=new Error("Cookie not in this host's domain. Cookie:"+e.cdomain()+" Request:"+a),i(n.ignoreError?null:r);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&"/"===e.path[0]||(e.path=M(o.pathname),e.pathIsDefault=!0),!1===n.http&&e.httpOnly)return r=new Error("Cookie is HttpOnly and this isn't an HTTP API"),i(n.ignoreError?null:r);var l=this.store;l.updateCookie||(l.updateCookie=function(e,t,n){this.putCookie(t,n)}),l.findCookie(e.domain,e.path,e.key,(function(t,r){if(t)return i(t);var o=function(t){if(t)return i(t);i(null,e)};if(r){if(!1===n.http&&r.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),i(n.ignoreError?null:t);e.creation=r.creation,e.creationIndex=r.creationIndex,e.lastAccessed=u,l.updateCookie(r,e,o)}else e.creation=e.lastAccessed=u,l.putCookie(e,o)}))},D.push("getCookies"),I.prototype.getCookies=function(e,t,n){var i=B(e);t instanceof Function&&(n=t,t={});var r=S(i.hostname),o=i.pathname||"/",a=t.secure;null!=a||!i.protocol||"https:"!=i.protocol&&"wss:"!=i.protocol||(a=!0);var s=t.http;null==s&&(s=!0);var c=t.now||Date.now(),u=!1!==t.expire,p=!!t.allPaths,h=this.store;function f(e){if(e.hostOnly){if(e.domain!=r)return!1}else if(!j(r,e.domain,!1))return!1;return!(!p&&!l(o,e.path))&&(!(e.secure&&!a)&&(!(e.httpOnly&&!s)&&(!(u&&e.expiryTime()<=c)||(h.removeCookie(e.domain,e.path,e.key,(function(){})),!1))))}h.findCookies(r,p?null:o,(function(e,i){if(e)return n(e);i=i.filter(f),!1!==t.sort&&(i=i.sort(R));var r=new Date;i.forEach((function(e){e.lastAccessed=r})),n(null,i)}))},D.push("getCookieString"),I.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.sort(R).map((function(e){return e.cookieString()})).join("; "))};e.push(n),this.getCookies.apply(this,e)},D.push("getSetCookieStrings"),I.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.map((function(e){return e.toString()})))};e.push(n),this.getCookies.apply(this,e)},D.push("serialize"),I.prototype.serialize=function(e){var t=this.store.constructor.name;"Object"===t&&(t=null);var n={version:"tough-cookie@"+p,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return e(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((function(t,i){return t?e(t):(n.cookies=i.map((function(e){return delete(e=e instanceof O?e.toJSON():e).creationIndex,e})),e(null,n))}))},I.prototype.toJSON=function(){return this.serializeSync()},D.push("_importCookies"),I.prototype._importCookies=function(e,t){var n=this,i=e.cookies;if(!i||!Array.isArray(i))return t(new Error("serialized jar has no cookies array"));i=i.slice(),function e(r){if(r)return t(r);if(!i.length)return t(r,n);var o;try{o=P(i.shift())}catch(e){return t(e)}if(null===o)return e(null);n.store.putCookie(o,e)}()},I.deserialize=function(e,t,n){var i;if(3!==arguments.length&&(n=t,t=null),"string"==typeof e){if((i=T(e))instanceof Error)return n(i)}else i=e;var r=new I(t,i.rejectPublicSuffixes);r._importCookies(i,(function(e){if(e)return n(e);n(null,r)}))},I.deserializeSync=function(e,t){var n="string"==typeof e?JSON.parse(e):e,i=new I(t,n.rejectPublicSuffixes);if(!i.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return i._importCookiesSync(n),i},I.fromJSON=I.deserializeSync,I.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize((function(n,i){if(n)return t(n);I.deserialize(i,e,t)}))},D.push("removeAllCookies"),I.prototype.removeAllCookies=function(e){var t=this.store;if(t.removeAllCookies instanceof Function&&t.removeAllCookies!==c.prototype.removeAllCookies)return t.removeAllCookies(e);t.getAllCookies((function(n,i){if(n)return e(n);if(0===i.length)return e(null);var r=0,o=[];function a(t){if(t&&o.push(t),++r===i.length)return e(o.length?o[0]:null)}i.forEach((function(e){t.removeCookie(e.domain,e.path,e.key,a)}))}))},I.prototype._cloneSync=F("clone"),I.prototype.cloneSync=function(e){if(!e.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)},D.forEach((function(e){I.prototype[e+"Sync"]=F(e)})),t.version=p,t.CookieJar=I,t.Cookie=O,t.Store=c,t.MemoryCookieStore=u,t.parseDate=k,t.formatDate=E,t.parse=C,t.fromJSON=P,t.domainMatch=j,t.defaultPath=M,t.pathMatch=l,t.getPublicSuffix=s.getPublicSuffix,t.cookieCompare=R,t.permuteDomain=n(315).permuteDomain,t.permutePath=function(e){if("/"===e)return["/"];e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var n=e.lastIndexOf("/");if(0===n)break;e=e.substr(0,n),t.push(e)}return t.push("/"),t},t.canonicalDomain=S},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var p,h,f,d,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),h=m.substr(g+1)):(p=m,h=""),f=decodeURIComponent(p),d=decodeURIComponent(h),i(a,f)?r(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),(function(a){var s=encodeURIComponent(i(a))+n;return r(e[a])?o(e[a],(function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[a]))})).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e){e.exports=JSON.parse('["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","bet.ar","com.ar","coop.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","mutual.ar","net.ar","org.ar","senasa.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","sth.ac.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","catholic.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","schools.nsw.edu.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","app.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bib.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","coz.br","cri.br","cuiaba.br","curitiba.br","def.br","des.br","det.br","dev.br","ecn.br","eco.br","edu.br","emp.br","enf.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","geo.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","log.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","rep.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","seg.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","tec.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aéroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","co.cl","gob.cl","gov.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn","公司.cn","网络.cn","網絡.cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","com.cv","edu.cv","int.cv","nome.cv","org.cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","mil.cy","net.cy","org.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","art.dz","asso.dz","com.dz","edu.dz","gov.dz","org.dz","net.dz","pol.dz","soc.dz","tm.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","fj","ac.fj","biz.fj","com.fj","gov.fj","info.fj","mil.fj","name.fj","net.fj","org.fj","pro.fj","*.fk","com.fm","edu.fm","net.fm","org.fm","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","edu.gd","gov.gd","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk","公司.hk","教育.hk","敎育.hk","政府.hk","個人.hk","个��.hk","箇人.hk","網络.hk","网络.hk","组織.hk","網絡.hk","网絡.hk","组织.hk","組織.hk","組织.hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir","ایران.ir","ايران.ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-süd-tirol.it","trentin-sudtirol.it","trentin-südtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-süd-tirol.it","trentino-sudtirol.it","trentino-südtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosüd-tirol.it","trentinosudtirol.it","trentinosüdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsüd-tirol.it","trentinsudtirol.it","trentinsüdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","vallée-aoste.it","vallee-d-aoste.it","vallée-d-aoste.it","valleeaoste.it","valléeaoste.it","valleedaoste.it","valléedaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-südtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-südtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-südtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forlì.it","cesenaforli.it","cesenaforlì.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forlì-cesena.it","forlicesena.it","forlìcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","südtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp","栃木.jp","愛知.jp","愛媛.jp","兵庫.jp","熊本.jp","茨城.jp","北海道.jp","千葉.jp","和歌山.jp","長崎.jp","長野.jp","新潟.jp","青森.jp","静岡.jp","東京.jp","石川.jp","埼玉.jp","三重.jp","京都.jp","佐賀.jp","大分.jp","大阪.jp","奈良.jp","宮城.jp","宮崎.jp","富山.jp","山口.jp","山形.jp","山梨.jp","岩手.jp","岐阜.jp","岡山.jp","島根.jp","広島.jp","徳島.jp","沖縄.jp","滋賀.jp","神奈川.jp","福井.jp","福岡.jp","福島.jp","秋田.jp","群馬.jp","香川.jp","高知.jp","鳥取.jp","鹿児島.jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","com.ky","edu.ky","net.ky","org.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicações.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicações.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","läns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum","ירושלים.museum","иком.museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","biz.my","com.my","edu.my","gov.my","mil.my","name.my","net.my","org.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","åkrehamn.no","algard.no","ålgård.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brønnøysund.no","drobak.no","drøbak.no","egersund.no","fetsund.no","floro.no","florø.no","fredrikstad.no","hokksund.no","honefoss.no","hønefoss.no","jessheim.no","jorpeland.no","jørpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevåg.no","leirvik.no","mjondalen.no","mjøndalen.no","mo-i-rana.no","mosjoen.no","mosjøen.no","nesoddtangen.no","orkanger.no","osoyro.no","osøyro.no","raholt.no","råholt.no","sandnessjoen.no","sandnessjøen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjørdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","åfjord.no","agdenes.no","al.no","ål.no","alesund.no","ålesund.no","alstahaug.no","alta.no","áltá.no","alaheadju.no","álaheadju.no","alvdal.no","amli.no","åmli.no","amot.no","åmot.no","andebu.no","andoy.no","andøy.no","andasuolo.no","ardal.no","årdal.no","aremark.no","arendal.no","ås.no","aseral.no","åseral.no","asker.no","askim.no","askvoll.no","askoy.no","askøy.no","asnes.no","åsnes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-høland.no","austevoll.no","austrheim.no","averoy.no","averøy.no","balestrand.no","ballangen.no","balat.no","bálát.no","balsfjord.no","bahccavuotna.no","báhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bájddar.no","baidar.no","báidár.no","berg.no","bergen.no","berlevag.no","berlevåg.no","bearalvahki.no","bearalváhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarkøy.no","bjerkreim.no","bjugn.no","bodo.no","bodø.no","badaddja.no","bådåddjå.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brønnøy.no","bygland.no","bykle.no","barum.no","bærum.no","bo.telemark.no","bø.telemark.no","bo.nordland.no","bø.nordland.no","bievat.no","bievát.no","bomlo.no","bømlo.no","batsfjord.no","båtsfjord.no","bahcavuotna.no","báhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyrøy.no","donna.no","dønna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","evenášši.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finnøy.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","flå.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","fræna.no","froya.no","frøya.no","fusa.no","fyresdal.no","forde.no","førde.no","gamvik.no","gangaviika.no","gáŋgaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskål.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjøvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kråanghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hábmer.no","hapmir.no","hápmir.no","hammerfest.no","hammarfeasta.no","hámmárfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","ákŋoluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","herøy.møre-og-romsdal.no","heroy.nordland.no","herøy.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobøl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtålen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hægebostad.no","hoyanger.no","høyanger.no","hoylandet.no","høylandet.no","ha.no","hå.no","ibestad.no","inderoy.no","inderøy.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jølster.no","karasjok.no","karasjohka.no","kárášjohka.no","karlsoy.no","galsa.no","gálsá.no","karmoy.no","karmøy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klæbu.no","kongsberg.no","kongsvinger.no","kragero.no","kragerø.no","kristiansand.no","kristiansund.no","krodsherad.no","krødsherad.no","kvalsund.no","rahkkeravju.no","ráhkkerávju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsøy.no","kvafjord.no","kvæfjord.no","giehtavuoatna.no","kvanangen.no","kvænangen.no","navuotna.no","návuotna.no","kafjord.no","kåfjord.no","gaivuotna.no","gáivuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabát.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leaŋgaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","lindås.no","lom.no","loppa.no","lahppi.no","láhppi.no","lund.no","lunner.no","luroy.no","lurøy.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lærdal.no","lodingen.no","lødingen.no","lorenskog.no","lørenskog.no","loten.no","løten.no","malvik.no","masoy.no","måsøy.no","muosat.no","muosát.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","meløy.no","meraker.no","meråker.no","moareke.no","moåreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","målselv.no","malatvuopmi.no","málatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nååmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjárga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjárga.no","nordre-land.no","nordreisa.no","raisa.no","ráisa.no","nore-og-uvdal.no","notodden.no","naroy.no","nærøy.no","notteroy.no","nøtterøy.no","odda.no","oksnes.no","øksnes.no","oppdal.no","oppegard.no","oppegård.no","orkdal.no","orland.no","ørland.no","orskog.no","ørskog.no","orsta.no","ørsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","osterøy.no","ostre-toten.no","østre-toten.no","overhalla.no","ovre-eiker.no","øvre-eiker.no","oyer.no","øyer.no","oygarden.no","øygarden.no","oystre-slidre.no","øystre-slidre.no","porsanger.no","porsangu.no","porsáŋgu.no","porsgrunn.no","radoy.no","radøy.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesøy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risør.no","roan.no","rollag.no","rygge.no","ralingen.no","rælingen.no","rodoy.no","rødøy.no","romskog.no","rømskog.no","roros.no","røros.no","rost.no","røst.no","royken.no","røyken.no","royrvik.no","røyrvik.no","rade.no","råde.no","salangen.no","siellak.no","saltdal.no","salat.no","sálát.no","sálat.no","samnanger.no","sande.more-og-romsdal.no","sande.møre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandøy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervøy.no","skierva.no","skiervá.no","skjak.no","skjåk.no","skodje.no","skanland.no","skånland.no","skanit.no","skánit.no","smola.no","smøla.no","snillfjord.no","snasa.no","snåsa.no","snoasa.no","snaase.no","snåase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjørdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","søgne.no","somna.no","sømna.no","sondre-land.no","søndre-land.no","sor-aurdal.no","sør-aurdal.no","sor-fron.no","sør-fron.no","sor-odal.no","sør-odal.no","sor-varanger.no","sør-varanger.no","matta-varjjat.no","mátta-várjjat.no","sorfold.no","sørfold.no","sorreisa.no","sørreisa.no","sorum.no","sørum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjøme.no","tokke.no","tolga.no","torsken.no","tranoy.no","tranøy.no","tromso.no","tromsø.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","træna.no","trogstad.no","trøgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvær.no","tonsberg.no","tønsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vadsø.no","cahcesuolo.no","čáhcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vardø.no","varggat.no","várggát.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegårshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvågøy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","værøy.no","vagan.no","vågan.no","voagat.no","vagsoy.no","vågsøy.no","vaga.no","vågå.no","valer.ostfold.no","våler.østfold.no","valer.hedmark.no","våler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","māori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","edu.so","gov.so","me.so","net.so","org.so","sr","ss","biz.ss","com.ss","edu.ss","gov.ss","me.ss","net.ss","org.ss","sch.ss","st","co.st","com.st","consulado.st","edu.st","embaixada.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","info.tn","intl.tn","mincom.tn","nat.tn","net.tn","org.tn","perso.tn","tourism.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw","網路.tw","組織.tw","商業.tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","bib.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","nom.ve","org.ve","rar.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","امارات","հայ","বাংলা","бг","البحرين","бел","中国","中國","الجزائر","مصر","ею","ευ","موريتانيا","გე","ελ","香港","公司.香港","教育.香港","政府.香港","個人.香港","網絡.香港","組織.香港","ಭಾರತ","ଭାରତ","ভাৰত","भारतम्","भारोत","ڀارت","ഭാരതം","भारत","بارت","بھارت","భారత్","ભારત","ਭਾਰਤ","ভারত","இந்தியா","ایران","ايران","عراق","الاردن","한국","қаз","ລາວ","ලංකා","இலங்கை","المغرب","мкд","мон","澳門","澳门","مليسيا","عمان","پاکستان","پاكستان","فلسطين","срб","пр.срб","орг.срб","обр.срб","од.срб","упр.срб","ак.срб","рф","قطر","السعودية","السعودیة","السعودیۃ","السعوديه","سودان","新加坡","சிங்கப்பூர்","سورية","سوريا","ไทย","ศึกษา.ไทย","ธุรกิจ.ไทย","รัฐบาล.ไทย","ทหาร.ไทย","เน็ต.ไทย","องค์กร.ไทย","تونس","台灣","台湾","臺灣","укр","اليمن","xxx","ye","com.ye","edu.ye","gov.ye","net.ye","mil.ye","org.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nic.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afl","africa","agakhan","agency","aig","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","catering","catholic","cba","cbn","cbre","cbs","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","etisalat","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","international","intuit","investments","ipiranga","irish","ismaili","ist","istanbul","itau","itv","jaguar","java","jcb","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kids","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","msd","mtn","mtr","music","mutual","nab","nagoya","natura","navy","nba","nec","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","racing","radio","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","srl","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiss","sydney","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","慈善","集团","在线","点看","คอม","八卦","موقع","公益","公司","香格里拉","网站","移动","我爱你","москва","католик","онлайн","сайт","联通","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","商标","商店","商城","дети","ポイント","新闻","家電","كوم","中文网","中信","娱乐","谷歌","電訊盈科","购物","クラウド","通販","网店","संगठन","餐厅","网络","ком","亚马逊","诺基亚","食品","飞利浦","手机","ارامكو","العليان","اتصالات","بازار","ابوظبي","كاثوليك","همراه","닷컴","政府","شبكة","بيتك","عرب","机构","组织机构","健康","招聘","рус","大拿","みんな","グーグル","世界","書籍","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","广东","政务","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","611.to","graphox.us","*.devcdnaccesso.com","adobeaemcloud.com","*.dev.adobeaemcloud.com","hlx.live","adobeaemcloud.net","hlx.page","hlx3.page","beep.pl","airkitapps.com","airkitapps-au.com","airkitapps.eu","aivencloud.com","barsy.ca","*.compute.estate","*.alces.network","kasserver.com","altervista.org","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","awsglobalaccelerator.com","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","siiites.com","appspacehosted.com","appspaceusercontent.com","appudo.net","on-aptible.com","user.aseinet.ne.jp","gv.vc","d.gv.vc","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","cdn.prod.atlassian-dev.net","translated.page","myfritz.net","onavstack.net","*.awdev.ca","*.advisor.ws","ecommerce-shop.pl","b-data.io","backplaneapp.io","balena-devices.com","rs.ba","*.banzai.cloud","app.banzaicloud.io","*.backyards.banzaicloud.io","base.ec","official.ec","buyshop.jp","fashionstore.jp","handcrafted.jp","kawaiishop.jp","supersale.jp","theshop.jp","shopselect.net","base.shop","*.beget.app","betainabox.com","bnr.la","bitbucket.io","blackbaudcdn.net","of.je","bluebite.io","boomla.net","boutir.com","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","shop.brendly.rs","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","cafjs.com","mycd.eu","drr.ac","uwu.ai","carrd.co","crd.co","ju.mp","ae.org","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.net","hu.net","jp.net","jpn.com","mex.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","za.bz","za.com","ar.com","hu.com","kr.com","no.com","qc.com","uy.com","africa.com","gr.com","in.net","web.in","us.org","co.com","aus.basketball","nz.basketball","radio.am","radio.fm","c.la","certmgr.org","cx.ua","discourse.group","discourse.team","cleverapps.io","clerk.app","clerkstage.app","*.lcl.dev","*.lclstage.dev","*.stg.dev","*.stgstage.dev","clickrising.net","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","*.cloudera.site","pages.dev","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cnpy.gdn","codeberg.page","co.nl","co.no","webhosting.be","hosting-cluster.nl","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","curv.dev","*.customer-oci.com","*.oci.customer-oci.com","*.ocp.customer-oci.com","*.ocs.customer-oci.com","cyon.link","cyon.site","fnwk.site","folionetwork.site","platform0.app","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","dyndns.dappnode.io","*.dapps.earth","*.bzz.dapps.earth","builtwithdark.com","demo.datadetect.com","instance.datadetect.com","edgestack.me","ddns5.com","debian.net","deno.dev","deno-staging.dev","dedyn.io","deta.app","deta.dev","*.rss.my.id","*.diher.solutions","discordsays.com","discordsez.com","jozi.biz","dnshome.de","online.th","shop.th","drayddns.com","shoparena.pl","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","bip.sh","bitbridge.net","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","ondigitalocean.app","*.digitaloceanspaces.com","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","eero.online","eero-stage.online","elementor.cloud","elementor.cool","en-root.fr","mytuleap.com","tuleap-partners.com","encr.app","encoreapi.com","onred.one","staging.onred.one","eu.encoway.cloud","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eurodir.ru","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","onfabrica.com","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","u.channelsdvr.net","edgecompute.app","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastvps-server.com","fastvps.host","myfast.host","fastvps.site","myfast.space","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","conn.uk","copro.uk","hosp.uk","mydobiss.com","fh-muenster.io","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","fireweb.app","flap.id","onflashdrive.app","fldrv.com","fly.dev","edgeapp.net","shw.io","flynnhosting.net","forgeblocks.com","id.forgerock.io","framer.app","framercanvas.com","*.frusky.de","ravpage.co.il","0e.vc","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","freemyip.com","wien.funkfeuer.at","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","independent-commission.uk","independent-inquest.uk","independent-inquiry.uk","independent-panel.uk","independent-review.uk","public-inquiry.uk","royal-commission.uk","campaign.gov.uk","service.gov.uk","api.gov.uk","gehirn.ne.jp","usercontent.jp","gentapps.com","gentlentapis.com","lab.ms","cdn-edges.net","ghost.io","gsj.bz","githubusercontent.com","githubpreview.dev","github.io","gitlab.io","gitapp.si","gitpage.si","glitch.me","nog.community","co.ro","shop.ro","lolipop.io","angry.jp","babyblue.jp","babymilk.jp","backdrop.jp","bambina.jp","bitter.jp","blush.jp","boo.jp","boy.jp","boyfriend.jp","but.jp","candypop.jp","capoo.jp","catfood.jp","cheap.jp","chicappa.jp","chillout.jp","chips.jp","chowder.jp","chu.jp","ciao.jp","cocotte.jp","coolblog.jp","cranky.jp","cutegirl.jp","daa.jp","deca.jp","deci.jp","digick.jp","egoism.jp","fakefur.jp","fem.jp","flier.jp","floppy.jp","fool.jp","frenchkiss.jp","girlfriend.jp","girly.jp","gloomy.jp","gonna.jp","greater.jp","hacca.jp","heavy.jp","her.jp","hiho.jp","hippy.jp","holy.jp","hungry.jp","icurus.jp","itigo.jp","jellybean.jp","kikirara.jp","kill.jp","kilo.jp","kuron.jp","littlestar.jp","lolipopmc.jp","lolitapunk.jp","lomo.jp","lovepop.jp","lovesick.jp","main.jp","mods.jp","mond.jp","mongolian.jp","moo.jp","namaste.jp","nikita.jp","nobushi.jp","noor.jp","oops.jp","parallel.jp","parasite.jp","pecori.jp","peewee.jp","penne.jp","pepper.jp","perma.jp","pigboat.jp","pinoko.jp","punyu.jp","pupu.jp","pussycat.jp","pya.jp","raindrop.jp","readymade.jp","sadist.jp","schoolbus.jp","secret.jp","staba.jp","stripper.jp","sub.jp","sunnyday.jp","thick.jp","tonkotsu.jp","under.jp","upper.jp","velvet.jp","verse.jp","versus.jp","vivian.jp","watson.jp","weblike.jp","whitesnow.jp","zombie.jp","heteml.net","cloudapps.digital","london.cloudapps.digital","pymnt.uk","homeoffice.gov.uk","ro.im","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","*.r.appspot.com","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","*.gateway.dev","cloud.goog","translate.goog","*.usercontent.goog","cloudfunctions.net","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","goupile.fr","gov.nl","awsmppl.com","günstigbestellen.de","günstigliefern.de","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","pages.it.hs-heilbronn.de","hepforge.org","herokuapp.com","herokussl.com","ravendb.cloud","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","homesklep.pl","secaas.hk","hoplix.shop","orx.biz","biz.gl","col.ng","firm.ng","gen.ng","ltd.ng","ngo.ng","edu.scot","sch.so","hostyhosting.io","häkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","ibxos.it","iliadboxos.it","impertrixcdn.com","impertrix.com","smushcdn.com","wphostedmail.com","wpmucdn.com","tempurl.host","wpmudev.host","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","na4u.ru","iopsys.se","ipifony.net","iservschule.de","mein-iserv.de","schulplattform.de","schulserver.de","test-iserv.de","iserv.dev","iobb.net","mel.cloudlets.com.au","cloud.interhostsolutions.be","users.scale.virtualcloud.com.br","mycloud.by","alp1.ae.flow.ch","appengine.flow.ch","es-1.axarnet.cloud","diadem.cloud","vip.jelastic.cloud","jele.cloud","it1.eur.aruba.jenv-aruba.cloud","it1.jenv-aruba.cloud","keliweb.cloud","cs.keliweb.cloud","oxa.cloud","tn.oxa.cloud","uk.oxa.cloud","primetel.cloud","uk.primetel.cloud","ca.reclaim.cloud","uk.reclaim.cloud","us.reclaim.cloud","ch.trendhosting.cloud","de.trendhosting.cloud","jele.club","amscompute.com","clicketcloud.com","dopaas.com","hidora.com","paas.hosted-by-previder.com","rag-cloud.hosteur.com","rag-cloud-ch.hosteur.com","jcloud.ik-server.com","jcloud-ver-jpc.ik-server.com","demo.jelastic.com","kilatiron.com","paas.massivegrid.com","jed.wafaicloud.com","lon.wafaicloud.com","ryd.wafaicloud.com","j.scaleforce.com.cy","jelastic.dogado.eu","fi.cloudplatform.fi","demo.datacenter.fi","paas.datacenter.fi","jele.host","mircloud.host","paas.beebyte.io","sekd1.beebyteapp.io","jele.io","cloud-fr1.unispace.io","jc.neen.it","cloud.jelastic.open.tim.it","jcloud.kz","upaas.kazteleport.kz","cloudjiffy.net","fra1-de.cloudjiffy.net","west1-us.cloudjiffy.net","jls-sto1.elastx.net","jls-sto2.elastx.net","jls-sto3.elastx.net","faststacks.net","fr-1.paas.massivegrid.net","lon-1.paas.massivegrid.net","lon-2.paas.massivegrid.net","ny-1.paas.massivegrid.net","ny-2.paas.massivegrid.net","sg-1.paas.massivegrid.net","jelastic.saveincloud.net","nordeste-idc.saveincloud.net","j.scaleforce.net","jelastic.tsukaeru.net","sdscloud.pl","unicloud.pl","mircloud.ru","jelastic.regruhosting.ru","enscaled.sg","jele.site","jelastic.team","orangecloud.tn","j.layershift.co.uk","phx.enscaled.us","mircloud.us","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","jotelulu.cloud","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","ktistory.com","kapsi.fi","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","koobin.events","oya.to","kuleuven.cloud","ezproxy.kuleuven.be","co.krd","edu.krd","krellian.net","webthings.io","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","lelux.site","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkyard.cloud","linkyard-cloud.ch","members.linode.com","*.nodebalancer.linode.com","*.linodeobjects.com","ip.linodeusercontent.com","we.bs","*.user.localcert.dev","localzone.xyz","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","servers.run","lohmus.me","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.ro","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","cn.vu","mazeplay.com","mcpe.me","mcdir.me","mcdir.ru","mcpre.ru","vps.mcdir.ru","mediatech.by","mediatech.dev","hra.health","miniserver.com","memset.net","messerli.app","*.cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","*.azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","azurestaticapps.net","1.azurestaticapps.net","centralus.azurestaticapps.net","eastasia.azurestaticapps.net","eastus2.azurestaticapps.net","westeurope.azurestaticapps.net","westus2.azurestaticapps.net","csx.cc","mintere.site","forte.id","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","hostedpi.com","customer.mythic-beasts.com","caracal.mythic-beasts.com","fentiger.mythic-beasts.com","lynx.mythic-beasts.com","ocelot.mythic-beasts.com","oncilla.mythic-beasts.com","onza.mythic-beasts.com","sphinx.mythic-beasts.com","vs.mythic-beasts.com","x.mythic-beasts.com","yali.mythic-beasts.com","cust.retrosnub.co.uk","ui.nabu.casa","pony.club","of.fashion","in.london","of.london","from.marketing","with.marketing","for.men","repair.men","and.mom","for.mom","for.one","under.one","for.sale","that.win","from.work","to.work","cloud.nospamproxy.com","netlify.app","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","*.developer.app","noop.app","*.northflank.app","*.build.run","*.code.run","*.database.run","*.migration.run","noticeable.news","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","pcloud.host","nyc.mn","static.observableusercontent.com","cya.gg","omg.lol","cloudycluster.net","omniwe.site","service.one","nid.io","opensocial.site","opencraft.hosting","orsites.com","operaunite.com","tech.orange","authgear-staging.com","authgearapps.com","skygearapp.com","outsystemscloud.com","*.webpaas.ovh.net","*.hosting.ovh.net","ownprovider.com","own.pm","*.owo.codes","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","pagexl.com","*.paywhirl.com","bar0.net","bar1.net","bar2.net","rdv.to","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","perspecta.cloud","lk3.ru","on-web.fr","bc.platform.sh","ent.platform.sh","eu.platform.sh","us.platform.sh","*.platformsh.site","*.tst.site","platter-app.com","platter-app.dev","platterp.us","pdns.page","plesk.page","pleskns.com","dyn53.io","onporter.run","co.bn","postman-echo.com","pstmn.io","mock.pstmn.io","httpbin.org","prequalifyme.today","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","pythonanywhere.com","eu.pythonanywhere.com","qoto.io","qualifioapp.com","qbuser.com","cloudsite.builders","instances.spawn.cc","instantcloud.cn","ras.ru","qa2.com","qcx.io","*.sys.qcx.io","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","g.vbrplsbx.io","*.on-k3s.io","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","id.repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","wellbeingzone.co.uk","adimo.co.uk","itcouldbewor.se","git-pages.rit.edu","rocky.page","биз.рус","ком.рус","крым.рус","мир.рус","мск.рус","орг.рус","самара.рус","сочи.рус","спб.рус","я.рус","*.builder.code.com","*.dev-builder.code.com","*.stg-builder.code.com","sandcats.io","logoip.de","logoip.com","fr-par-1.baremetal.scw.cloud","fr-par-2.baremetal.scw.cloud","nl-ams-1.baremetal.scw.cloud","fnc.fr-par.scw.cloud","functions.fnc.fr-par.scw.cloud","k8s.fr-par.scw.cloud","nodes.k8s.fr-par.scw.cloud","s3.fr-par.scw.cloud","s3-website.fr-par.scw.cloud","whm.fr-par.scw.cloud","priv.instances.scw.cloud","pub.instances.scw.cloud","k8s.scw.cloud","k8s.nl-ams.scw.cloud","nodes.k8s.nl-ams.scw.cloud","s3.nl-ams.scw.cloud","s3-website.nl-ams.scw.cloud","whm.nl-ams.scw.cloud","k8s.pl-waw.scw.cloud","nodes.k8s.pl-waw.scw.cloud","s3.pl-waw.scw.cloud","s3-website.pl-waw.scw.cloud","scalebook.scw.cloud","smartlabeling.scw.cloud","dedibox.fr","schokokeks.net","gov.scot","service.gov.scot","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","seidat.net","sellfy.store","senseering.net","minisite.ms","magnet.page","biz.ua","co.ua","pp.ua","shiftcrypto.dev","shiftcrypto.io","shiftedit.io","myshopblocks.com","myshopify.com","shopitsite.com","shopware.store","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","small-web.org","vp4.me","try-snowplow.com","srht.site","stackhero-network.com","musician.io","novecore.site","static.land","dev.static.land","sites.static.land","storebase.store","vps-host.net","atl.jelastic.vps-host.net","njs.jelastic.vps-host.net","ric.jelastic.vps-host.net","playstation-cloud.com","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","myspreadshop.at","myspreadshop.com.au","myspreadshop.be","myspreadshop.ca","myspreadshop.ch","myspreadshop.com","myspreadshop.de","myspreadshop.dk","myspreadshop.es","myspreadshop.fi","myspreadshop.fr","myspreadshop.ie","myspreadshop.it","myspreadshop.net","myspreadshop.nl","myspreadshop.no","myspreadshop.pl","myspreadshop.se","myspreadshop.co.uk","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","supabase.co","supabase.in","supabase.net","su.paba.se","*.s5y.io","*.sensiosite.cloud","syncloud.it","dscloud.biz","direct.quickconnect.cn","dsmynas.com","familyds.com","diskstation.me","dscloud.me","i234.me","myds.me","synology.me","dscloud.mobi","dsmynas.net","familyds.net","dsmynas.org","familyds.org","vpnplus.to","direct.quickconnect.to","tabitorder.co.il","taifun-dns.de","beta.tailscale.net","ts.net","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","site.tb-hosting.com","edugit.io","s3.teckids.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","*.firenet.ch","*.svc.firenet.ch","reservd.com","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","reservd.dev.thingdust.io","reservd.disrec.thingdust.io","reservd.testing.thingdust.io","tickets.io","arvo.network","azimuth.network","tlon.network","torproject.net","pages.torproject.net","bloxcms.com","townnews-staging.com","tbits.me","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","site.transip.me","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","typedream.app","pro.typeform.com","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","name.pm","sch.tf","biz.wf","sch.wf","org.yt","virtualuser.de","virtual-user.de","upli.io","urown.cloud","dnsupdate.info","lib.de.us","2038.io","vercel.app","vercel.dev","now.sh","router.management","v-info.info","voorloper.cloud","neko.am","nyaa.am","be.ax","cat.ax","es.ax","eu.ax","gg.ax","mc.ax","us.ax","xy.ax","nl.ci","xx.gl","app.gp","blog.gt","de.gt","to.gt","be.gy","cc.hn","blog.kg","io.kg","jp.kg","tv.kg","uk.kg","us.kg","de.ls","at.md","de.md","jp.md","to.md","indie.porn","vxl.sh","ch.tc","me.tc","we.tc","nyan.to","at.vg","blog.vu","dev.vu","me.vu","v.ua","*.vultrobjects.com","wafflecell.com","*.webhare.dev","reserve-online.net","reserve-online.com","bookonline.app","hotelwithflight.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","pages.wiardweb.com","wmflabs.org","toolforge.org","wmcloud.org","panel.gg","daemon.panel.gg","messwithdns.com","woltlab-demo.com","myforum.community","community-pro.de","diskussionsbereich.de","community-pro.net","meinforum.net","affinitylottery.org.uk","raffleentry.org.uk","weeklylottery.org.uk","wpenginepowered.com","js.wpenginepowered.com","wixsite.com","editorx.io","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","yandexcloud.net","storage.yandexcloud.net","website.yandexcloud.net","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","ynh.fr","nohost.me","noho.st","za.net","za.org","bss.design","basicserver.io","virtualserver.io","enterprisecloud.nu"]')},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(314).Store,r=n(315).permuteDomain,o=n(316).pathMatch,a=n(18);function s(){i.call(this),this.idx={}}a.inherits(s,i),t.MemoryCookieStore=s,s.prototype.idx=null,s.prototype.synchronous=!0,s.prototype.inspect=function(){return"{ idx: "+a.inspect(this.idx,!1,2)+" }"},a.inspect.custom&&(s.prototype[a.inspect.custom]=s.prototype.inspect),s.prototype.findCookie=function(e,t,n,i){return this.idx[e]&&this.idx[e][t]?i(null,this.idx[e][t][n]||null):i(null,void 0)},s.prototype.findCookies=function(e,t,n){var i,a=[];if(!e)return n(null,[]);i=t?function(e){Object.keys(e).forEach((function(n){if(o(t,n)){var i=e[n];for(var r in i)a.push(i[r])}}))}:function(e){for(var t in e){var n=e[t];for(var i in n)a.push(n[i])}};var s=r(e)||[e],c=this.idx;s.forEach((function(e){var t=c[e];t&&i(t)})),n(null,a)},s.prototype.putCookie=function(e,t){this.idx[e.domain]||(this.idx[e.domain]={}),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]={}),this.idx[e.domain][e.path][e.key]=e,t(null)},s.prototype.updateCookie=function(e,t,n){this.putCookie(t,n)},s.prototype.removeCookie=function(e,t,n,i){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][n]&&delete this.idx[e][t][n],i(null)},s.prototype.removeCookies=function(e,t,n){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),n(null)},s.prototype.removeAllCookies=function(e){return this.idx={},e(null)},s.prototype.getAllCookies=function(e){var t=[],n=this.idx;Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(i){Object.keys(n[e][i]).forEach((function(r){null!==r&&t.push(n[e][i][r])}))}))})),t.sort((function(e,t){return(e.creationIndex||0)-(t.creationIndex||0)})),e(null,t)}},function(e,t){e.exports="2.5.0"},function(e,t){function n(e,t){var n=[],i=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n.indexOf(t)).join(".")+"]"}),function(r,o){if(n.length>0){var a=n.indexOf(this);~a?n.splice(a+1):n.push(this),~a?i.splice(a,1/0,r):i.push(r),~n.indexOf(o)&&(o=t.call(this,r,o))}else n.push(o);return null==e?o:e.call(this,r,o)}}(e.exports=function(e,t,i,r){return JSON.stringify(e,n(t,r),i)}).getSerialize=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?r-1:0,h=n?-1:1,f=e[t+p];for(p+=h,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=i;l>0;a=256*a+e[t+p],p+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,c,u=8*o-r-1,l=(1<<u)-1,p=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,d=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?h/c:h*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,r),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=d,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+f]=255&a,f+=d,a/=256,u-=8);e[n+f-d]|=128*m}},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(9),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){(t=e.exports=n(319)).Stream=t,t.Readable=t,t.Writable=n(323),t.Duplex=n(100),t.Transform=n(324),t.PassThrough=n(525),t.finished=n(207),t.pipeline=n(526)},function(e,t){},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(9).Buffer,s=n(522).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,i,r=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=r,i=s,a.prototype.copy.call(t,n,i),s+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0==(e-=o)){o===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(207),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function d(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(f(n,!1)))}}function m(e){t.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(i={get stream(){return this[h]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(n,i){t.nextTick((function(){e[c]?i(e[c]):n(f(void 0,!0))}))}));var i,r=this[l];if(r)i=new Promise(function(e,t){return function(n,i){e.then((function(){t[u]?n(f(void 0,!0)):t[p](n,i)}),i)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(f(o,!1));i=new Promise(this[p])}return this[l]=i,i}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,n=Object.create(v,(r(t={},h,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,u,{value:e._readableState.endEmitted,writable:!0}),r(t,p,{value:function(e,t){var i=n[h].read();i?(n[l]=null,n[a]=null,n[s]=null,e(f(i,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var i=n[a];null!==i&&(n[l]=null,n[a]=null,n[s]=null,i(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(8))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=r;var i=n(324);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(2)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var i;var r=n(99).codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=n(207)),i(e,{readable:t,writable:r},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function p(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=p(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){i||(i=e),e&&a.forEach(u),o||(a.forEach(u),r(i))}))}));return t.reduce(l)}},function(e,t,n){var i=n(2),r=n(101),o=n(4).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0;p<16;++p)n[p]=e.readInt32BE(4*p);for(;p<80;++p)n[p]=n[p-3]^n[p-8]^n[p-14]^n[p-16];for(var h=0;h<80;++h){var f=~~(h/20),d=0|((t=i)<<5|t>>>27)+l(f,r,o,s)+c+n[h]+a[f];c=s,s=o,o=u(r),r=i,i=d}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var i=n(2),r=n(101),o=n(4).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,r.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function p(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}i(c,r),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=(t=n[h-3]^n[h-8]^n[h-14]^n[h-16])<<1|t>>>31;for(var f=0;f<80;++f){var d=~~(f/20),m=u(i)+p(d,r,o,s)+c+n[f]+a[d]|0;c=s,s=o,o=l(r),r=i,i=m}this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,n){var i=n(2),r=n(325),o=n(101),a=n(4).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}i(c,r),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,n){var i=n(2),r=n(326),o=n(101),a=n(4).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}i(c,r),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,i){e.writeInt32BE(t,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t){},function(e,t,n){"use strict";var i=n(4).Buffer,r=n(533);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=i.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,r=s,t.copy(n,r),s+=a.data.length,a=a.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";e.exports=o;var i=n(330),r=Object.create(n(125));function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(2),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(210)},function(e,t,n){e.exports=n(82)},function(e,t,n){e.exports=n(124).Transform},function(e,t,n){e.exports=n(124).PassThrough},function(e,t,n){"use strict";var i=n(2),r=n(4).Buffer,o=n(59),a=r.alloc(128);function s(e,t){o.call(this,"digest"),"string"==typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=r.concat([t,a],64));for(var n=this._ipad=r.allocUnsafe(64),i=this._opad=r.allocUnsafe(64),s=0;s<64;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash=[n]}i(s,o),s.prototype._update=function(e){this._hash.push(e)},s.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=s},function(e,t,n){e.exports=n(333)},function(e,t,n){(function(t){var i,r,o=n(4).Buffer,a=n(335),s=n(336),c=n(337),u=n(338),l=t.crypto&&t.crypto.subtle,p={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function f(){return r||(r=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function d(e,t,n,i,r){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:r}},e,i<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,n,r,m,g,v){"function"==typeof g&&(v=g,g=void 0);var y=p[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof t.Promise){if(a(r,m),e=u(e,s,"Password"),n=u(n,s,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){f()((function(){t(null,e)}))}),(function(e){f()((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var n=d(i=i||o.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=n,n}(y).then((function(t){return t?d(e,n,r,m,y):c(e,n,r,m,g)})),v)}else f()((function(){var t;try{t=c(e,n,r,m,g)}catch(e){return v(e)}v(null,t)}))}}).call(this,n(17))},function(e,t,n){var i=n(543),r=n(212),o=n(213),a=n(556),s=n(159);function c(e,t,n){if(e=e.toLowerCase(),o[e])return r.createCipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function u(e,t,n){if(e=e.toLowerCase(),o[e])return r.createDecipheriv(e,t,n);if(a[e])return new i({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return c(e,r.key,r.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var n,i;if(e=e.toLowerCase(),o[e])n=o[e].key,i=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,i=a[e].iv}var r=s(t,!1,n,i);return u(e,r.key,r.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(r.getCiphers())}},function(e,t,n){var i=n(59),r=n(544),o=n(2),a=n(4).Buffer,s={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function c(e){i.call(this);var t,n=e.mode.toLowerCase(),r=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=r.create({key:o,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=c,o(c,i),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(339),t.Cipher=n(211),t.DES=n(340),t.CBC=n(545),t.EDE=n(546)},function(e,t,n){"use strict";var i=n(34),r=n(2),o={};function a(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var n=Object.keys(o),i=0;i<n.length;i++){var a=n[i];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,i);for(s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{o._update.call(this,e,t,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,n){"use strict";var i=n(34),r=n(2),o=n(211),a=n(340);function s(e,t){i.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),r=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:n})]}function c(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}r(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,n,i){var r=this._edeState;r.ciphers[0]._update(e,t,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},function(e,t,n){var i=n(213),r=n(344),o=n(4).Buffer,a=n(345),s=n(59),c=n(158),u=n(159);function l(e,t,n){s.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(2)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get();)n=this._mode.encrypt(this,t),i.push(n);return o.concat(i)};var p=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function f(e,t,n){var s=i[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new r(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var n=i[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(t,!1,n.key,n.iv);return f(e,r.key,r.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var i=n(126);t.encrypt=function(e,t){var n=i(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return i(r,n)}},function(e,t,n){var i=n(4).Buffer,r=n(126);function o(e,t,n){var o=t.length,a=r(t,e._cache);return e._cache=e._cache.slice(o),e._prev=i.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var r,a=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){a=i.concat([a,o(e,t,n)]);break}r=e._cache.length,a=i.concat([a,o(e,t.slice(0,r),n)]),t=t.slice(r)}return a}},function(e,t,n){var i=n(4).Buffer;function r(e,t,n){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([n?t:r])]),r}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},function(e,t,n){var i=n(4).Buffer;function r(e,t,n){for(var i,r,a=-1,s=0;++a<8;)i=t&1<<7-a?128:0,s+=(128&(r=e._cipher.encryptBlock(e._prev)[0]^i))>>a%8,e._prev=o(e._prev,n?i:r);return s}function o(e,t){var n=e.length,r=-1,o=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++r<n;)o[r]=e[r]<<1|e[r+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],n);return a}},function(e,t,n){(function(e){var i=n(126);function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(this,n(9).Buffer)},function(e,t,n){var i=n(4).Buffer,r=i.alloc(16,0);function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],r=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=o(r)},a.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var i=n(344),r=n(4).Buffer,o=n(213),a=n(345),s=n(59),c=n(158),u=n(159);function l(e,t,n){s.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(t),this._prev=r.from(n),this._mode=e,this._autopadding=!0}function p(){this.cache=r.allocUnsafe(0)}function h(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=r.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new i(s.module,t,n,!0):new l(s.module,t,n)}n(2)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),i.push(n);return r.concat(i)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},p.prototype.add=function(e){this.cache=r.concat([this.cache,e])},p.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(t,!1,n.key,n.iv);return h(e,i.key,i.iv)},t.createDecipheriv=h},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var i=n(346),r=n(562),o=n(563);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(r[t].prime,"hex"),i=new e(r[t].gen,"hex");return new o(n,i)},t.createDiffieHellman=t.DiffieHellman=function t(n,r,s,c){return e.isBuffer(r)||void 0===a[r]?t(n,"binary",r,s):(r=r||"binary",c=c||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,c)),"number"==typeof n?new o(i(n,s),s,!0):(e.isBuffer(n)||(n=new e(n,r)),new o(n,s,!0)))}}).call(this,n(9).Buffer)},function(e,t){},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(560).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var i=n(347),r=new(n(348)),o=new i(24),a=new i(11),s=new i(10),c=new i(3),u=new i(7),l=n(346),p=n(98);function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new i(e),this}function f(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new i(e),this}e.exports=m;var d={};function m(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=h,this.setPrivateKey=f):this._primeCode=8}function g(e,n){var i=new t(e.toArray());return n?i.toString(n):i}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),i=[n,e.toString(16)].join("_");if(i in d)return d[i];var p,h=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!r.test(e))return h+=1,h+="02"===n||"05"===n?8:4,d[i]=h,h;switch(r.test(e.shrn(1))||(h+=2),n){case"02":e.mod(o).cmp(a)&&(h+=8);break;case"05":(p=e.mod(s)).cmp(c)&&p.cmp(u)&&(h+=8);break;default:h+=4}return d[i]=h,h}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(p(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new t(n.toArray()),o=this.getPrime();if(r.length<o.length){var a=new t(o.length-r.length);a.fill(0),r=t.concat([a,r])}return r},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new i(e),this}}).call(this,n(9).Buffer)},function(e,t,n){var i=n(215).Buffer,r=n(123),o=n(565),a=n(2),s=n(573),c=n(604),u=n(333);function l(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function p(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new l(e)}function f(e){return new p(e)}Object.keys(u).forEach((function(e){u[e].id=i.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(l,o.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=i.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=s(n,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},a(p,o.Writable),p.prototype._write=function(e,t,n){this._hash.update(e),n()},p.prototype.update=function(e,t){return"string"==typeof e&&(e=i.from(e,t)),this._hash.update(e),this},p.prototype.verify=function(e,t,n){"string"==typeof t&&(t=i.from(t,n)),this.end();var r=this._hash.digest();return c(t,r,e,this._signType,this._tag)},e.exports={Sign:h,Verify:f,createSign:h,createVerify:f}},function(e,t,n){(t=e.exports=n(349)).Stream=t,t.Readable=t,t.Writable=n(353),t.Duplex=n(103),t.Transform=n(354),t.PassThrough=n(571),t.finished=n(216),t.pipeline=n(572)},function(e,t){},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(9).Buffer,s=n(568).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,i,r=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=r,i=s,a.prototype.copy.call(t,n,i),s+=o.data.length,o=o.next;return r}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,i=t.data;for(e-=i.length;t=t.next;){var r=t.data,o=e>r.length?r.length:e;if(o===r.length?i+=r:i+=r.slice(0,e),0==(e-=o)){o===r.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=r.slice(o));break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,i=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var r=n.data,o=e>r.length?r.length:e;if(r.copy(t,t.length-e,0,o),0==(e-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=r.slice(o));break}++i}return this.length-=i,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(216),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function d(e){var t=e[a];if(null!==t){var n=e[h].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(f(n,!1)))}}function m(e){t.nextTick(d,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((r(i={get stream(){return this[h]},next:function(){var e=this,n=this[c];if(null!==n)return Promise.reject(n);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(n,i){t.nextTick((function(){e[c]?i(e[c]):n(f(void 0,!0))}))}));var i,r=this[l];if(r)i=new Promise(function(e,t){return function(n,i){e.then((function(){t[u]?n(f(void 0,!0)):t[p](n,i)}),i)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(f(o,!1));i=new Promise(this[p])}return this[l]=i,i}},Symbol.asyncIterator,(function(){return this})),r(i,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(f(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,n=Object.create(v,(r(t={},h,{value:e,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,u,{value:e._readableState.endEmitted,writable:!0}),r(t,p,{value:function(e,t){var i=n[h].read();i?(n[l]=null,n[a]=null,n[s]=null,e(f(i,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var i=n[a];null!==i&&(n[l]=null,n[a]=null,n[s]=null,i(f(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(8))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=r;var i=n(354);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}n(2)(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var i;var r=n(102).codes,o=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,r,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===i&&(i=n(216)),i(e,{readable:t,writable:r},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function p(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=p(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){i||(i=e),e&&a.forEach(u),o||(a.forEach(u),r(i))}))}));return t.reduce(l)}},function(e,t,n){var i=n(215).Buffer,r=n(331),o=n(217),a=n(219).ec,s=n(218),c=n(161),u=n(366);function l(e,t,n,o){if((e=i.from(e.toArray())).length<t.byteLength()){var a=i.alloc(t.byteLength()-e.length);e=i.concat([a,e])}var s=n.length,c=function(e,t){e=(e=p(e,t)).mod(t);var n=i.from(e.toArray());if(n.length<t.byteLength()){var r=i.alloc(t.byteLength()-n.length);n=i.concat([r,n])}return n}(n,t),u=i.alloc(s);u.fill(1);var l=i.alloc(s);return l=r(o,l).update(u).update(i.from([0])).update(e).update(c).digest(),u=r(o,l).update(u).digest(),{k:l=r(o,l).update(u).update(i.from([1])).update(e).update(c).digest(),v:u=r(o,l).update(u).digest()}}function p(e,t){var n=new s(e),i=(e.length<<3)-t.bitLength();return i>0&&n.ishrn(i),n}function h(e,t,n){var o,a;do{for(o=i.alloc(0);8*o.length<e.bitLength();)t.v=r(n,t.k).update(t.v).digest(),o=i.concat([o,t.v]);a=p(o,e),t.k=r(n,t.k).update(t.v).update(i.from([0])).digest(),t.v=r(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function f(e,t,n,i){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(i)}e.exports=function(e,t,n,r,d){var m=c(t);if(m.curve){if("ecdsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");return function(e,t){var n=u[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var r=new a(n).keyFromPrivate(t.privateKey).sign(e);return i.from(r.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==r)throw new Error("wrong private key type");return function(e,t,n){var r,o=t.params.priv_key,a=t.params.p,c=t.params.q,u=t.params.g,d=new s(0),m=p(e,c).mod(c),g=!1,v=l(o,c,e,n);for(;!1===g;)r=h(c,v,n),d=f(u,r,a,c),0===(g=r.invm(c).imul(m.add(o.mul(d))).mod(c)).cmpn(0)&&(g=!1,d=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),i.from(n)}(d,g)}(e,m,n)}if("rsa"!==r&&"ecdsa/rsa"!==r)throw new Error("wrong private key type");e=i.concat([d,e]);for(var g=m.modulus.byteLength(),v=[0,1];e.length+v.length+1<g;)v.push(255);v.push(0);for(var y=-1;++y<e.length;)v.push(e[y]);return o(v,m)},e.exports.getKey=l,e.exports.makeKey=h},function(e,t){},function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(e,t){},function(e,t,n){"use strict";var i=n(35),r=n(48),o=n(2),a=n(160),s=i.assert;function c(e){a.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,n,i){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(t,16),this.y=new r(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(t,16),this.y=new r(n,16),this.z=new r(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new r(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)n=new r(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new r(e.a,16),b:new r(e.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:r.mont(e),n=new r(2).toRed(t).redInvm(),i=n.redNeg(),o=new r(3).toRed(t).redNeg().redSqrt().redMul(n);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,n,i,o,a,s,c,u,l,p=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,f=this.n.clone(),d=new r(1),m=new r(0),g=new r(0),v=new r(1),y=0;0!==h.cmpn(0);){var b=f.div(h);u=f.sub(b.mul(h)),l=g.sub(b.mul(d));var w=v.sub(b.mul(m));if(!i&&u.cmp(p)<0)t=c.neg(),n=d,i=u.neg(),o=l;else if(i&&2==++y)break;c=u,f=h,h=u,g=d,d=l,v=m,m=w}a=u.neg(),s=l;var _=i.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=n),i.negative&&(i=i.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],i=t[1],r=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=r.mul(n.a),s=o.mul(i.a),c=r.mul(n.b),u=o.mul(i.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,i=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===n.redSqr().redISub(r).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[2*o]=s,i[2*o+1]=c,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,i,r,2*o,n),l=0;l<2*o;l++)i[l]=null,r[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,n){return new u(this,e,t,n)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);if(!t[2])return i;function r(t){return e.point(t[0],t[1],n)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),r=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(i),o=r.redSqr().redISub(this.x.redAdd(this.x)),a=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r):this.curve._wnafMulAdd(1,i,r,2)},u.prototype.jmulAdd=function(e,t,n){var i=[this,t],r=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,r,!0):this.curve._wnafMulAdd(1,i,r,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(n,i)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(t),r=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=i.redSub(r),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),p=i.redMul(u),h=c.redSqr().redIAdd(l).redISub(p).redISub(p),f=c.redMul(p.redISub(h)).redISub(o.redMul(l)),d=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,f,d)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,i=e.x.redMul(t),r=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(i),s=r.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),p=s.redSqr().redIAdd(u).redISub(l).redISub(l),h=s.redMul(l.redISub(p)).redISub(r.redMul(u)),f=this.z.redMul(a);return this.curve.jpoint(p,h,f)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),p=u.redSqr(),h=p.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(c)),d=o.redMul(p),m=f.redSqr().redISub(d.redAdd(d)),g=d.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(h);var y=u.redMul(s);t+1<e&&(c=c.redMul(h)),o=m,s=y,u=v}return this.curve.jpoint(o,u.redMul(r),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),h=p.redSqr(),f=this.x.redAdd(p).redSqr().redISub(l).redISub(h);f=f.redIAdd(f);var d=l.redAdd(l).redIAdd(l),m=d.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=d.redMul(f.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var i=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),a=this.x.redAdd(r).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),h=this.x.redMul(p),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var d=h.redIAdd(h),m=(d=d.redIAdd(d)).redAdd(d);e=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var g=p.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(d.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(r)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),p=u.redISub(l),h=a.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=s.redMul(p).redISub(h),d=n.redAdd(n).redMul(i);return this.curve.jpoint(l,f,d)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),i=t.redSqr(),r=e.redAdd(e).redIAdd(e),o=r.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=r.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var p=this.x.redMul(s).redISub(l);p=(p=p.redIAdd(p)).redIAdd(p);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(p,h,f)},l.prototype.mul=function(e,t){return e=new r(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),r=n.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(i)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var i=n(48),r=n(2),o=n(160),a=n(35);function s(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),i=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},r(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),i=e.redMul(t),r=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(i,r)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=r.redMul(i),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),n=this,i=this.curve.point(null,null),r=[];0!==t.cmpn(0);t.iushrn(1))r.push(t.andln(1));for(var o=r.length-1;o>=0;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var i=n(35),r=n(48),o=n(2),a=n(160),s=i.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new r(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,n,i,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(t,16),this.y=new r(n,16),this.z=i?new r(i,16):this.curve.one,this.t=o&&new r(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,n,i){return this.point(e,t,n,i)},c.prototype.pointFromX=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new r(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),i=t.redMul(this.a).redAdd(n),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===i.cmp(r)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,n,i){return new u(this,e,t,n,i)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),a=o.redSub(n),s=i.redSub(t),c=r.redMul(a),u=o.redMul(s),l=r.redMul(s),p=a.redMul(o);return this.curve.point(c,u,p,l)},u.prototype._projDbl=function(){var e,t,n,i,r,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(i=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(i.redSub(c)),n=u.redSqr().redSub(u).redSub(u)):(r=this.z.redSqr(),o=u.redSub(r).redISub(r),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(i.redSub(c)),n=u.redMul(o))}else i=s.redAdd(c),r=this.curve._mulC(this.z).redSqr(),o=i.redSub(r).redSub(r),e=this.curve._mulC(a.redISub(i)).redMul(o),t=this.curve._mulC(i).redMul(s.redISub(c)),n=i.redMul(o);return this.curve.point(e,t,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=r.redSub(i),s=r.redAdd(i),c=n.redAdd(t),u=o.redMul(a),l=s.redMul(c),p=o.redMul(c),h=a.redMul(s);return this.curve.point(u,l,h,p)},u.prototype._projAdd=function(e){var t,n,i=this.z.redMul(e.z),r=i.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=r.redSub(s),u=r.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),p=i.redMul(c).redMul(l);return this.curve.twisted?(t=i.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(u)):(t=i.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(p,t,n)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},u.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(e,t,n){"use strict";t.sha1=n(581),t.sha224=n(582),t.sha256=n(358),t.sha384=n(583),t.sha512=n(359)},function(e,t,n){"use strict";var i=n(40),r=n(127),o=n(357),a=i.rotl32,s=i.sum32,c=i.sum32_5,u=o.ft_1,l=r.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(h,l),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,i=0;i<16;i++)n[i]=e[t+i];for(;i<n.length;i++)n[i]=a(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var r=this.h[0],o=this.h[1],l=this.h[2],h=this.h[3],f=this.h[4];for(i=0;i<n.length;i++){var d=~~(i/20),m=c(a(r,5),u(d,o,l,h),f,n[i],p[d]);f=h,h=l,l=a(o,30),o=r,r=m}this.h[0]=s(this.h[0],r),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],h),this.h[4]=s(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(e,t,n){"use strict";var i=n(40),r=n(358);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var i=n(40),r=n(359);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var i=n(40),r=n(127),o=i.rotl32,a=i.sum32,s=i.sum32_3,c=i.sum32_4,u=r.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(e,t,n,i){return e<=15?t^n^i:e<=31?t&n|~t&i:e<=47?(t|~n)^i:e<=63?t&i|n&~i:t^(n|~i)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],i=this.h[1],r=this.h[2],u=this.h[3],l=this.h[4],y=n,b=i,w=r,_=u,x=l,k=0;k<80;k++){var E=a(o(c(n,p(k,i,r,u),e[d[k]+t],h(k)),g[k]),l);n=l,l=u,u=o(r,10),r=i,i=E,E=a(o(c(y,p(79-k,b,w,_),e[m[k]+t],f(k)),v[k]),x),y=x,x=_,_=o(w,10),w=b,b=E}E=s(this.h[1],r,_),this.h[1]=s(this.h[2],u,x),this.h[2]=s(this.h[3],l,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],i,w),this.h[0]=E},l.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var i=n(40),r=n(34);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var i=n(48),r=n(588),o=n(35),a=n(220),s=n(214),c=o.assert,u=n(589),l=n(590);function p(e){if(!(this instanceof p))return new p(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=p,p.prototype.keyPair=function(e){return new u(this,e)},p.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},p.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},p.prototype.genKeyPair=function(e){e||(e={});for(var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new i(2));;){var a=new i(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},p.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},p.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new r({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),p=this.n.sub(new i(1)),h=0;;h++){var f=o.k?o.k(h):new i(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(p)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var m=d.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var y=(d.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),y^=1),new l({r:g,s:v,recoveryParam:y})}}}}}},p.prototype.verify=function(e,t,n,r){e=this._truncateToN(new i(e,16)),n=this.keyFromPublic(n,r);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),p=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),p)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),p)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},p.prototype.recoverPubKey=function(e,t,n,r){c((3&n)===n,"The recovery param is more than two bits"),t=new l(t,r);var o=this.n,a=new i(e),s=t.r,u=t.s,p=1&n,h=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),p):this.curve.pointFromX(s,p);var f=t.r.invm(o),d=o.sub(a).mul(f).umod(o),m=u.mul(f).umod(o);return this.g.mulAdd(d,s,m)},p.prototype.getKeyRecoveryParam=function(e,t,n,i){if(null!==(t=new l(t,i)).recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var o;try{o=this.recoverPubKey(e,t,r)}catch(e){continue}if(o.eq(n))return r}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var i=n(221),r=n(355),o=n(34);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),n=r.toArray(e.nonce,e.nonceEnc||"hex"),i=r.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}e.exports=a,a.prototype._init=function(e,t,n){var i=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,i){"string"!=typeof t&&(i=n,n=t,t=null),e=r.toArray(e,t),n=r.toArray(n,i),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=n,n=t,t=null),n&&(n=r.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,r.encode(a,t)}},function(e,t,n){"use strict";var i=n(48),r=n(35).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?r(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||r(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var i=n(48),r=n(35),o=r.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var n=e[t.place++];if(!(128&n))return n;var i=15&n;if(0===i||i>4)return!1;for(var r=0,o=0,a=t.place;o<i;o++,a++)r<<=8,r|=e[a],r>>>=0;return!(r<=127)&&(t.place=a,r)}function u(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=r.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=c(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=c(e,n);if(!1===a)return!1;var u=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=c(e,n);if(!1===l)return!1;if(e.length!==l+n.place)return!1;var p=e.slice(n.place,l+n.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===p[0]){if(!(128&p[1]))return!1;p=p.slice(1)}return this.r=new i(u),this.s=new i(p),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=u(t),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2];l(i,t.length),(i=i.concat(t)).push(2),l(i,n.length);var o=i.concat(n),a=[48];return l(a,o.length),a=a.concat(o),r.encode(a,e)}},function(e,t,n){"use strict";var i=n(221),r=n(220),o=n(35),a=o.assert,s=o.parseBytes,c=n(592),u=n(593);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=r[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),i=this.hashInt(n.messagePrefix(),e),r=this.g.mul(i),o=this.encodePoint(r),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:r,S:c,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var i=this.keyFromPublic(n),r=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(r)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),r=o.intFromLE(n);return this.curve.pointFromY(r,i)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var i=n(35),r=i.assert,o=i.parseBytes,a=i.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},s.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=s},function(e,t,n){"use strict";var i=n(48),r=n(35),o=r.assert,a=r.cachedProperty,s=r.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},function(e,t,n){"use strict";var i=n(360);t.certificate=n(601);var r=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=r;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=i.define("DSAparam",(function(){this.int()}));var p=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=p;var h=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t){},function(e,t,n){"use strict";const i=n(362),r=n(364),o=n(2);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function n(e){this._initNamed(e,t)}return o(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(e,t,n){"use strict";const i=n(2),r=n(363);function o(e){r.call(this,e),this.enc="pem"}i(o,r),e.exports=o,o.prototype.encode=function(e,t){const n=r.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"];for(let e=0;e<n.length;e+=64)i.push(n.slice(e,e+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},function(e,t,n){"use strict";const i=n(2),r=n(14).Buffer,o=n(365);function a(e){o.call(this,e),this.enc="pem"}i(a,o),e.exports=a,a.prototype.decode=function(e,t){const n=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,c=-1;for(let e=0;e<n.length;e++){const t=n[e].match(a);if(null!==t&&t[2]===i){if(-1!==s){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;s=e}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+i);const u=n.slice(s+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=r.from(u,"base64");return o.prototype.decode.call(this,l,t)}},function(e,t,n){"use strict";const i=t;i.Reporter=n(223).Reporter,i.DecoderBuffer=n(128).DecoderBuffer,i.EncoderBuffer=n(128).EncoderBuffer,i.Node=n(222)},function(e,t,n){"use strict";const i=t;i._reverse=function(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const i=e[n];t[i]=n})),t},i.der=n(224)},function(e,t,n){"use strict";var i=n(360),r=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=i.define("RDNSequence",(function(){this.seqof(c)})),l=i.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),p=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))})),h=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(p),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),d=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=d},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(159),s=n(212),c=n(4).Buffer;e.exports=function(e,t){var n,u=e.toString(),l=u.match(i);if(l){var p="aes"+l[1],h=c.from(l[2],"hex"),f=c.from(l[3].replace(/[\r\n]/g,""),"base64"),d=a(t,h.slice(0,8),parseInt(l[1],10)).key,m=[],g=s.createDecipheriv(p,d,h);m.push(g.update(f)),m.push(g.final()),n=c.concat(m)}else{var v=u.match(o);n=c.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(r)[1],data:n}}},function(e,t,n){var i=n(215).Buffer,r=n(218),o=n(219).ec,a=n(161),s=n(366);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,u,l){var p=a(n);if("ec"===p.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var i=s[n.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var r=new o(i),a=n.data.subjectPrivateKey.data;return r.verify(t,e,a)}(e,t,p)}if("dsa"===p.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,n){var i=n.data.p,o=n.data.q,s=n.data.g,u=n.data.pub_key,l=a.signature.decode(e,"der"),p=l.s,h=l.r;c(p,o),c(h,o);var f=r.mont(i),d=p.invm(o);return 0===s.toRed(f).redPow(new r(t).mul(d).mod(o)).fromRed().mul(u.toRed(f).redPow(h.mul(d).mod(o)).fromRed()).mod(i).mod(o).cmp(h)}(e,t,p)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=i.concat([l,t]);for(var h=p.modulus.byteLength(),f=[1],d=0;t.length+f.length+2<h;)f.push(255),d++;f.push(0);for(var m=-1;++m<t.length;)f.push(t[m]);f=i.from(f);var g=r.mont(p.modulus);e=(e=new r(e).toRed(g)).redPow(new r(p.publicExponent)),e=i.from(e.fromRed().toArray());var v=d<8?1:0;for(h=Math.min(e.length,f.length),e.length!==f.length&&(v=1),m=-1;++m<h;)v|=e[m]^f[m];return 0===v}},function(e,t,n){(function(t){var i=n(219),r=n(606);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function s(e,n,i){Array.isArray(e)||(e=e.toArray());var r=new t(e);if(i&&r.length<i){var o=new t(i-r.length);o.fill(0),r=t.concat([o,r])}return n?r.toString(n):r}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,i){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),i,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var i=new r(e);return i=i.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(i),this}}).call(this,n(9).Buffer)},function(e,t,n){(function(e){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(607).Buffer}catch(e){}function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var i=s(e,n);return n-1>=t&&(i|=s(e,n-1)<<4),i}function u(e,t,n,i){for(var r=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;r*=i,r+=s>=49?s-49+10:s>=17?s-17+10:s}return r}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<e.length&&(16===t?this._parseHex(e,r,n):(this._parseBase(e,t,r),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,a,s=0;if("be"===n)for(r=e.length-1,o=0;r>=0;r-=3)a=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(r=0,o=0;r<e.length;r+=3)a=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=e.length-1;i>=t;i-=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)r=c(e,t,i)<<o,this.words[a]|=67108863&r,o>=18?(o-=18,a+=1,this.words[a]|=r>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var i=0,r=1;r<=67108863;r*=t)i++;i--,r=r/t|0;for(var o=e.length-n,a=o%i,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=i)c=u(e,l,l+i,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var p=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)p*=t;this.imuln(p),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i,i=i-1|0;var r=0|e.words[0],o=0|t.words[0],a=r*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<i;u++){for(var l=c>>>26,p=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var d=u-f|0;l+=(a=(r=0|e.words[d])*(o=0|t.words[f])+p)/67108864|0,p=67108863&a}n.words[u]=0|p,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var r=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<r|o)).toString(16);n=0!==(o=s>>>24-r&16777215)||a!==this.length-1?l[6-c.length]+c+n:c+n,(r+=2)>=26&&(r-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],f=h[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modn(f).toString(e);n=(d=d.idivn(f)).isZero()?m+n:l[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-r;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var n=e/26|0,r=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<r:this.words[n]&~(1<<r),this.strip()},o.prototype.iadd=function(e){var t,n,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,i=e):(n=e,i=this);for(var r=0,o=0;o<i.length;o++)t=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&t,r=t>>>26;for(;0!==r&&o<n.length;o++)t=(0|n.words[o])+r,this.words[o]=67108863&t,r=t>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,i,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++)o=(t=(0|n.words[a])-(0|i.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var d=function(e,t,n){var i,r,o,a=e.words,s=t.words,c=n.words,u=0,l=0|a[0],p=8191&l,h=l>>>13,f=0|a[1],d=8191&f,m=f>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],w=8191&b,_=b>>>13,x=0|a[4],k=8191&x,E=x>>>13,S=0|a[5],j=8191&S,M=S>>>13,A=0|a[6],C=8191&A,T=A>>>13,P=0|a[7],R=8191&P,B=P>>>13,O=0|a[8],I=8191&O,D=O>>>13,F=0|a[9],z=8191&F,N=F>>>13,L=0|s[0],q=8191&L,H=L>>>13,U=0|s[1],$=8191&U,V=U>>>13,W=0|s[2],G=8191&W,K=W>>>13,Z=0|s[3],Y=8191&Z,X=Z>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,ie=te>>>13,re=0|s[6],oe=8191&re,ae=re>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,le=0|s[8],pe=8191&le,he=le>>>13,fe=0|s[9],de=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(i=Math.imul(p,q))|0)+((8191&(r=(r=Math.imul(p,H))+Math.imul(h,q)|0))<<13)|0;u=((o=Math.imul(h,H))+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(d,q),r=(r=Math.imul(d,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(u+(i=i+Math.imul(p,$)|0)|0)+((8191&(r=(r=r+Math.imul(p,V)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(v,q),r=(r=Math.imul(v,H))+Math.imul(y,q)|0,o=Math.imul(y,H),i=i+Math.imul(d,$)|0,r=(r=r+Math.imul(d,V)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,V)|0;var ye=(u+(i=i+Math.imul(p,G)|0)|0)+((8191&(r=(r=r+Math.imul(p,K)|0)+Math.imul(h,G)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,q),r=(r=Math.imul(w,H))+Math.imul(_,q)|0,o=Math.imul(_,H),i=i+Math.imul(v,$)|0,r=(r=r+Math.imul(v,V)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,V)|0,i=i+Math.imul(d,G)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,K)|0;var be=(u+(i=i+Math.imul(p,Y)|0)|0)+((8191&(r=(r=r+Math.imul(p,X)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(r>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(k,q),r=(r=Math.imul(k,H))+Math.imul(E,q)|0,o=Math.imul(E,H),i=i+Math.imul(w,$)|0,r=(r=r+Math.imul(w,V)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,V)|0,i=i+Math.imul(v,G)|0,r=(r=r+Math.imul(v,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,i=i+Math.imul(d,Y)|0,r=(r=r+Math.imul(d,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var we=(u+(i=i+Math.imul(p,Q)|0)|0)+((8191&(r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(j,q),r=(r=Math.imul(j,H))+Math.imul(M,q)|0,o=Math.imul(M,H),i=i+Math.imul(k,$)|0,r=(r=r+Math.imul(k,V)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,V)|0,i=i+Math.imul(w,G)|0,r=(r=r+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,i=i+Math.imul(v,Y)|0,r=(r=r+Math.imul(v,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,i=i+Math.imul(d,Q)|0,r=(r=r+Math.imul(d,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(i=i+Math.imul(p,ne)|0)|0)+((8191&(r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,ie)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(C,q),r=(r=Math.imul(C,H))+Math.imul(T,q)|0,o=Math.imul(T,H),i=i+Math.imul(j,$)|0,r=(r=r+Math.imul(j,V)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,V)|0,i=i+Math.imul(k,G)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,K)|0,i=i+Math.imul(w,Y)|0,r=(r=r+Math.imul(w,X)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,X)|0,i=i+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(d,ne)|0,r=(r=r+Math.imul(d,ie)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,ie)|0;var xe=(u+(i=i+Math.imul(p,oe)|0)|0)+((8191&(r=(r=r+Math.imul(p,ae)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,ae)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(R,q),r=(r=Math.imul(R,H))+Math.imul(B,q)|0,o=Math.imul(B,H),i=i+Math.imul(C,$)|0,r=(r=r+Math.imul(C,V)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,V)|0,i=i+Math.imul(j,G)|0,r=(r=r+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,i=i+Math.imul(k,Y)|0,r=(r=r+Math.imul(k,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,i=i+Math.imul(w,Q)|0,r=(r=r+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(v,ne)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(d,oe)|0,r=(r=r+Math.imul(d,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(i=i+Math.imul(p,ce)|0)|0)+((8191&(r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(I,q),r=(r=Math.imul(I,H))+Math.imul(D,q)|0,o=Math.imul(D,H),i=i+Math.imul(R,$)|0,r=(r=r+Math.imul(R,V)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,V)|0,i=i+Math.imul(C,G)|0,r=(r=r+Math.imul(C,K)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,K)|0,i=i+Math.imul(j,Y)|0,r=(r=r+Math.imul(j,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,i=i+Math.imul(k,Q)|0,r=(r=r+Math.imul(k,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,i=i+Math.imul(w,ne)|0,r=(r=r+Math.imul(w,ie)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,i=i+Math.imul(d,ce)|0,r=(r=r+Math.imul(d,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var Ee=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(z,q),r=(r=Math.imul(z,H))+Math.imul(N,q)|0,o=Math.imul(N,H),i=i+Math.imul(I,$)|0,r=(r=r+Math.imul(I,V)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,V)|0,i=i+Math.imul(R,G)|0,r=(r=r+Math.imul(R,K)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,K)|0,i=i+Math.imul(C,Y)|0,r=(r=r+Math.imul(C,X)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,X)|0,i=i+Math.imul(j,Q)|0,r=(r=r+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,i=i+Math.imul(k,ne)|0,r=(r=r+Math.imul(k,ie)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,ie)|0,i=i+Math.imul(w,oe)|0,r=(r=r+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,i=i+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(d,pe)|0,r=(r=r+Math.imul(d,he)|0)+Math.imul(m,pe)|0,o=o+Math.imul(m,he)|0;var Se=(u+(i=i+Math.imul(p,de)|0)|0)+((8191&(r=(r=r+Math.imul(p,me)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(z,$),r=(r=Math.imul(z,V))+Math.imul(N,$)|0,o=Math.imul(N,V),i=i+Math.imul(I,G)|0,r=(r=r+Math.imul(I,K)|0)+Math.imul(D,G)|0,o=o+Math.imul(D,K)|0,i=i+Math.imul(R,Y)|0,r=(r=r+Math.imul(R,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,i=i+Math.imul(C,Q)|0,r=(r=r+Math.imul(C,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,i=i+Math.imul(j,ne)|0,r=(r=r+Math.imul(j,ie)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,ie)|0,i=i+Math.imul(k,oe)|0,r=(r=r+Math.imul(k,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,i=i+Math.imul(w,ce)|0,r=(r=r+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(v,pe)|0,r=(r=r+Math.imul(v,he)|0)+Math.imul(y,pe)|0,o=o+Math.imul(y,he)|0;var je=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(r=(r=r+Math.imul(d,me)|0)+Math.imul(m,de)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,i=Math.imul(z,G),r=(r=Math.imul(z,K))+Math.imul(N,G)|0,o=Math.imul(N,K),i=i+Math.imul(I,Y)|0,r=(r=r+Math.imul(I,X)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,X)|0,i=i+Math.imul(R,Q)|0,r=(r=r+Math.imul(R,ee)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,ee)|0,i=i+Math.imul(C,ne)|0,r=(r=r+Math.imul(C,ie)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,ie)|0,i=i+Math.imul(j,oe)|0,r=(r=r+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,i=i+Math.imul(k,ce)|0,r=(r=r+Math.imul(k,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,i=i+Math.imul(w,pe)|0,r=(r=r+Math.imul(w,he)|0)+Math.imul(_,pe)|0,o=o+Math.imul(_,he)|0;var Me=(u+(i=i+Math.imul(v,de)|0)|0)+((8191&(r=(r=r+Math.imul(v,me)|0)+Math.imul(y,de)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(z,Y),r=(r=Math.imul(z,X))+Math.imul(N,Y)|0,o=Math.imul(N,X),i=i+Math.imul(I,Q)|0,r=(r=r+Math.imul(I,ee)|0)+Math.imul(D,Q)|0,o=o+Math.imul(D,ee)|0,i=i+Math.imul(R,ne)|0,r=(r=r+Math.imul(R,ie)|0)+Math.imul(B,ne)|0,o=o+Math.imul(B,ie)|0,i=i+Math.imul(C,oe)|0,r=(r=r+Math.imul(C,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,i=i+Math.imul(j,ce)|0,r=(r=r+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,i=i+Math.imul(k,pe)|0,r=(r=r+Math.imul(k,he)|0)+Math.imul(E,pe)|0,o=o+Math.imul(E,he)|0;var Ae=(u+(i=i+Math.imul(w,de)|0)|0)+((8191&(r=(r=r+Math.imul(w,me)|0)+Math.imul(_,de)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(z,Q),r=(r=Math.imul(z,ee))+Math.imul(N,Q)|0,o=Math.imul(N,ee),i=i+Math.imul(I,ne)|0,r=(r=r+Math.imul(I,ie)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,ie)|0,i=i+Math.imul(R,oe)|0,r=(r=r+Math.imul(R,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,i=i+Math.imul(C,ce)|0,r=(r=r+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,i=i+Math.imul(j,pe)|0,r=(r=r+Math.imul(j,he)|0)+Math.imul(M,pe)|0,o=o+Math.imul(M,he)|0;var Ce=(u+(i=i+Math.imul(k,de)|0)|0)+((8191&(r=(r=r+Math.imul(k,me)|0)+Math.imul(E,de)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(z,ne),r=(r=Math.imul(z,ie))+Math.imul(N,ne)|0,o=Math.imul(N,ie),i=i+Math.imul(I,oe)|0,r=(r=r+Math.imul(I,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,i=i+Math.imul(R,ce)|0,r=(r=r+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,i=i+Math.imul(C,pe)|0,r=(r=r+Math.imul(C,he)|0)+Math.imul(T,pe)|0,o=o+Math.imul(T,he)|0;var Te=(u+(i=i+Math.imul(j,de)|0)|0)+((8191&(r=(r=r+Math.imul(j,me)|0)+Math.imul(M,de)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(z,oe),r=(r=Math.imul(z,ae))+Math.imul(N,oe)|0,o=Math.imul(N,ae),i=i+Math.imul(I,ce)|0,r=(r=r+Math.imul(I,ue)|0)+Math.imul(D,ce)|0,o=o+Math.imul(D,ue)|0,i=i+Math.imul(R,pe)|0,r=(r=r+Math.imul(R,he)|0)+Math.imul(B,pe)|0,o=o+Math.imul(B,he)|0;var Pe=(u+(i=i+Math.imul(C,de)|0)|0)+((8191&(r=(r=r+Math.imul(C,me)|0)+Math.imul(T,de)|0))<<13)|0;u=((o=o+Math.imul(T,me)|0)+(r>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(z,ce),r=(r=Math.imul(z,ue))+Math.imul(N,ce)|0,o=Math.imul(N,ue),i=i+Math.imul(I,pe)|0,r=(r=r+Math.imul(I,he)|0)+Math.imul(D,pe)|0,o=o+Math.imul(D,he)|0;var Re=(u+(i=i+Math.imul(R,de)|0)|0)+((8191&(r=(r=r+Math.imul(R,me)|0)+Math.imul(B,de)|0))<<13)|0;u=((o=o+Math.imul(B,me)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(z,pe),r=(r=Math.imul(z,he))+Math.imul(N,pe)|0,o=Math.imul(N,he);var Be=(u+(i=i+Math.imul(I,de)|0)|0)+((8191&(r=(r=r+Math.imul(I,me)|0)+Math.imul(D,de)|0))<<13)|0;u=((o=o+Math.imul(D,me)|0)+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Oe=(u+(i=Math.imul(z,de))|0)+((8191&(r=(r=Math.imul(z,me))+Math.imul(N,de)|0))<<13)|0;return u=((o=Math.imul(N,me))+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,c[0]=ge,c[1]=ve,c[2]=ye,c[3]=be,c[4]=we,c[5]=_e,c[6]=xe,c[7]=ke,c[8]=Ee,c[9]=Se,c[10]=je,c[11]=Me,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=Pe,c[16]=Re,c[17]=Be,c[18]=Oe,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){return(new g).mulp(e,t,n)}function g(e,t){this.x=e,this.y=t}Math.imul||(d=f),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?d(this,e,t):n<63?f(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var i=0,r=0,o=0;o<n.length-1;o++){var a=r;r=0;for(var s=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,p=(0|e.words[l])*(0|t.words[u]),h=67108863&p;s=67108863&(h=h+s|0),r+=(a=(a=a+(p/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,n,e);return t},g.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var i=0,r=0;r<t;r++)i|=(1&e)<<t-r-1,e>>=1;return i},g.prototype.permute=function(e,t,n,i,r,o){for(var a=0;a<o;a++)i[a]=t[e[a]],r[a]=n[e[a]]},g.prototype.transform=function(e,t,n,i,r,o){this.permute(o,e,t,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<r;l+=s)for(var p=c,h=u,f=0;f<a;f++){var d=n[l+f],m=i[l+f],g=n[l+f+a],v=i[l+f+a],y=p*g-h*v;v=p*v+h*g,g=y,n[l+f]=d+g,i[l+f]=m+v,n[l+f+a]=d-g,i[l+f+a]=m-v,f!==s&&(y=c*p-u*h,h=c*h+u*p,p=y)}},g.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),i=1&n,r=0;for(n=n/2|0;n;n>>>=1)r++;return 1<<r+1+i},g.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=e[i];e[i]=e[n-i-1],e[n-i-1]=r,r=t[i],t[i]=-t[n-i-1],t[n-i-1]=-r}},g.prototype.normalize13b=function(e,t){for(var n=0,i=0;i<t/2;i++){var r=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+n;e[i]=67108863&r,n=r<67108864?0:r/67108864|0}return e},g.prototype.convert13b=function(e,t,n,r){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<r;++a)n[a]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},g.prototype.mulp=function(e,t,n){var i=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),c=new Array(i),u=new Array(i),l=new Array(i),p=new Array(i),h=n.words;h.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,o,s,c,i,r),this.transform(u,o,l,p,i,r);for(var f=0;f<i;f++){var d=s[f]*l[f]-c[f]*p[f];c[f]=s[f]*p[f]+c[f]*l[f],s[f]=d}return this.conjugate(s,c,i),this.transform(s,c,h,o,i,r),this.conjugate(h,o,i),this.normalize13b(h,i),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,n=0;n<this.length;n++){var r=(0|this.words[n])*e,o=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var i=n/26|0,r=n%26;t[n]=(e.words[i]&1<<r)>>>r}return t}(e);if(0===t.length)return new o(1);for(var n=this,i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var r=n.sqr();i<t.length;i++,r=r.sqr())0!==t[i]&&(n=n.mul(r));return n},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,n=e%26,r=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<n;this.words[t]=c|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var r;i("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(r-=a,r=Math.max(0,r),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=r);u--){var p=0|this.words[u];this.words[u]=l<<26-o|p>>>o,l=p&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return i(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,r=1<<t;return!(this.length<=n)&&!!(this.words[n]&r)},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var r,o,a=e.length+n;this._expand(a);var s=0;for(r=0;r<e.length;r++){o=(0|this.words[r+n])+s;var c=(0|e.words[r])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)s=(o=(0|this.words[r+n])+s)>>26,this.words[r+n]=67108863&o;if(0===s)return this.strip();for(i(-1===s),s=0,r=0;r<this.length;r++)s=(o=-(0|this.words[r])+s)>>26,this.words[r]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),i=this.clone(),r=e,a=0|r.words[r.length-1];0!==(n=26-this._countBits(a))&&(r=r.ushln(n),i.iushln(n),a=0|r.words[r.length-1]);var s,c=i.length-r.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=i.clone()._ishlnsubmul(r,1,c);0===l.negative&&(i=l,s&&(s.words[c]=1));for(var p=c-1;p>=0;p--){var h=67108864*(0|i.words[r.length+p])+(0|i.words[r.length+p-1]);for(h=Math.min(h/a|0,67108863),i._ishlnsubmul(r,h,p);0!==i.negative;)h--,i.negative=0,i._ishlnsubmul(r,1,p),i.isZero()||(i.negative^=1);s&&(s.words[p]=h)}return s&&s.strip(),i.strip(),"div"!==t&&0!==n&&i.iushrn(n),{div:s||null,mod:i}},o.prototype.divmod=function(e,t,n){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(r=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:r,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(r=s.div.neg()),{div:r,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),r=e.andln(1),o=n.cmp(i);return o<0||1===r&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,n=0,r=this.length-1;r>=0;r--)n=(t*n+(0|this.words[r]))%e;return n},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*t;this.words[n]=r/e|0,t=r%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),p=t.clone();!t.isZero();){for(var h=0,f=1;0==(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||a.isOdd())&&(r.iadd(l),a.isub(p)),r.iushrn(1),a.iushrn(1);for(var d=0,m=1;0==(n.words[0]&m)&&d<26;++d,m<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(p)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),r.isub(s),a.isub(c)):(n.isub(t),s.isub(r),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,a=new o(1),s=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var p=0,h=1;0==(n.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(n.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(r=0===t.cmpn(1)?a:s).cmpn(0)<0&&r.iadd(e),r},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=t.cmp(n);if(r<0){var o=t;t=n,n=o}else if(0===r||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,n=(e-t)/26,r=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=r,this;for(var o=r,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),i(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var i=0|this.words[n],r=0|e.words[n];if(i!==r){i<r?t=-1:i>r&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:n.ucmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(b,y),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(4194303&o)<<4|r>>>22,r=o}r>>>=22,e.words[i-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i,e.words[n]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(_,y),r(x,y),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var i=19*(0|e.words[n])+t,r=67108863&i;i>>>=26,e.words[n]=r,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var r=this.m.subn(1),a=0;!r.isZero()&&0===r.andln(1);)a++,r.iushrn(1);i(!r.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var p=this.pow(l,r),h=this.pow(e,r.addn(1).iushrn(1)),f=this.pow(e,r),d=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();i(g<d);var v=this.pow(p,new o(1).iushln(d-g-1));h=h.redMul(v),p=v.redSqr(),f=f.redMul(p),d=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],e);var r=n[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],l=c-1;l>=0;l--){var p=u>>l&1;r!==n[0]&&(r=this.sqr(r)),0!==p||0!==a?(a<<=1,a|=p,(4===++s||0===i&&0===l)&&(r=this.mul(r,n[a]),s=0,a=0)):s=0}c=26}return r},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new E(e)},r(E,k),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=n.isub(i).iushrn(this.shift),a=r;return r.cmp(this.m)>=0?a=r.isub(this.m):r.cmpn(0)<0&&(a=r.iadd(this.m)),a._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(37)(e))},function(e,t){},function(e,t,n){t.publicEncrypt=n(609),t.privateDecrypt=n(611),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var i=n(161),r=n(98),o=n(123),a=n(367),s=n(368),c=n(225),u=n(369),l=n(217),p=n(4).Buffer;e.exports=function(e,t,n){var h;h=e.padding?e.padding:n?1:4;var f,d=i(e);if(4===h)f=function(e,t){var n=e.modulus.byteLength(),i=t.length,u=o("sha1").update(p.alloc(0)).digest(),l=u.length,h=2*l;if(i>n-h-2)throw new Error("message too long");var f=p.alloc(n-i-h-2),d=n-l-1,m=r(l),g=s(p.concat([u,f,p.alloc(1,1),t],d),a(m,d)),v=s(m,a(g,l));return new c(p.concat([p.alloc(1),v,g],n))}(d,t);else if(1===h)f=function(e,t,n){var i,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");i=n?p.alloc(a-o-3,255):function(e){var t,n=p.allocUnsafe(e),i=0,o=r(2*e),a=0;for(;i<e;)a===o.length&&(o=r(2*e),a=0),(t=o[a++])&&(n[i++]=t);return n}(a-o-3);return new c(p.concat([p.from([0,n?1:2]),i,p.alloc(1),t],a))}(d,t,n);else{if(3!==h)throw new Error("unknown padding");if((f=new c(t)).cmp(d.modulus)>=0)throw new Error("data too long for modulus")}return n?l(f,d):u(f,d)}},function(e,t){},function(e,t,n){var i=n(161),r=n(367),o=n(368),a=n(225),s=n(217),c=n(123),u=n(369),l=n(4).Buffer;e.exports=function(e,t,n){var p;p=e.padding?e.padding:n?1:4;var h,f=i(e),d=f.modulus.byteLength();if(t.length>d||new a(t).cmp(f.modulus)>=0)throw new Error("decryption error");h=n?u(new a(t),f):s(t,f);var m=l.alloc(d-h.length);if(h=l.concat([m,h],d),4===p)return function(e,t){var n=e.modulus.byteLength(),i=c("sha1").update(l.alloc(0)).digest(),a=i.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),u=t.slice(a+1),p=o(s,r(u,a)),h=o(u,r(p,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,i=e.length;e.length!==t.length&&(n++,i=Math.min(e.length,t.length));var r=-1;for(;++r<i;)n+=e[r]^t[r];return n}(i,h.slice(0,a)))throw new Error("decryption error");var f=a;for(;0===h[f];)f++;if(1!==h[f++])throw new Error("decryption error");return h.slice(f)}(f,h);if(1===p)return function(e,t,n){var i=t.slice(0,2),r=2,o=0;for(;0!==t[r++];)if(r>=t.length){o++;break}var a=t.slice(2,r-1);("0002"!==i.toString("hex")&&!n||"0001"!==i.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(r)}(0,h,n);if(3===p)return h;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,i){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(4),a=n(98),s=o.Buffer,c=o.kMaxLength,u=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function p(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function h(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>c)throw new RangeError("buffer too small")}function f(e,t,n,r){if(i.browser){var o=e.buffer,s=new Uint8Array(o,t,n);return u.getRandomValues(s),r?void i.nextTick((function(){r(null,e)})):e}if(!r)return a(n).copy(e,t),e;a(n,(function(n,i){if(n)return r(n);i.copy(e,t),r(null,e)}))}u&&u.getRandomValues||!i.browser?(t.randomFill=function(t,n,i,r){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)r=n,n=0,i=t.length;else if("function"==typeof i)r=i,i=t.length-n;else if("function"!=typeof r)throw new TypeError('"cb" argument must be a function');return p(n,t.length),h(i,n,t.length),f(t,n,i,r)},t.randomFillSync=function(t,n,i){void 0===n&&(n=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');p(n,t.length),void 0===i&&(i=t.length-n);return h(i,n,t.length),f(t,n,i)}):(t.randomFill=r,t.randomFillSync=r)}).call(this,n(17),n(8))},function(e,t,n){"use strict";(function(t){var i=n(129),r=n(226),o=n(39),a=n(18),s=n(60),c=n(618),u=n(629),l=n(630),p=n(632),h=n(648),f=n(234),d=n(652),m=n(653),g=n(203),v=n(380),y=n(654).strict,b=n(204),w=n(311),_=n(655),x=n(656).Querystring,k=n(659).Har,E=n(716).Auth,S=n(719).OAuth,j=n(721),M=n(722).Multipart,A=n(725).Redirect,C=n(726).Tunnel,T=n(728),P=n(4).Buffer,R=b.safeStringify,B=b.isReadStream,O=b.toBase64,I=b.defer,D=b.copy,F=b.version,z=w.jar(),N={};function L(){return{uri:this.uri,method:this.method,headers:this.headers}}function q(){return{statusCode:this.statusCode,body:this.body,headers:this.headers,request:L.call(this.request)}}function H(e){e.har&&(this._har=new k(this),e=this._har.options(e)),s.Stream.call(this);var t=Object.keys(H.prototype),n=function(e,t){var n={};for(var i in t){-1===e.indexOf(i)&&(n[i]=t[i])}return n}(t,e);g(this,n),e=function(e,t){var n={};for(var i in t){var r=!(-1===e.indexOf(i)),o="function"==typeof t[i];r&&o||(n[i]=t[i])}return n}(t,e),this.readable=!0,this.writable=!0,e.method&&(this.explicitMethod=!0),this._qs=new x(this),this._auth=new E(this),this._oauth=new S(this),this._multipart=new M(this),this._redirect=new A(this),this._tunnel=new C(this),this.init(e)}function U(){H.debug&&console.error("REQUEST %s",a.format.apply(a,arguments))}a.inherits(H,s.Stream),H.debug=t.env.NODE_DEBUG&&/\brequest\b/.test(t.env.NODE_DEBUG),H.prototype.debug=U,H.prototype.init=function(e){var t=this;for(var n in e||(e={}),t.headers=t.headers?D(t.headers):{},t.headers)void 0===t.headers[n]&&delete t.headers[n];if(f.httpify(t,t.headers),t.method||(t.method=e.method||"GET"),t.localAddress||(t.localAddress=e.localAddress),t._qs.init(e),U(e),t.pool||!1===t.pool||(t.pool=N),t.dests=t.dests||[],t.__isRequestRequest=!0,!t._callback&&t.callback&&(t._callback=t.callback,t.callback=function(){t._callbackCalled||(t._callbackCalled=!0,t._callback.apply(t,arguments))},t.on("error",t.callback.bind()),t.on("complete",t.callback.bind(t,null))),!t.uri&&t.url&&(t.uri=t.url,delete t.url),t.baseUrl){if("string"!=typeof t.baseUrl)return t.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof t.uri)return t.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===t.uri.indexOf("//")||-1!==t.uri.indexOf("://"))return t.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var a=t.baseUrl.lastIndexOf("/")===t.baseUrl.length-1,s=0===t.uri.indexOf("/");a&&s?t.uri=t.baseUrl+t.uri.slice(1):a||s?t.uri=t.baseUrl+t.uri:""===t.uri?t.uri=t.baseUrl:t.uri=t.baseUrl+"/"+t.uri,delete t.baseUrl}if(!t.uri)return t.emit("error",new Error("options.uri is a required argument"));if("string"==typeof t.uri&&(t.uri=o.parse(t.uri)),t.uri.href||(t.uri.href=o.format(t.uri)),"unix:"===t.uri.protocol)return t.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===t.uri.host&&t.enableUnixSocket(),!1===t.strictSSL&&(t.rejectUnauthorized=!1),t.uri.pathname||(t.uri.pathname="/"),!(t.uri.host||t.uri.hostname&&t.uri.port||t.uri.isUnix)){var c='Invalid URI "'+o.format(t.uri)+'"';return 0===Object.keys(e).length&&(c+=". This can be caused by a crappy redirection."),t.abort(),t.emit("error",new Error(c))}if(t.hasOwnProperty("proxy")||(t.proxy=_(t.uri)),t.tunnel=t._tunnel.isEnabled(),t.proxy&&t._tunnel.setup(e),t._redirect.onRequest(e),t.setHost=!1,!t.hasHeader("host")){var u=t.originalHostHeaderName||"host";t.setHeader(u,t.uri.host),t.uri.port&&("80"===t.uri.port&&"http:"===t.uri.protocol||"443"===t.uri.port&&"https:"===t.uri.protocol)&&t.setHeader(u,t.uri.hostname),t.setHost=!0}if(t.jar(t._jar||e.jar),t.uri.port||("http:"===t.uri.protocol?t.uri.port=80:"https:"===t.uri.protocol&&(t.uri.port=443)),t.proxy&&!t.tunnel?(t.port=t.proxy.port,t.host=t.proxy.hostname):(t.port=t.uri.port,t.host=t.uri.hostname),e.form&&t.form(e.form),e.formData){var l=e.formData,p=t.form(),m=function(e,t){t&&t.hasOwnProperty("value")&&t.hasOwnProperty("options")?p.append(e,t.value,t.options):p.append(e,t)};for(var g in l)if(l.hasOwnProperty(g)){var b=l[g];if(b instanceof Array)for(var w=0;w<b.length;w++)m(g,b[w]);else m(g,b)}}if(e.qs&&t.qs(e.qs),t.uri.path?t.path=t.uri.path:t.path=t.uri.pathname+(t.uri.search||""),0===t.path.length&&(t.path="/"),e.aws&&t.aws(e.aws),e.hawk&&t.hawk(e.hawk),e.httpSignature&&t.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,"username")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,"password")&&(e.auth.pass=e.auth.password),t.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),t.gzip&&!t.hasHeader("accept-encoding")&&t.setHeader("accept-encoding","gzip, deflate"),t.uri.auth&&!t.hasHeader("authorization")){var x=t.uri.auth.split(":").map((function(e){return t._qs.unescape(e)}));t.auth(x[0],x.slice(1).join(":"),!0)}if(!t.tunnel&&t.proxy&&t.proxy.auth&&!t.hasHeader("proxy-authorization")){var k=t.proxy.auth.split(":").map((function(e){return t._qs.unescape(e)})),E="Basic "+O(k.join(":"));t.setHeader("proxy-authorization",E)}function S(){var e;(y(t.body)&&(t.body=P.from(t.body)),t.hasHeader("content-length"))||((e="string"==typeof t.body?P.byteLength(t.body):Array.isArray(t.body)?t.body.reduce((function(e,t){return e+t.length}),0):t.body.length)?t.setHeader("content-length",e):t.emit("error",new Error("Argument error, options.body.")))}t.proxy&&!t.tunnel&&(t.path=t.uri.protocol+"//"+t.uri.host+t.path),e.json&&t.json(e.json),e.multipart&&t.multipart(e.multipart),e.time&&(t.timing=!0,t.elapsedTime=t.elapsedTime||0),t.body&&!v(t.body)&&S(),e.oauth?t.oauth(e.oauth):t._oauth.params&&t.hasHeader("authorization")&&t.oauth(t._oauth.params);var j=t.proxy&&!t.tunnel?t.proxy.protocol:t.uri.protocol,M={"http:":i,"https:":r},A=t.httpModules||{};if(t.httpModule=A[j]||M[j],!t.httpModule)return t.emit("error",new Error("Invalid protocol: "+j));if(e.ca&&(t.ca=e.ca),!t.agent)if(e.agentOptions&&(t.agentOptions=e.agentOptions),e.agentClass)t.agentClass=e.agentClass;else if(e.forever){var C=F();0===C.major&&C.minor<=10?t.agentClass="http:"===j?d:d.SSL:(t.agentClass=t.httpModule.Agent,t.agentOptions=t.agentOptions||{},t.agentOptions.keepAlive=!0)}else t.agentClass=t.httpModule.Agent;!1===t.pool?t.agent=!1:t.agent=t.agent||t.getNewAgent(),t.on("pipe",(function(e){if(t.ntick&&t._started&&t.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),t.src=e,B(e))t.hasHeader("content-type")||t.setHeader("content-type",h.lookup(e.path));else{if(e.headers)for(var n in e.headers)t.hasHeader(n)||t.setHeader(n,e.headers[n]);t._json&&!t.hasHeader("content-type")&&t.setHeader("content-type","application/json"),e.method&&!t.explicitMethod&&(t.method=e.method)}})),I((function(){if(!t._aborted){var e=function(){if(t._form&&(t._auth.hasAuth?t._auth.hasAuth&&t._auth.sentAuth&&t._form.pipe(t):t._form.pipe(t)),t._multipart&&t._multipart.chunked&&t._multipart.body.pipe(t),t.body)v(t.body)?t.body.pipe(t):(S(),Array.isArray(t.body)?t.body.forEach((function(e){t.write(e)})):t.write(t.body),t.end());else if(t.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),t.requestBodyStream.pipe(t);else if(!t.src){if(t._auth.hasAuth&&!t._auth.sentAuth)return void t.end();"GET"!==t.method&&void 0!==t.method&&t.setHeader("content-length",0),t.end()}};t._form&&!t.hasHeader("content-length")?(t.setHeader(t._form.getHeaders(),!0),t._form.getLength((function(n,i){n||isNaN(i)||t.setHeader("content-length",i),e()}))):e(),t.ntick=!0}}))},H.prototype.getNewAgent=function(){var e=this.agentClass,t={};if(this.agentOptions)for(var n in this.agentOptions)t[n]=this.agentOptions[n];this.ca&&(t.ca=this.ca),this.ciphers&&(t.ciphers=this.ciphers),this.secureProtocol&&(t.secureProtocol=this.secureProtocol),this.secureOptions&&(t.secureOptions=this.secureOptions),void 0!==this.rejectUnauthorized&&(t.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(t.key=this.key,t.cert=this.cert),this.pfx&&(t.pfx=this.pfx),this.passphrase&&(t.passphrase=this.passphrase);var i="";e!==this.httpModule.Agent&&(i+=e.name);var r=this.proxy;return"string"==typeof r&&(r=o.parse(r)),(r&&"https:"===r.protocol||"https:"===this.uri.protocol)&&(t.ca&&(i&&(i+=":"),i+=t.ca),void 0!==t.rejectUnauthorized&&(i&&(i+=":"),i+=t.rejectUnauthorized),t.cert&&(i&&(i+=":"),i+=t.cert.toString("ascii")+t.key.toString("ascii")),t.pfx&&(i&&(i+=":"),i+=t.pfx.toString("ascii")),t.ciphers&&(i&&(i+=":"),i+=t.ciphers),t.secureProtocol&&(i&&(i+=":"),i+=t.secureProtocol),t.secureOptions&&(i&&(i+=":"),i+=t.secureOptions)),this.pool===N&&!i&&0===Object.keys(t).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(i=this.uri.protocol+i,this.pool[i]||(this.pool[i]=new e(t),this.pool.maxSockets&&(this.pool[i].maxSockets=this.pool.maxSockets)),this.pool[i])},H.prototype.start=function(){var e=this;if(e.timing)var t=(new Date).getTime(),n=T();if(!e._aborted){e._started=!0,e.method=e.method||"GET",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader("content-length")&&e.setHeader("content-length",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var i,r=D(e);delete r.auth,U("make request",e.uri.href),delete r.timeout;try{e.req=e.httpModule.request(r)}catch(t){return void e.emit("error",t)}e.timing&&(e.startTime=t,e.startTimeNow=n,e.timings={}),e.timeout&&!e.timeoutTimer&&(e.timeout<0?i=0:"number"==typeof e.timeout&&isFinite(e.timeout)&&(i=e.timeout)),e.req.on("response",e.onRequestResponse.bind(e)),e.req.on("error",e.onRequestError.bind(e)),e.req.on("drain",(function(){e.emit("drain")})),e.req.on("socket",(function(t){var n=t._connecting||t.connecting;if(e.timing&&(e.timings.socket=T()-e.startTimeNow,n)){var r=function(){e.timings.lookup=T()-e.startTimeNow},o=function(){e.timings.connect=T()-e.startTimeNow};t.once("lookup",r),t.once("connect",o),e.req.once("error",(function(){t.removeListener("lookup",r),t.removeListener("connect",o)}))}var a=function(){e.req.setTimeout(i,(function(){if(e.req){e.abort();var t=new Error("ESOCKETTIMEDOUT");t.code="ESOCKETTIMEDOUT",t.connect=!1,e.emit("error",t)}}))};if(void 0!==i)if(n){var s=function(){t.removeListener("connect",s),e.clearTimeout(),a()};t.on("connect",s),e.req.on("error",(function(e){t.removeListener("connect",s)})),e.timeoutTimer=setTimeout((function(){t.removeListener("connect",s),e.abort();var n=new Error("ETIMEDOUT");n.code="ETIMEDOUT",n.connect=!0,e.emit("error",n)}),i)}else a();e.emit("socket",t)})),e.emit("request",e.req)}},H.prototype.onRequestError=function(e){if(!this._aborted){if(this.req&&this.req._reusedSocket&&"ECONNRESET"===e.code&&this.agent.addRequestNoreuse)return this.agent={addRequest:this.agent.addRequestNoreuse.bind(this.agent)},this.start(),void this.req.end();this.clearTimeout(),this.emit("error",e)}},H.prototype.onRequestResponse=function(e){var t=this;if(t.timing&&(t.timings.response=T()-t.startTimeNow),U("onRequestResponse",t.uri.href,e.statusCode,e.headers),e.on("end",(function(){t.timing&&(t.timings.end=T()-t.startTimeNow,e.timingStart=t.startTime,t.timings.socket||(t.timings.socket=0),t.timings.lookup||(t.timings.lookup=t.timings.socket),t.timings.connect||(t.timings.connect=t.timings.lookup),t.timings.response||(t.timings.response=t.timings.connect),U("elapsed time",t.timings.end),t.elapsedTime+=Math.round(t.timings.end),e.elapsedTime=t.elapsedTime,e.timings=t.timings,e.timingPhases={wait:t.timings.socket,dns:t.timings.lookup-t.timings.socket,tcp:t.timings.connect-t.timings.lookup,firstByte:t.timings.response-t.timings.connect,download:t.timings.end-t.timings.response,total:t.timings.end}),U("response end",t.uri.href,e.statusCode,e.headers)})),t._aborted)return U("aborted",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=q,t.httpModule!==r||!t.strictSSL||e.hasOwnProperty("socket")&&e.socket.authorized){t.originalHost=t.getHeader("host"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader("host")),t.setHost&&t.removeHeader("host"),t.clearTimeout();var n=t._jar&&t._jar.setCookie?t._jar:z,i=function(e){try{n.setCookie(e,t.uri.href,{ignoreError:!0})}catch(e){t.emit("error",e)}};if(e.caseless=f(e.headers),e.caseless.has("set-cookie")&&!t._disableCookies){var o=e.caseless.has("set-cookie");Array.isArray(e.headers[o])?e.headers[o].forEach(i):i(e.headers[o])}if(!t._redirect.onResponse(e)){e.on("close",(function(){t._ended||t.response.emit("end")})),e.once("end",(function(){t._ended=!0}));var a,s;if(!t.gzip||(s=e.statusCode,"HEAD"===t.method||s>=100&&s<200||204===s||304===s))a=e;else{var u=e.headers["content-encoding"]||"identity";u=u.trim().toLowerCase();var l={flush:c.Z_SYNC_FLUSH,finishFlush:c.Z_SYNC_FLUSH};"gzip"===u?(a=c.createGunzip(l),e.pipe(a)):"deflate"===u?(a=c.createInflate(l),e.pipe(a)):("identity"!==u&&U("ignoring unrecognized Content-Encoding "+u),a=e)}t.encoding&&(0!==t.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):a.setEncoding(t.encoding)),t._paused&&a.pause(),t.responseContent=a,t.emit("response",e),t.dests.forEach((function(e){t.pipeDest(e)})),a.on("data",(function(n){t.timing&&!t.responseStarted&&(t.responseStartTime=(new Date).getTime(),e.responseStartTime=t.responseStartTime),t._destdata=!0,t.emit("data",n)})),a.once("end",(function(e){t.emit("end",e)})),a.on("error",(function(e){t.emit("error",e)})),a.on("close",(function(){t.emit("close")})),t.callback?t.readResponseBody(e):t.on("end",(function(){t._aborted?U("aborted",t.uri.href):t.emit("complete",e)})),U("finish init function",t.uri.href)}}else{U("strict ssl error",t.uri.href);var p=e.hasOwnProperty("socket")?e.socket.authorizationError:t.uri.href+" does not support SSL";t.emit("error",new Error("SSL Error: "+p))}},H.prototype.readResponseBody=function(e){var t=this;U("reading response's body");var n=[],i=0,r=[];t.on("data",(function(e){P.isBuffer(e)?e.length&&(i+=e.length,n.push(e)):r.push(e)})),t.on("end",(function(){if(U("end event",t.uri.href),t._aborted)return U("aborted",t.uri.href),n=[],void(i=0);if(i?(U("has body",t.uri.href,i),e.body=P.concat(n,i),null!==t.encoding&&(e.body=e.body.toString(t.encoding)),n=[],i=0):r.length&&("utf8"===t.encoding&&r[0].length>0&&"\ufeff"===r[0][0]&&(r[0]=r[0].substring(1)),e.body=r.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(e){U("invalid JSON received",t.uri.href)}U("emitting complete",t.uri.href),void 0!==e.body||t._json||(e.body=null===t.encoding?P.alloc(0):""),t.emit("complete",e,e.body)}))},H.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.destroy(),this.clearTimeout(),this.emit("abort")},H.prototype.pipeDest=function(e){var t=this.response;if(e.headers&&!e.headersSent){if(t.caseless.has("content-type")){var n=t.caseless.has("content-type");e.setHeader?e.setHeader(n,t.headers[n]):e.headers[n]=t.headers[n]}if(t.caseless.has("content-length")){var i=t.caseless.has("content-length");e.setHeader?e.setHeader(i,t.headers[i]):e.headers[i]=t.headers[i]}}if(e.setHeader&&!e.headersSent){for(var r in t.headers)this.gzip&&"content-encoding"===r||e.setHeader(r,t.headers[r]);e.statusCode=t.statusCode}this.pipefilter&&this.pipefilter(t,e)},H.prototype.qs=function(e,t){var n;for(var i in n=!t&&this.uri.query?this._qs.parse(this.uri.query):{},e)n[i]=e[i];var r=this._qs.stringify(n);return""===r||(this.uri=o.parse(this.uri.href.split("?")[0]+"?"+r),this.url=this.uri,this.path=this.uri.path,"unix"===this.uri.host&&this.enableUnixSocket()),this},H.prototype.form=function(e){var t=this;return e?(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))||t.setHeader("content-type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t):(t._form=new m,t._form.on("error",(function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()})),t._form)},H.prototype.multipart=function(e){return this._multipart.onRequest(e),this._multipart.chunked||(this.body=this._multipart.body),this},H.prototype.json=function(e){return this.hasHeader("accept")||this.setHeader("accept","application/json"),"function"==typeof this.jsonReplacer&&(this._jsonReplacer=this.jsonReplacer),this._json=!0,"boolean"==typeof e?void 0!==this.body&&(/^application\/x-www-form-urlencoded\b/.test(this.getHeader("content-type"))?this.body=this._qs.rfc3986(this.body):this.body=R(this.body,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")):(this.body=R(e,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")),"function"==typeof this.jsonReviver&&(this._jsonReviver=this.jsonReviver),this},H.prototype.getHeader=function(e,t){var n,i;return t||(t=this.headers),Object.keys(t).forEach((function(r){r.length===e.length&&(i=new RegExp(e,"i"),r.match(i)&&(n=t[r]))})),n},H.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],n=e[1];this.socketPath=t,this.uri.pathname=n,this.uri.path=n,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},H.prototype.auth=function(e,t,n,i){return this._auth.onRequest(e,t,n,i),this},H.prototype.aws=function(e,t){if(!t)return this._aws=e,this;if(4===e.sign_version||"4"===e.sign_version){var n={host:this.uri.host,path:this.uri.path,method:this.method,headers:this.headers,body:this.body};e.service&&(n.service=e.service);var i=l.sign(n,{accessKeyId:e.key,secretAccessKey:e.secret,sessionToken:e.session});this.setHeader("authorization",i.headers.Authorization),this.setHeader("x-amz-date",i.headers["X-Amz-Date"]),i.headers["X-Amz-Security-Token"]&&this.setHeader("x-amz-security-token",i.headers["X-Amz-Security-Token"])}else{var r=new Date;this.setHeader("date",r.toUTCString());var o={key:e.key,secret:e.secret,verb:this.method.toUpperCase(),date:r,contentType:this.getHeader("content-type")||"",md5:this.getHeader("content-md5")||"",amazonHeaders:u.canonicalizeHeaders(this.headers)},a=this.uri.path;e.bucket&&a?o.resource="/"+e.bucket+a:e.bucket&&!a?o.resource="/"+e.bucket:!e.bucket&&a?o.resource=a:e.bucket||a||(o.resource="/"),o.resource=u.canonicalizeResource(o.resource),this.setHeader("authorization",u.authorization(o))}return this},H.prototype.httpSignature=function(e){var t=this;return p.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,n){t.setHeader(e,n)},method:t.method,path:t.path},e),U("httpSignature authorization",t.getHeader("authorization")),t},H.prototype.hawk=function(e){this.setHeader("Authorization",j.header(this.uri,this.method,e))},H.prototype.oauth=function(e){return this._oauth.onRequest(e),this},H.prototype.jar=function(e){var t;if(0===this._redirect.redirectsFollowed&&(this.originalCookieHeader=this.getHeader("cookie")),e){var n=e.getCookieString?e:z,i=this.uri.href;n&&(t=n.getCookieString(i))}else t=!1,this._disableCookies=!0;return t&&t.length&&(this.originalCookieHeader?this.setHeader("cookie",this.originalCookieHeader+"; "+t):this.setHeader("cookie",t)),this._jar=e,this},H.prototype.pipe=function(e,t){if(!this.response)return this.dests.push(e),s.Stream.prototype.pipe.call(this,e,t),e;if(this._destdata)this.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!this._ended)return s.Stream.prototype.pipe.call(this,e,t),this.pipeDest(e),e;this.emit("error",new Error("You cannot pipe after the response has been ended."))}},H.prototype.write=function(){var e=this;if(!e._aborted)return e._started||e.start(),e.req?e.req.write.apply(e.req,arguments):void 0},H.prototype.end=function(e){this._aborted||(e&&this.write(e),this._started||this.start(),this.req&&this.req.end())},H.prototype.pause=function(){var e=this;e.responseContent?e.responseContent.pause.apply(e.responseContent,arguments):e._paused=!0},H.prototype.resume=function(){var e=this;e.responseContent?e.responseContent.resume.apply(e.responseContent,arguments):e._paused=!1},H.prototype.destroy=function(){this.clearTimeout(),this._ended?this.response&&this.response.destroy():this.end()},H.prototype.clearTimeout=function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},H.defaultProxyHeaderWhiteList=C.defaultProxyHeaderWhiteList.slice(),H.defaultProxyHeaderExclusiveList=C.defaultProxyHeaderExclusiveList.slice(),H.prototype.toJSON=L,e.exports=H}).call(this,n(8))},function(e,t,n){(function(t,i,r){var o=n(370),a=n(2),s=n(371),c=n(124),u=n(615),l=s.IncomingMessage,p=s.readyStates;var h=e.exports=function(e){var n,i=this;c.Writable.call(i),i._opts=e,i._body=[],i._headers={},e.auth&&i.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){i.setHeader(t,e.headers[t])}));var r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}i._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(n,r),i._fetchTimer=null,i.on("finish",(function(){i._onFinish()}))};a(h,c.Writable),h.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,a=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=o.arraybuffer?u(t.concat(e._body)):o.blobConstructor?new i.Blob(e._body.map((function(e){return u(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var c=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,n=a[e].value;Array.isArray(n)?n.forEach((function(e){c.push([t,e])})):c.push([t,n])})),"fetch"===e._mode){var l=null;if(o.abortController){var h=new AbortController;l=h.signal,e._fetchAbortController=h,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=i.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}i.fetch(e._opts.url,{method:e._opts.method,headers:c,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){i.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var f=e._xhr=new i.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(f.timeout=n.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),c.forEach((function(e){f.setRequestHeader(e[0],e[1])})),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case p.LOADING:case p.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(s)}catch(t){return void r.nextTick((function(){e.emit("error",t)}))}}}},h.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,n){this._body.push(e),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,i.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(9).Buffer,n(17),n(8))},function(e,t,n){var i=n(9).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(i.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,r=0;r<n;r++)t[r]=e[r];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];for(var r in i)n.call(i,r)&&(e[r]=i[r])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";(function(e){var i=n(9).Buffer,r=n(60).Transform,o=n(619),a=n(18),s=n(83).ok,c=n(9).kMaxLength,u="Cannot create final Buffer. It would be larger than 0x"+c.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(o),p=0;p<l.length;p++){var h=l[p];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:o[h],writable:!1})}for(var f={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(f),m=0;m<d.length;m++){var g=d[m];f[f[g]]=g}function v(e,t,n){var r=[],o=0;function a(){for(var t;null!==(t=e.read());)r.push(t),o+=t.length;e.once("readable",a)}function s(){var t,a=null;o>=c?a=new RangeError(u):t=i.concat(r,o),r=[],e.close(),n(a,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",a),n(t)})),e.on("end",s),e.end(t),a()}function y(e,t){if("string"==typeof t&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function b(e){if(!(this instanceof b))return new b(e);M.call(this,e,o.DEFLATE)}function w(e){if(!(this instanceof w))return new w(e);M.call(this,e,o.INFLATE)}function _(e){if(!(this instanceof _))return new _(e);M.call(this,e,o.GZIP)}function x(e){if(!(this instanceof x))return new x(e);M.call(this,e,o.GUNZIP)}function k(e){if(!(this instanceof k))return new k(e);M.call(this,e,o.DEFLATERAW)}function E(e){if(!(this instanceof E))return new E(e);M.call(this,e,o.INFLATERAW)}function S(e){if(!(this instanceof S))return new S(e);M.call(this,e,o.UNZIP)}function j(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function M(e,n){var a=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,r.call(this,e),e.flush&&!j(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!j(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:o.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!i.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){A(s),s._hadError=!0;var i=new Error(e);i.errno=n,i.code=t.codes[n],s.emit("error",i)};var c=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(c=e.level);var u=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(u=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,c,e.memLevel||t.Z_DEFAULT_MEMLEVEL,u,e.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=c,this._strategy=u,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function A(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function C(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(f),writable:!1}),t.Deflate=b,t.Inflate=w,t.Gzip=_,t.Gunzip=x,t.DeflateRaw=k,t.InflateRaw=E,t.Unzip=S,t.createDeflate=function(e){return new b(e)},t.createInflate=function(e){return new w(e)},t.createDeflateRaw=function(e){return new k(e)},t.createInflateRaw=function(e){return new E(e)},t.createGzip=function(e){return new _(e)},t.createGunzip=function(e){return new x(e)},t.createUnzip=function(e){return new S(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new b(t),e,n)},t.deflateSync=function(e,t){return y(new b(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new _(t),e,n)},t.gzipSync=function(e,t){return y(new _(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new k(t),e,n)},t.deflateRawSync=function(e,t){return y(new k(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new S(t),e,n)},t.unzipSync=function(e,t){return y(new S(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new w(t),e,n)},t.inflateSync=function(e,t){return y(new w(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new x(t),e,n)},t.gunzipSync=function(e,t){return y(new x(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),v(new E(t),e,n)},t.inflateRawSync=function(e,t){return y(new E(t),e)},a.inherits(M,r),M.prototype.params=function(n,i,r){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(i!=t.Z_FILTERED&&i!=t.Z_HUFFMAN_ONLY&&i!=t.Z_RLE&&i!=t.Z_FIXED&&i!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==n||this._strategy!==i){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed"),a._handle.params(n,i),a._hadError||(a._level=n,a._strategy=i,r&&r())}))}else e.nextTick(r)},M.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},M.prototype._flush=function(e){this._transform(i.alloc(0),"",e)},M.prototype.flush=function(t,n){var r=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=o.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",(function(){return r.flush(t,n)})):(this._flushFlag=t,this.write(i.alloc(0),"",n))},M.prototype.close=function(t){A(this,t),e.nextTick(C,this)},M.prototype._transform=function(e,t,n){var r,a=this._writableState,s=(a.ending||a.ended)&&(!e||a.length===e.length);return null===e||i.isBuffer(e)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(e,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},M.prototype._processChunk=function(e,t,n){var r=e&&e.length,o=this._chunkSize-this._offset,a=0,l=this,p="function"==typeof n;if(!p){var h,f=[],d=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,a,r,this._buffer,this._offset,o)}while(!this._hadError&&y(m[0],m[1]));if(this._hadError)throw h;if(d>=c)throw A(this),new RangeError(u);var g=i.concat(f,d);return A(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,a,r,this._buffer,this._offset,o);function y(c,u){if(this&&(this.buffer=null,this.callback=null),!l._hadError){var h=o-u;if(s(h>=0,"have should not go down"),h>0){var m=l._buffer.slice(l._offset,l._offset+h);l._offset+=h,p?l.push(m):(f.push(m),d+=m.length)}if((0===u||l._offset>=l._chunkSize)&&(o=l._chunkSize,l._offset=0,l._buffer=i.allocUnsafe(l._chunkSize)),0===u){if(a+=r-c,r=c,!p)return!0;var g=l._handle.write(t,e,a,r,l._buffer,l._offset,l._chunkSize);return g.callback=y,void(g.buffer=e)}if(!p)return!1;n()}}v.buffer=e,v.callback=y},a.inherits(b,M),a.inherits(w,M),a.inherits(_,M),a.inherits(x,M),a.inherits(k,M),a.inherits(E,M),a.inherits(S,M)}).call(this,n(8))},function(e,t,n){"use strict";(function(e,i){var r=n(83),o=n(621),a=n(622),s=n(625),c=n(628);for(var u in c)t[u]=c[u];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function l(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}l.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},l.prototype.write=function(e,t,n,i,r,o,a){return this._write(!0,e,t,n,i,r,o,a)},l.prototype.writeSync=function(e,t,n,i,r,o,a){return this._write(!1,e,t,n,i,r,o,a)},l.prototype._write=function(n,o,a,s,c,u,l,p){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==t.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),c=0,s=0),this.strm.avail_in=c,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=p,this.strm.output=u,this.strm.next_out=l,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return i.nextTick((function(){h._process(),h._after()})),this},l.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},l.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},l.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},l.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},l.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},l.prototype.init=function(e,n,i,o,a){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(e>=8&&e<=15,"invalid windowBits"),r(n>=-1&&n<=9,"invalid compression level"),r(i>=1&&i<=9,"invalid memlevel"),r(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,i,o,a),this._setDictionary()},l.prototype.params=function(){throw new Error("deflateParams Not supported")},l.prototype.reset=function(){this._reset(),this._setDictionary()},l.prototype._init=function(e,n,i,r,c){switch(this.level=e,this.windowBits=n,this.memLevel=i,this.strategy=r,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=c,this.write_in_progress=!1,this.init_done=!0},l.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},l.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=l}).call(this,n(9).Buffer,n(8))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))r.call(n,l)&&(c[l]=n[l]);if(i){s=i(n);for(var p=0;p<s.length;p++)o.call(n,s[p])&&(c[s[p]]=n[s[p]])}}return c}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";var i,r=n(162),o=n(623),a=n(372),s=n(373),c=n(624);function u(e,t){return e.msg=c[t],t}function l(e){return(e<<1)-(e>4?9:0)}function p(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function f(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function g(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,l=e.w_mask,p=e.prev,h=e.strstart+258,f=u[o+a-1],d=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===d&&u[n+a-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(i=258-(h-o),o=h-258,i>a){if(e.match_start=t,a=i,i>=s)break;f=u[o+a-1],d=u[o+a]}}}while((t=p[t&l])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function v(e){var t,n,i,o,c,u,l,p,h,f,d=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-262)){r.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=d?i-d:0}while(--n);t=n=d;do{i=e.prev[--t],e.prev[t]=i>=d?i-d:0}while(--n);o+=d}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,p=e.strstart+e.lookahead,h=o,f=void 0,(f=u.avail_in)>h&&(f=h),n=0===f?0:(u.avail_in-=f,r.arraySet(l,u.input,u.next_in,f,p),1===u.state.wrap?u.adler=a(u.adler,l,f,p):2===u.state.wrap&&(u.adler=s(u.adler,l,f,p)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(f(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(f(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}function b(e,t){for(var n,i,r;;){if(e.lookahead<262){if(v(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=g(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(f(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&f(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(f(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}function w(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):u(e,-2)}function k(e){var t,n=x(e);return 0===n&&((t=e.state).window_size=2*t.w_size,p(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function E(e,t,n,i,o,a){if(!e)return-2;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||a<0||a>4)return u(e,-2);8===i&&(i=9);var c=new _;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,k(e)}i=[new w(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(v(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,f(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(f(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(f(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(f(e,!1),e.strm.avail_out),1)})),new w(4,4,8,4,y),new w(4,5,16,8,y),new w(4,6,32,32,y),new w(4,4,16,16,b),new w(8,16,32,32,b),new w(8,16,128,128,b),new w(8,32,128,256,b),new w(32,128,258,1024,b),new w(32,258,258,4096,b)],t.deflateInit=function(e,t){return E(e,t,8,15,8,0)},t.deflateInit2=E,t.deflateReset=k,t.deflateResetKeep=x,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,r,a,c;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,d(r,31),d(r,139),d(r,8),r.gzhead?(d(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),d(r,255&r.gzhead.time),d(r,r.gzhead.time>>8&255),d(r,r.gzhead.time>>16&255),d(r,r.gzhead.time>>24&255),d(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),d(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(d(r,255&r.gzhead.extra.length),d(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(d(r,0),d(r,0),d(r,0),d(r,0),d(r,0),d(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),d(r,3),r.status=113);else{var g=8+(r.w_bits-8<<4)<<8;g|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(g|=32),g+=31-g%31,r.status=113,m(r,g),0!==r.strstart&&(m(r,e.adler>>>16),m(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),h(e),a=r.pending,r.pending!==r.pending_buf_size));)d(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),h(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,d(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),h(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,d(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&h(e),r.pending+2<=r.pending_buf_size&&(d(r,255&e.adler),d(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(h(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&l(t)<=l(n)&&4!==t)return u(e,-5);if(666===r.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(v(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(f(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(f(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=258){if(v(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=258-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(f(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(f(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(f(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(p(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),h(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(d(r,255&e.adler),d(r,e.adler>>8&255),d(r,e.adler>>16&255),d(r,e.adler>>24&255),d(r,255&e.total_in),d(r,e.total_in>>8&255),d(r,e.total_in>>16&255),d(r,e.total_in>>24&255)):(m(r,e.adler>>>16),m(r,65535&e.adler)),h(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,i,o,s,c,u,l,h,f=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(p(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,t,f-n.w_size,n.w_size,0),t=h,f=n.w_size),c=e.avail_in,u=e.next_in,l=e.input,e.avail_in=f,e.next_in=0,e.input=t,v(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,v(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=u,e.input=l,e.avail_in=c,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(162);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var l=new Array(60);r(l);var p=new Array(512);r(p);var h=new Array(256);r(h);var f=new Array(29);r(f);var d,m,g,v=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?p[e]:p[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function x(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function k(e,t,n){x(e,n[2*t],n[2*t+1])}function E(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function S(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=15;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=E(o[s]++,s))}}function j(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){e.bi_valid>8?_(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function C(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&A(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!A(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function T(e,t,n){var i,r,s,c,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?k(e,r,t):(k(e,(s=h[r])+256+1,t),0!==(c=o[s])&&x(e,r-=f[s],c),k(e,s=w(--i),n),0!==(c=a[s])&&x(e,i-=v[s],c))}while(u<e.last_lit);k(e,256,t)}function P(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)C(e,o,n);r=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,C(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,p=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,d=t.stat_desc.max_length,m=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)>d&&(o=d,m++),c[2*i+1]=o,i>u||(e.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=c[2*i],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==m){do{for(o=d-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[d]--,m-=2}while(m>0);for(o=d;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>u||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(e,t),S(o,u,e.bl_count)}function R(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(c=138,u=3):r===a?(c=6,u=3):(c=7,u=4))}function B(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(s<u)do{k(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(k(e,r,e.bl_tree),s--),k(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(k(e,17,e.bl_tree),x(e,s-3,3)):(k(e,18,e.bl_tree),x(e,s-11,7));s=0,o=r,0===a?(c=138,u=3):r===a?(c=6,u=3):(c=7,u=4)}}r(v);var O=!1;function I(e,t,n,r){x(e,0+(r?1:0),3),function(e,t,n,r){M(e),r&&(_(e,n),_(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){O||(!function(){var e,t,n,i,r,c=new Array(16);for(n=0,i=0;i<28;i++)for(f[i]=n,e=0;e<1<<o[i];e++)h[n++]=i;for(h[n-1]=i,r=0,i=0;i<16;i++)for(v[i]=r,e=0;e<1<<a[i];e++)p[r++]=i;for(r>>=7;i<30;i++)for(v[i]=r<<7,e=0;e<1<<a[i]-7;e++)p[256+r++]=i;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,c[8]++;for(;e<=255;)u[2*e+1]=9,e++,c[9]++;for(;e<=279;)u[2*e+1]=7,e++,c[7]++;for(;e<=287;)u[2*e+1]=8,e++,c[8]++;for(S(u,287,c),e=0;e<30;e++)l[2*e+1]=5,l[2*e]=E(e,5);d=new y(u,o,257,286,15),m=new y(l,a,0,30,15),g=new y(new Array(0),s,0,19,7)}(),O=!0),e.l_desc=new b(e.dyn_ltree,d),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,j(e)},t._tr_stored_block=I,t._tr_flush_block=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),P(e,e.l_desc),P(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),P(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?I(e,t,n,i):4===e.strategy||o===r?(x(e,2+(i?1:0),3),T(e,u,l)):(x(e,4+(i?1:0),3),function(e,t,n,i){var r;for(x(e,t-257,5),x(e,n-1,5),x(e,i-4,4),r=0;r<i;r++)x(e,e.bl_tree[2*c[r]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),T(e,e.dyn_ltree,e.dyn_dtree)),j(e),i&&M(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){x(e,2,3),k(e,256,u),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var i=n(162),r=n(372),o=n(373),a=n(626),s=n(627);function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,l(e)):-2}function h(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,p(e))):-2}function f(e,t){var n,i;return e?(i=new u,e.state=i,i.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var d,m,g=!0;function v(e){if(g){var t;for(d=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=d,e.lenbits=9,e.distcode=m,e.distbits=5}function y(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=p,t.inflateReset2=h,t.inflateResetKeep=l,t.inflateInit=function(e){return f(e,15)},t.inflateInit2=f,t.inflate=function(e,t){var n,u,l,p,h,f,d,m,g,b,w,_,x,k,E,S,j,M,A,C,T,P,R,B,O=0,I=new i.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,l=e.output,d=e.avail_out,p=e.next_in,u=e.input,f=e.avail_in,m=n.hold,g=n.bits,b=f,w=d,P=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,I[0]=255&m,I[1]=m>>>8&255,n.check=o(n.check,I,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,T=8+(15&(m>>>=4)),0===n.wbits)n.wbits=T;else if(T>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<T,e.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=o(n.check,I,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,I[2]=m>>>16&255,I[3]=m>>>24&255,n.check=o(n.check,I,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=o(n.check,I,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=o(n.check,I,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((_=n.length)>f&&(_=f),_&&(n.head&&(T=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,p,_,T)),512&n.flags&&(n.check=o(n.check,u,_,p)),f-=_,p+=_,n.length-=_),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break e;_=0;do{T=u[p+_++],n.head&&T&&n.length<65536&&(n.head.name+=String.fromCharCode(T))}while(T&&_<f);if(512&n.flags&&(n.check=o(n.check,u,_,p)),f-=_,p+=_,T)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break e;_=0;do{T=u[p+_++],n.head&&T&&n.length<65536&&(n.head.comment+=String.fromCharCode(T))}while(T&&_<f);if(512&n.flags&&(n.check=o(n.check,u,_,p)),f-=_,p+=_,T)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}e.adler=n.check=c(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=d,e.next_in=p,e.avail_in=f,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){m>>>=2,g-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(_=n.length){if(_>f&&(_=f),_>d&&(_=d),0===_)break e;i.arraySet(l,u,p,_,h),f-=_,p+=_,d-=_,h+=_,n.length-=_;break}n.mode=12;break;case 17:for(;g<14;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.lens[D[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},P=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(O=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&O,!((E=O>>>24)<=g);){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(j<16)m>>>=E,g-=E,n.lens[n.have++]=j;else{if(16===j){for(B=E+2;g<B;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(m>>>=E,g-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}T=n.lens[n.have-1],_=3+(3&m),m>>>=2,g-=2}else if(17===j){for(B=E+3;g<B;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}g-=E,T=0,_=3+(7&(m>>>=E)),m>>>=3,g-=3}else{for(B=E+7;g<B;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}g-=E,T=0,_=11+(127&(m>>>=E)),m>>>=7,g-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;_--;)n.lens[n.have++]=T}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},P=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},P=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(f>=6&&d>=258){e.next_out=h,e.avail_out=d,e.next_in=p,e.avail_in=f,n.hold=m,n.bits=g,a(e,w),h=e.next_out,l=e.output,d=e.avail_out,p=e.next_in,u=e.input,f=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(O=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,j=65535&O,!((E=O>>>24)<=g);){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(S&&0==(240&S)){for(M=E,A=S,C=j;S=(O=n.lencode[C+((m&(1<<M+A)-1)>>M)])>>>16&255,j=65535&O,!(M+(E=O>>>24)<=g);){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}m>>>=M,g-=M,n.back+=M}if(m>>>=E,g-=E,n.back+=E,n.length=j,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(B=n.extra;g<B;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(O=n.distcode[m&(1<<n.distbits)-1])>>>16&255,j=65535&O,!((E=O>>>24)<=g);){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(0==(240&S)){for(M=E,A=S,C=j;S=(O=n.distcode[C+((m&(1<<M+A)-1)>>M)])>>>16&255,j=65535&O,!(M+(E=O>>>24)<=g);){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}m>>>=M,g-=M,n.back+=M}if(m>>>=E,g-=E,n.back+=E,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=j,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(B=n.extra;g<B;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===d)break e;if(_=w-d,n.offset>_){if((_=n.offset-_)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}_>n.wnext?(_-=n.wnext,x=n.wsize-_):x=n.wnext-_,_>n.length&&(_=n.length),k=n.window}else k=l,x=h-n.offset,_=n.length;_>d&&(_=d),d-=_,n.length-=_;do{l[h++]=k[x++]}while(--_);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;l[h++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===f)break e;f--,m|=u[p++]<<g,g+=8}if(w-=d,e.total_out+=w,n.total+=w,w&&(e.adler=n.check=n.flags?o(n.check,l,w,h-w):r(n.check,l,w,h-w)),w=d,(n.flags?m:c(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===f)break e;f--,m+=u[p++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=d,e.next_in=p,e.avail_in=f,n.hold=m,n.bits=g,(n.wsize||w!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,w-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,n.total+=w,n.wrap&&w&&(e.adler=n.check=n.flags?o(n.check,l,w,e.next_out-w):r(n.check,l,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===w||4===t)&&0===P&&(P=-5),P)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,a,s,c,u,l,p,h,f,d,m,g,v,y,b,w,_,x,k,E,S,j;n=e.state,i=e.next_in,S=e.input,r=i+(e.avail_in-5),o=e.next_out,j=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,p=n.wnext,h=n.window,f=n.hold,d=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{d<15&&(f+=S[i++]<<d,d+=8,f+=S[i++]<<d,d+=8),b=m[f&v];t:for(;;){if(f>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))j[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(w&=15)&&(d<w&&(f+=S[i++]<<d,d+=8),_+=f&(1<<w)-1,f>>>=w,d-=w),d<15&&(f+=S[i++]<<d,d+=8,f+=S[i++]<<d,d+=8),b=g[f&y];n:for(;;){if(f>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,d<(w&=15)&&(f+=S[i++]<<d,(d+=8)<w&&(f+=S[i++]<<d,d+=8)),(x+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,d-=w,x>(w=o-a)){if((w=x-w)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,E=h,0===p){if(k+=u-w,w<_){_-=w;do{j[o++]=h[k++]}while(--w);k=o-x,E=j}}else if(p<w){if(k+=u+p-w,(w-=p)<_){_-=w;do{j[o++]=h[k++]}while(--w);if(k=0,p<_){_-=w=p;do{j[o++]=h[k++]}while(--w);k=o-x,E=j}}}else if(k+=p-w,w<_){_-=w;do{j[o++]=h[k++]}while(--w);k=o-x,E=j}for(;_>2;)j[o++]=E[k++],j[o++]=E[k++],j[o++]=E[k++],_-=3;_&&(j[o++]=E[k++],_>1&&(j[o++]=E[k++]))}else{k=o-x;do{j[o++]=j[k++],j[o++]=j[k++],j[o++]=j[k++],_-=3}while(_>2);_&&(j[o++]=j[k++],_>1&&(j[o++]=j[k++]))}break}}break}}while(i<r&&o<s);i-=_=d>>3,f&=(1<<(d-=_<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=d}},function(e,t,n){"use strict";var i=n(162),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,u,l,p,h){var f,d,m,g,v,y,b,w,_,x=h.bits,k=0,E=0,S=0,j=0,M=0,A=0,C=0,T=0,P=0,R=0,B=null,O=0,I=new i.Buf16(16),D=new i.Buf16(16),F=null,z=0;for(k=0;k<=15;k++)I[k]=0;for(E=0;E<c;E++)I[t[n+E]]++;for(M=x,j=15;j>=1&&0===I[j];j--);if(M>j&&(M=j),0===j)return u[l++]=20971520,u[l++]=20971520,h.bits=1,0;for(S=1;S<j&&0===I[S];S++);for(M<S&&(M=S),T=1,k=1;k<=15;k++)if(T<<=1,(T-=I[k])<0)return-1;if(T>0&&(0===e||1!==j))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+I[k];for(E=0;E<c;E++)0!==t[n+E]&&(p[D[t[n+E]]++]=E);if(0===e?(B=F=p,y=19):1===e?(B=r,O-=257,F=o,z-=257,y=256):(B=a,F=s,y=-1),R=0,E=0,k=S,v=l,A=M,C=0,m=-1,g=(P=1<<M)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){b=k-C,p[E]<y?(w=0,_=p[E]):p[E]>y?(w=F[z+p[E]],_=B[O+p[E]]):(w=96,_=0),f=1<<k-C,S=d=1<<A;do{u[v+(R>>C)+(d-=f)]=b<<24|w<<16|_|0}while(0!==d);for(f=1<<k-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,E++,0==--I[k]){if(k===j)break;k=t[n+p[E]]}if(k>M&&(R&g)!==m){for(0===C&&(C=M),v+=S,T=1<<(A=k-C);A+C<j&&!((T-=I[A+C])<=0);)A++,T<<=1;if(P+=1<<A,1===e&&P>852||2===e&&P>592)return 1;u[m=R&g]=M<<24|A<<16|v-l|0}}return 0!==R&&(u[v+R]=k-C<<24|64<<16|0),h.bits=M,0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){
/*!
 *  Copyright 2010 LearnBoost <dev@learnboost.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var i=n(20),r=n(39).parse,o=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];function a(e){return"AWS "+e.key+":"+c(e)}function s(e){return i.createHmac("sha1",e.secret).update(e.message).digest("base64")}function c(e){return e.message=u(e),s(e)}function u(e){var t=e.amazonHeaders||"";return t&&(t+="\n"),[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():"",t+e.resource].join("\n")}function l(e){return"GET\n\n\n"+e.date+"\n"+e.resource}e.exports=a,e.exports.authorization=a,e.exports.hmacSha1=s,e.exports.sign=c,e.exports.signQuery=function(e){return e.message=l(e),s(e)},e.exports.stringToSign=u,e.exports.queryStringToSign=l,e.exports.canonicalizeHeaders=function(e){for(var t=[],n=Object.keys(e),i=0,r=n.length;i<r;++i){var o,a=e[o=n[i]];0===(o=o.toLowerCase()).indexOf("x-amz")&&t.push(o+":"+a)}return t.sort().join("\n")},e.exports.canonicalizeResource=function(e){var t=r(e,!0),n=t.pathname,i=[];return Object.keys(t.query).forEach((function(e){if(~o.indexOf(e)){var n=""==t.query[e]?"":"="+encodeURIComponent(t.query[e]);i.push(e+n)}})),n+(i.length?"?"+i.sort().join("&"):"")}},function(e,t,n){(function(e){var i=t,r=n(39),o=n(156),a=n(20),s=n(631)(1e3);function c(e,t,n){return a.createHmac("sha256",e).update(t,"utf8").digest(n)}function u(e,t){return a.createHash("sha256").update(e,"utf8").digest(t)}function l(e){return e.replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function p(e){return l(encodeURIComponent(e))}var h={authorization:!0,connection:!0,"x-amzn-trace-id":!0,"user-agent":!0,expect:!0,"presigned-expires":!0,range:!0};function f(e,t){"string"==typeof e&&(e=r.parse(e));var n=e.headers=e.headers||{},i=(!this.service||!this.region)&&this.matchHost(e.hostname||e.host||n.Host||n.host);this.request=e,this.credentials=t||this.defaultCredentials(),this.service=e.service||i[0]||"",this.region=e.region||i[1]||"us-east-1","email"===this.service&&(this.service="ses"),!e.method&&e.body&&(e.method="POST"),n.Host||n.host||(n.Host=e.hostname||e.host||this.createHost(),e.port&&(n.Host+=":"+e.port)),e.hostname||e.host||(e.hostname=n.Host||n.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===e.method}f.prototype.matchHost=function(e){var t=((e||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(\.cn)?$/)||[]).slice(1,3);if("es"===t[1]&&(t=t.reverse()),"s3"==t[1])t[0]="s3",t[1]="us-east-1";else for(var n=0;n<2;n++)if(/^s3-/.test(t[n])){t[1]=t[n].slice(3),t[0]="s3";break}return t},f.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},f.prototype.createHost=function(){var e=this.isSingleRegion()?"":"."+this.region;return("ses"===this.service?"email":this.service)+e+".amazonaws.com"},f.prototype.prepareRequest=function(){this.parsePath();var t,n=this.request,i=n.headers;n.signQuery?(this.parsedPath.query=t=this.parsedPath.query||{},this.credentials.sessionToken&&(t["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||t["X-Amz-Expires"]||(t["X-Amz-Expires"]=86400),t["X-Amz-Date"]?this.datetime=t["X-Amz-Date"]:t["X-Amz-Date"]=this.getDateTime(),t["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",t["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),t["X-Amz-SignedHeaders"]=this.signedHeaders()):(n.doNotModifyHeaders||this.isCodeCommitGit||(!n.body||i["Content-Type"]||i["content-type"]||(i["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!n.body||i["Content-Length"]||i["content-length"]||(i["Content-Length"]=e.byteLength(n.body)),!this.credentials.sessionToken||i["X-Amz-Security-Token"]||i["x-amz-security-token"]||(i["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||i["X-Amz-Content-Sha256"]||i["x-amz-content-sha256"]||(i["X-Amz-Content-Sha256"]=u(this.request.body||"","hex")),i["X-Amz-Date"]||i["x-amz-date"]?this.datetime=i["X-Amz-Date"]||i["x-amz-date"]:i["X-Amz-Date"]=this.getDateTime()),delete i.Authorization,delete i.authorization)},f.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},f.prototype.getDateTime=function(){if(!this.datetime){var e=this.request.headers,t=new Date(e.Date||e.date||new Date);this.datetime=t.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},f.prototype.getDate=function(){return this.getDateTime().substr(0,8)},f.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},f.prototype.signature=function(){var e,t,n,i=this.getDate(),r=[this.credentials.secretAccessKey,i,this.region,this.service].join(),o=s.get(r);return o||(e=c("AWS4"+this.credentials.secretAccessKey,i),t=c(e,this.region),n=c(t,this.service),o=c(n,"aws4_request"),s.set(r,o)),c(o,this.stringToSign(),"hex")},f.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),u(this.canonicalString(),"hex")].join("\n")},f.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var e,t=this.parsedPath.path,n=this.parsedPath.query,i=this.request.headers,r="",o="s3"!==this.service,a="s3"===this.service||this.request.doNotEncodePath,s="s3"===this.service,c="s3"===this.service;if(e="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":i["X-Amz-Content-Sha256"]||i["x-amz-content-sha256"]||u(this.request.body||"","hex"),n){var l=Object.keys(n).reduce((function(e,t){return t?(e[p(t)]=Array.isArray(n[t])&&c?n[t][0]:n[t],e):e}),{}),h=[];Object.keys(l).sort().forEach((function(e){Array.isArray(l[e])?l[e].map(p).sort().forEach((function(t){h.push(e+"="+t)})):h.push(e+"="+p(l[e]))})),r=h.join("&")}return"/"!==t&&(o&&(t=t.replace(/\/{2,}/g,"/")),"/"!==(t=t.split("/").reduce((function(e,t){return o&&".."===t?e.pop():o&&"."===t||(a&&(t=decodeURIComponent(t.replace(/\+/g," "))),e.push(p(t))),e}),[]).join("/"))[0]&&(t="/"+t),s&&(t=t.replace(/%2F/g,"/"))),[this.request.method||"GET",t,r,this.canonicalHeaders()+"\n",this.signedHeaders(),e].join("\n")},f.prototype.canonicalHeaders=function(){var e=this.request.headers;return Object.keys(e).filter((function(e){return null==h[e.toLowerCase()]})).sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:1})).map((function(t){return t.toLowerCase()+":"+e[t].toString().trim().replace(/\s+/g," ")})).join("\n")},f.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return null==h[e]})).sort().join(";")},f.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},f.prototype.defaultCredentials=function(){var e=process.env;return{accessKeyId:e.AWS_ACCESS_KEY_ID||e.AWS_ACCESS_KEY,secretAccessKey:e.AWS_SECRET_ACCESS_KEY||e.AWS_SECRET_KEY,sessionToken:e.AWS_SESSION_TOKEN}},f.prototype.parsePath=function(){var e=this.request.path||"/";/[^0-9A-Za-z;,/?:@&=+$\-_.!~*'()#%]/.test(e)&&(e=encodeURI(decodeURI(e)));var t=e.indexOf("?"),n=null;t>=0&&(n=o.parse(e.slice(t+1)),e=e.slice(0,t)),this.parsedPath={path:e,query:n}},f.prototype.formatPath=function(){var e=this.parsedPath.path,t=this.parsedPath.query;return t?(null!=t[""]&&delete t[""],e+"?"+l(o.stringify(t))):e},i.RequestSigner=f,i.sign=function(e,t){return new f(e,t).sign()}}).call(this,n(9).Buffer)},function(e,t){function n(e){this.capacity=0|e,this.map=Object.create(null),this.list=new i}function i(){this.firstNode=null,this.lastNode=null}function r(e,t){this.key=e,this.val=t,this.prev=null,this.next=null}e.exports=function(e){return new n(e)},n.prototype.get=function(e){var t=this.map[e];if(null!=t)return this.used(t),t.val},n.prototype.set=function(e,t){var n=this.map[e];if(null!=n)n.val=t;else{if(this.capacity||this.prune(),!this.capacity)return!1;n=new r(e,t),this.map[e]=n,this.capacity--}return this.used(n),!0},n.prototype.used=function(e){this.list.moveToFront(e)},n.prototype.prune=function(){var e=this.list.pop();null!=e&&(delete this.map[e.key],this.capacity++)},i.prototype.moveToFront=function(e){this.firstNode!=e&&(this.remove(e),null==this.firstNode?(this.firstNode=e,this.lastNode=e,e.prev=null,e.next=null):(e.prev=null,e.next=this.firstNode,e.next.prev=e,this.firstNode=e))},i.prototype.pop=function(){var e=this.lastNode;return null!=e&&this.remove(e),e},i.prototype.remove=function(e){this.firstNode==e?this.firstNode=e.next:null!=e.prev&&(e.prev.next=e.next),this.lastNode==e?this.lastNode=e.prev:null!=e.next&&(e.next.prev=e.prev)}},function(e,t,n){var i=n(633),r=n(642),o=n(647),a=n(163);e.exports={parse:i.parseRequest,parseRequest:i.parseRequest,sign:r.signRequest,signRequest:r.signRequest,createSigner:r.createSigner,isSigner:r.isSigner,sshKeyToPEM:a.sshKeyToPEM,sshKeyFingerprint:a.fingerprint,pemToRsaSSHKey:a.pemToRsaSSHKey,verify:o.verifySignature,verifySignature:o.verifySignature,verifyHMAC:o.verifyHMAC}},function(e,t,n){var i=n(12),r=n(18),o=n(163),a=(o.HASH_ALGOS,o.PK_ALGOS,o.HttpSignatureError),s=o.InvalidAlgorithmError,c=o.validateAlgorithm,u=0,l=1,p=0,h=1,f=2,d=3;function m(e){a.call(this,e,m)}function g(e){a.call(this,e,g)}function v(e){a.call(this,e,v)}function y(e){a.call(this,e,y)}function b(e){a.call(this,e,b)}r.inherits(m,a),r.inherits(g,a),r.inherits(v,a),r.inherits(y,a),r.inherits(b,a),e.exports={parseRequest:function(e,t){i.object(e,"request"),i.object(e.headers,"request.headers"),void 0===t&&(t={}),void 0===t.headers&&(t.headers=[e.headers["x-date"]?"x-date":"date"]),i.object(t,"options"),i.arrayOfString(t.headers,"options.headers"),i.optionalFinite(t.clockSkew,"options.clockSkew");var n=t.authorizationHeaderName||"authorization";if(!e.headers[n])throw new y("no "+n+" header present in the request");t.clockSkew=t.clockSkew||300;var r,o=0,a=u,w=p,_="",x="",k={scheme:"",params:{},signingString:""},E=e.headers[n];for(o=0;o<E.length;o++){var S=E.charAt(o);switch(Number(a)){case u:" "!==S?k.scheme+=S:a=l;break;case l:switch(Number(w)){case p:var j=S.charCodeAt(0);if(j>=65&&j<=90||j>=97&&j<=122)_+=S;else{if("="!==S)throw new g("bad param format");if(0===_.length)throw new g("bad param format");w=h}break;case h:if('"'!==S)throw new g("bad param format");x="",w=f;break;case f:'"'===S?(k.params[_]=x,w=d):x+=S;break;case d:if(","!==S)throw new g("bad param format");_="",w=p;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(k.params.headers&&""!==k.params.headers?k.params.headers=k.params.headers.split(" "):e.headers["x-date"]?k.params.headers=["x-date"]:k.params.headers=["date"],!k.scheme||"Signature"!==k.scheme)throw new g('scheme was not "Signature"');if(!k.params.keyId)throw new g("keyId was not specified");if(!k.params.algorithm)throw new g("algorithm was not specified");if(!k.params.signature)throw new g("signature was not specified");k.params.algorithm=k.params.algorithm.toLowerCase();try{c(k.params.algorithm)}catch(e){throw e instanceof s?new v(k.params.algorithm+" is not supported"):e}for(o=0;o<k.params.headers.length;o++){var M=k.params.headers[o].toLowerCase();if(k.params.headers[o]=M,"request-line"===M){if(t.strict)throw new b("request-line is not a valid header with strict parsing enabled.");k.signingString+=e.method+" "+e.url+" HTTP/"+e.httpVersion}else if("(request-target)"===M)k.signingString+="(request-target): "+e.method.toLowerCase()+" "+e.url;else{var A=e.headers[M];if(void 0===A)throw new y(M+" was not in the request");k.signingString+=M+": "+A}o+1<k.params.headers.length&&(k.signingString+="\n")}if(e.headers.date||e.headers["x-date"]){r=e.headers["x-date"]?new Date(e.headers["x-date"]):new Date(e.headers.date);var C=new Date,T=Math.abs(C.getTime()-r.getTime());if(T>1e3*t.clockSkew)throw new m("clock skew of "+T/1e3+"s was greater than "+t.clockSkew+"s")}if(t.headers.forEach((function(e){if(k.params.headers.indexOf(e.toLowerCase())<0)throw new y(e+" was not a signed header")})),t.algorithms&&-1===t.algorithms.indexOf(k.params.algorithm))throw new v(k.params.algorithm+" is not a supported algorithm");return k.algorithm=k.params.algorithm.toUpperCase(),k.keyId=k.params.keyId,k}}},function(e,t,n){var i=n(228),r=n(229),o=n(635),a=n(636);for(var s in e.exports={Reader:o,Writer:a},r)r.hasOwnProperty(s)&&(e.exports[s]=r[s]);for(var c in i)i.hasOwnProperty(c)&&(e.exports[c]=i[c])},function(e,t,n){var i=n(83),r=n(14).Buffer,o=n(229),a=n(228).newInvalidAsn1Error;function s(e){if(!e||!r.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(s.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(s.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),s.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},s.prototype.peek=function(){return this.readByte(!0)},s.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(0===(t&=127))throw a("Indefinite length not supported");if(t>4)throw a("encoding too long");if(this._size-e<t)return null;this._len=0;for(var n=0;n<t;n++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},s.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);return null===n?null:(this._offset=n,t)},s.prototype.readInt=function(){return this._readTag(o.Integer)},s.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},s.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},s.prototype.readString=function(e,t){e||(e=o.OctetString);var n=this.peek();if(null===n)return null;if(n!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+n.toString(16));var i=this.readLength(this._offset+1);if(null===i)return null;if(this.length>this._size-i)return null;if(this._offset=i,0===this.length)return t?r.alloc(0):"";var s=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?s:s.toString("utf8")},s.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var n=[],i=0,r=0;r<t.length;r++){var a=255&t[r];i<<=7,i+=127&a,0==(128&a)&&(n.push(i),i=0)}return i=n.shift(),n.unshift(i%40),n.unshift(i/40>>0),n.join(".")},s.prototype._readTag=function(e){i.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>4)throw a("Integer too long: "+this.length);if(this.length>this._size-n)return null;this._offset=n;for(var r=this._buf[this._offset],o=0,s=0;s<this.length;s++)o<<=8,o|=255&this._buf[this._offset++];return 128==(128&r)&&4!==s&&(o-=1<<8*s),o>>0},e.exports=s},function(e,t,n){var i=n(83),r=n(14).Buffer,o=n(229),a=n(228).newInvalidAsn1Error,s={size:1024,growthFactor:8};function c(e){var t,n;t=s,n=e||{},i.ok(t),i.equal(typeof t,"object"),i.ok(n),i.equal(typeof n,"object"),Object.getOwnPropertyNames(t).forEach((function(e){if(!n[e]){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i)}})),e=n,this._buf=r.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(c.prototype,"buffer",{get:function(){if(this._seq.length)throw a(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),c.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},c.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var n=4;(0==(4286578688&e)||-8388608==(4286578688&e))&&n>1;)n--,e<<=8;if(n>4)throw a("BER ints cannot be > 0xffffffff");for(this._ensure(2+n),this._buf[this._offset++]=t,this._buf[this._offset++]=n;n-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},c.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},c.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},c.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},c.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+typeof e+")");"number"!=typeof t&&(t=o.OctetString);var n=r.byteLength(e);this.writeByte(t),this.writeLength(n),n&&(this._ensure(n),this._buf.write(e,this._offset),this._offset+=n)},c.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!r.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},c.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))},c.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var n=e.split("."),i=[];i.push(40*parseInt(n[0],10)+parseInt(n[1],10)),n.slice(2).forEach((function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(255&(t>>>7|128)),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t)):(e.push(255&(t>>>28|128)),e.push(255&(t>>>21|128)),e.push(255&(t>>>14|128)),e.push(255&(t>>>7|128)),e.push(127&t))}(i,parseInt(e,10))}));var r=this;this._ensure(2+i.length),this.writeByte(t),this.writeLength(i.length),i.forEach((function(e){r.writeByte(e)}))},c.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw a("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},c.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},c.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,n=this._offset-t;if(n<=127)this._shift(t,n,-2),this._buf[e]=n;else if(n<=255)this._shift(t,n,-1),this._buf[e]=129,this._buf[e+1]=n;else if(n<=65535)this._buf[e]=130,this._buf[e+1]=n>>8,this._buf[e+2]=n;else{if(!(n<=16777215))throw a("Sequence too long");this._shift(t,n,1),this._buf[e]=131,this._buf[e+1]=n>>16,this._buf[e+2]=n>>8,this._buf[e+3]=n}},c.prototype._shift=function(e,t,n){i.ok(void 0!==e),i.ok(void 0!==t),i.ok(n),this._buf.copy(this._buf,e+n,e,e+t),this._offset+=n},c.prototype._ensure=function(e){if(i.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var n=r.alloc(t);this._buf.copy(n,0,0,this._offset),this._buf=n,this._size=t}},e.exports=c},function(e,t){},function(e,t,n){var i=n(20),r=n(131).BigInteger,o=(n(164).ECPointFp,n(14).Buffer);function a(e,t){return e.length>=t?e:a("0"+e,t)}t.ECCurves=n(639),t.ECKey=function(e,t,n){var s,c=e(),u=c.getN(),l=Math.floor(u.bitLength()/8);if(t)if(n){e=c.getCurve();this.P=e.decodePointHex(t.toString("hex"))}else{if(t.length!=l)return!1;s=new r(t.toString("hex"),16)}else{var p=u.subtract(r.ONE),h=new r(i.randomBytes(u.bitLength()));s=h.mod(p).add(r.ONE),this.P=c.getG().multiply(s)}this.P&&(this.PublicKey=o.from(c.getCurve().encodeCompressedPointHex(this.P),"hex")),s&&(this.PrivateKey=o.from(a(s.toString(16),2*l),"hex"),this.deriveSharedSecret=function(e){if(!e||!e.P)return!1;var t=e.P.multiply(s);return o.from(a(t.getX().toBigInteger().toString(16),2*l),"hex")})}},function(e,t,n){var i=n(131).BigInteger,r=n(164).ECCurveFp;function o(e,t,n,i){this.curve=e,this.g=t,this.n=n,this.h=i}function a(e){return new i(e,16)}function s(){var e=a("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),t=a("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),n=a("E87579C11079F43DD824993C2CEE5ED3"),s=a("FFFFFFFE0000000075A30D1B9038A115"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new o(u,l,s,c)}function c(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),t=i.ZERO,n=a("7"),s=a("0100000000000000000001B8FA16DFAB9ACA16B6B3"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new o(u,l,s,c)}function u(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),n=a("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),s=a("0100000000000000000001F4C8F927AED3CA752257"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new o(u,l,s,c)}function l(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),t=i.ZERO,n=a("3"),s=a("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new o(u,l,s,c)}function p(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),n=a("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),s=a("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new o(u,l,s,c)}function h(){var e=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),t=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),n=a("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),s=a("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new o(u,l,s,c)}function f(){var e=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),t=a("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),n=a("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),s=a("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),c=i.ONE,u=new r(e,t,n),l=u.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new o(u,l,s,c)}o.prototype.getCurve=function(){return this.curve},o.prototype.getG=function(){return this.g},o.prototype.getN=function(){return this.n},o.prototype.getH=function(){return this.h},e.exports={secp128r1:s,secp160k1:c,secp160r1:u,secp192k1:l,secp192r1:p,secp224r1:h,secp256r1:f}},function(e,t,n){e.exports={read:function(e,t){a.isBuffer(e)&&(e=e.toString("ascii"));var n=e.trim().split(/[ \t\n]+/g);if(n.length<2||n.length>3)throw new Error("Not a valid SSH certificate line");var i=n[0],r=n[1];return g(r=a.from(r,"base64"),i)},verify:function(e,t){return!1},sign:function(e,t){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var n=b(e,!0)}catch(t){return delete e.signatures.openssh,!1}var i=e.signatures.openssh,r=void 0;"rsa"!==t.type&&"dsa"!==t.type||(r="sha1");var o=t.createSign(r);return o.write(n),i.signature=o.sign(),!0},signAsync:function(e,t,n){void 0===e.signatures.openssh&&(e.signatures.openssh={});try{var i=b(e,!0)}catch(t){return delete e.signatures.openssh,void n(t)}var r=e.signatures.openssh;t(i,(function(e,t){if(e)n(e);else{try{t.toBuffer("ssh")}catch(e){return void n(e)}r.signature=t,n()}}))},write:function(e,t){void 0===t&&(t={});var n=b(e),i=w(e.subjectKey)+" "+n.toString("base64");t.comment&&(i=i+" "+t.comment);return i},fromBuffer:g,toBuffer:b};var i=n(12),r=n(104),o=n(20),a=n(14).Buffer,s=n(30),c=n(25),u=(n(26),n(135)),l=n(62),p=n(49),h=n(27),f=n(134);var d={user:1,host:2};Object.keys(d).forEach((function(e){d[d[e]]=e}));var m=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;function g(e,t,n){var o=new r({buffer:e}),a=o.readString();if(void 0!==t&&a!==t)throw new Error("SSH certificate algorithm mismatch");void 0===t&&(t=a);var g={signatures:{}};g.signatures.openssh={},g.signatures.openssh.nonce=o.readBuffer();var y={},b=y.parts=[];y.type=function(e){if("ssh-rsa-cert-v01@openssh.com"===e)return"rsa";if("ssh-dss-cert-v01@openssh.com"===e)return"dsa";if(e.match(m))return"ecdsa";if("ssh-ed25519-cert-v01@openssh.com"===e)return"ed25519";throw new Error("Unsupported cert type "+e)}(t);for(var w=s.info[y.type].parts.length;b.length<w;)b.push(o.readPart());i.ok(b.length>=1,"key must have at least one part");var _=s.info[y.type];if("ecdsa"===y.type){var x=m.exec(t);i.ok(null!==x),i.strictEqual(x[1],b[0].data.toString())}for(var k=0;k<_.parts.length;++k)if(b[k].name=_.parts[k],"curve"!==b[k].name&&!1!==_.normalize){var E=b[k];E.data=h.mpNormalize(E.data)}g.subjectKey=new c(y),g.serial=o.readInt64();var S=d[o.readInt()];i.string(S,"valid cert type"),g.signatures.openssh.keyId=o.readString();for(var j=[],M=o.readBuffer(),A=new r({buffer:M});!A.atEnd();)j.push(A.readString());0===j.length&&(j=["*"]),g.subjects=j.map((function(e){if("user"===S)return u.forUser(e);if("host"===S)return u.forHost(e);throw new Error("Unknown identity type "+S)})),g.validFrom=v(o.readInt64()),g.validUntil=v(o.readInt64());for(var C,T=[],P=new r({buffer:o.readBuffer()});!P.atEnd();)(C={critical:!0}).name=P.readString(),C.data=P.readBuffer(),T.push(C);for(P=new r({buffer:o.readBuffer()});!P.atEnd();)(C={critical:!1}).name=P.readString(),C.data=P.readBuffer(),T.push(C);g.signatures.openssh.exts=T,o.readBuffer();var R=o.readBuffer();g.issuerKey=l.read(R),g.issuer=u.forHost("**");var B=o.readBuffer();return g.signatures.openssh.signature=p.parse(B,g.issuerKey.type,"ssh"),void 0!==n&&(n.remainder=o.remainder(),n.consumed=o._offset),new f(g)}function v(e){var t=4294967296*e.readUInt32BE(0);t+=e.readUInt32BE(4);var n=new Date;return n.setTime(1e3*t),n.sourceInt64=e,n}function y(e){if(void 0!==e.sourceInt64)return e.sourceInt64;var t=Math.round(e.getTime()/1e3),n=Math.floor(t/4294967296),i=Math.floor(t%4294967296),r=a.alloc(8);return r.writeUInt32BE(n,0),r.writeUInt32BE(i,4),r}function b(e,t){i.object(e.signatures.openssh,"signature for openssh format");var n=e.signatures.openssh;void 0===n.nonce&&(n.nonce=o.randomBytes(16));var c=new r({});c.writeString(w(e.subjectKey)),c.writeBuffer(n.nonce);var u=e.subjectKey;s.info[u.type].parts.forEach((function(e){c.writePart(u.part[e])})),c.writeInt64(e.serial);var p=e.subjects[0].type;i.notStrictEqual(p,"unknown"),e.subjects.forEach((function(e){i.strictEqual(e.type,p)})),p=d[p],c.writeInt(p),void 0===n.keyId&&(n.keyId=e.subjects[0].type+"_"+(e.subjects[0].uid||e.subjects[0].hostname)),c.writeString(n.keyId);var h=new r({});e.subjects.forEach((function(e){p===d.host?h.writeString(e.hostname):p===d.user&&h.writeString(e.uid)})),c.writeBuffer(h.toBuffer()),c.writeInt64(y(e.validFrom)),c.writeInt64(y(e.validUntil));var f=n.exts;void 0===f&&(f=[]);var m=new r({});return f.forEach((function(e){!0===e.critical&&(m.writeString(e.name),m.writeBuffer(e.data))})),c.writeBuffer(m.toBuffer()),m=new r({}),f.forEach((function(e){!0!==e.critical&&(m.writeString(e.name),m.writeBuffer(e.data))})),c.writeBuffer(m.toBuffer()),c.writeBuffer(a.alloc(0)),h=l.write(e.issuerKey),c.writeBuffer(h),t||c.writeBuffer(n.signature.toBuffer("ssh")),c.toBuffer()}function w(e){if("rsa"===e.type)return"ssh-rsa-cert-v01@openssh.com";if("dsa"===e.type)return"ssh-dss-cert-v01@openssh.com";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.curve+"-cert-v01@openssh.com";if("ed25519"===e.type)return"ssh-ed25519-cert-v01@openssh.com";throw new Error("Unsupported key type "+e.type)}},function(e,t,n){var i=n(378);e.exports={read:function(e,t){"string"!=typeof e&&(r.buffer(e,"buf"),e=e.toString("ascii"));var n,a,s=e.trim().split(/[\r\n]+/g),c=-1;for(;!n&&c<s.length;)n=s[++c].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);r.ok(n,"invalid PEM header");var u=s.length;for(;!a&&u>0;)a=s[--u].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);r.ok(a,"invalid PEM footer"),s=s.slice(c,u+1);var l={};for(;s=s.slice(1),n=s[0].match(/^([A-Za-z0-9-]+): (.+)$/);)l[n[1].toLowerCase()]=n[2];return s=s.slice(0,-1).join(""),e=o.from(s,"base64"),i.read(e,t)},verify:i.verify,sign:i.sign,write:function(e,t){var n=i.write(e,t),r=n.toString("base64"),a=r.length+r.length/64+18+16+2*"CERTIFICATE".length+10,s=o.alloc(a),c=0;c+=s.write("-----BEGIN CERTIFICATE-----\n",c);for(var u=0;u<r.length;){var l=u+64;l>r.length&&(l=r.length),c+=s.write(r.slice(u,l),c),s[c++]=10,u=l}return c+=s.write("-----END CERTIFICATE-----\n",c),s.slice(0,c)}};var r=n(12),o=(n(50),n(14).Buffer);n(30),n(27),n(25),n(26),n(61),n(135),n(49),n(134)},function(e,t,n){(function(t){var i=n(12),r=n(20),o=(n(129),n(18)),a=n(227),s=n(643),c=n(163),u=n(18).format,l=c.HASH_ALGOS,p=c.PK_ALGOS,h=c.InvalidAlgorithmError,f=c.HttpSignatureError,d=c.validateAlgorithm,m='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';function g(e){f.call(this,e,g)}function v(e){f.call(this,e,v)}function y(e){i.object(e,"options");var n=[];if(void 0!==e.algorithm&&(i.string(e.algorithm,"options.algorithm"),n=d(e.algorithm)),this.rs_alg=n,void 0!==e.sign)i.func(e.sign,"options.sign"),this.rs_signFunc=e.sign;else if("hmac"===n[0]&&void 0!==e.key){if(i.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,"string"!=typeof e.key&&!t.isBuffer(e.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=r.createHmac(n[1].toUpperCase(),e.key),this.rs_signer.sign=function(){var e=this.digest("base64");return{hashAlgorithm:n[1],toString:function(){return e}}}}else{if(void 0===e.key)throw new TypeError("options.sign (func) or options.key is required");var o=e.key;if(("string"==typeof o||t.isBuffer(o))&&(o=a.parsePrivateKey(o)),i.ok(a.PrivateKey.isPrivateKey(o,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=o,i.string(e.keyId,"options.keyId"),this.rs_keyId=e.keyId,!p[o.type])throw new h(o.type.toUpperCase()+" type keys are not supported");if(void 0!==n[0]&&o.type!==n[0])throw new h("options.key must be a "+n[0].toUpperCase()+" key, was given a "+o.type.toUpperCase()+" key instead");this.rs_signer=o.createSign(n[1])}this.rs_headers=[],this.rs_lines=[]}o.inherits(g,f),o.inherits(v,f),y.prototype.writeHeader=function(e,t){if(i.string(e,"header"),e=e.toLowerCase(),i.string(t,"value"),this.rs_headers.push(e),this.rs_signFunc)this.rs_lines.push(e+": "+t);else{var n=e+": "+t;this.rs_headers.length>0&&(n="\n"+n),this.rs_signer.update(n)}return t},y.prototype.writeDateHeader=function(){return this.writeHeader("date",s.rfc1123(new Date))},y.prototype.writeTarget=function(e,t){i.string(e,"method"),i.string(t,"path"),e=e.toLowerCase(),this.writeHeader("(request-target)",e+" "+t)},y.prototype.sign=function(e){if(i.func(e,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var t,n;if(this.rs_signFunc){var r=this.rs_lines.join("\n"),o=this;this.rs_signFunc(r,(function(r,a){if(r)e(r);else{try{i.object(a,"signature"),i.string(a.keyId,"signature.keyId"),i.string(a.algorithm,"signature.algorithm"),i.string(a.signature,"signature.signature"),t=d(a.algorithm),n=u(m,a.keyId,a.algorithm,o.rs_headers.join(" "),a.signature)}catch(t){return void e(t)}e(null,n)}}))}else{try{var a=this.rs_signer.sign()}catch(t){return void e(t)}t=(this.rs_alg[0]||this.rs_key.type)+"-"+a.hashAlgorithm;var s=a.toString();n=u(m,this.rs_keyId,t,this.rs_headers.join(" "),s),e(null,n)}},e.exports={isSigner:function(e){return"object"==typeof e&&e instanceof y},createSigner:function(e){return new y(e)},signRequest:function(e,n){i.object(e,"request"),i.object(n,"options"),i.optionalString(n.algorithm,"options.algorithm"),i.string(n.keyId,"options.keyId"),i.optionalArrayOfString(n.headers,"options.headers"),i.optionalString(n.httpVersion,"options.httpVersion"),e.getHeader("Date")||e.setHeader("Date",s.rfc1123(new Date)),n.headers||(n.headers=["date"]),n.httpVersion||(n.httpVersion="1.1");var o,c=[];n.algorithm&&(n.algorithm=n.algorithm.toLowerCase(),c=d(n.algorithm));var f,y="";for(o=0;o<n.headers.length;o++){if("string"!=typeof n.headers[o])throw new TypeError("options.headers must be an array of Strings");var b=n.headers[o].toLowerCase();if("request-line"===b){if(n.strict)throw new v("request-line is not a valid header with strict parsing enabled.");y+=e.method+" "+e.path+" HTTP/"+n.httpVersion}else if("(request-target)"===b)y+="(request-target): "+e.method.toLowerCase()+" "+e.path;else{var w=e.getHeader(b);if(void 0===w||""===w)throw new g(b+" was not in the request");y+=b+": "+w}o+1<n.headers.length&&(y+="\n")}if(e.hasOwnProperty("_stringToSign")&&(e._stringToSign=y),"hmac"===c[0]){if("string"!=typeof n.key&&!t.isBuffer(n.key))throw new TypeError("options.key must be a string or Buffer");var _=r.createHmac(c[1].toUpperCase(),n.key);_.update(y),f=_.digest("base64")}else{var x=n.key;if(("string"==typeof x||t.isBuffer(x))&&(x=a.parsePrivateKey(n.key)),i.ok(a.PrivateKey.isPrivateKey(x,[1,2]),"options.key must be a sshpk.PrivateKey"),!p[x.type])throw new h(x.type.toUpperCase()+" type keys are not supported");if(void 0!==c[0]&&x.type!==c[0])throw new h("options.key must be a "+c[0].toUpperCase()+" key, was given a "+x.type.toUpperCase()+" key instead");var k=x.createSign(c[1]);k.update(y);var E=k.sign();if(!l[E.hashAlgorithm])throw new h(E.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");n.algorithm=x.type+"-"+E.hashAlgorithm,f=E.toString(),i.notStrictEqual(f,"","empty signature produced")}var S=n.authorizationHeaderName||"Authorization";return e.setHeader(S,u(m,n.keyId,n.algorithm,n.headers.join(" "),f)),!0}}}).call(this,n(9).Buffer)},function(e,t,n){var i=n(12),r=(n(18),n(379)),o=n(644),a=n(646);function s(e,t){return i.equal(typeof t,"string"),Object.prototype.hasOwnProperty.call(e,t)}t.deepCopy=function e(t){var n,i,r="__deepCopy";if(t&&t[r])throw new Error("attempted deep copy of cyclic object");if(t&&t.constructor==Object){for(i in n={},t[r]=!0,t)i!=r&&(n[i]=e(t[i]));return delete t[r],n}if(t&&t.constructor==Array){for(n=[],t[r]=!0,i=0;i<t.length;i++)n.push(e(t[i]));return delete t[r],n}return t},t.deepEqual=function e(t,n){if(typeof t!=typeof n)return!1;if(null===t||null===n||"object"!=typeof t)return t===n;if(t.constructor!=n.constructor)return!1;var i;for(i in t){if(!n.hasOwnProperty(i))return!1;if(!e(t[i],n[i]))return!1}for(i in n)if(!t.hasOwnProperty(i))return!1;return!0},t.isEmpty=function(e){var t;for(t in e)return!1;return!0},t.hasKey=s,t.forEachKey=function(e,t){for(var n in e)s(e,n)&&t(n,e[n])},t.pluck=function(e,t){return i.equal(typeof t,"string"),function e(t,n){if(null===t||"object"!=typeof t)return;if(t.hasOwnProperty(n))return t[n];var i=n.indexOf(".");if(-1==i)return;var r=n.substr(0,i);return t.hasOwnProperty(r)?e(t[r],n.substr(i+1)):void 0}(e,t)},t.flattenObject=function e(t,n){if(0===n)return[t];i.ok(null!==t),i.equal(typeof t,"object"),i.equal(typeof n,"number"),i.ok(n>=0);var r,o=[];for(r in t)e(t[r],n-1).forEach((function(e){o.push([r].concat(e))}));return o},t.flattenIter=function(e,t,n){!function e(t,n,r,o){var a,s;if(0===n)return(a=r.slice(0)).push(t),void o(a);for(s in i.ok(null!==t),i.equal(typeof t,"object"),i.equal(typeof n,"number"),i.ok(n>=0),t)(a=r.slice(0)).push(s),e(t[s],n-1,a,o)}(e,t,[],n)},t.validateJsonObject=m,t.validateJsonObjectJS=m,t.randElt=function(e){return i.ok(Array.isArray(e)&&e.length>0,"randElt argument must be a non-empty array"),e[Math.floor(Math.random()*e.length)]},t.extraProperties=function(e,t){i.ok("object"==typeof e&&null!==e,"obj argument must be a non-null object"),i.ok(Array.isArray(t),"allowed argument must be an array of strings");for(var n=0;n<t.length;n++)i.ok("string"==typeof t[n],"allowed argument must be an array of strings");return Object.keys(e).filter((function(e){return-1===t.indexOf(e)}))},t.mergeObjects=b,t.startsWith=function(e,t){return e.substr(0,t.length)==t},t.endsWith=function(e,t){return e.substr(e.length-t.length,t.length)==t},t.parseInteger=function(e,t){i.string(e,"str"),i.optionalObject(t,"options");var n,r=!1,o=h;t&&(r=s(t,"base"),o=b(o,t),i.number(o.base,"options.base"),i.ok(o.base>=2,"options.base >= 2"),i.ok(o.base<=36,"options.base <= 36"),i.bool(o.allowSign,"options.allowSign"),i.bool(o.allowPrefix,"options.allowPrefix"),i.bool(o.allowTrailing,"options.allowTrailing"),i.bool(o.allowImprecise,"options.allowImprecise"),i.bool(o.trimWhitespace,"options.trimWhitespace"),i.bool(o.leadingZeroIsOctal,"options.leadingZeroIsOctal"),o.leadingZeroIsOctal&&i.ok(!r,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var a,c=-1,u=o.base,m=1,g=0,v=0,y=e.length;if(o.trimWhitespace)for(;v<y&&d(e.charCodeAt(v));)++v;o.allowSign&&("-"===e[v]?(v+=1,m=-1):"+"===e[v]&&(v+=1));"0"===e[v]&&(o.allowPrefix&&(-1===(c=function(e){return 98===e||66===e?2:111===e||79===e?8:116===e||84===e?10:120===e||88===e?16:-1}(e.charCodeAt(v+1)))||r&&c!==u||(u=c,v+=2)),-1===c&&o.leadingZeroIsOctal&&(u=8));for(a=v;v<y&&(-1!==(n=f(e.charCodeAt(v)))&&n<u);++v)g*=u,g+=n;if(a===v)return new Error("invalid number: "+JSON.stringify(e));if(o.trimWhitespace)for(;v<y&&d(e.charCodeAt(v));)++v;if(v<y&&!o.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(e.slice(v)));if(0===g)return 0;var w=g*m;if(!o.allowImprecise&&(g>l||w<p))return new Error("number is outside of the supported range: "+JSON.stringify(e.slice(a,v)));return w},t.iso8601=function(e){"number"==typeof e&&(e=new Date(e));return i.ok(e.constructor===Date),r.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},t.rfc1123=function(e){return r.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",u[e.getUTCDay()],e.getUTCDate(),c[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},t.parseDateTime=function(e){var t=+e;return isNaN(t)?new Date(e):new Date(t)},t.hrtimediff=v,t.hrtimeDiff=v,t.hrtimeAccum=y,t.hrtimeAdd=function(e,t){return g(e),y([e[0],e[1]],t)},t.hrtimeNanosec=function(e){return g(e),Math.floor(1e9*e[0]+e[1])},t.hrtimeMicrosec=function(e){return g(e),Math.floor(1e6*e[0]+e[1]/1e3)},t.hrtimeMillisec=function(e){return g(e),Math.floor(1e3*e[0]+e[1]/1e6)};var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var l=Number.MAX_SAFE_INTEGER||9007199254740991,p=Number.MIN_SAFE_INTEGER||-9007199254740991,h={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1};function f(e){return e>=48&&e<=57?e-48:e>=65&&e<=90?e-55:e>=97&&e<=122?e-87:-1}function d(e){return 32===e||e>=9&&e<=13||160===e||5760===e||6158===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e||65279===e}function m(e,t){var n=a.validate(t,e);if(0===n.errors.length)return null;var i,r,s=n.errors[0],c=s.property,u=s.message.toLowerCase();-1!=(i=u.indexOf("the property "))&&-1!=(r=u.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(i+="the property ".length,c=""===c?u.substr(i,r-i):c+"."+u.substr(i,r-i),u="unsupported property");var l=new o.VError('property "%s": %s',c,u);return l.jsv_details=s,l}function g(e){i.ok(e[0]>=0&&e[1]>=0,"negative numbers not allowed in hrtimes"),i.ok(e[1]<1e9,"nanoseconds column overflow")}function v(e,t){g(e),g(t),i.ok(e[0]>t[0]||e[0]==t[0]&&e[1]>=t[1],"negative differences not allowed");var n=[e[0]-t[0],0];return e[1]>=t[1]?n[1]=e[1]-t[1]:(n[0]--,n[1]=1e9-(t[1]-e[1])),n}function y(e,t){return g(e),g(t),e[1]+=t[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=t[0],e}function b(e,t,n){var i,r;if(i={},n)for(r in n)i[r]=n[r];if(e)for(r in e)i[r]=e[r];if(t)for(r in t)i[r]=t[r];return i}},function(e,t,n){var i=n(12),r=n(18),o=n(379),a=n(645).isError,s=o.sprintf;function c(e){var t,n,r,o;if(i.object(e,"args"),i.bool(e.strict,"args.strict"),i.array(e.argv,"args.argv"),0===(t=e.argv).length)n={},r=[];else if(a(t[0]))n={cause:t[0]},r=t.slice(1);else if("object"==typeof t[0]){for(o in n={},t[0])n[o]=t[0][o];r=t.slice(1)}else i.string(t[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),n={},r=t;return i.object(n),n.strict||e.strict||(r=r.map((function(e){return null===e?"null":void 0===e?"undefined":e}))),{options:n,shortmessage:0===r.length?"":s.apply(null,r)}}function u(){var e,t,n,r,o,s,l;if(e=Array.prototype.slice.call(arguments,0),!(this instanceof u))return t=Object.create(u.prototype),u.apply(t,arguments),t;if((n=c({argv:e,strict:!1})).options.name&&(i.string(n.options.name,'error\'s "name" must be a string'),this.name=n.options.name),this.jse_shortmsg=n.shortmessage,s=n.shortmessage,(r=n.options.cause)&&(i.ok(a(r),"cause is not an Error"),this.jse_cause=r,n.options.skipCauseMessage||(s+=": "+r.message)),this.jse_info={},n.options.info)for(l in n.options.info)this.jse_info[l]=n.options.info[l];return this.message=s,Error.call(this,s),Error.captureStackTrace&&(o=n.options.constructorOpt||this.constructor,Error.captureStackTrace(this,o)),this}function l(){var e,t,n,i;return e=Array.prototype.slice.call(arguments,0),this instanceof l?(i=(n=c({argv:e,strict:!0})).options,u.call(this,i,"%s",n.shortmessage),this):(t=Object.create(l.prototype),l.apply(t,arguments),t)}function p(e){i.array(e,"list of errors"),i.ok(e.length>0,"must be at least one error"),this.ase_errors=e,u.call(this,{cause:e[0]},"first of %d error%s",e.length,1==e.length?"":"s")}function h(){var e,t,n,i;return e=Array.prototype.slice.call(arguments,0),this instanceof h?((i=(n=c({argv:e,strict:!1})).options).skipCauseMessage=!0,u.call(this,i,"%s",n.shortmessage),this):(t=Object.create(h.prototype),h.apply(t,e),t)}e.exports=u,u.VError=u,u.SError=l,u.WError=h,u.MultiError=p,r.inherits(u,Error),u.prototype.name="VError",u.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),e},u.prototype.cause=function(){var e=u.cause(this);return null===e?void 0:e},u.cause=function(e){return i.ok(a(e),"err must be an Error"),a(e.jse_cause)?e.jse_cause:null},u.info=function(e){var t,n,r;if(i.ok(a(e),"err must be an Error"),t=null!==(n=u.cause(e))?u.info(n):{},"object"==typeof e.jse_info&&null!==e.jse_info)for(r in e.jse_info)t[r]=e.jse_info[r];return t},u.findCauseByName=function(e,t){var n;for(i.ok(a(e),"err must be an Error"),i.string(t,"name"),i.ok(t.length>0,"name cannot be empty"),n=e;null!==n;n=u.cause(n))if(i.ok(a(n)),n.name==t)return n;return null},u.hasCauseWithName=function(e,t){return null!==u.findCauseByName(e,t)},u.fullStack=function(e){i.ok(a(e),"err must be an Error");var t=u.cause(e);return t?e.stack+"\ncaused by: "+u.fullStack(t):e.stack},u.errorFromList=function(e){return i.arrayOfObject(e,"errors"),0===e.length?null:(e.forEach((function(e){i.ok(a(e))})),1==e.length?e[0]:new p(e))},u.errorForEach=function(e,t){i.ok(a(e),"err must be an Error"),i.func(t,"func"),e instanceof p?e.errors().forEach((function(e){t(e)})):t(e)},r.inherits(l,u),r.inherits(p,u),p.prototype.name="MultiError",p.prototype.errors=function(){return this.ase_errors.slice(0)},r.inherits(h,u),h.prototype.name="WError",h.prototype.toString=function(){var e=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(e+="; caused by "+this.jse_cause.toString()),e},h.prototype.cause=function(e){return a(e)&&(this.jse_cause=e),this.jse_cause}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(9).Buffer)},function(e,t,n){var i;void 0===(i=function(){return function(){var e=n;e.Integer={type:"integer"};var t={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};function n(e,t){return n(e,t,{changing:!1})}e.validate=n,e.checkPropertyChange=function(e,t,i){return n(e,t,{changing:i||"property"})};var n=e._validate=function(e,n,i){i||(i={});var r=i.changing;function o(e){return e.type||t[e.name]==e&&e.name.toLowerCase()}var a=[];function s(e,t,n,c){var u;function l(e){a.push({property:n,message:e})}if(n+=n?"number"==typeof c?"["+c+"]":void 0===c?"":"."+c:c,("object"!=typeof t||t instanceof Array)&&(n||"function"!=typeof t)&&(!t||!o(t)))return"function"==typeof t?e instanceof t||l("is not an instance of the class/constructor "+t.name):t&&l("Invalid schema/property definition "+t),null;function p(e,t){if(e){if(!("string"!=typeof e||"any"==e||("null"==e?null===t:typeof t==e)||t instanceof Array&&"array"==e||t instanceof Date&&"date"==e||"integer"==e&&t%1==0))return[{property:n,message:t+" - "+typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var i=[],r=0;r<e.length&&(i=p(e[r],t)).length;r++);if(i.length)return i}else if("object"==typeof e){var o=a;a=[],s(t,e,n);var c=a;return a=o,c}}return[]}if(r&&t.readonly&&l("is a readonly field, it can not be changed"),t.extends&&s(e,t.extends,n,c),void 0===e)t.required&&l("is missing and it is required");else if(a=a.concat(p(o(t),e)),t.disallow&&!p(t.disallow,e).length&&l(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items){var h=t.items instanceof Array,f=t.items;for(c=0,u=e.length;c<u;c+=1)h&&(f=t.items[c]),i.coerce&&(e[c]=i.coerce(e[c],f)),a.concat(s(e[c],f,n,c))}t.minItems&&e.length<t.minItems&&l("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&l("There must be a maximum of "+t.maxItems+" in the array")}else(t.properties||t.additionalProperties)&&a.concat(function(e,t,n,o){if("object"==typeof t)for(var c in("object"!=typeof e||e instanceof Array)&&a.push({property:n,message:"an object is required"}),t)if(t.hasOwnProperty(c)&&"__proto__"!=c&&"constructor"!=c){var u=e.hasOwnProperty(c)?e[c]:void 0;if(void 0===u&&i.existingOnly)continue;var l=t[c];void 0===u&&l.default&&(u=e[c]=l.default),i.coerce&&c in e&&(u=e[c]=i.coerce(u,l)),s(u,l,n,c)}for(c in e){if(e.hasOwnProperty(c)&&("_"!=c.charAt(0)||"_"!=c.charAt(1))&&t&&!t[c]&&!1===o){if(i.filter){delete e[c];continue}a.push({property:n,message:"The property "+c+" is not defined in the schema and the schema does not allow additional properties"})}var p=t&&t[c]&&t[c].requires;p&&!(p in e)&&a.push({property:n,message:"the presence of the property "+c+" requires that "+p+" also be present"}),u=e[c],!o||t&&"object"==typeof t&&c in t||(i.coerce&&(u=e[c]=i.coerce(u,o)),s(u,o,n,c)),!r&&u&&u.$schema&&(a=a.concat(s(u,u.$schema,n,c)))}return a}(e,t.properties,n,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&l("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&l("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&l("must be at least "+t.minLength+" characters long"),void 0!==t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&l("must have a minimum value of "+t.minimum),void 0!==t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&l("must have a maximum value of "+t.maximum),t.enum){var d,m=t.enum;u=m.length;for(var g=0;g<u;g++)if(m[g]===e){d=1;break}d||l("does not have a value in the enumeration "+m.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&l("may only have "+t.maxDecimal+" digits of decimal places")}return null}return n&&s(e,n,"",r||""),!r&&e&&e.$schema&&s(e,e.$schema,"",""),{valid:!a.length,errors:a}};return e.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map((function(e){return"for property "+e.property+": "+e.message})).join(", \n"))},e}()}.apply(t,[]))||(e.exports=i)},function(e,t,n){(function(t){var i=n(12),r=n(20),o=n(227),a=n(163),s=(a.HASH_ALGOS,a.PK_ALGOS,a.InvalidAlgorithmError,a.HttpSignatureError,a.validateAlgorithm);e.exports={verifySignature:function(e,n){i.object(e,"parsedSignature"),("string"==typeof n||t.isBuffer(n))&&(n=o.parseKey(n)),i.ok(o.Key.isKey(n,[1,1]),"pubkey must be a sshpk.Key");var r=s(e.algorithm);if("hmac"===r[0]||r[0]!==n.type)return!1;var a=n.createVerify(r[1]);return a.update(e.signingString),a.verify(e.params.signature,"base64")},verifyHMAC:function(e,n){i.object(e,"parsedHMAC"),i.string(n,"secret");var o=s(e.algorithm);if("hmac"!==o[0])return!1;var a=o[1].toUpperCase(),c=r.createHmac(a,n);c.update(e.signingString);var u=r.createHmac(a,n);u.update(c.digest()),u=u.digest();var l=r.createHmac(a,n);return l.update(new t(e.params.signature,"base64")),l=l.digest(),"string"==typeof u?u===l:t.isBuffer(u)&&!u.equals?u.toString("binary")===l.toString("binary"):u.equals(l)}}}).call(this,n(9).Buffer)},function(e,t,n){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var i,r,o,a=n(649),s=n(651).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,u=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),n=t&&a[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!u.test(t[1]))&&"UTF-8"}t.charset=l,t.charsets={lookup:l},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var i=t.charset(n);i&&(n+="; charset="+i.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=c.exec(e),i=n&&t.extensions[n[1].toLowerCase()];if(!i||!i.length)return!1;return i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=s("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),i=t.extensions,r=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],n=t.extensions;if(n&&n.length){i[e]=n;for(var s=0;s<n.length;s++){var c=n[s];if(r[c]){var u=o.indexOf(a[r[c]].source),l=o.indexOf(t.source);if("application/octet-stream"!==r[c]&&(u>l||u===l&&"application/"===r[c].substr(0,12)))continue}r[c]=e}}}))},function(e,t,n){
/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=n(650)},function(e){e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===r(e,-1);return(e=n(i(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,c=0;c<a;c++)if(r[c]!==o[c]){s=c;break}var u=[];for(c=s;c<r.length;c++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,r=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,i=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){n=t+1;break}}else-1===i&&(r=!1,i=t+1);return-1===i?"":e.slice(n,i)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===i&&(r=!1,i=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){n=a+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(8))},function(e,t,n){e.exports=u,u.SSL=l;var i=n(18),r=n(129).Agent,o=n(80),a=n(80),s=n(226).Agent;function c(e,t){return"string"==typeof e?e+":"+t:e.host+":"+e.port+":"+(e.localAddress?e.localAddress+":":":")}function u(e){var t=this;t.options=e||{},t.requests={},t.sockets={},t.freeSockets={},t.maxSockets=t.options.maxSockets||r.defaultMaxSockets,t.minSockets=t.options.minSockets||u.defaultMinSockets,t.on("free",(function(e,n,i){var r=c(n,i);if(t.requests[r]&&t.requests[r].length)t.requests[r].shift().onSocket(e);else if(t.sockets[r].length<t.minSockets){t.freeSockets[r]||(t.freeSockets[r]=[]),t.freeSockets[r].push(e);var o=function(){e.destroy()};e._onIdleError=o,e.on("error",o)}else e.destroy()}))}function l(e){u.call(this,e)}i.inherits(u,r),u.defaultMinSockets=5,u.prototype.createConnection=o.createConnection,u.prototype.addRequestNoreuse=r.prototype.addRequest,u.prototype.addRequest=function(e,t,n){var i=c(t,n);if("string"!=typeof t){var r=t;n=r.port,t=r.host}if(this.freeSockets[i]&&this.freeSockets[i].length>0&&!e.useChunkedEncodingByDefault){var o=this.freeSockets[i].pop();o.removeListener("error",o._onIdleError),delete o._onIdleError,e._reusedSocket=!0,e.onSocket(o)}else this.addRequestNoreuse(e,t,n)},u.prototype.removeSocket=function(e,t,n,i){var r;this.sockets[t]?-1!==(r=this.sockets[t].indexOf(e))&&this.sockets[t].splice(r,1):this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);this.freeSockets[t]&&(-1!==(r=this.freeSockets[t].indexOf(e))&&(this.freeSockets[t].splice(r,1),0===this.freeSockets[t].length&&delete this.freeSockets[t]));this.requests[t]&&this.requests[t].length&&this.createSocket(t,n,i).emit("free")},i.inherits(l,u),l.prototype.createConnection=function(e,t,n){n="object"==typeof e?e:"object"==typeof t?t:"object"==typeof n?n:{};"number"==typeof e&&(n.port=e);"string"==typeof t&&(n.host=t);return a.connect(n)},l.prototype.addRequestNoreuse=s.prototype.addRequest},function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData},function(e,t){e.exports=r,r.strict=o,r.loose=a;var n=Object.prototype.toString,i={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function r(e){return o(e)||a(e)}function o(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function a(e){return i[n.call(e)]}},function(e,t,n){"use strict";(function(t){function n(e){return e.replace(/^\.*/,".").toLowerCase()}function i(e){var t=(e=e.trim().toLowerCase()).split(":",2);return{hostname:n(t[0]),port:t[1],hasPort:e.indexOf(":")>-1}}e.exports=function(e){var r=t.env.NO_PROXY||t.env.no_proxy||"";return"*"===r||""!==r&&function(e,t){var r=e.port||("https:"===e.protocol?"443":"80"),o=n(e.hostname);return t.split(",").map(i).some((function(e){var t=o.indexOf(e.hostname),n=t>-1&&t===o.length-e.hostname.length;return e.hasPort?r===e.port&&n:n}))}(e,r)?null:"http:"===e.protocol?t.env.HTTP_PROXY||t.env.http_proxy||null:"https:"===e.protocol&&(t.env.HTTPS_PROXY||t.env.https_proxy||t.env.HTTP_PROXY||t.env.http_proxy)||null}}).call(this,n(8))},function(e,t,n){"use strict";var i=n(381),r=n(156);function o(e){this.request=e,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}o.prototype.init=function(e){this.lib||(this.useQuerystring=e.useQuerystring,this.lib=this.useQuerystring?r:i,this.parseOptions=e.qsParseOptions||{},this.stringifyOptions=e.qsStringifyOptions||{})},o.prototype.stringify=function(e){return this.useQuerystring?this.rfc3986(this.lib.stringify(e,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(e,this.stringifyOptions)},o.prototype.parse=function(e){return this.useQuerystring?this.lib.parse(e,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(e,this.parseOptions)},o.prototype.rfc3986=function(e){return e.replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},o.prototype.unescape=r.unescape,t.Querystring=o},function(e,t,n){"use strict";var i=n(382),r=n(383),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,s=Array.prototype.push,c=function(e,t){s.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,r,o,s,u,p,h,f,d,m,g){var v=t;if("function"==typeof p?v=p(n,v):v instanceof Date&&(v=d(v)),null===v){if(o)return u&&!g?u(n,l.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||i.isBuffer(v))return u?[m(g?n:u(n,l.encoder))+"="+m(u(v,l.encoder))]:[m(n)+"="+m(String(v))];var y,b=[];if(void 0===v)return b;if(a(p))y=p;else{var w=Object.keys(v);y=h?w.sort(h):w}for(var _=0;_<y.length;++_){var x=y[_];s&&null===v[x]||(a(v)?c(b,e(v[x],r(n,x),r,o,s,u,p,h,f,d,m,g)):c(b,e(v[x],n+(f?"."+x:"["+x+"]"),r,o,s,u,p,h,f,d,m,g)))}return b};e.exports=function(e,t){var n=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===s.delimiter?l.delimiter:s.delimiter,h="boolean"==typeof s.strictNullHandling?s.strictNullHandling:l.strictNullHandling,f="boolean"==typeof s.skipNulls?s.skipNulls:l.skipNulls,d="boolean"==typeof s.encode?s.encode:l.encode,m="function"==typeof s.encoder?s.encoder:l.encoder,g="function"==typeof s.sort?s.sort:null,v=void 0!==s.allowDots&&s.allowDots,y="function"==typeof s.serializeDate?s.serializeDate:l.serializeDate,b="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:l.encodeValuesOnly;if(void 0===s.format)s.format=r.default;else if(!Object.prototype.hasOwnProperty.call(r.formatters,s.format))throw new TypeError("Unknown format option provided.");var w,_,x=r.formatters[s.format];"function"==typeof s.filter?n=(_=s.filter)("",n):a(s.filter)&&(w=_=s.filter);var k,E=[];if("object"!=typeof n||null===n)return"";k=s.arrayFormat in o?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var S=o[k];w||(w=Object.keys(n)),g&&w.sort(g);for(var j=0;j<w.length;++j){var M=w[j];f&&null===n[M]||c(E,p(n[M],M,S,h,f,d?m:null,_,g,v,y,x,b))}var A=E.join(u),C=!0===s.addQueryPrefix?"?":"";return A.length>0?C+A:""}},function(e,t,n){"use strict";var i=n(382),r=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(i),s=a?i.slice(0,a.index):i,c=[];if(s){if(!n.plainObjects&&r.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;null!==(a=o.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,n){for(var i=t,r=e.length-1;r>=0;--r){var o,a=e[r];if("[]"===a&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=i:"__proto__"!==s&&(o[s]=i):o={0:i}}i=o}return i}(c,t,n)}};e.exports=function(e,t){var n=t?i.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:o.delimiter,n.depth="number"==typeof n.depth?n.depth:o.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:o.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:o.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:o.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:o.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:o.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:o.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:o.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var n={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),c=0;c<s.length;++c){var u,l,p=s[c],h=p.indexOf("]="),f=-1===h?p.indexOf("="):h+1;-1===f?(u=t.decoder(p,o.decoder),l=t.strictNullHandling?null:""):(u=t.decoder(p.slice(0,f),o.decoder),l=t.decoder(p.slice(f+1),o.decoder)),r.call(n,u)?n[u]=[].concat(n[u]).concat(l):n[u]=l}return n}(e,n):e,c=n.plainObjects?Object.create(null):{},u=Object.keys(s),l=0;l<u.length;++l){var p=u[l],h=a(p,s[p],n);c=i.merge(c,h,n)}return i.compact(c)}},function(e,t,n){"use strict";var i=n(80),r=n(156),o=n(660),a=n(203);function s(e){this.request=e}s.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var n=[e[t.name],t.value];return e[t.name]=n,e},s.prototype.prep=function(e){if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight((function(e,t){return e[t.name]=t.value,e}),{})),e.cookies&&e.cookies.length){var t=e.cookies.map((function(e){return e.name+"="+e.value}));t.length&&(e.headersObj.cookie=t.join("; "))}function n(t){return t.some((function(t){return 0===e.postData.mimeType.indexOf(t)}))}if(n(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))e.postData.mimeType="multipart/form-data";else if(n(["application/x-www-form-urlencoded"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=r.stringify(e.postData.paramsObj)):e.postData.text="";else if(n(["text/json","text/x-json","application/json","application/x-json"])&&(e.postData.mimeType="application/json",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(t){this.request.debug(t),e.postData.mimeType="text/plain"}return e},s.prototype.options=function(e){if(!e.har)return e;var t={};if(a(t,e.har),t.log&&t.log.entries&&(t=t.log.entries[0]),t.url=t.url||e.url||e.uri||e.baseUrl||"/",t.httpVersion=t.httpVersion||"HTTP/1.1",t.queryString=t.queryString||[],t.headers=t.headers||[],t.cookies=t.cookies||[],t.postData=t.postData||{},t.postData.mimeType=t.postData.mimeType||"application/octet-stream",t.bodySize=0,t.headersSize=0,t.postData.size=0,!o.request(t))return e;var n=this.prep(t);function r(e){return 0===n.postData.mimeType.indexOf(e)}return n.url&&(e.url=n.url),n.method&&(e.method=n.method),Object.keys(n.queryObj).length&&(e.qs=n.queryObj),Object.keys(n.headersObj).length&&(e.headers=n.headersObj),r("application/x-www-form-urlencoded")?e.form=n.postData.paramsObj:r("application/json")?n.postData.jsonObj&&(e.body=n.postData.jsonObj,e.json=!0):r("multipart/form-data")?(e.formData={},n.postData.params.forEach((function(t){var n={};t.fileName||t.contentType?(t.fileName&&!t.value?n.value=i.createReadStream(t.fileName):t.value&&(n.value=t.value),t.fileName&&(n.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),e.formData[t.name]=n):e.formData[t.name]=t.value}))):n.postData.text&&(e.body=n.postData.text),e},t.Har=s},function(e,t,n){var i,r=n(661),o=n(695),a=n(696);function s(e,t){t=t||{};var s=(i=i||function(){var e=new r({allErrors:!0});return e.addMetaSchema(n(715)),e.addSchema(a),e}()).getSchema(e+".json");return new Promise((function(e,n){s(t)?e(t):n(new o(s.errors))}))}t.afterRequest=function(e){return s("afterRequest",e)},t.beforeRequest=function(e){return s("beforeRequest",e)},t.browser=function(e){return s("browser",e)},t.cache=function(e){return s("cache",e)},t.content=function(e){return s("content",e)},t.cookie=function(e){return s("cookie",e)},t.creator=function(e){return s("creator",e)},t.entry=function(e){return s("entry",e)},t.har=function(e){return s("har",e)},t.header=function(e){return s("header",e)},t.log=function(e){return s("log",e)},t.page=function(e){return s("page",e)},t.pageTimings=function(e){return s("pageTimings",e)},t.postData=function(e){return s("postData",e)},t.query=function(e){return s("query",e)},t.request=function(e){return s("request",e)},t.response=function(e){return s("response",e)},t.timings=function(e){return s("timings",e)}},function(e,t,n){"use strict";var i=n(662),r=n(235),o=n(666),a=n(384),s=n(385),c=n(667),u=n(668),l=n(689),p=n(105);e.exports=v,v.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);n=i.validate||this._compile(i)}var r=n(t);!0!==n.$async&&(this.errors=n.errors);return r},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,i);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return k(this,t=r.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,n,i,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(d)?d:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(n,e);if(!i&&t){var r="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(r);this.logger.error(r)}return i},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=r.schema.call(e,{schema:{}},t);if(n){var o=n.schema,s=n.root,c=n.baseId,u=i.call(e,o,s,void 0,c);return e._fragments[t]=new a({ref:t,fragment:!0,schema:o,root:s,baseId:c,validate:u}),u}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,i=n?n(e):e;this._cache.del(i);var o=this._getId(e);o&&(o=r.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,r="",o=0;o<e.length;o++){var a=e[o];a&&(r+=i+a.dataPath+" "+a.message+n)}return r.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,i){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,s=o?o(e):e,c=this._cache.get(s);if(c)return c;i=i||!1!==this._opts.addUsedSchema;var u=r.normalizeId(this._getId(e));u&&i&&k(this,u);var l,p=!1!==this._opts.validateSchema&&!t;p&&!(l=u&&u==r.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=r.ids.call(this,e),f=new a({id:u,schema:e,localRefs:h,cacheKey:s,meta:n});"#"!=u[0]&&i&&(this._refs[u]=f);this._cache.put(s,f),p&&l&&this.validateSchema(e,!0);return f},v.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,r;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{r=i.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(690);var h=n(691);v.prototype.addKeyword=h.add,v.prototype.getKeyword=h.get,v.prototype.removeKeyword=h.remove,v.prototype.validateKeyword=h.validate;var f=n(237);v.ValidationError=f.Validation,v.MissingRefError=f.MissingRef,v.$dataMetaSchema=l;var d="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=p.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:E,warn:E,error:E};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return w;default:return _}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=p.copy(e._opts),n=0;n<m.length;n++)delete t[m[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(694),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var i=n(391);e._opts.$data&&(i=l(i,g));e.addMetaSchema(i,d,!0),e._refs["http://json-schema.org/schema"]=d}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=r.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var i in t){var r=t[i];r.meta||n&&!n.test(i)||(e._cache.del(r.cacheKey),delete t[i])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(){}},function(e,t,n){"use strict";var i=n(235),r=n(105),o=n(237),a=n(385),s=n(386),c=r.ucs2length,u=n(236),l=o.Validation;function p(e,t,n){var i=f.call(this,e,t,n);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:t,baseId:n},{index:i,compiling:!1})}function h(e,t,n){var i=f.call(this,e,t,n);i>=0&&this._compilations.splice(i,1)}function f(e,t,n){for(var i=0;i<this._compilations.length;i++){var r=this._compilations[i];if(r.schema==e&&r.root==t&&r.baseId==n)return i}return-1}function d(e,t){return"var pattern"+e+" = new RegExp("+r.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function v(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",i=0;i<e.length;i++)n+=t(i,e);return n}e.exports=function e(t,n,f,b){var w=this,_=this._opts,x=[void 0],k={},E=[],S={},j=[],M={},A=[];n=n||{schema:t,refVal:x,refs:k};var C=p.call(this,t,n,b),T=this._compilations[C.index];if(C.compiling)return T.callValidate=function e(){var t=T.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,R=this.RULES;try{var B=I(t,n,f,b);T.validate=B;var O=T.callValidate;return O&&(O.schema=B.schema,O.errors=null,O.refs=B.refs,O.refVal=B.refVal,O.root=B.root,O.$async=B.$async,_.sourceCode&&(O.source=B.source)),B}finally{h.call(this,t,n,b)}function I(t,a,p,h){var f=!a||a&&a.schema==t;if(a.schema!=n.schema)return e.call(w,t,a,p,h);var b,S=!0===t.$async,M=s({isTop:!0,schema:t,isRoot:f,baseId:h,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:R,validate:s,util:r,resolve:i,resolveRef:D,usePattern:N,useDefault:L,useCustomRule:q,opts:_,formats:P,logger:w.logger,self:w});M=y(x,g)+y(E,d)+y(j,m)+y(A,v)+M,_.processCode&&(M=_.processCode(M,t));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",M)(w,R,P,n,x,j,A,u,c,l),x[0]=b}catch(e){throw w.logger.error("Error compiling schema, function code:",M),e}return b.schema=t,b.errors=null,b.refs=k,b.refVal=x,b.root=f?b:a,S&&(b.$async=!0),!0===_.sourceCode&&(b.source={code:M,patterns:E,defaults:j}),b}function D(t,r,o){r=i.url(t,r);var a,s,c=k[r];if(void 0!==c)return z(a=x[c],s="refVal["+c+"]");if(!o&&n.refs){var u=n.refs[r];if(void 0!==u)return z(a=n.refVal[u],s=F(r,a))}s=F(r);var l=i.call(w,I,n,r);if(void 0===l){var p=f&&f[r];p&&(l=i.inlineRef(p,_.inlineRefs)?p:e.call(w,p,n,f,t))}if(void 0!==l)return function(e,t){var n=k[e];x[n]=t}(r,l),z(l,s);!function(e){delete k[e]}(r)}function F(e,t){var n=x.length;return x[n]=t,k[e]=n,"refVal"+n}function z(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function N(e){var t=S[e];return void 0===t&&(t=S[e]=E.length,E[t]=e),"pattern"+t}function L(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return r.toQuotedString(e);case"object":if(null===e)return"null";var t=a(e),n=M[t];return void 0===n&&(n=M[t]=j.length,j[n]=e),"default"+n}}function q(e,t,n,i){if(!1!==w._opts.validateSchema){var r=e.definition.dependencies;if(r&&!r.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+r.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var a="keyword schema is invalid: "+w.errorsText(o.errors);if("log"!=w._opts.validateSchema)throw new Error(a);w.logger.error(a)}}var s,c=e.definition.compile,u=e.definition.inline,l=e.definition.macro;if(c)s=c.call(w,t,n,i);else if(l)s=l.call(w,t,n,i),!1!==_.validateSchema&&w.validateSchema(s,!0);else if(u)s=u.call(w,i,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var p=A.length;return A[p]=s,{code:"customRule"+p,validate:s}}}},function(e,t,n){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){var i=t("[0-9]","[A-Fa-f]"),r=n(n("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+n("%[89A-Fa-f]"+i+"%"+i+i)+"|"+n("%"+i+i)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",a=t("[\\:\\/\\?\\#\\[\\]\\@]",o),s=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=n(n(r+"|"+t(c,o,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),h=n(p+"\\."+p+"\\."+p+"\\."+p),f=n(i+"{1,4}"),d=n(n(f+"\\:"+f)+"|"+h),m=n(n(f+"\\:")+"{6}"+d),g=n("\\:\\:"+n(f+"\\:")+"{5}"+d),v=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+d),y=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+d),b=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+d),w=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+d),_=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+d),x=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),k=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),E=n([m,g,v,y,b,w,_,x,k].join("|")),S=n(n(c+"|"+r)+"+"),j=(n(E+"\\%25"+S),n(E+n("\\%25|\\%(?!"+i+"{2})")+S)),M=n("[vV]"+i+"+\\."+t(c,o,"[\\:]")+"+"),A=n("\\["+n(j+"|"+E+"|"+M)+"\\]"),C=n(n(r+"|"+t(c,o))+"*"),T=n(A+"|"+h+"(?!"+C+")|"+C),P=n("[0-9]*"),R=n(n(l+"@")+"?"+T+n("\\:"+P)+"?"),B=n(r+"|"+t(c,o,"[\\:\\@]")),O=n(B+"*"),I=n(B+"+"),D=n(n(r+"|"+t(c,o,"[\\@]"))+"+"),F=n(n("\\/"+O)+"*"),z=n("\\/"+n(I+F)+"?"),N=n(D+F),L=n(I+F),q="(?!"+B+")",H=(n(F+"|"+z+"|"+N+"|"+L+"|"+q),n(n(B+"|"+t("[\\/\\?]",s))+"*")),U=n(n(B+"|[\\/\\?]")+"*"),$=n(n("\\/\\/"+R+F)+"|"+z+"|"+L+"|"+q),V=n(u+"\\:"+$+n("\\?"+H)+"?"+n("\\#"+U)+"?"),W=n(n("\\/\\/"+R+F)+"|"+z+"|"+N+"|"+q),G=n(W+n("\\?"+H)+"?"+n("\\#"+U)+"?");return n(V+"|"+G),n(u+"\\:"+$+n("\\?"+H)+"?"),n(n("\\/\\/("+n("("+l+")@")+"?("+T+")"+n("\\:("+P+")")+"?)")+"?("+F+"|"+z+"|"+L+"|"+q+")"),n("\\?("+H+")"),n("\\#("+U+")"),n(n("\\/\\/("+n("("+l+")@")+"?("+T+")"+n("\\:("+P+")")+"?)")+"?("+F+"|"+z+"|"+N+"|"+q+")"),n("\\?("+H+")"),n("\\#("+U+")"),n(n("\\/\\/("+n("("+l+")@")+"?("+T+")"+n("\\:("+P+")")+"?)")+"?("+F+"|"+z+"|"+L+"|"+q+")"),n("\\?("+H+")"),n("\\#("+U+")"),n("("+l+")@"),n("\\:("+P+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,o),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,o),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,o),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,o),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,o),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,a),"g"),PCT_ENCODED:new RegExp(r,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+n(n("\\%25|\\%(?!"+i+"{2})")+"("+S+")")+"?\\]?$")}}var a=o(!1),s=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=/^xn--/,p=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(f[e])}function v(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var r=function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(h,".")).split("."),t).join(".");return i+r}function y(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var i=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;i+=36)e=d(e/35);return d(i+36*e/(e+38))},_=function(e){var t,n=[],i=e.length,r=0,o=128,a=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var c=0;c<s;++c)e.charCodeAt(c)>=128&&g("not-basic"),n.push(e.charCodeAt(c));for(var l=s>0?s+1:0;l<i;){for(var p=r,h=1,f=36;;f+=36){l>=i&&g("invalid-input");var m=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>d((u-r)/h))&&g("overflow"),r+=m*h;var v=f<=a?1:f>=a+26?26:f-a;if(m<v)break;var y=36-v;h>d(u/y)&&g("overflow"),h*=y}var b=n.length+1;a=w(r-p,b,0==p),d(r/b)>u-o&&g("overflow"),o+=d(r/b),r%=b,n.splice(r++,0,o)}return String.fromCodePoint.apply(String,n)},x=function(e){var t=[],n=(e=y(e)).length,i=128,r=0,o=72,a=!0,s=!1,c=void 0;try{for(var l,p=e[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){var h=l.value;h<128&&t.push(m(h))}}catch(e){s=!0,c=e}finally{try{!a&&p.return&&p.return()}finally{if(s)throw c}}var f=t.length,v=f;for(f&&t.push("-");v<n;){var _=u,x=!0,k=!1,E=void 0;try{for(var S,j=e[Symbol.iterator]();!(x=(S=j.next()).done);x=!0){var M=S.value;M>=i&&M<_&&(_=M)}}catch(e){k=!0,E=e}finally{try{!x&&j.return&&j.return()}finally{if(k)throw E}}var A=v+1;_-i>d((u-r)/A)&&g("overflow"),r+=(_-i)*A,i=_;var C=!0,T=!1,P=void 0;try{for(var R,B=e[Symbol.iterator]();!(C=(R=B.next()).done);C=!0){var O=R.value;if(O<i&&++r>u&&g("overflow"),O==i){for(var I=r,D=36;;D+=36){var F=D<=o?1:D>=o+26?26:D-o;if(I<F)break;var z=I-F,N=36-F;t.push(m(b(F+z%N,0))),I=d(z/N)}t.push(m(b(I,0))),o=w(r,A,v==f),r=0,++v}}}catch(e){T=!0,P=e}finally{try{!C&&B.return&&B.return()}finally{if(T)throw P}}++r,++i}return t.join("")},k=function(e){return v(e,(function(e){return p.test(e)?"xn--"+x(e):e}))},E=function(e){return v(e,(function(e){return l.test(e)?_(e.slice(4).toLowerCase()):e}))},S={};function j(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function M(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function A(e,t){function n(e){var n=M(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,j).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,j).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,j).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,j).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,j).replace(t.PCT_ENCODED,r)),e}function C(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=c(n,2)[1];return i?i.split(".").map(C).join("."):e}function P(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=c(n,3),r=i[1],o=i[2];if(r){for(var a=r.toLowerCase().split("::").reverse(),s=c(a,2),u=s[0],l=s[1],p=l?l.split(":").map(C):[],h=u.split(":").map(C),f=t.IPV4ADDRESS.test(h[h.length-1]),d=f?7:8,m=h.length-d,g=Array(d),v=0;v<d;++v)g[v]=p[v]||h[m+v]||"";f&&(g[d-1]=T(g[d-1],t));var y=g.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),_=g.slice(y.index+y.length);b=w.join(":")+"::"+_.join(":")}else b=g.join(":");return o&&(b+="%"+o),b}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,B=void 0==="".match(/(){0}/)[1];function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?s:a;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(R);if(r){B?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=P(T(n.host,i),i)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=S[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)A(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=k(n.host.replace(i.PCT_ENCODED,M).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}A(n,a)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function I(e,t){var n=!1!==t.iri?s:a,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(P(T(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var D=/^\.\.?\//,F=/^\/\.(\/|$)/,z=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(D))e=e.replace(D,"");else if(e.match(F))e=e.replace(F,"/");else if(e.match(z))e=e.replace(z,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(N);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:a,i=[],r=S[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?E(e.host):k(e.host.replace(n.PCT_ENCODED,M).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}A(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=I(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||r&&r.absolutePath||(c=L(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),i.push(c)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r={};return i||(e=O(q(e,n),n),t=O(q(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=L(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=L(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=L(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:a.PCT_ENCODED,M)}var $={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},V={scheme:"https",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize};function W(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=W(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(W(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=c(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},Z={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",X="[0-9A-Fa-f]",J=n(n("%[EFef]"+X+"%"+X+X+"%"+X+X)+"|"+n("%[89A-Fa-f]"+X+"%"+X+X)+"|"+n("%"+X+X)),Q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(Y,"g"),te=new RegExp(J,"g"),ne=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Q),"g"),ie=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=ie;function oe(e){var t=M(e);return t.match(ee)?t:e}var ae={scheme:"mailto",parse:function(e,t){var n=e,i=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,o={},a=n.query.split("&"),s=0,c=a.length;s<c;++s){var u=a[s].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),p=0,h=l.length;p<h;++p)i.push(l[p]);break;case"subject":n.subject=U(u[1],t);break;case"body":n.body=U(u[1],t);break;default:r=!0,o[U(u[0],t)]=U(u[1],t)}}r&&(n.headers=o)}n.query=void 0;for(var f=0,d=i.length;f<d;++f){var m=i[f].split("@");if(m[0]=U(m[0]),t.unicodeSupport)m[1]=U(m[1],t).toLowerCase();else try{m[1]=k(U(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[f]=m.join("@")}return n},serialize:function(e,t){var n,i=e,o=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(o){for(var a=0,s=o.length;a<s;++a){var c=String(o[a]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(te,oe).replace(te,r).replace(ne,j),p=c.slice(u+1);try{p=t.iri?E(p):k(U(p,t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[a]=l+"@"+p}i.path=o.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var f=[];for(var d in h)h[d]!==Z[d]&&f.push(d.replace(te,oe).replace(te,r).replace(ie,j)+"="+h[d].replace(te,oe).replace(te,r).replace(re,j));return f.length&&(i.query=f.join("&")),i}},se=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=r+":"+(t.nid||o),c=S[s];i.nid=o,i.nss=a,i.path=void 0,c&&(i=c.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",i=e.nid,r=n+":"+(t.nid||i),o=S[r];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(i||t.nid)+":"+s,a}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ue)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};S[$.scheme]=$,S[V.scheme]=V,S[G.scheme]=G,S[K.scheme]=K,S[ae.scheme]=ae,S[ce.scheme]=ce,S[le.scheme]=le,e.SCHEMES=S,e.pctEncChar=j,e.pctDecChars=M,e.parse=O,e.removeDotSegments=L,e.serialize=q,e.resolveComponents=H,e.resolve=function(e,t,n){var i=function(e,t){var n=e;if(t)for(var i in t)n[i]=t[i];return n}({scheme:"null"},n);return q(H(O(e,i),O(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=q(O(e,t),t):"object"===i(e)&&(e=O(q(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=q(O(e,n),n):"object"===i(e)&&(e=q(e,n)),"string"==typeof t?t=q(O(t,n),n):"object"===i(t)&&(t=q(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:a.ESCAPE,j)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,i=e.length,r=0;r<i;)n++,(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i&&56320==(64512&(t=e.charCodeAt(r)))&&r++;return n}},function(e,t,n){"use strict";var i=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,r,o,a,s,c,u,l,p){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var h in n(o,a,s,c,u,l,p),o){var f=o[h];if(Array.isArray(f)){if(h in i.arrayKeywords)for(var d=0;d<f.length;d++)e(t,n,r,f[d],a+"/"+h+"/"+d,s,a,h,o,d)}else if(h in i.propsKeywords){if(f&&"object"==typeof f)for(var m in f)e(t,n,r,f[m],a+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,a,h,o,m)}else(h in i.keywords||t.allKeys&&!(h in i.skipKeywords))&&e(t,n,r,f,a+"/"+h,s,a,h,o)}r(o,a,s,c,u,l,p)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var i=e.exports=function(){this._cache={}};i.prototype.put=function(e,t){this._cache[e]=t},i.prototype.get=function(e){return this._cache[e]},i.prototype.del=function(e){delete this._cache[e]},i.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var i=n(105),r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,f=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,d=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",i.copy(m[e])}function g(e){var t=e.match(r);if(!t)return!1;var n=+t[1],i=+t[2],a=+t[3];return i>=1&&i<=12&&a>=1&&a<=(2==i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:o[i])}function v(e,t){var n=e.match(a);if(!n)return!1;var i=n[1],r=n[2],o=n[3],s=n[5];return(i<=23&&r<=59&&o<=59||23==i&&59==r&&60==o)&&(!t||s)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":f,"relative-json-pointer":d},m.full={date:g,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&g(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:_,uuid:p,"json-pointer":h,"json-pointer-uri-fragment":f,"relative-json-pointer":d};var y=/t|\s/i;var b=/\/|:/;var w=/[^\\]\\Z/;function _(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var i=n(669),r=n(105).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=r(t),e.types=r(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var r;if("object"==typeof n){var o=Object.keys(n)[0];r=n[o],n=o,r.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:i[n],implements:r}})),e.all.$comment={keyword:"$comment",code:i.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=r(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(670),allOf:n(671),anyOf:n(672),$comment:n(673),const:n(674),contains:n(675),dependencies:n(676),enum:n(677),format:n(678),if:n(679),items:n(680),maximum:n(387),minimum:n(387),maxItems:n(388),minItems:n(388),maxLength:n(389),minLength:n(389),maxProperties:n(390),minProperties:n(390),multipleOf:n(681),not:n(682),oneOf:n(683),pattern:n(684),properties:n(685),propertyNames:n(686),required:n(687),uniqueItems:n(688),validate:n(386)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(s||""),h="valid"+a;if("#"==c||"#/"==c)e.isRoot?(i=e.async,r="validate"):(i=!0===e.root.schema.$async,r="root.refVal[0]");else{var f=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===f){var d=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(d),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,d);e.logger.warn(d),l&&(o+=" if (true) { ")}}else if(f.inline){var g=e.util.copy(e);g.level++;var v="valid"+g.level;g.schema=f.schema,g.schemaPath="",g.errSchemaPath=c,o+=" "+e.validate(g).replace(/validate\.schema/g,f.code)+" ",l&&(o+=" if ("+v+") { ")}else i=!0===f.$async||e.async&&!1!==f.$async,r=f.code}if(r){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+r+".call(this, ":o+=" "+r+"( ",o+=" "+p+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var b=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),i){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+h+"; "),o+=" try { await "+b+"; ",l&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+h+" = false; "),o+=" } ",l&&(o+=" if ("+h+") { ")}else o+=" if (!"+b+") { if (vErrors === null) vErrors = "+r+".errors; else vErrors = vErrors.concat("+r+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,p=c.baseId,h=!0,f=r;if(f)for(var d,m=-1,g=f.length-1;m<g;)d=f[m+=1],(e.opts.strictKeywords?"object"==typeof d&&Object.keys(d).length>0||!1===d:e.util.schemaHasRules(d,e.RULES.all))&&(h=!1,c.schema=d,c.schemaPath=o+"["+m+"]",c.errSchemaPath=a+"/"+m,i+="  "+e.validate(c)+" ",c.baseId=p,s&&(i+=" if ("+l+") { ",u+="}"));return s&&(i+=h?" if (true) { ":" "+u.slice(0,-1)+" "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h="errs__"+r,f=e.util.copy(e),d="";f.level++;var m="valid"+f.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var g=f.baseId;i+=" var "+h+" = errors; var "+p+" = false;  ";var v=e.compositeRule;e.compositeRule=f.compositeRule=!0;var y=a;if(y)for(var b,w=-1,_=y.length-1;w<_;)b=y[w+=1],f.schema=b,f.schemaPath=s+"["+w+"]",f.errSchemaPath=c+"/"+w,i+="  "+e.validate(f)+" ",f.baseId=g,i+=" "+p+" = "+p+" || "+m+"; if (!"+p+") { ",d+="}";e.compositeRule=f.compositeRule=v,i+=" "+d+" if (!"+p+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else u&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.schema[t],o=e.errSchemaPath+"/"+t,a=(e.opts.allErrors,e.util.toQuotedString(r));return!0===e.opts.$comment?i+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(i+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h=e.opts.$data&&a&&a.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),h||(i+=" var schema"+r+" = validate.schema"+s+";"),i+="var "+p+" = equal("+l+", schema"+r+"); if (!"+p+") {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var d=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+d+"]); ":i+=" validate.errors = ["+d+"]; return false; ":i+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h="errs__"+r,f=e.util.copy(e);f.level++;var d="valid"+f.level,m="i"+r,g=f.dataLevel=e.dataLevel+1,v="data"+g,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all);if(i+="var "+h+" = errors;var "+p+";",b){var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=a,f.schemaPath=s,f.errSchemaPath=c,i+=" var "+d+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var _=l+"["+m+"]";f.dataPathArr[g]=m;var x=e.validate(f);f.baseId=y,e.util.varOccurences(x,v)<2?i+=" "+e.util.varReplace(x,v,_)+" ":i+=" var "+v+" = "+_+"; "+x+" ",i+=" if ("+d+") break; }  ",e.compositeRule=f.compositeRule=w,i+="  if (!"+d+") {"}else i+=" if ("+l+".length == 0) {";var k=k||[];k.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var E=i;return i=k.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",b&&(i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+r,h=e.util.copy(e),f="";h.level++;var d="valid"+h.level,m={},g={},v=e.opts.ownProperties;for(_ in a)if("__proto__"!=_){var y=a[_],b=Array.isArray(y)?g:m;b[_]=y}i+="var "+p+" = errors;";var w=e.errorPath;for(var _ in i+="var missing"+r+";",g)if((b=g[_]).length){if(i+=" if ( "+l+e.util.getProperty(_)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(_)+"') "),u){i+=" && ( ";var x=b;if(x)for(var k=-1,E=x.length-1;k<E;){T=x[k+=1],k&&(i+=" || "),i+=" ( ( "+(O=l+(B=e.util.getProperty(T)))+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),i+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:B)+") ) "}i+=")) {  ";var S="missing"+r,j="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,S,!0):w+" + "+S);var M=M||[];M.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+j+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+e.util.escapeQuotes(b[0]):i+="properties "+e.util.escapeQuotes(b.join(", ")),i+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var A=i;i=M.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var C=b;if(C)for(var T,P=-1,R=C.length-1;P<R;){T=C[P+=1];var B=e.util.getProperty(T),O=(j=e.util.escapeQuotes(T),l+B);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,T,e.opts.jsonPointers)),i+=" if ( "+O+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+j+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+e.util.escapeQuotes(b[0]):i+="properties "+e.util.escapeQuotes(b.join(", ")),i+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",u&&(f+="}",i+=" else { ")}e.errorPath=w;var I=h.baseId;for(var _ in m){y=m[_];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(i+=" "+d+" = true; if ( "+l+e.util.getProperty(_)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(_)+"') "),i+=") { ",h.schema=y,h.schemaPath=s+e.util.getProperty(_),h.errSchemaPath=c+"/"+e.util.escapeFragment(_),i+="  "+e.validate(h)+" ",h.baseId=I,i+=" }  ",u&&(i+=" if ("+d+") { ",f+="}"))}return u&&(i+="   "+f+" if ("+p+" == errors) {"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h=e.opts.$data&&a&&a.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var f="i"+r,d="schema"+r;h||(i+=" var "+d+" = validate.schema"+s+";"),i+="var "+p+";",h&&(i+=" if (schema"+r+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+r+")) "+p+" = false; else {"),i+=p+" = false;for (var "+f+"=0; "+f+"<"+d+".length; "+f+"++) if (equal("+l+", "+d+"["+f+"])) { "+p+" = true; break; }",h&&(i+="  }  "),i+=" if (!"+p+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return u&&(i+=" if (true) { "),i;var p,h=e.opts.$data&&a&&a.$data;h?(i+=" var schema"+r+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",p="schema"+r):p=a;var f=e.opts.unknownFormats,d=Array.isArray(f);if(h){i+=" var "+(m="format"+r)+" = formats["+p+"]; var "+(g="isObject"+r)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(v="formatType"+r)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(i+=" var async"+r+" = "+m+".async; "),i+=" "+m+" = "+m+".validate; } if (  ",h&&(i+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),i+=" (","ignore"!=f&&(i+=" ("+p+" && !"+m+" ",d&&(i+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),i+=") || "),i+=" ("+m+" && "+v+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?i+=" (async"+r+" ? await "+m+"("+l+") : "+m+"("+l+")) ":i+=" "+m+"("+l+") ",i+=" : "+m+".test("+l+"))))) {"}else{var m;if(!(m=e.formats[a])){if("ignore"==f)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(i+=" if (true) { "),i;if(d&&f.indexOf(a)>=0)return u&&(i+=" if (true) { "),i;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,v=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var y=!0===m.async;m=m.validate}if(v!=n)return u&&(i+=" if (true) { "),i;if(y){if(!e.async)throw new Error("async format in sync schema");i+=" if (!(await "+(b="formats"+e.util.getProperty(a)+".validate")+"("+l+"))) { "}else{i+=" if (! ";var b="formats"+e.util.getProperty(a);g&&(b+=".validate"),i+="function"==typeof m?" "+b+"("+l+") ":" "+b+".test("+l+") ",i+=") { "}}var w=w||[];w.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",i+=h?""+p:""+e.util.toQuotedString(a),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=h?"' + "+p+" + '":""+e.util.escapeQuotes(a),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+s:""+e.util.toQuotedString(a),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var _=i;return i=w.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+_+"]); ":i+=" validate.errors = ["+_+"]; return false; ":i+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h="errs__"+r,f=e.util.copy(e);f.level++;var d="valid"+f.level,m=e.schema.then,g=e.schema.else,v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),b=f.baseId;if(v||y){var w;f.createErrors=!1,f.schema=a,f.schemaPath=s,f.errSchemaPath=c,i+=" var "+h+" = errors; var "+p+" = true;  ";var _=e.compositeRule;e.compositeRule=f.compositeRule=!0,i+="  "+e.validate(f)+" ",f.baseId=b,f.createErrors=!0,i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=_,v?(i+=" if ("+d+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",i+="  "+e.validate(f)+" ",f.baseId=b,i+=" "+p+" = "+d+"; ",v&&y?i+=" var "+(w="ifClause"+r)+" = 'then'; ":w="'then'",i+=" } ",y&&(i+=" else { ")):i+=" if (!"+d+") { ",y&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",i+="  "+e.validate(f)+" ",f.baseId=b,i+=" "+p+" = "+d+"; ",v&&y?i+=" var "+(w="ifClause"+r)+" = 'else'; ":w="'else'",i+=" } "),i+=" if (!"+p+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" }   ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h="errs__"+r,f=e.util.copy(e),d="";f.level++;var m="valid"+f.level,g="i"+r,v=f.dataLevel=e.dataLevel+1,y="data"+v,b=e.baseId;if(i+="var "+h+" = errors;var "+p+";",Array.isArray(a)){var w=e.schema.additionalItems;if(!1===w){i+=" "+p+" = "+l+".length <= "+a.length+"; ";var _=c;c=e.errSchemaPath+"/additionalItems",i+="  if (!"+p+") {   ";var x=x||[];x.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var k=i;i=x.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c=_,u&&(d+="}",i+=" else { ")}var E=a;if(E)for(var S,j=-1,M=E.length-1;j<M;)if(S=E[j+=1],e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all)){i+=" "+m+" = true; if ("+l+".length > "+j+") { ";var A=l+"["+j+"]";f.schema=S,f.schemaPath=s+"["+j+"]",f.errSchemaPath=c+"/"+j,f.errorPath=e.util.getPathExpr(e.errorPath,j,e.opts.jsonPointers,!0),f.dataPathArr[v]=j;var C=e.validate(f);f.baseId=b,e.util.varOccurences(C,y)<2?i+=" "+e.util.varReplace(C,y,A)+" ":i+=" var "+y+" = "+A+"; "+C+" ",i+=" }  ",u&&(i+=" if ("+m+") { ",d+="}")}if("object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))){f.schema=w,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+m+" = true; if ("+l+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+l+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);A=l+"["+g+"]";f.dataPathArr[v]=g;C=e.validate(f);f.baseId=b,e.util.varOccurences(C,y)<2?i+=" "+e.util.varReplace(C,y,A)+" ":i+=" var "+y+" = "+A+"; "+C+" ",u&&(i+=" if (!"+m+") break; "),i+=" } }  ",u&&(i+=" if ("+m+") { ",d+="}")}}else if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){f.schema=a,f.schemaPath=s,f.errSchemaPath=c,i+="  for (var "+g+" = 0; "+g+" < "+l+".length; "+g+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);A=l+"["+g+"]";f.dataPathArr[v]=g;C=e.validate(f);f.baseId=b,e.util.varOccurences(C,y)<2?i+=" "+e.util.varReplace(C,y,A)+" ":i+=" var "+y+" = "+A+"; "+C+" ",u&&(i+=" if (!"+m+") break; "),i+=" }"}return u&&(i+=" "+d+" if ("+h+" == errors) {"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="var division"+o+";if (",h&&(r+=" "+i+" !== undefined && ( typeof "+i+" != 'number' || "),r+=" (division"+o+" = "+p+" / "+i+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+o+" !== parseInt(division"+o+") ",r+=" ) ",h&&(r+="  )  "),r+=" ) {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be multiple of ",r+=h?"' + "+i:i+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var d=r;return r=f.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+r,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=c,i+=" var "+p+" = errors;  ";var d,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(d=h.opts.allErrors,h.opts.allErrors=!1),i+=" "+e.validate(h)+" ",h.createErrors=!0,d&&(h.opts.allErrors=d),e.compositeRule=h.compositeRule=m,i+=" if ("+f+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;i=g.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h="errs__"+r,f=e.util.copy(e),d="";f.level++;var m="valid"+f.level,g=f.baseId,v="prevValid"+r,y="passingSchemas"+r;i+="var "+h+" = errors , "+v+" = false , "+p+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=f.compositeRule=!0;var w=a;if(w)for(var _,x=-1,k=w.length-1;x<k;)_=w[x+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))?(f.schema=_,f.schemaPath=s+"["+x+"]",f.errSchemaPath=c+"/"+x,i+="  "+e.validate(f)+" ",f.baseId=g):i+=" var "+m+" = true; ",x&&(i+=" if ("+m+" && "+v+") { "+p+" = false; "+y+" = ["+y+", "+x+"]; } else { ",d+="}"),i+=" if ("+m+") { "+p+" = "+v+" = true; "+y+" = "+x+"; }";return e.compositeRule=f.compositeRule=b,i+=d+"if (!"+p+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h=e.opts.$data&&s&&s.$data;h?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),r+=" !"+(h?"(new RegExp("+i+"))":e.usePattern(s))+".test("+p+") ) {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",r+=h?""+i:""+e.util.toQuotedString(s),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match pattern \"",r+=h?"' + "+i+" + '":""+e.util.escapeQuotes(s),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+c:""+e.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var d=r;return r=f.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",l&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+r,h=e.util.copy(e),f="";h.level++;var d="valid"+h.level,m="key"+r,g="idx"+r,v=h.dataLevel=e.dataLevel+1,y="data"+v,b="dataProperties"+r,w=Object.keys(a||{}).filter(B),_=e.schema.patternProperties||{},x=Object.keys(_).filter(B),k=e.schema.additionalProperties,E=w.length||x.length,S=!1===k,j="object"==typeof k&&Object.keys(k).length,M=e.opts.removeAdditional,A=S||j||M,C=e.opts.ownProperties,T=e.baseId,P=e.schema.required;if(P&&(!e.opts.$data||!P.$data)&&P.length<e.opts.loopRequired)var R=e.util.toHash(P);function B(e){return"__proto__"!==e}if(i+="var "+p+" = errors;var "+d+" = true;",C&&(i+=" var "+b+" = undefined;"),A){if(i+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",E){if(i+=" var isAdditional"+r+" = !(false ",w.length)if(w.length>8)i+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var O=w;if(O)for(var I=-1,D=O.length-1;I<D;)Z=O[I+=1],i+=" || "+m+" == "+e.util.toQuotedString(Z)+" "}if(x.length){var F=x;if(F)for(var z=-1,N=F.length-1;z<N;)oe=F[z+=1],i+=" || "+e.usePattern(oe)+".test("+m+") "}i+=" ); if (isAdditional"+r+") { "}if("all"==M)i+=" delete "+l+"["+m+"]; ";else{var L=e.errorPath,q="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(M)i+=" delete "+l+"["+m+"]; ";else{i+=" "+d+" = false; ";var H=c;c=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+q+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is an invalid additional property":i+="should NOT have additional properties",i+="' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var U=i;i=ne.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+U+"]); ":i+=" validate.errors = ["+U+"]; return false; ":i+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,u&&(i+=" break; ")}else if(j)if("failing"==M){i+=" var "+p+" = errors;  ";var $=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=l+"["+m+"]";h.dataPathArr[v]=m;var W=e.validate(h);h.baseId=T,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,V)+" ":i+=" var "+y+" = "+V+"; "+W+" ",i+=" if (!"+d+") { errors = "+p+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=h.compositeRule=$}else{h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=l+"["+m+"]";h.dataPathArr[v]=m;W=e.validate(h);h.baseId=T,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,V)+" ":i+=" var "+y+" = "+V+"; "+W+" ",u&&(i+=" if (!"+d+") break; ")}e.errorPath=L}E&&(i+=" } "),i+=" }  ",u&&(i+=" if ("+d+") { ",f+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(w.length){var K=w;if(K)for(var Z,Y=-1,X=K.length-1;Y<X;){var J=a[Z=K[Y+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){var Q=e.util.getProperty(Z),ee=(V=l+Q,G&&void 0!==J.default);h.schema=J,h.schemaPath=s+Q,h.errSchemaPath=c+"/"+e.util.escapeFragment(Z),h.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(Z);W=e.validate(h);if(h.baseId=T,e.util.varOccurences(W,y)<2){W=e.util.varReplace(W,y,V);var te=V}else{te=y;i+=" var "+y+" = "+V+"; "}if(ee)i+=" "+W+" ";else{if(R&&R[Z]){i+=" if ( "+te+" === undefined ",C&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+d+" = false; ";L=e.errorPath,H=c;var ne,ie=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,Z,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(ne=ne||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ie+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+ie+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";U=i;i=ne.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+U+"]); ":i+=" validate.errors = ["+U+"]; return false; ":i+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=H,e.errorPath=L,i+=" } else { "}else u?(i+=" if ( "+te+" === undefined ",C&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+d+" = true; } else { "):(i+=" if ("+te+" !== undefined ",C&&(i+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(Z)+"') "),i+=" ) { ");i+=" "+W+" } "}}u&&(i+=" if ("+d+") { ",f+="}")}}if(x.length){var re=x;if(re)for(var oe,ae=-1,se=re.length-1;ae<se;){J=_[oe=re[ae+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){h.schema=J,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),i+=C?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+l+") { ",i+=" if ("+e.usePattern(oe)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=l+"["+m+"]";h.dataPathArr[v]=m;W=e.validate(h);h.baseId=T,e.util.varOccurences(W,y)<2?i+=" "+e.util.varReplace(W,y,V)+" ":i+=" var "+y+" = "+V+"; "+W+" ",u&&(i+=" if (!"+d+") break; "),i+=" } ",u&&(i+=" else "+d+" = true; "),i+=" }  ",u&&(i+=" if ("+d+") { ",f+="}")}}}return u&&(i+=" "+f+" if ("+p+" == errors) {"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="errs__"+r,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(i+="var "+p+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){h.schema=a,h.schemaPath=s,h.errSchemaPath=c;var d="key"+r,m="idx"+r,g="i"+r,v="' + "+d+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+r,w=e.opts.ownProperties,_=e.baseId;w&&(i+=" var "+b+" = undefined; "),i+=w?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+d+" = "+b+"["+m+"]; ":" for (var "+d+" in "+l+") { ",i+=" var startErrs"+r+" = errors; ";var x=d,k=e.compositeRule;e.compositeRule=h.compositeRule=!0;var E=e.validate(h);h.baseId=_,e.util.varOccurences(E,y)<2?i+=" "+e.util.varReplace(E,y,x)+" ":i+=" var "+y+" = "+x+"; "+E+" ",e.compositeRule=h.compositeRule=k,i+=" if (!"+f+") { for (var "+g+"=startErrs"+r+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+d+"; }   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(i+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),u&&(i+=" break; "),i+=" } }"}return u&&(i+="  if ("+p+" == errors) {"),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),p="valid"+r,h=e.opts.$data&&a&&a.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var f="schema"+r;if(!h)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var d=[],m=a;if(m)for(var g,v=-1,y=m.length-1;v<y;){g=m[v+=1];var b=e.schema.properties[g];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(d[d.length]=g)}}else d=a;if(h||d.length){var w=e.errorPath,_=h||d.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(u)if(i+=" var missing"+r+"; ",_){h||(i+=" var "+f+" = validate.schema"+s+"; ");var k="' + "+(C="schema"+r+"["+(j="i"+r)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,C,e.opts.jsonPointers)),i+=" var "+p+" = true; ",h&&(i+=" if (schema"+r+" === undefined) "+p+" = true; else if (!Array.isArray(schema"+r+")) "+p+" = false; else {"),i+=" for (var "+j+" = 0; "+j+" < "+f+".length; "+j+"++) { "+p+" = "+l+"["+f+"["+j+"]] !== undefined ",x&&(i+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+f+"["+j+"]) "),i+="; if (!"+p+") break; } ",h&&(i+="  }  "),i+="  if (!"+p+") {   ",(A=A||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+k+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var E=i;i=A.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var S=d;if(S)for(var j=-1,M=S.length-1;j<M;){P=S[j+=1],j&&(i+=" || "),i+=" ( ( "+(I=l+(O=e.util.getProperty(P)))+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),i+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:O)+") ) "}i+=") {  ";var A;k="' + "+(C="missing"+r)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,C,!0):w+" + "+C),(A=A||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+k+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";E=i;i=A.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+E+"]); ":i+=" validate.errors = ["+E+"]; return false; ":i+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(_){h||(i+=" var "+f+" = validate.schema"+s+"; ");var C;k="' + "+(C="schema"+r+"["+(j="i"+r)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,C,e.opts.jsonPointers)),h&&(i+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+k+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),i+=" for (var "+j+" = 0; "+j+" < "+f+".length; "+j+"++) { if ("+l+"["+f+"["+j+"]] === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+f+"["+j+"]) "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+k+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(i+="  }  ")}else{var T=d;if(T)for(var P,R=-1,B=T.length-1;R<B;){P=T[R+=1];var O=e.util.getProperty(P),I=(k=e.util.escapeQuotes(P),l+O);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,P,e.opts.jsonPointers)),i+=" if ( "+I+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(P)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+k+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else u&&(i+=" if (true) {");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,a=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,p="data"+(a||""),h="valid"+o,f=e.opts.$data&&s&&s.$data;if(f?(r+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",i="schema"+o):i=s,(s||f)&&!1!==e.opts.uniqueItems){f&&(r+=" var "+h+"; if ("+i+" === false || "+i+" === undefined) "+h+" = true; else if (typeof "+i+" != 'boolean') "+h+" = false; else { "),r+=" var i = "+p+".length , "+h+" = true , j; if (i > 1) { ";var d=e.schema.items&&e.schema.items.type,m=Array.isArray(d);if(!d||"object"==d||"array"==d||m&&(d.indexOf("object")>=0||d.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+h+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var g="checkDataType"+(m?"s":"");r+=" if ("+e.util[g](d,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(r+=" if (typeof item == 'string') item = '\"' + item; "),r+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",f&&(r+="  }  "),r+=" if (!"+h+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+c:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var y=r;r=v.pop(),!e.compositeRule&&l?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { ")}else l&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";var i=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var r,o=t[n].split("/"),a=e;for(r=1;r<o.length;r++)a=a[o[r]];for(r=0;r<i.length;r++){var s=i[r],c=a[s];c&&(a[s]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var i=n(237).MissingRef;e.exports=function e(t,n,r){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(r=n,n=void 0);var a=s(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof i)return r(e);throw e}function r(i){var r=i.missingSchema;if(u(r))throw new Error("Schema "+r+" is loaded but "+i.missingRef+" cannot be resolved");var a=o._loadingSchemas[r];return a||(a=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(c,c),a.then((function(e){if(!u(r))return s(e).then((function(){u(r)||o.addSchema(e,r,void 0,n)}))})).then((function(){return e(t)}));function c(){delete o._loadingSchemas[r]}function u(e){return o._refs[e]||o._schemas[e]}}}(e)}));r&&a.then((function(e){r(null,e)}),r);return a;function s(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var i=/^[a-z_$][a-z0-9_$-]*$/i,r=n(692),o=n(693);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!i.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var a=0;a<o.length;a++)c(e,o[a],t);else c(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function c(e,t,i){for(var o,a=0;a<n.length;a++){var s=n[a];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},n.push(o));var c={keyword:e,definition:i,custom:!0,code:r,implements:i.implements};o.rules.push(c),n.custom[e]=c}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var i=t[n].rules,r=0;r<i.length;r++)if(i[r].keyword==e){i.splice(r,1);break}return this},validate:function e(t,n){e.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(i(t))return!0;if(e.errors=i.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return!1}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r,o=" ",a=e.level,s=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,h="data"+(s||""),f="valid"+a,d="errs__"+a,m=e.opts.$data&&c&&c.$data;m?(o+=" var schema"+a+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",r="schema"+a):r=c;var g,v,y,b,w,_="definition"+a,x=this.definition,k="";if(m&&x.$data){w="keywordValidate"+a;var E=x.validateSchema;o+=" var "+_+" = RULES.custom['"+t+"'].definition; var "+w+" = "+_+".validate;"}else{if(!(b=e.useCustomRule(this,c,e.schema,e)))return;r="validate.schema"+u,w=b.code,g=x.compile,v=x.inline,y=x.macro}var S=w+".errors",j="i"+a,M="ruleErr"+a,A=x.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(v||y||(o+=S+" = null;"),o+="var "+d+" = errors;var "+f+";",m&&x.$data&&(k+="}",o+=" if ("+r+" === undefined) { "+f+" = true; } else { ",E&&(k+="}",o+=" "+f+" = "+_+".validateSchema("+r+"); if ("+f+") { ")),v)x.statements?o+=" "+b.validate+" ":o+=" "+f+" = "+b.validate+"; ";else if(y){var C=e.util.copy(e);k="";C.level++;var T="valid"+C.level;C.schema=b.validate,C.schemaPath="";var P=e.compositeRule;e.compositeRule=C.compositeRule=!0;var R=e.validate(C).replace(/validate\.schema/g,w);e.compositeRule=C.compositeRule=P,o+=" "+R}else{(D=D||[]).push(o),o="",o+="  "+w+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===x.schema?o+=" , "+h+" ":o+=" , "+r+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var B=s?"data"+(s-1||""):"parentData",O=s?e.dataPathArr[s]:"parentDataProperty",I=o+=" , "+B+" , "+O+" , rootData )  ";o=D.pop(),!1===x.errors?(o+=" "+f+" = ",A&&(o+="await "),o+=I+"; "):o+=A?" var "+(S="customErrors"+a)+" = null; try { "+f+" = await "+I+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+f+" = "+I+"; "}if(x.modifying&&(o+=" if ("+B+") "+h+" = "+B+"["+O+"];"),o+=""+k,x.valid)p&&(o+=" if (true) { ");else{var D;o+=" if ( ",void 0===x.valid?(o+=" !",o+=y?""+T:""+f):o+=" "+!x.valid+" ",o+=") { ",i=this.keyword,(D=D||[]).push(o),o="",(D=D||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var F=o;o=D.pop(),!e.compositeRule&&p?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=o;o=D.pop(),v?x.errors?"full"!=x.errors&&(o+="  for (var "+j+"="+d+"; "+j+"<errors; "+j+"++) { var "+M+" = vErrors["+j+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+M+".schema = "+r+"; "+M+".data = "+h+"; "),o+=" } "):!1===x.errors?o+=" "+z+" ":(o+=" if ("+d+" == errors) { "+z+" } else {  for (var "+j+"="+d+"; "+j+"<errors; "+j+"++) { var "+M+" = vErrors["+j+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+M+".schema = "+r+"; "+M+".data = "+h+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&p&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===x.errors?o+=" "+z+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+j+"="+d+"; "+j+"<errors; "+j+"++) { var "+M+" = vErrors["+j+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+";  "+M+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+M+".schema = "+r+"; "+M+".data = "+h+"; "),o+=" } } else { "+z+" } "),o+=" } ",p&&(o+=" else { ")}return o}},function(e,t,n){"use strict";var i=n(391);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:i.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:i.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e,t){function n(e){this.name="HARError",this.message="validation failed",this.errors=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error("validation failed").stack}n.prototype=Error.prototype,e.exports=n},function(e,t,n){"use strict";e.exports={afterRequest:n(697),beforeRequest:n(698),browser:n(699),cache:n(700),content:n(701),cookie:n(702),creator:n(703),entry:n(704),har:n(705),header:n(706),log:n(707),page:n(708),pageTimings:n(709),postData:n(710),query:n(711),request:n(712),response:n(713),timings:n(714)}},function(e){e.exports=JSON.parse('{"$id":"afterRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"beforeRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"browser.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"cache.json#","$schema":"http://json-schema.org/draft-06/schema#","properties":{"beforeRequest":{"oneOf":[{"type":"null"},{"$ref":"beforeRequest.json#"}]},"afterRequest":{"oneOf":[{"type":"null"},{"$ref":"afterRequest.json#"}]},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"content.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["size","mimeType"],"properties":{"size":{"type":"integer"},"compression":{"type":"integer"},"mimeType":{"type":"string"},"text":{"type":"string"},"encoding":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"cookie.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"path":{"type":"string"},"domain":{"type":"string"},"expires":{"type":["string","null"],"format":"date-time"},"httpOnly":{"type":"boolean"},"secure":{"type":"boolean"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"creator.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"entry.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","time","request","response","cache","timings"],"properties":{"pageref":{"type":"string"},"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))"},"time":{"type":"number","min":0},"request":{"$ref":"request.json#"},"response":{"$ref":"response.json#"},"cache":{"$ref":"cache.json#"},"timings":{"$ref":"timings.json#"},"serverIPAddress":{"type":"string","oneOf":[{"format":"ipv4"},{"format":"ipv6"}]},"connection":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"har.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["log"],"properties":{"log":{"$ref":"log.json#"}}}')},function(e){e.exports=JSON.parse('{"$id":"header.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"log.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["version","creator","entries"],"properties":{"version":{"type":"string"},"creator":{"$ref":"creator.json#"},"browser":{"$ref":"browser.json#"},"pages":{"type":"array","items":{"$ref":"page.json#"}},"entries":{"type":"array","items":{"$ref":"entry.json#"}},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"page.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","id","title","pageTimings"],"properties":{"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))"},"id":{"type":"string","unique":true},"title":{"type":"string"},"pageTimings":{"$ref":"pageTimings.json#"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"pageTimings.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"onContentLoad":{"type":"number","min":-1},"onLoad":{"type":"number","min":-1},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"postData.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["mimeType"],"properties":{"mimeType":{"type":"string"},"text":{"type":"string"},"params":{"type":"array","required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"fileName":{"type":"string"},"contentType":{"type":"string"},"comment":{"type":"string"}}},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"query.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"request.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],"properties":{"method":{"type":"string"},"url":{"type":"string","format":"uri"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"queryString":{"type":"array","items":{"$ref":"query.json#"}},"postData":{"$ref":"postData.json#"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"response.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],"properties":{"status":{"type":"integer"},"statusText":{"type":"string"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"content":{"$ref":"content.json#"},"redirectURL":{"type":"string"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$id":"timings.json#","$schema":"http://json-schema.org/draft-06/schema#","required":["send","wait","receive"],"properties":{"dns":{"type":"number","min":-1},"connect":{"type":"number","min":-1},"blocked":{"type":"number","min":-1},"send":{"type":"number","min":-1},"wait":{"type":"number","min":-1},"receive":{"type":"number","min":-1},"ssl":{"type":"number","min":-1},"comment":{"type":"string"}}}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(e,t,n){"use strict";var i=n(234),r=n(238),o=n(204),a=o.md5,s=o.toBase64;function c(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}c.prototype.basic=function(e,t,n){if(("string"!=typeof e||void 0!==t&&"string"!=typeof t)&&this.request.emit("error",new Error("auth() received invalid user or password")),this.user=e,this.pass=t,this.hasAuth=!0,n||void 0===n){var i="Basic "+s(e+":"+(t||""));return this.sentAuth=!0,i}},c.prototype.bearer=function(e,t){if(this.bearerToken=e,this.hasAuth=!0,t||void 0===t){"function"==typeof e&&(e=e());var n="Bearer "+(e||"");return this.sentAuth=!0,n}},c.prototype.digest=function(e,t,n){for(var i={},o=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var s=o.exec(n);if(!s)break;i[s[1]]=s[2]||s[3]}var c=/(^|,)\s*auth\s*($|,)/.test(i.qop)&&"auth",u=c&&"00000001",l=c&&r().replace(/-/g,""),p=function(e,t,n,i,r,o){var s=a(t+":"+n+":"+i);return e&&"md5-sess"===e.toLowerCase()?a(s+":"+r+":"+o):s}(i.algorithm,this.user,i.realm,this.pass,i.nonce,l),h=a(e+":"+t),f=a(c?p+":"+i.nonce+":"+u+":"+l+":"+c+":"+h:p+":"+i.nonce+":"+h),d={username:this.user,realm:i.realm,nonce:i.nonce,uri:t,qop:c,response:f,nc:u,cnonce:l,algorithm:i.algorithm,opaque:i.opaque};for(var m in n=[],d)d[m]&&("qop"===m||"nc"===m||"algorithm"===m?n.push(m+"="+d[m]):n.push(m+'="'+d[m]+'"'));return n="Digest "+n.join(", "),this.sentAuth=!0,n},c.prototype.onRequest=function(e,t,n,i){var r,o=this.request;void 0===i&&void 0===e?this.request.emit("error",new Error("no auth mechanism defined")):r=void 0!==i?this.bearer(i,n):this.basic(e,t,n),r&&o.setHeader("authorization",r)},c.prototype.onResponse=function(e){var t=this.request;if(!this.hasAuth||this.sentAuth)return null;var n=i(e.headers).get("www-authenticate"),r=n&&n.split(" ")[0].toLowerCase();switch(t.debug("reauth",r),r){case"basic":return this.basic(this.user,this.pass,!0);case"bearer":return this.bearer(this.bearerToken,!0);case"digest":return this.digest(t.method,t.path,n)}},t.Auth=c},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";var i=n(39),r=n(381),o=n(234),a=n(238),s=n(720),c=n(20),u=n(4).Buffer;function l(e){this.request=e,this.params=null}l.prototype.buildParams=function(e,t,n,i,r,o){var c={};for(var u in e)c["oauth_"+u]=e[u];c.oauth_version||(c.oauth_version="1.0"),c.oauth_timestamp||(c.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),c.oauth_nonce||(c.oauth_nonce=a().replace(/-/g,"")),c.oauth_signature_method||(c.oauth_signature_method="HMAC-SHA1");var l=c.oauth_consumer_secret||c.oauth_private_key;delete c.oauth_consumer_secret,delete c.oauth_private_key;var p=c.oauth_token_secret;delete c.oauth_token_secret;var h=c.oauth_realm;delete c.oauth_realm,delete c.oauth_transport_method;var f=t.protocol+"//"+t.host+t.pathname,d=o.parse([].concat(i,r,o.stringify(c)).join("&"));return c.oauth_signature=s.sign(c.oauth_signature_method,n,f,d,l,p),h&&(c.realm=h),c},l.prototype.buildBodyHash=function(e,t){["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var n=c.createHash("sha1");n.update(t||"");var i=n.digest("hex");return u.from(i,"hex").toString("base64")},l.prototype.concatParams=function(e,t,n){n=n||"";var i=Object.keys(e).filter((function(e){return"realm"!==e&&"oauth_signature"!==e})).sort();return e.realm&&i.splice(0,0,"realm"),i.push("oauth_signature"),i.map((function(t){return t+"="+n+s.rfc3986(e[t])+n})).join(t)},l.prototype.onRequest=function(e){this.params=e;var t,n,a=this.request.uri||{},s=this.request.method||"",c=o(this.request.headers),u=this.request.body||"",l=this.request.qsLib||r,p=c.get("content-type")||"",h="application/x-www-form-urlencoded",f=e.transport_method||"header";p.slice(0,h.length)===h&&(p=h,t=u),a.query&&(n=a.query),"body"!==f||"POST"===s&&p===h||this.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+h)),t||"boolean"!=typeof e.body_hash||(e.body_hash=this.buildBodyHash(e,this.request.body.toString()));var d=this.buildParams(e,a,s,n,t,l);switch(f){case"header":this.request.setHeader("Authorization","OAuth "+this.concatParams(d,",",'"'));break;case"query":var m=this.request.uri.href+=(n?"&":"?")+this.concatParams(d,"&");this.request.uri=i.parse(m),this.request.path=this.request.uri.path;break;case"body":this.request.body=(t?t+"&":"")+this.concatParams(d,"&");break;default:this.request.emit("error",new Error("oauth: transport_method invalid"))}},t.OAuth=l},function(e,t,n){var i=n(20);function r(e,t,n){return i.createHmac(n,e).update(t).digest("base64")}function o(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function a(e,t){return e>t?1:e<t?-1:0}function s(e,t,n){var i=function(e){var t,n,i=[];for(t in e)if(n=e[t],Array.isArray(n))for(var r=0;r<n.length;r++)i.push([t,n[r]]);else if("object"==typeof n)for(var o in n)i.push([t+"["+o+"]",n[o]]);else i.push([t,n]);return i}(n).map((function(e){return[o(e[0]),o(e[1]||"")]})).sort((function(e,t){return a(e[0],t[0])||a(e[1],t[1])})).map((function(e){return e.join("=")})).join("&");return[o(e?e.toUpperCase():"GET"),o(t),o(i)].join("&")}function c(e,t,n,i,a){var c=s(e,t,n);return r([i||"",a||""].map(o).join("&"),c,"sha1")}function u(e,t,n,i,a){var c=s(e,t,n);return r([i||"",a||""].map(o).join("&"),c,"sha256")}function l(e,t,n,r,o){return function(e,t){return i.createSign("RSA-SHA1").update(t).sign(e,"base64")}(r||"",s(e,t,n))}function p(e,t){return[e||"",t||""].map(o).join("&")}t.hmacsign=c,t.hmacsign256=u,t.rsasign=l,t.plaintext=p,t.sign=function(e,t,n,i,r,o){var a,s=1;switch(e){case"RSA-SHA1":a=l;break;case"HMAC-SHA1":a=c;break;case"HMAC-SHA256":a=u;break;case"PLAINTEXT":a=p,s=4;break;default:throw new Error("Signature method not supported: "+e)}return a.apply(null,[].slice.call(arguments,s))},t.rfc3986=o,t.generateBase=s},function(e,t,n){"use strict";var i=n(20);t.calculateMac=function(e,t){var n="hawk.1.header\n"+t.ts+"\n"+t.nonce+"\n"+(t.method||"").toUpperCase()+"\n"+t.resource+"\n"+t.host.toLowerCase()+"\n"+t.port+"\n"+(t.hash||"")+"\n";return t.ext&&(n+=t.ext.replace("\\","\\\\").replace("\n","\\n")),n+="\n",t.app&&(n=n+t.app+"\n"+(t.dlg||"")+"\n"),i.createHmac(e.algorithm,e.key).update(n).digest("base64")},t.header=function(e,n,r){var o=r.timestamp||Math.floor((Date.now()+(r.localtimeOffsetMsec||0))/1e3),a=r.credentials;if(!(a&&a.id&&a.key&&a.algorithm))return"";if(-1===["sha1","sha256"].indexOf(a.algorithm))return"";var s,c,u,l,p,h,f={ts:o,nonce:r.nonce||(s=6,c=6*(s+1),i.randomBytes(Math.ceil(c/8)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"").slice(0,s)),method:n,resource:e.pathname+(e.search||""),host:e.hostname,port:e.port||("http:"===e.protocol?80:443),hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};f.hash||!r.payload&&""!==r.payload||(f.hash=(u=r.payload,l=a.algorithm,p=r.contentType,(h=i.createHash(l)).update("hawk.1.payload\n"),h.update((p?p.split(";")[0].trim().toLowerCase():"")+"\n"),h.update(u||""),h.update("\n"),h.digest("base64")));var d=t.calculateMac(a,f),m=null!==f.ext&&void 0!==f.ext&&""!==f.ext,g='Hawk id="'+a.id+'", ts="'+f.ts+'", nonce="'+f.nonce+(f.hash?'", hash="'+f.hash:"")+(m?'", ext="'+f.ext.replace(/\\/g,"\\\\").replace(/"/g,'\\"'):"")+'", mac="'+d+'"';return f.app&&(g=g+', app="'+f.app+(f.dlg?'", dlg="'+f.dlg:"")+'"'),g}},function(e,t,n){"use strict";var i=n(238),r=n(723),o=n(380),a=n(4).Buffer;function s(e){this.request=e,this.boundary=i(),this.chunked=!1,this.body=null}s.prototype.isChunked=function(e){var t=this,n=!1,i=e.data||e;return i.forEach||t.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==e.chunked&&(n=e.chunked),"chunked"===t.request.getHeader("transfer-encoding")&&(n=!0),n||i.forEach((function(e){void 0===e.body&&t.request.emit("error",new Error("Body attribute missing in multipart.")),o(e.body)&&(n=!0)})),n},s.prototype.setHeaders=function(e){e&&!this.request.hasHeader("transfer-encoding")&&this.request.setHeader("transfer-encoding","chunked");var t=this.request.getHeader("content-type");t&&-1!==t.indexOf("multipart")?-1!==t.indexOf("boundary")?this.boundary=t.replace(/.*boundary=([^\s;]+).*/,"$1"):this.request.setHeader("content-type",t+"; boundary="+this.boundary):this.request.setHeader("content-type","multipart/related; boundary="+this.boundary)},s.prototype.build=function(e,t){var n=this,i=t?new r:[];function o(e){return"number"==typeof e&&(e=e.toString()),t?i.append(e):i.push(a.from(e))}return n.request.preambleCRLF&&o("\r\n"),e.forEach((function(e){var t="--"+n.boundary+"\r\n";Object.keys(e).forEach((function(n){"body"!==n&&(t+=n+": "+e[n]+"\r\n")})),o(t+="\r\n"),o(e.body),o("\r\n")})),o("--"+n.boundary+"--"),n.request.postambleCRLF&&o("\r\n"),i},s.prototype.onRequest=function(e){var t=this.isChunked(e),n=e.data||e;this.setHeaders(t),this.chunked=t,this.body=this.build(n,t)},t.Multipart=s},function(e,t,n){(function(t){var i=n(18),r=n(60).Stream,o=n(724);function a(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=a,i.inherits(a,r),a.create=function(e){var t=new this;for(var n in e=e||{})t[n]=e[n];return t},a.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!t.isBuffer(e)},a.prototype.append=function(e){if(a.isStreamLike(e)){if(!(e instanceof o)){var t=o.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},a.prototype.pipe=function(e,t){return r.prototype.pipe.call(this,e,t),this.resume(),e},a.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},a.prototype._realGetNext=function(){var e=this._streams.shift();void 0!==e?"function"==typeof e?e(function(e){a.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}.bind(this)):this._pipeNext(e):this.end()},a.prototype._pipeNext=function(e){if(this._currentStream=e,a.isStreamLike(e))return e.on("end",this._getNext.bind(this)),void e.pipe(this,{end:!1});var t=e;this.write(t),this._getNext()},a.prototype._handleErrors=function(e){var t=this;e.on("error",(function(e){t._emitError(e)}))},a.prototype.write=function(e){this.emit("data",e)},a.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},a.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},a.prototype.end=function(){this._reset(),this.emit("end")},a.prototype.destroy=function(){this._reset(),this.emit("close")},a.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},a.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}},a.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach((function(t){t.dataSize&&(e.dataSize+=t.dataSize)})),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},a.prototype._emitError=function(e){this._reset(),this.emit("error",e)}}).call(this,n(9).Buffer)},function(e,t,n){var i=n(60).Stream,r=n(18);function o(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=o,r.inherits(o,i),o.create=function(e,t){var n=new this;for(var i in t=t||{})n[i]=t[i];n.source=e;var r=e.emit;return e.emit=function(){return n._handleEmit(arguments),r.apply(e,arguments)},e.on("error",(function(){})),n.pauseStream&&e.pause(),n},Object.defineProperty(o.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),o.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},o.prototype.resume=function(){this._released||this.release(),this.source.resume()},o.prototype.pause=function(){this.source.pause()},o.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},o.prototype.pipe=function(){var e=i.prototype.pipe.apply(this,arguments);return this.resume(),e},o.prototype._handleEmit=function(e){this._released?this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e))},o.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}},function(e,t,n){"use strict";var i=n(39),r=/^https?:/;function o(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}o.prototype.onRequest=function(e){void 0!==e.maxRedirects&&(this.maxRedirects=e.maxRedirects),"function"==typeof e.followRedirect&&(this.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(this.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(this.followAllRedirects=e.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==e.removeRefererHeader&&(this.removeRefererHeader=e.removeRefererHeader),void 0!==e.followOriginalHttpMethod&&(this.followOriginalHttpMethod=e.followOriginalHttpMethod)},o.prototype.redirectTo=function(e){var t=this.request,n=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has("location")){var i=e.caseless.get("location");if(t.debug("redirect",i),this.followAllRedirects)n=i;else if(this.followRedirects)switch(t.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:n=i}}else if(401===e.statusCode){var r=t._auth.onResponse(e);r&&(t.setHeader("authorization",r),n=t.uri)}return n},o.prototype.onResponse=function(e){var t=this.request,n=this.redirectTo(e);if(!n||!this.allowRedirect.call(t,e))return!1;if(t.debug("redirect to",n),e.resume&&e.resume(),this.redirectsFollowed>=this.maxRedirects)return t.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+t.uri.href)),!1;this.redirectsFollowed+=1,r.test(n)||(n=i.resolve(t.uri.href,n));var o=t.uri;return t.uri=i.parse(n),t.uri.protocol!==o.protocol&&delete t.agent,this.redirects.push({statusCode:e.statusCode,redirectUri:n}),this.followAllRedirects&&"HEAD"!==t.method&&401!==e.statusCode&&307!==e.statusCode&&(t.method=this.followOriginalHttpMethod?t.method:"GET"),delete t.src,delete t.req,delete t._started,401!==e.statusCode&&307!==e.statusCode&&(delete t.body,delete t._form,t.headers&&(t.removeHeader("host"),t.removeHeader("content-type"),t.removeHeader("content-length"),t.uri.hostname!==t.originalHost.split(":")[0]&&t.removeHeader("authorization"))),this.removeRefererHeader||t.setHeader("referer",o.href),t.emit("redirect"),t.init(),!0},t.Redirect=o},function(e,t,n){"use strict";var i=n(39),r=n(727),o=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],a=["proxy-authorization"];function s(e){this.request=e,this.proxyHeaderWhiteList=o,this.proxyHeaderExclusiveList=[],void 0!==e.tunnel&&(this.tunnelOverride=e.tunnel)}s.prototype.isEnabled=function(){var e=this.request;return void 0!==this.tunnelOverride?this.tunnelOverride:"https:"===e.uri.protocol},s.prototype.setup=function(e){var t=this.request;if(e=e||{},"string"==typeof t.proxy&&(t.proxy=i.parse(t.proxy)),!t.proxy||!t.tunnel)return!1;e.proxyHeaderWhiteList&&(this.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(this.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var n,o,s,c,u=this.proxyHeaderExclusiveList.concat(a),l=this.proxyHeaderWhiteList.concat(u),p=function(e,t){var n=t.reduce((function(e,t){return e[t.toLowerCase()]=!0,e}),{});return Object.keys(e).filter((function(e){return n[e.toLowerCase()]})).reduce((function(t,n){return t[n]=e[n],t}),{})}(t.headers,l);p.host=(n=t.uri,o=n.port,s=n.protocol,c=n.hostname+":",c+=o||("https:"===s?"443":"80")),u.forEach(t.removeHeader,t);var h=function(e){var t=function(e,t){return["https:"===e.protocol?"https":"http","https:"===t.protocol?"Https":"Http"].join("Over")}(e.uri,e.proxy);return r[t]}(t),f=function(e,t){var n=e.proxy;return{proxy:{host:n.hostname,port:+n.port,proxyAuth:n.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol}}(t,p);return t.agent=h(f),!0},s.defaultProxyHeaderWhiteList=o,s.defaultProxyHeaderExclusiveList=a,t.Tunnel=s},function(e,t,n){"use strict";(function(e){n(80);var i,r=n(80),o=n(129),a=n(226),s=n(58),c=n(83),u=n(18),l=n(4).Buffer;function p(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",(function(e,n,i){for(var r=0,o=t.requests.length;r<o;++r){var a=t.requests[r];if(a.host===n&&a.port===i)return t.requests.splice(r,1),void a.request.onSocket(e)}e.destroy(),t.removeSocket(e)}))}function h(e,t){var n=this;p.prototype.createSocket.call(n,e,(function(i){var o=r.connect(0,f({},n.options,{servername:e.host,socket:i}));n.sockets[n.sockets.indexOf(i)]=o,t(o)}))}function f(e){for(var t=1,n=arguments.length;t<n;++t){var i=arguments[t];if("object"==typeof i)for(var r=Object.keys(i),o=0,a=r.length;o<a;++o){var s=r[o];void 0!==i[s]&&(e[s]=i[s])}}return e}t.httpOverHttp=function(e){var t=new p(e);return t.request=o.request,t},t.httpsOverHttp=function(e){var t=new p(e);return t.request=o.request,t.createSocket=h,t.defaultPort=443,t},t.httpOverHttps=function(e){var t=new p(e);return t.request=a.request,t},t.httpsOverHttps=function(e){var t=new p(e);return t.request=a.request,t.createSocket=h,t.defaultPort=443,t},u.inherits(p,s.EventEmitter),p.prototype.addRequest=function(e,t){var n=this;"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),n.sockets.length>=this.maxSockets?n.requests.push({host:t.host,port:t.port,request:e}):n.createConnection({host:t.host,port:t.port,request:e})},p.prototype.createConnection=function(e){var t=this;t.createSocket(e,(function(n){function i(){t.emit("free",n,e.host,e.port)}function r(e){t.removeSocket(n),n.removeListener("free",i),n.removeListener("close",r),n.removeListener("agentRemove",r)}n.on("free",i),n.on("close",r),n.on("agentRemove",r),e.request.onSocket(n)}))},p.prototype.createSocket=function(t,n){var r=this,o={};r.sockets.push(o);var a=f({},r.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1});a.proxyAuth&&(a.headers=a.headers||{},a.headers["Proxy-Authorization"]="Basic "+l.from(a.proxyAuth).toString("base64")),i("making CONNECT request");var s=r.request(a);function u(e,a,u){if(s.removeAllListeners(),a.removeAllListeners(),200===e.statusCode)c.equal(u.length,0),i("tunneling connection has established"),r.sockets[r.sockets.indexOf(o)]=a,n(a);else{i("tunneling socket could not be established, statusCode=%d",e.statusCode);var l=new Error("tunneling socket could not be established, statusCode="+e.statusCode);l.code="ECONNRESET",t.request.emit("error",l),r.removeSocket(o)}}s.useChunkedEncodingByDefault=!1,s.once("response",(function(e){e.upgrade=!0})),s.once("upgrade",(function(t,n,i){e.nextTick((function(){u(t,n,i)}))})),s.once("connect",u),s.once("error",(function(e){s.removeAllListeners(),i("tunneling socket could not be established, cause=%s\n",e.message,e.stack);var n=new Error("tunneling socket could not be established, cause="+e.message);n.code="ECONNRESET",t.request.emit("error",n),r.removeSocket(o)})),s.end()},p.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}},i=e.env.NODE_DEBUG&&/\btunnel\b/.test(e.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},t.debug=i}).call(this,n(8))},function(e,t,n){(function(t){(function(){var n,i,r,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},i=t.hrtime,o=(n=function(){var e;return 1e9*(e=i())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(8))},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i,r=n(80),o=n(39).parse,a=n(18),s=n(392),c=n(393).Store,u=n(730).MemoryCookieStore,l=n(395).pathMatch,p=n(731);try{i=n(155)}catch(e){console.warn("tough-cookie: can't load punycode; won't use punycode for domain normalization")}var h=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,f=/[\x00-\x1F]/,d=["\n","\r","\0"],m=/[\x20-\x3A\x3C-\x7E]+/,g=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,v={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],b=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function w(e,t,n,i){for(var r=0;r<e.length;){var o=e.charCodeAt(r);if(o<=47||o>=58)break;r++}return r<t||r>n?null:i||r==e.length?parseInt(e.substr(0,r),10):null}function _(e){var t=e.split(":"),n=[0,0,0];if(3!==t.length)return null;for(var i=0;i<3;i++){var r=2==i,o=w(t[i],1,2,r);if(null===o)return null;n[i]=o}return n}function x(e){e=String(e).substr(0,3).toLowerCase();var t=v[e];return t>=0?t:null}function k(e){if(e){var t=e.split(g);if(t){for(var n=null,i=null,r=null,o=null,a=null,s=null,c=0;c<t.length;c++){var u,l=t[c].trim();if(l.length)null===r&&(u=_(l))?(n=u[0],i=u[1],r=u[2]):null!==o||null===(u=w(l,1,2,!0))?null!==a||null===(u=x(l))?null===s&&null!==(u=w(l,2,4,!0))&&((s=u)>=70&&s<=99?s+=1900:s>=0&&s<=69&&(s+=2e3)):a=u:o=u}if(!(null===o||null===a||null===s||null===r||o<1||o>31||s<1601||n>23||i>59||r>59))return new Date(Date.UTC(s,a,o,n,i,r))}}}function E(e){var t=e.getUTCDate();t=t>=10?t:"0"+t;var n=e.getUTCHours();n=n>=10?n:"0"+n;var i=e.getUTCMinutes();i=i>=10?i:"0"+i;var r=e.getUTCSeconds();return r=r>=10?r:"0"+r,b[e.getUTCDay()]+", "+t+" "+y[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+n+":"+i+":"+r+" GMT"}function S(e){return null==e?null:(e=e.trim().replace(/^\./,""),i&&/[^\u0001-\u007f]/.test(e)&&(e=i.toASCII(e)),e.toLowerCase())}function j(e,t,n){if(null==e||null==t)return null;if(!1!==n&&(e=S(e),t=S(t)),e==t)return!0;if(r.isIP(e))return!1;var i=e.indexOf(t);return!(i<=0)&&(e.length===t.length+i&&"."===e.substr(i-1,1))}function M(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function A(e,t){var n,i,r=(e=function(e){for(var t=0;t<d.length;t++){var n=e.indexOf(d[t]);-1!==n&&(e=e.substr(0,n))}return e}(e)).indexOf("=");if(t)0===r&&(r=(e=e.substr(1)).indexOf("="));else if(r<=0)return;if(r<=0?(n="",i=e.trim()):(n=e.substr(0,r).trim(),i=e.substr(r+1).trim()),!f.test(n)&&!f.test(i)){var o=new O;return o.key=n,o.value=i,o}}function C(e,t){t&&"object"==typeof t||(t={});var n=(e=e.trim()).indexOf(";"),i=A(-1===n?e:e.substr(0,n),!!t.loose);if(i){if(-1===n)return i;var r=e.slice(n+1).trim();if(0===r.length)return i;for(var o=r.split(";");o.length;){var a=o.shift().trim();if(0!==a.length){var s,c,u=a.indexOf("=");switch(-1===u?(s=a,c=null):(s=a.substr(0,u),c=a.substr(u+1)),s=s.trim().toLowerCase(),c&&(c=c.trim()),s){case"expires":if(c){var l=k(c);l&&(i.expires=l)}break;case"max-age":if(c&&/^-?[0-9]+$/.test(c)){var p=parseInt(c,10);i.setMaxAge(p)}break;case"domain":if(c){var h=c.trim().replace(/^\./,"");h&&(i.domain=h.toLowerCase())}break;case"path":i.path=c&&"/"===c[0]?c:null;break;case"secure":i.secure=!0;break;case"httponly":i.httpOnly=!0;break;default:i.extensions=i.extensions||[],i.extensions.push(a)}}}return i}}function T(e){var t;try{t=JSON.parse(e)}catch(e){return e}return t}function P(e){if(!e)return null;var t;if("string"==typeof e){if((t=T(e))instanceof Error)return null}else t=e;for(var n=new O,i=0;i<O.serializableProperties.length;i++){var r=O.serializableProperties[i];void 0!==t[r]&&t[r]!==O.prototype[r]&&("expires"===r||"creation"===r||"lastAccessed"===r?null===t[r]?n[r]=null:n[r]="Infinity"==t[r]?"Infinity":new Date(t[r]):n[r]=t[r])}return n}function R(e,t){var n=0,i=e.path?e.path.length:0;return 0!==(n=(t.path?t.path.length:0)-i)||0!==(n=(e.creation?e.creation.getTime():2147483647e3)-(t.creation?t.creation.getTime():2147483647e3))?n:n=e.creationIndex-t.creationIndex}function B(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(e){}return o(e)}function O(e){e=e||{},Object.keys(e).forEach((function(t){O.prototype.hasOwnProperty(t)&&O.prototype[t]!==e[t]&&"_"!==t.substr(0,1)&&(this[t]=e[t])}),this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++O.cookiesCreated})}function I(e,t){"boolean"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new u),this.store=e}O.cookiesCreated=0,O.parse=C,O.fromJSON=P,O.prototype.key="",O.prototype.value="",O.prototype.expires="Infinity",O.prototype.maxAge=null,O.prototype.domain=null,O.prototype.path=null,O.prototype.secure=!1,O.prototype.httpOnly=!1,O.prototype.extensions=null,O.prototype.hostOnly=null,O.prototype.pathIsDefault=null,O.prototype.creation=null,O.prototype.lastAccessed=null,Object.defineProperty(O.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),O.serializableProperties=Object.keys(O.prototype).filter((function(e){return!(O.prototype[e]instanceof Function||"creationIndex"===e||"_"===e.substr(0,1))})),O.prototype.inspect=function(){var e=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?e-this.creation.getTime()+"ms":"?")+'"'},a.inspect.custom&&(O.prototype[a.inspect.custom]=O.prototype.inspect),O.prototype.toJSON=function(){for(var e={},t=O.serializableProperties,n=0;n<t.length;n++){var i=t[n];this[i]!==O.prototype[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===this[i]?e[i]=null:e[i]="Infinity"==this[i]?"Infinity":this[i].toISOString():"maxAge"===i?null!==this[i]&&(e[i]=this[i]==1/0||this[i]==-1/0?this[i].toString():this[i]):this[i]!==O.prototype[i]&&(e[i]=this[i]))}return e},O.prototype.clone=function(){return P(this.toJSON())},O.prototype.validate=function(){if(!h.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||k(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!m.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;if(null==s.getPublicSuffix(e))return!1}return!0},O.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=k(e)||"Infinity"},O.prototype.setMaxAge=function(e){this.maxAge=e===1/0||e===-1/0?e.toString():e},O.prototype.cookieString=function(){var e=this.value;return null==e&&(e=""),""===this.key?e:this.key+"="+e},O.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?e+="; Expires="+E(this.expires):e+="; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(e+="; Domain="+this.domain),this.path&&(e+="; Path="+this.path),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.extensions&&this.extensions.forEach((function(t){e+="; "+t})),e},O.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=k(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},O.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,n=this.maxAge<=0?-1/0:1e3*this.maxAge;return t.getTime()+n}return this.expires==1/0?1/0:this.expires.getTime()},O.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(2147483647e3):t==-1/0?new Date(0):new Date(t)},O.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},O.prototype.cdomain=O.prototype.canonicalizedDomain=function(){return null==this.domain?null:S(this.domain)},I.prototype.store=null,I.prototype.rejectPublicSuffixes=!0,I.prototype.enableLooseMode=!1;var D=[];function F(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var t,n,i=Array.prototype.slice.call(arguments);if(i.push((function(e,i){t=e,n=i})),this[e].apply(this,i),t)throw t;return n}}D.push("setCookie"),I.prototype.setCookie=function(e,t,n,i){var r,o=B(t);n instanceof Function&&(i=n,n={});var a=S(o.hostname),c=this.enableLooseMode;if(null!=n.loose&&(c=n.loose),e instanceof O||(e=O.parse(e,{loose:c})),!e)return r=new Error("Cookie failed to parse"),i(n.ignoreError?null:r);var u=n.now||new Date;if(this.rejectPublicSuffixes&&e.domain&&null==s.getPublicSuffix(e.cdomain()))return r=new Error("Cookie has domain set to a public suffix"),i(n.ignoreError?null:r);if(e.domain){if(!j(a,e.cdomain(),!1))return r=new Error("Cookie not in this host's domain. Cookie:"+e.cdomain()+" Request:"+a),i(n.ignoreError?null:r);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=a;if(e.path&&"/"===e.path[0]||(e.path=M(o.pathname),e.pathIsDefault=!0),!1===n.http&&e.httpOnly)return r=new Error("Cookie is HttpOnly and this isn't an HTTP API"),i(n.ignoreError?null:r);var l=this.store;l.updateCookie||(l.updateCookie=function(e,t,n){this.putCookie(t,n)}),l.findCookie(e.domain,e.path,e.key,(function(t,r){if(t)return i(t);var o=function(t){if(t)return i(t);i(null,e)};if(r){if(!1===n.http&&r.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),i(n.ignoreError?null:t);e.creation=r.creation,e.creationIndex=r.creationIndex,e.lastAccessed=u,l.updateCookie(r,e,o)}else e.creation=e.lastAccessed=u,l.putCookie(e,o)}))},D.push("getCookies"),I.prototype.getCookies=function(e,t,n){var i=B(e);t instanceof Function&&(n=t,t={});var r=S(i.hostname),o=i.pathname||"/",a=t.secure;null!=a||!i.protocol||"https:"!=i.protocol&&"wss:"!=i.protocol||(a=!0);var s=t.http;null==s&&(s=!0);var c=t.now||Date.now(),u=!1!==t.expire,p=!!t.allPaths,h=this.store;function f(e){if(e.hostOnly){if(e.domain!=r)return!1}else if(!j(r,e.domain,!1))return!1;return!(!p&&!l(o,e.path))&&(!(e.secure&&!a)&&(!(e.httpOnly&&!s)&&(!(u&&e.expiryTime()<=c)||(h.removeCookie(e.domain,e.path,e.key,(function(){})),!1))))}h.findCookies(r,p?null:o,(function(e,i){if(e)return n(e);i=i.filter(f),!1!==t.sort&&(i=i.sort(R));var r=new Date;i.forEach((function(e){e.lastAccessed=r})),n(null,i)}))},D.push("getCookieString"),I.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.sort(R).map((function(e){return e.cookieString()})).join("; "))};e.push(n),this.getCookies.apply(this,e)},D.push("getSetCookieStrings"),I.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),n=function(e,n){e?t(e):t(null,n.map((function(e){return e.toString()})))};e.push(n),this.getCookies.apply(this,e)},D.push("serialize"),I.prototype.serialize=function(e){var t=this.store.constructor.name;"Object"===t&&(t=null);var n={version:"tough-cookie@"+p,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return e(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies((function(t,i){return t?e(t):(n.cookies=i.map((function(e){return delete(e=e instanceof O?e.toJSON():e).creationIndex,e})),e(null,n))}))},I.prototype.toJSON=function(){return this.serializeSync()},D.push("_importCookies"),I.prototype._importCookies=function(e,t){var n=this,i=e.cookies;if(!i||!Array.isArray(i))return t(new Error("serialized jar has no cookies array"));i=i.slice(),function e(r){if(r)return t(r);if(!i.length)return t(r,n);var o;try{o=P(i.shift())}catch(e){return t(e)}if(null===o)return e(null);n.store.putCookie(o,e)}()},I.deserialize=function(e,t,n){var i;if(3!==arguments.length&&(n=t,t=null),"string"==typeof e){if((i=T(e))instanceof Error)return n(i)}else i=e;var r=new I(t,i.rejectPublicSuffixes);r._importCookies(i,(function(e){if(e)return n(e);n(null,r)}))},I.deserializeSync=function(e,t){var n="string"==typeof e?JSON.parse(e):e,i=new I(t,n.rejectPublicSuffixes);if(!i.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return i._importCookiesSync(n),i},I.fromJSON=I.deserializeSync,I.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize((function(n,i){if(n)return t(n);I.deserialize(i,e,t)}))},D.push("removeAllCookies"),I.prototype.removeAllCookies=function(e){var t=this.store;if(t.removeAllCookies instanceof Function&&t.removeAllCookies!==c.prototype.removeAllCookies)return t.removeAllCookies(e);t.getAllCookies((function(n,i){if(n)return e(n);if(0===i.length)return e(null);var r=0,o=[];function a(t){if(t&&o.push(t),++r===i.length)return e(o.length?o[0]:null)}i.forEach((function(e){t.removeCookie(e.domain,e.path,e.key,a)}))}))},I.prototype._cloneSync=F("clone"),I.prototype.cloneSync=function(e){if(!e.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(e)},D.forEach((function(e){I.prototype[e+"Sync"]=F(e)})),t.version=p,t.CookieJar=I,t.Cookie=O,t.Store=c,t.MemoryCookieStore=u,t.parseDate=k,t.formatDate=E,t.parse=C,t.fromJSON=P,t.domainMatch=j,t.defaultPath=M,t.pathMatch=l,t.getPublicSuffix=s.getPublicSuffix,t.cookieCompare=R,t.permuteDomain=n(394).permuteDomain,t.permutePath=function(e){if("/"===e)return["/"];e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var n=e.lastIndexOf("/");if(0===n)break;e=e.substr(0,n),t.push(e)}return t.push("/"),t},t.canonicalDomain=S},function(e,t,n){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var i=n(393).Store,r=n(394).permuteDomain,o=n(395).pathMatch,a=n(18);function s(){i.call(this),this.idx={}}a.inherits(s,i),t.MemoryCookieStore=s,s.prototype.idx=null,s.prototype.synchronous=!0,s.prototype.inspect=function(){return"{ idx: "+a.inspect(this.idx,!1,2)+" }"},a.inspect.custom&&(s.prototype[a.inspect.custom]=s.prototype.inspect),s.prototype.findCookie=function(e,t,n,i){return this.idx[e]&&this.idx[e][t]?i(null,this.idx[e][t][n]||null):i(null,void 0)},s.prototype.findCookies=function(e,t,n){var i,a=[];if(!e)return n(null,[]);i=t?function(e){Object.keys(e).forEach((function(n){if(o(t,n)){var i=e[n];for(var r in i)a.push(i[r])}}))}:function(e){for(var t in e){var n=e[t];for(var i in n)a.push(n[i])}};var s=r(e)||[e],c=this.idx;s.forEach((function(e){var t=c[e];t&&i(t)})),n(null,a)},s.prototype.putCookie=function(e,t){this.idx[e.domain]||(this.idx[e.domain]={}),this.idx[e.domain][e.path]||(this.idx[e.domain][e.path]={}),this.idx[e.domain][e.path][e.key]=e,t(null)},s.prototype.updateCookie=function(e,t,n){this.putCookie(t,n)},s.prototype.removeCookie=function(e,t,n,i){this.idx[e]&&this.idx[e][t]&&this.idx[e][t][n]&&delete this.idx[e][t][n],i(null)},s.prototype.removeCookies=function(e,t,n){return this.idx[e]&&(t?delete this.idx[e][t]:delete this.idx[e]),n(null)},s.prototype.removeAllCookies=function(e){return this.idx={},e(null)},s.prototype.getAllCookies=function(e){var t=[],n=this.idx;Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(i){Object.keys(n[e][i]).forEach((function(r){null!==r&&t.push(n[e][i][r])}))}))})),t.sort((function(e,t){return(e.creationIndex||0)-(t.creationIndex||0)})),e(null,t)}},function(e,t){e.exports="2.5.0"},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){"use strict";var i=n(396);function r(e,t,n){var r=i.extend(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:r}),r.length&&r.forEach((function(i){e.set(i,t.inverse,n)}))}function o(e,t){if(!(this instanceof o))return new o(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}o.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?r(this,t,e):function(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r;r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}(this,t,e)},o.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return i.isExtended(n)||r(this,t,e),n},o.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},o.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},o.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)},e.exports=o},function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",u="[object Array]",l="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",j="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",C="[object Int32Array]",T="[object Uint8Array]",P="[object Uint16Array]",R="[object Uint32Array]",B=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,I=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,z=RegExp(D.source),N=RegExp(F.source),L=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,U=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W=/[\\^$.*+?()[\]{}|]/g,G=RegExp(W.source),K=/^\s+/,Z=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,oe=/^0b[01]+$/i,ae=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,ue=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,pe=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",me="["+fe+"]",ge="["+he+"]",ve="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+ve+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",xe="[^\\ud800-\\udfff]",ke="(?:\\ud83c[\\udde6-\\uddff]){2}",Ee="[\\ud800-\\udbff][\\udc00-\\udfff]",Se="[A-Z\\xc0-\\xd6\\xd8-\\xde]",je="(?:"+be+"|"+we+")",Me="(?:"+Se+"|"+we+")",Ae="(?:"+ge+"|"+_e+")"+"?",Ce="[\\ufe0e\\ufe0f]?"+Ae+("(?:\\u200d(?:"+[xe,ke,Ee].join("|")+")[\\ufe0e\\ufe0f]?"+Ae+")*"),Te="(?:"+[ye,ke,Ee].join("|")+")"+Ce,Pe="(?:"+[xe+ge+"?",ge,ke,Ee,de].join("|")+")",Re=RegExp("['’]","g"),Be=RegExp(ge,"g"),Oe=RegExp(_e+"(?="+_e+")|"+Pe+Ce,"g"),Ie=RegExp([Se+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[me,Se,"$"].join("|")+")",Me+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[me,Se+je,"$"].join("|")+")",Se+"?"+je+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ve,Te].join("|"),"g"),De=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),Fe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ze=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ne=-1,Le={};Le[S]=Le[j]=Le[M]=Le[A]=Le[C]=Le[T]=Le["[object Uint8ClampedArray]"]=Le[P]=Le[R]=!0,Le[c]=Le[u]=Le[k]=Le[l]=Le[E]=Le[p]=Le[h]=Le[f]=Le[m]=Le[g]=Le[v]=Le[y]=Le[b]=Le[w]=Le[x]=!1;var qe={};qe[c]=qe[u]=qe[k]=qe[E]=qe[l]=qe[p]=qe[S]=qe[j]=qe[M]=qe[A]=qe[C]=qe[m]=qe[g]=qe[v]=qe[y]=qe[b]=qe[w]=qe[_]=qe[T]=qe["[object Uint8ClampedArray]"]=qe[P]=qe[R]=!0,qe[h]=qe[f]=qe[x]=!1;var He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ue=parseFloat,$e=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,We="object"==typeof self&&self&&self.Object===Object&&self,Ge=Ve||We||Function("return this")(),Ke=t&&!t.nodeType&&t,Ze=Ke&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ze&&Ze.exports===Ke,Xe=Ye&&Ve.process,Je=function(){try{var e=Ze&&Ze.require&&Ze.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function ot(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function at(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function st(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function pt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function dt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function mt(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function gt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function vt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=St("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,kt,n)}function xt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function kt(e){return e!=e}function Et(e,t){var n=null==e?0:e.length;return n?At(e,t)/n:NaN}function St(e){return function(t){return null==t?void 0:t[e]}}function jt(e){return function(t){return null==e?void 0:e[t]}}function Mt(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function At(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ct(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Tt(e){return e?e.slice(0,Kt(e)+1).replace(K,""):e}function Pt(e){return function(t){return e(t)}}function Rt(e,t){return ft(t,(function(t){return e[t]}))}function Bt(e,t){return e.has(t)}function Ot(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function It(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var Ft=jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),zt=jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Nt(e){return"\\"+He[e]}function Lt(e){return De.test(e)}function qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Ht(e,t){return function(n){return e(t(n))}}function Ut(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[r++]=n)}return o}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Wt(e){return Lt(e)?function(e){var t=Oe.lastIndex=0;for(;Oe.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Lt(e)?function(e){return e.match(Oe)||[]}(e):function(e){return e.split("")}(e)}function Kt(e){for(var t=e.length;t--&&Z.test(e.charAt(t)););return t}var Zt=jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,ze))).Array,r=t.Date,Z=t.Error,he=t.Function,fe=t.Math,de=t.Object,me=t.RegExp,ge=t.String,ve=t.TypeError,ye=i.prototype,be=he.prototype,we=de.prototype,_e=t["__core-js_shared__"],xe=be.toString,ke=we.hasOwnProperty,Ee=0,Se=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",je=we.toString,Me=xe.call(de),Ae=Ge._,Ce=me("^"+xe.call(ke).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=Ye?t.Buffer:void 0,Pe=t.Symbol,Oe=t.Uint8Array,De=Te?Te.allocUnsafe:void 0,He=Ht(de.getPrototypeOf,de),Ve=de.create,We=we.propertyIsEnumerable,Ke=ye.splice,Ze=Pe?Pe.isConcatSpreadable:void 0,Xe=Pe?Pe.iterator:void 0,Je=Pe?Pe.toStringTag:void 0,yt=function(){try{var e=eo(de,"defineProperty");return e({},"",{}),e}catch(e){}}(),jt=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=de.getOwnPropertySymbols,nn=Te?Te.isBuffer:void 0,rn=t.isFinite,on=ye.join,an=Ht(de.keys,de),sn=fe.max,cn=fe.min,un=r.now,ln=t.parseInt,pn=fe.random,hn=ye.reverse,fn=eo(t,"DataView"),dn=eo(t,"Map"),mn=eo(t,"Promise"),gn=eo(t,"Set"),vn=eo(t,"WeakMap"),yn=eo(de,"create"),bn=vn&&new vn,wn={},_n=Ao(fn),xn=Ao(dn),kn=Ao(mn),En=Ao(gn),Sn=Ao(vn),jn=Pe?Pe.prototype:void 0,Mn=jn?jn.valueOf:void 0,An=jn?jn.toString:void 0;function Cn(e){if(Va(e)&&!Oa(e)&&!(e instanceof Bn)){if(e instanceof Rn)return e;if(ke.call(e,"__wrapped__"))return Co(e)}return new Rn(e)}var Tn=function(){function e(){}return function(t){if(!$a(t))return{};if(Ve)return Ve(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Pn(){}function Rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Bn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function In(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Fn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dn;++t<n;)this.add(e[t])}function zn(e){var t=this.__data__=new In(e);this.size=t.size}function Nn(e,t){var n=Oa(e),i=!n&&Ba(e),r=!n&&!i&&za(e),o=!n&&!i&&!r&&Qa(e),a=n||i||r||o,s=a?Ct(e.length,ge):[],c=s.length;for(var u in e)!t&&!ke.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||so(u,c))||s.push(u);return s}function Ln(e){var t=e.length;return t?e[Fi(0,t-1)]:void 0}function qn(e,t){return So(yr(e),Yn(t,0,e.length))}function Hn(e){return So(yr(e))}function Un(e,t,n){(void 0!==n&&!Ta(e[t],n)||void 0===n&&!(t in e))&&Kn(e,t,n)}function $n(e,t,n){var i=e[t];ke.call(e,t)&&Ta(i,n)&&(void 0!==n||t in e)||Kn(e,t,n)}function Vn(e,t){for(var n=e.length;n--;)if(Ta(e[n][0],t))return n;return-1}function Wn(e,t,n,i){return ti(e,(function(e,r,o){t(i,e,n(e),o)})),i}function Gn(e,t){return e&&br(t,_s(t),e)}function Kn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Zn(e,t){for(var n=-1,r=t.length,o=i(r),a=null==e;++n<r;)o[n]=a?void 0:gs(e,t[n]);return o}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,o){var a,s=1&t,u=2&t,h=4&t;if(n&&(a=r?n(e,i,r,o):n(e)),void 0!==a)return a;if(!$a(e))return e;var x=Oa(e);if(x){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return yr(e,a)}else{var B=io(e),O=B==f||B==d;if(za(e))return hr(e,s);if(B==v||B==c||O&&!r){if(a=u||O?{}:oo(e),!s)return u?function(e,t){return br(e,no(e),t)}(e,function(e,t){return e&&br(t,xs(t),e)}(a,e)):function(e,t){return br(e,to(e),t)}(e,Gn(a,e))}else{if(!qe[B])return r?e:{};a=function(e,t,n){var i=e.constructor;switch(t){case k:return fr(e);case l:case p:return new i(+e);case E:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case j:case M:case A:case C:case T:case"[object Uint8ClampedArray]":case P:case R:return dr(e,n);case m:return new i;case g:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,Mn?de(Mn.call(r)):{}}var r}(e,B,s)}}o||(o=new zn);var I=o.get(e);if(I)return I;o.set(e,a),Ya(e)?e.forEach((function(i){a.add(Xn(i,t,n,i,e,o))})):Wa(e)&&e.forEach((function(i,r){a.set(r,Xn(i,t,n,r,e,o))}));var D=x?void 0:(h?u?Gr:Wr:u?xs:_s)(e);return st(D||e,(function(i,r){D&&(i=e[r=i]),$n(a,r,Xn(i,t,n,r,e,o))})),a}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=de(e);i--;){var r=n[i],o=t[r],a=e[r];if(void 0===a&&!(r in e)||!o(a))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new ve(o);return _o((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,o=pt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=ft(t,Pt(n))),i?(o=ht,a=!1):t.length>=200&&(o=Bt,a=!1,t=new Fn(t));e:for(;++r<s;){var l=e[r],p=null==n?l:n(l);if(l=i||0!==l?l:0,a&&p==p){for(var h=u;h--;)if(t[h]===p)continue e;c.push(l)}else o(t,p,i)||c.push(l)}return c}Cn.templateSettings={escape:L,evaluate:q,interpolate:H,variable:"",imports:{_:Cn}},Cn.prototype=Pn.prototype,Cn.prototype.constructor=Cn,Rn.prototype=Tn(Pn.prototype),Rn.prototype.constructor=Rn,Bn.prototype=Tn(Pn.prototype),Bn.prototype.constructor=Bn,On.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},On.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},On.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ke.call(t,e)?t[e]:void 0},On.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:ke.call(t,e)},On.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},In.prototype.get=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]},In.prototype.has=function(e){return Vn(this.__data__,e)>-1},In.prototype.set=function(e,t){var n=this.__data__,i=Vn(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new On,map:new(dn||In),string:new On}},Dn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},Dn.prototype.get=function(e){return Jr(this,e).get(e)},Dn.prototype.has=function(e){return Jr(this,e).has(e)},Dn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Fn.prototype.add=Fn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Fn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.clear=function(){this.__data__=new In,this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},zn.prototype.get=function(e){return this.__data__.get(e)},zn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof In){var i=n.__data__;if(!dn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dn(i)}return n.set(e,t),this.size=n.size,this};var ti=xr(ui),ni=xr(li,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(void 0===s?a==a&&!Ja(a):n(a,s)))var s=a,c=o}return c}function oi(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function ai(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=ao),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ai(s,t-1,n,i,r):dt(r,s):i||(r[r.length]=s)}return r}var si=kr(),ci=kr(!0);function ui(e,t){return e&&si(e,t,_s)}function li(e,t){return e&&ci(e,t,_s)}function pi(e,t){return lt(t,(function(t){return qa(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[Mo(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return Oa(e)?i:dt(i,n(e))}function di(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in de(e)?function(e){var t=ke.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=je.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return je.call(e)}(e)}function mi(e,t){return e>t}function gi(e,t){return null!=e&&ke.call(e,t)}function vi(e,t){return null!=e&&t in de(e)}function yi(e,t,n){for(var r=n?ht:pt,o=e[0].length,a=e.length,s=a,c=i(a),u=1/0,l=[];s--;){var p=e[s];s&&t&&(p=ft(p,Pt(t))),u=cn(p.length,u),c[s]=!n&&(t||o>=120&&p.length>=120)?new Fn(s&&p):void 0}p=e[0];var h=-1,f=c[0];e:for(;++h<o&&l.length<u;){var d=p[h],m=t?t(d):d;if(d=n||0!==d?d:0,!(f?Bt(f,m):r(l,m,n))){for(s=a;--s;){var g=c[s];if(!(g?Bt(g,m):r(e[s],m,n)))continue e}f&&f.push(m),l.push(d)}}return l}function bi(e,t,n){var i=null==(e=vo(e,t=cr(t,e)))?e:e[Mo(Lo(t))];return null==i?void 0:ot(i,e,n)}function wi(e){return Va(e)&&di(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!Va(e)&&!Va(t)?e!=e&&t!=t:function(e,t,n,i,r,o){var a=Oa(e),s=Oa(t),f=a?u:io(e),d=s?u:io(t),x=(f=f==c?v:f)==v,S=(d=d==c?v:d)==v,j=f==d;if(j&&za(e)){if(!za(t))return!1;a=!0,x=!1}if(j&&!x)return o||(o=new zn),a||Qa(e)?$r(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Oe(e),new Oe(t)));case l:case p:case g:return Ta(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case m:var s=qt;case b:var c=1&i;if(s||(s=$t),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var f=$r(s(e),s(t),i,r,o,a);return a.delete(e),f;case _:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,f,n,i,r,o);if(!(1&n)){var M=x&&ke.call(e,"__wrapped__"),A=S&&ke.call(t,"__wrapped__");if(M||A){var C=M?e.value():e,T=A?t.value():t;return o||(o=new zn),r(C,T,n,i,o)}}if(!j)return!1;return o||(o=new zn),function(e,t,n,i,r,o){var a=1&n,s=Wr(e),c=s.length,u=Wr(t).length;if(c!=u&&!a)return!1;var l=c;for(;l--;){var p=s[l];if(!(a?p in t:ke.call(t,p)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var d=!0;o.set(e,t),o.set(t,e);var m=a;for(;++l<c;){p=s[l];var g=e[p],v=t[p];if(i)var y=a?i(v,g,p,t,e,o):i(g,v,p,e,t,o);if(!(void 0===y?g===v||r(g,v,n,i,o):y)){d=!1;break}m||(m="constructor"==p)}if(d&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,i,r,o)}(e,t,n,i,_i,r))}function xi(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=de(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var c=(s=n[r])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var p=new zn;if(i)var h=i(u,l,c,e,t,p);if(!(void 0===h?_i(l,u,3,i,p):h))return!1}}return!0}function ki(e){return!(!$a(e)||(t=e,Se&&Se in t))&&(qa(e)?Ce:ae).test(Ao(e));var t}function Ei(e){return"function"==typeof e?e:null==e?Gs:"object"==typeof e?Oa(e)?Ti(e[0],e[1]):Ci(e):nc(e)}function Si(e){if(!ho(e))return an(e);var t=[];for(var n in de(e))ke.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ji(e){if(!$a(e))return function(e){var t=[];if(null!=e)for(var n in de(e))t.push(n);return t}(e);var t=ho(e),n=[];for(var i in e)("constructor"!=i||!t&&ke.call(e,i))&&n.push(i);return n}function Mi(e,t){return e<t}function Ai(e,t){var n=-1,r=Da(e)?i(e.length):[];return ti(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Ci(e){var t=Qr(e);return 1==t.length&&t[0][2]?mo(t[0][0],t[0][1]):function(n){return n===e||xi(n,e,t)}}function Ti(e,t){return uo(e)&&fo(t)?mo(Mo(e),t):function(n){var i=gs(n,e);return void 0===i&&i===t?vs(n,e):_i(t,i,3)}}function Pi(e,t,n,i,r){e!==t&&si(t,(function(o,a){if(r||(r=new zn),$a(o))!function(e,t,n,i,r,o,a){var s=bo(e,n),c=bo(t,n),u=a.get(c);if(u)return void Un(e,n,u);var l=o?o(s,c,n+"",e,t,a):void 0,p=void 0===l;if(p){var h=Oa(c),f=!h&&za(c),d=!h&&!f&&Qa(c);l=c,h||f||d?Oa(s)?l=s:Fa(s)?l=yr(s):f?(p=!1,l=hr(c,!0)):d?(p=!1,l=dr(c,!0)):l=[]:Ka(c)||Ba(c)?(l=s,Ba(s)?l=ss(s):$a(s)&&!qa(s)||(l=oo(c))):p=!1}p&&(a.set(c,l),r(l,c,i,o,a),a.delete(c));Un(e,n,l)}(e,t,a,n,Pi,i,r);else{var s=i?i(bo(e,a),o,a+"",e,t,r):void 0;void 0===s&&(s=o),Un(e,a,s)}}),xs)}function Ri(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Bi(e,t,n){t=t.length?ft(t,(function(e){return Oa(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Gs];var i=-1;return t=ft(t,Pt(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ai(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var c=mr(r[i],o[i]);if(c){if(i>=s)return c;var u=n[i];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Oi(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=hi(e,a);n(s,a)&&Hi(o,cr(a,e),s)}return o}function Ii(e,t,n,i){var r=i?xt:_t,o=-1,a=t.length,s=e;for(e===t&&(t=yr(t)),n&&(s=ft(e,Pt(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;(c=r(s,l,c,i))>-1;)s!==e&&Ke.call(s,c,1),Ke.call(e,c,1);return e}function Di(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;so(r)?Ke.call(e,r,1):er(e,r)}}return e}function Fi(e,t){return e+en(pn()*(t-e+1))}function zi(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Ni(e,t){return xo(go(e,t,Gs),e+"")}function Li(e){return Ln(Ts(e))}function qi(e,t){var n=Ts(e);return So(n,Yn(t,0,n.length))}function Hi(e,t,n,i){if(!$a(e))return e;for(var r=-1,o=(t=cr(t,e)).length,a=o-1,s=e;null!=s&&++r<o;){var c=Mo(t[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=a){var l=s[c];void 0===(u=i?i(l,c,s):void 0)&&(u=$a(l)?l:so(t[r+1])?[]:{})}$n(s,c,u),s=s[c]}return e}var Ui=bn?function(e,t){return bn.set(e,t),e}:Gs,$i=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:$s(t),writable:!0})}:Gs;function Vi(e){return So(Ts(e))}function Wi(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=i(o);++r<o;)a[r]=e[r+t];return a}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Ki(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!Ja(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return Zi(e,t,Gs,n)}function Zi(e,t,n,i){var r=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=n(t))!=t,s=null===t,c=Ja(t),u=void 0===t;r<o;){var l=en((r+o)/2),p=n(e[l]),h=void 0!==p,f=null===p,d=p==p,m=Ja(p);if(a)var g=i||d;else g=u?d&&(i||h):s?d&&h&&(i||!f):c?d&&h&&!f&&(i||!m):!f&&!m&&(i?p<=t:p<t);g?r=l+1:o=l}return cn(o,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ta(s,c)){var c=s;o[r++]=0===a?0:a}}return o}function Xi(e){return"number"==typeof e?e:Ja(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(Oa(e))return ft(e,Ji)+"";if(Ja(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=pt,o=e.length,a=!0,s=[],c=s;if(n)a=!1,r=ht;else if(o>=200){var u=t?null:zr(e);if(u)return $t(u);a=!1,r=Bt,c=new Fn}else c=t?[]:s;e:for(;++i<o;){var l=e[i],p=t?t(l):l;if(l=n||0!==l?l:0,a&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue e;t&&c.push(p),s.push(l)}else r(c,p,n)||(c!==s&&c.push(p),s.push(l))}return s}function er(e,t){return null==(e=vo(e,t=cr(t,e)))||delete e[Mo(Lo(t))]}function tr(e,t,n,i){return Hi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Wi(e,i?0:o,i?o+1:r):Wi(e,i?o+1:0,i?r:o)}function ir(e,t){var n=e;return n instanceof Bn&&(n=n.value()),mt(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=e[o],c=-1;++c<r;)c!=o&&(a[o]=ei(a[o]||s,e[c],t,n));return Qi(ai(a,1),t,n)}function or(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=i<o?t[i]:void 0;n(a,e[i],s)}return a}function ar(e){return Fa(e)?e:[]}function sr(e){return"function"==typeof e?e:Gs}function cr(e,t){return Oa(e)?e:uo(e,t)?[e]:jo(cs(e))}var ur=Ni;function lr(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Wi(e,t,n)}var pr=jt||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=De?De(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Oe(t).set(new Oe(e)),t}function dr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,o=Ja(e),a=void 0!==t,s=null===t,c=t==t,u=Ja(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||i&&a&&c||!n&&c||!r)return 1;if(!i&&!o&&!u&&e<t||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!c)return-1}return 0}function gr(e,t,n,r){for(var o=-1,a=e.length,s=n.length,c=-1,u=t.length,l=sn(a-s,0),p=i(u+l),h=!r;++c<u;)p[c]=t[c];for(;++o<s;)(h||o<a)&&(p[n[o]]=e[o]);for(;l--;)p[c++]=e[o++];return p}function vr(e,t,n,r){for(var o=-1,a=e.length,s=-1,c=n.length,u=-1,l=t.length,p=sn(a-c,0),h=i(p+l),f=!r;++o<p;)h[o]=e[o];for(var d=o;++u<l;)h[d+u]=t[u];for(;++s<c;)(f||o<a)&&(h[d+n[s]]=e[o++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=i?i(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),r?Kn(n,s,c):$n(n,s,c)}return n}function wr(e,t){return function(n,i){var r=Oa(n)?at:Wn,o=t?t():{};return r(n,e,Xr(i,2),o)}}function _r(e){return Ni((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,a&&co(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=de(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}function xr(e,t){return function(n,i){if(null==n)return n;if(!Da(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=de(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function kr(e){return function(t,n,i){for(var r=-1,o=de(t),a=i(t),s=a.length;s--;){var c=a[e?s:++r];if(!1===n(o[c],c,o))break}return t}}function Er(e){return function(t){var n=Lt(t=cs(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?lr(n,1).join(""):t.slice(1);return i[e]()+r}}function Sr(e){return function(t){return mt(qs(Bs(t).replace(Re,"")),e,"")}}function jr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Tn(e.prototype),i=e.apply(n,t);return $a(i)?i:n}}function Mr(e){return function(t,n,i){var r=de(t);if(!Da(t)){var o=Xr(n,3);t=_s(t),n=function(e){return o(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[o?t[a]:a]:void 0}}function Ar(e){return Vr((function(t){var n=t.length,i=n,r=Rn.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new ve(o);if(r&&!s&&"wrapper"==Zr(a))var s=new Rn([],!0)}for(i=s?i:n;++i<n;){var c=Zr(a=t[i]),u="wrapper"==c?Kr(a):void 0;s=u&&lo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Zr(u[0])].apply(s,u[3]):1==a.length&&lo(a)?s[c]():s.thru(a)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Oa(i))return s.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function Cr(e,t,n,r,o,a,s,c,u,l){var p=128&t,h=1&t,f=2&t,d=24&t,m=512&t,g=f?void 0:jr(e);return function v(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(d)var _=Yr(v),x=Dt(b,_);if(r&&(b=gr(b,r,o,d)),a&&(b=vr(b,a,s,d)),y-=x,d&&y<l){var k=Ut(b,_);return Dr(e,t,Cr,v.placeholder,n,b,k,c,u,l-y)}var E=h?n:this,S=f?E[e]:e;return y=b.length,c?b=yo(b,c):m&&y>1&&b.reverse(),p&&u<y&&(b.length=u),this&&this!==Ge&&this instanceof v&&(S=g||jr(S)),S.apply(E,b)}}function Tr(e,t){return function(n,i){return function(e,t,n,i){return ui(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function Pr(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Rr(e){return Vr((function(t){return t=ft(t,Pt(Xr())),Ni((function(n){var i=this;return e(t,(function(e){return ot(e,i,n)}))}))}))}function Br(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?zi(t,e):t;var i=zi(t,Qt(e/Wt(t)));return Lt(t)?lr(Gt(i),0,e).join(""):i.slice(0,e)}function Or(e){return function(t,n,r){return r&&"number"!=typeof r&&co(t,n,r)&&(n=r=void 0),t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n,r){for(var o=-1,a=sn(Qt((t-e)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=e,e+=n;return s}(t,n,r=void 0===r?t<n?1:-1:is(r),e)}}function Ir(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Dr(e,t,n,i,r,o,a,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var p=[e,t,r,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],h=n.apply(void 0,p);return lo(e)&&wo(h,p),h.placeholder=i,ko(h,e,t)}function Fr(e){var t=fe[e];return function(e,n){if(e=as(e),(n=null==n?0:cn(rs(n),292))&&rn(e)){var i=(cs(e)+"e").split("e");return+((i=(cs(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var zr=gn&&1/$t(new gn([,-0]))[1]==1/0?function(e){return new gn(e)}:Js;function Nr(e){return function(t){var n=io(t);return n==m?qt(t):n==b?Vt(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Lr(e,t,n,r,s,c,u,l){var p=2&t;if(!p&&"function"!=typeof e)throw new ve(o);var h=r?r.length:0;if(h||(t&=-97,r=s=void 0),u=void 0===u?u:sn(rs(u),0),l=void 0===l?l:rs(l),h-=s?s.length:0,64&t){var f=r,d=s;r=s=void 0}var m=p?void 0:Kr(e),g=[e,t,n,r,s,f,d,c,u,l];if(m&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?gr(u,c,t[4]):c,e[4]=u?Ut(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?vr(u,c,t[6]):c,e[6]=u?Ut(e[5],a):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(g,m),e=g[0],t=g[1],n=g[2],r=g[3],s=g[4],!(l=g[9]=void 0===g[9]?p?0:e.length:sn(g[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)v=8==t||16==t?function(e,t,n){var r=jr(e);return function o(){for(var a=arguments.length,s=i(a),c=a,u=Yr(o);c--;)s[c]=arguments[c];var l=a<3&&s[0]!==u&&s[a-1]!==u?[]:Ut(s,u);if((a-=l.length)<n)return Dr(e,t,Cr,o.placeholder,void 0,s,l,void 0,void 0,n-a);var p=this&&this!==Ge&&this instanceof o?r:e;return ot(p,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Cr.apply(void 0,g):function(e,t,n,r){var o=1&t,a=jr(e);return function t(){for(var s=-1,c=arguments.length,u=-1,l=r.length,p=i(l+c),h=this&&this!==Ge&&this instanceof t?a:e;++u<l;)p[u]=r[u];for(;c--;)p[u++]=arguments[++s];return ot(h,o?n:this,p)}}(e,t,n,r);else var v=function(e,t,n){var i=1&t,r=jr(e);return function t(){var o=this&&this!==Ge&&this instanceof t?r:e;return o.apply(i?n:this,arguments)}}(e,t,n);return ko((m?Ui:wo)(v,g),e,t)}function qr(e,t,n,i){return void 0===e||Ta(e,we[n])&&!ke.call(i,n)?t:e}function Hr(e,t,n,i,r,o){return $a(e)&&$a(t)&&(o.set(t,e),Pi(e,t,void 0,Hr,o),o.delete(t)),e}function Ur(e){return Ka(e)?void 0:e}function $r(e,t,n,i,r,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var p=-1,h=!0,f=2&n?new Fn:void 0;for(o.set(e,t),o.set(t,e);++p<s;){var d=e[p],m=t[p];if(i)var g=a?i(m,d,p,t,e,o):i(d,m,p,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!vt(t,(function(e,t){if(!Bt(f,t)&&(d===e||r(d,e,n,i,o)))return f.push(t)}))){h=!1;break}}else if(d!==m&&!r(d,m,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Vr(e){return xo(go(e,void 0,Io),e+"")}function Wr(e){return fi(e,_s,to)}function Gr(e){return fi(e,xs,no)}var Kr=bn?function(e){return bn.get(e)}:Js;function Zr(e){for(var t=e.name+"",n=wn[t],i=ke.call(wn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Yr(e){return(ke.call(Cn,"placeholder")?Cn:e).placeholder}function Xr(){var e=Cn.iteratee||Ks;return e=e===Ks?Ei:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_s(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fo(r)]}return t}function eo(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ki(n)?n:void 0}var to=tn?function(e){return null==e?[]:(e=de(e),lt(tn(e),(function(t){return We.call(e,t)})))}:oc,no=tn?function(e){for(var t=[];e;)dt(t,to(e)),e=He(e);return t}:oc,io=di;function ro(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,o=!1;++i<r;){var a=Mo(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Ua(r)&&so(a,r)&&(Oa(e)||Ba(e))}function oo(e){return"function"!=typeof e.constructor||ho(e)?{}:Tn(He(e))}function ao(e){return Oa(e)||Ba(e)||!!(Ze&&e&&e[Ze])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function co(e,t,n){if(!$a(n))return!1;var i=typeof t;return!!("number"==i?Da(n)&&so(t,n.length):"string"==i&&t in n)&&Ta(n[t],e)}function uo(e,t){if(Oa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ja(e))||($.test(e)||!U.test(e)||null!=t&&e in de(t))}function lo(e){var t=Zr(e),n=Cn[t];if("function"!=typeof n||!(t in Bn.prototype))return!1;if(e===n)return!0;var i=Kr(n);return!!i&&e===i[0]}(fn&&io(new fn(new ArrayBuffer(1)))!=E||dn&&io(new dn)!=m||mn&&"[object Promise]"!=io(mn.resolve())||gn&&io(new gn)!=b||vn&&io(new vn)!=x)&&(io=function(e){var t=di(e),n=t==v?e.constructor:void 0,i=n?Ao(n):"";if(i)switch(i){case _n:return E;case xn:return m;case kn:return"[object Promise]";case En:return b;case Sn:return x}return t});var po=_e?qa:ac;function ho(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fo(e){return e==e&&!$a(e)}function mo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in de(n)))}}function go(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=sn(r.length-t,0),s=i(a);++o<a;)s[o]=r[t+o];o=-1;for(var c=i(t+1);++o<t;)c[o]=r[o];return c[t]=n(s),ot(e,this,c)}}function vo(e,t){return t.length<2?e:hi(e,Wi(t,0,-1))}function yo(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var o=t[i];e[i]=so(o,n)?r[o]:void 0}return e}function bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wo=Eo(Ui),_o=Jt||function(e,t){return Ge.setTimeout(e,t)},xo=Eo($i);function ko(e,t,n){var i=t+"";return xo(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return st(s,(function(n){var i="_."+n[0];t&n[1]&&!pt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Eo(e){var t=0,n=0;return function(){var i=un(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function So(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var o=Fi(n,r),a=e[o];e[o]=e[n],e[n]=a}return e.length=t,e}var jo=function(e){var t=Ea(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function Mo(e){if("string"==typeof e||Ja(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ao(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Co(e){if(e instanceof Bn)return e.clone();var t=new Rn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var To=Ni((function(e,t){return Fa(e)?ei(e,ai(t,1,Fa,!0)):[]})),Po=Ni((function(e,t){var n=Lo(t);return Fa(n)&&(n=void 0),Fa(e)?ei(e,ai(t,1,Fa,!0),Xr(n,2)):[]})),Ro=Ni((function(e,t){var n=Lo(t);return Fa(n)&&(n=void 0),Fa(e)?ei(e,ai(t,1,Fa,!0),void 0,n):[]}));function Bo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=sn(i+r,0)),wt(e,Xr(t,3),r)}function Oo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=rs(n),r=n<0?sn(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Io(e){return(null==e?0:e.length)?ai(e,1):[]}function Do(e){return e&&e.length?e[0]:void 0}var Fo=Ni((function(e){var t=ft(e,ar);return t.length&&t[0]===e[0]?yi(t):[]})),zo=Ni((function(e){var t=Lo(e),n=ft(e,ar);return t===Lo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),No=Ni((function(e){var t=Lo(e),n=ft(e,ar);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function Lo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var qo=Ni(Ho);function Ho(e,t){return e&&e.length&&t&&t.length?Ii(e,t):e}var Uo=Vr((function(e,t){var n=null==e?0:e.length,i=Zn(e,t);return Di(e,ft(t,(function(e){return so(e,n)?+e:e})).sort(mr)),i}));function $o(e){return null==e?e:hn.call(e)}var Vo=Ni((function(e){return Qi(ai(e,1,Fa,!0))})),Wo=Ni((function(e){var t=Lo(e);return Fa(t)&&(t=void 0),Qi(ai(e,1,Fa,!0),Xr(t,2))})),Go=Ni((function(e){var t=Lo(e);return t="function"==typeof t?t:void 0,Qi(ai(e,1,Fa,!0),void 0,t)}));function Ko(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Fa(e))return t=sn(e.length,t),!0})),Ct(t,(function(t){return ft(e,St(t))}))}function Zo(e,t){if(!e||!e.length)return[];var n=Ko(e);return null==t?n:ft(n,(function(e){return ot(t,void 0,e)}))}var Yo=Ni((function(e,t){return Fa(e)?ei(e,t):[]})),Xo=Ni((function(e){return rr(lt(e,Fa))})),Jo=Ni((function(e){var t=Lo(e);return Fa(t)&&(t=void 0),rr(lt(e,Fa),Xr(t,2))})),Qo=Ni((function(e){var t=Lo(e);return t="function"==typeof t?t:void 0,rr(lt(e,Fa),void 0,t)})),ea=Ni(Ko);var ta=Ni((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Zo(e,n)}));function na(e){var t=Cn(e);return t.__chain__=!0,t}function ia(e,t){return t(e)}var ra=Vr((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Zn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Bn&&so(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ia,args:[r],thisArg:void 0}),new Rn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var oa=wr((function(e,t,n){ke.call(e,n)?++e[n]:Kn(e,n,1)}));var aa=Mr(Bo),sa=Mr(Oo);function ca(e,t){return(Oa(e)?st:ti)(e,Xr(t,3))}function ua(e,t){return(Oa(e)?ct:ni)(e,Xr(t,3))}var la=wr((function(e,t,n){ke.call(e,n)?e[n].push(t):Kn(e,n,[t])}));var pa=Ni((function(e,t,n){var r=-1,o="function"==typeof t,a=Da(e)?i(e.length):[];return ti(e,(function(e){a[++r]=o?ot(t,e,n):bi(e,t,n)})),a})),ha=wr((function(e,t,n){Kn(e,n,t)}));function fa(e,t){return(Oa(e)?ft:Ai)(e,Xr(t,3))}var da=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ma=Ni((function(e,t){if(null==e)return[];var n=t.length;return n>1&&co(e,t[0],t[1])?t=[]:n>2&&co(t[0],t[1],t[2])&&(t=[t[0]]),Bi(e,ai(t,1),[])})),ga=Xt||function(){return Ge.Date.now()};function va(e,t,n){return t=n?void 0:t,Lr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ya(e,t){var n;if("function"!=typeof t)throw new ve(o);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ba=Ni((function(e,t,n){var i=1;if(n.length){var r=Ut(n,Yr(ba));i|=32}return Lr(e,i,t,n,r)})),wa=Ni((function(e,t,n){var i=3;if(n.length){var r=Ut(n,Yr(wa));i|=32}return Lr(t,i,e,n,r)}));function _a(e,t,n){var i,r,a,s,c,u,l=0,p=!1,h=!1,f=!0;if("function"!=typeof e)throw new ve(o);function d(t){var n=i,o=r;return i=r=void 0,l=t,s=e.apply(o,n)}function m(e){return l=e,c=_o(v,t),p?d(e):s}function g(e){var n=e-u;return void 0===u||n>=t||n<0||h&&e-l>=a}function v(){var e=ga();if(g(e))return y(e);c=_o(v,function(e){var n=t-(e-u);return h?cn(n,a-(e-l)):n}(e))}function y(e){return c=void 0,f&&i?d(e):(i=r=void 0,s)}function b(){var e=ga(),n=g(e);if(i=arguments,r=this,u=e,n){if(void 0===c)return m(u);if(h)return pr(c),c=_o(v,t),d(u)}return void 0===c&&(c=_o(v,t)),s}return t=as(t)||0,$a(n)&&(p=!!n.leading,a=(h="maxWait"in n)?sn(as(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&pr(c),l=0,i=u=r=c=void 0},b.flush=function(){return void 0===c?s:y(ga())},b}var xa=Ni((function(e,t){return Qn(e,1,t)})),ka=Ni((function(e,t,n){return Qn(e,as(t)||0,n)}));function Ea(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ve(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ea.Cache||Dn),n}function Sa(e){if("function"!=typeof e)throw new ve(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ea.Cache=Dn;var ja=ur((function(e,t){var n=(t=1==t.length&&Oa(t[0])?ft(t[0],Pt(Xr())):ft(ai(t,1),Pt(Xr()))).length;return Ni((function(i){for(var r=-1,o=cn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return ot(e,this,i)}))})),Ma=Ni((function(e,t){return Lr(e,32,void 0,t,Ut(t,Yr(Ma)))})),Aa=Ni((function(e,t){return Lr(e,64,void 0,t,Ut(t,Yr(Aa)))})),Ca=Vr((function(e,t){return Lr(e,256,void 0,void 0,void 0,t)}));function Ta(e,t){return e===t||e!=e&&t!=t}var Pa=Ir(mi),Ra=Ir((function(e,t){return e>=t})),Ba=wi(function(){return arguments}())?wi:function(e){return Va(e)&&ke.call(e,"callee")&&!We.call(e,"callee")},Oa=i.isArray,Ia=Qe?Pt(Qe):function(e){return Va(e)&&di(e)==k};function Da(e){return null!=e&&Ua(e.length)&&!qa(e)}function Fa(e){return Va(e)&&Da(e)}var za=nn||ac,Na=et?Pt(et):function(e){return Va(e)&&di(e)==p};function La(e){if(!Va(e))return!1;var t=di(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ka(e)}function qa(e){if(!$a(e))return!1;var t=di(e);return t==f||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ha(e){return"number"==typeof e&&e==rs(e)}function Ua(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function $a(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Va(e){return null!=e&&"object"==typeof e}var Wa=tt?Pt(tt):function(e){return Va(e)&&io(e)==m};function Ga(e){return"number"==typeof e||Va(e)&&di(e)==g}function Ka(e){if(!Va(e)||di(e)!=v)return!1;var t=He(e);if(null===t)return!0;var n=ke.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Me}var Za=nt?Pt(nt):function(e){return Va(e)&&di(e)==y};var Ya=it?Pt(it):function(e){return Va(e)&&io(e)==b};function Xa(e){return"string"==typeof e||!Oa(e)&&Va(e)&&di(e)==w}function Ja(e){return"symbol"==typeof e||Va(e)&&di(e)==_}var Qa=rt?Pt(rt):function(e){return Va(e)&&Ua(e.length)&&!!Le[di(e)]};var es=Ir(Mi),ts=Ir((function(e,t){return e<=t}));function ns(e){if(!e)return[];if(Da(e))return Xa(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=io(e);return(t==m?qt:t==b?$t:Ts)(e)}function is(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=is(e),n=t%1;return t==t?n?t-n:t:0}function os(e){return e?Yn(rs(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Ja(e))return NaN;if($a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Tt(e);var n=oe.test(e);return n||se.test(e)?$e(e.slice(2),n?2:8):re.test(e)?NaN:+e}function ss(e){return br(e,xs(e))}function cs(e){return null==e?"":Ji(e)}var us=_r((function(e,t){if(ho(t)||Da(t))br(t,_s(t),e);else for(var n in t)ke.call(t,n)&&$n(e,n,t[n])})),ls=_r((function(e,t){br(t,xs(t),e)})),ps=_r((function(e,t,n,i){br(t,xs(t),e,i)})),hs=_r((function(e,t,n,i){br(t,_s(t),e,i)})),fs=Vr(Zn);var ds=Ni((function(e,t){e=de(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&co(t[0],t[1],r)&&(i=1);++n<i;)for(var o=t[n],a=xs(o),s=-1,c=a.length;++s<c;){var u=a[s],l=e[u];(void 0===l||Ta(l,we[u])&&!ke.call(e,u))&&(e[u]=o[u])}return e})),ms=Ni((function(e){return e.push(void 0,Hr),ot(Es,void 0,e)}));function gs(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function vs(e,t){return null!=e&&ro(e,t,vi)}var ys=Tr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),e[t]=n}),$s(Gs)),bs=Tr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=je.call(t)),ke.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),ws=Ni(bi);function _s(e){return Da(e)?Nn(e):Si(e)}function xs(e){return Da(e)?Nn(e,!0):ji(e)}var ks=_r((function(e,t,n){Pi(e,t,n)})),Es=_r((function(e,t,n,i){Pi(e,t,n,i)})),Ss=Vr((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Ur));for(var r=t.length;r--;)er(n,t[r]);return n}));var js=Vr((function(e,t){return null==e?{}:function(e,t){return Oi(e,t,(function(t,n){return vs(e,n)}))}(e,t)}));function Ms(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Oi(e,n,(function(e,n){return t(e,n[0])}))}var As=Nr(_s),Cs=Nr(xs);function Ts(e){return null==e?[]:Rt(e,_s(e))}var Ps=Sr((function(e,t,n){return t=t.toLowerCase(),e+(n?Rs(t):t)}));function Rs(e){return Ls(cs(e).toLowerCase())}function Bs(e){return(e=cs(e))&&e.replace(ue,Ft).replace(Be,"")}var Os=Sr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Is=Sr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ds=Er("toLowerCase");var Fs=Sr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var zs=Sr((function(e,t,n){return e+(n?" ":"")+Ls(t)}));var Ns=Sr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ls=Er("toUpperCase");function qs(e,t,n){return e=cs(e),void 0===(t=n?void 0:t)?function(e){return Fe.test(e)}(e)?function(e){return e.match(Ie)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var Hs=Ni((function(e,t){try{return ot(e,void 0,t)}catch(e){return La(e)?e:new Z(e)}})),Us=Vr((function(e,t){return st(t,(function(t){t=Mo(t),Kn(e,t,ba(e[t],e))})),e}));function $s(e){return function(){return e}}var Vs=Ar(),Ws=Ar(!0);function Gs(e){return e}function Ks(e){return Ei("function"==typeof e?e:Xn(e,1))}var Zs=Ni((function(e,t){return function(n){return bi(n,e,t)}})),Ys=Ni((function(e,t){return function(n){return bi(e,n,t)}}));function Xs(e,t,n){var i=_s(t),r=pi(t,i);null!=n||$a(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=pi(t,_s(t)));var o=!($a(n)&&"chain"in n&&!n.chain),a=qa(e);return st(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,dt([this.value()],arguments))})})),e}function Js(){}var Qs=Rr(ft),ec=Rr(ut),tc=Rr(vt);function nc(e){return uo(e)?St(Mo(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Or(),rc=Or(!0);function oc(){return[]}function ac(){return!1}var sc=Pr((function(e,t){return e+t}),0),cc=Fr("ceil"),uc=Pr((function(e,t){return e/t}),1),lc=Fr("floor");var pc,hc=Pr((function(e,t){return e*t}),1),fc=Fr("round"),dc=Pr((function(e,t){return e-t}),0);return Cn.after=function(e,t){if("function"!=typeof t)throw new ve(o);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},Cn.ary=va,Cn.assign=us,Cn.assignIn=ls,Cn.assignInWith=ps,Cn.assignWith=hs,Cn.at=fs,Cn.before=ya,Cn.bind=ba,Cn.bindAll=Us,Cn.bindKey=wa,Cn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Oa(e)?e:[e]},Cn.chain=na,Cn.chunk=function(e,t,n){t=(n?co(e,t,n):void 0===t)?1:sn(rs(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var o=0,a=0,s=i(Qt(r/t));o<r;)s[a++]=Wi(e,o,o+=t);return s},Cn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},Cn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return dt(Oa(n)?yr(n):[n],ai(t,1))},Cn.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new ve(o);return[n(e[0]),e[1]]})):[],Ni((function(n){for(var i=-1;++i<t;){var r=e[i];if(ot(r[0],this,n))return ot(r[1],this,n)}}))},Cn.conforms=function(e){return function(e){var t=_s(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},Cn.constant=$s,Cn.countBy=oa,Cn.create=function(e,t){var n=Tn(e);return null==t?n:Gn(n,t)},Cn.curry=function e(t,n,i){var r=Lr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Cn.curryRight=function e(t,n,i){var r=Lr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},Cn.debounce=_a,Cn.defaults=ds,Cn.defaultsDeep=ms,Cn.defer=xa,Cn.delay=ka,Cn.difference=To,Cn.differenceBy=Po,Cn.differenceWith=Ro,Cn.drop=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,(t=n||void 0===t?1:rs(t))<0?0:t,i):[]},Cn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,0,(t=i-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},Cn.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},Cn.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},Cn.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&co(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=rs(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:rs(i))<0&&(i+=r),i=n>i?0:os(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Cn.filter=function(e,t){return(Oa(e)?lt:oi)(e,Xr(t,3))},Cn.flatMap=function(e,t){return ai(fa(e,t),1)},Cn.flatMapDeep=function(e,t){return ai(fa(e,t),1/0)},Cn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ai(fa(e,t),n)},Cn.flatten=Io,Cn.flattenDeep=function(e){return(null==e?0:e.length)?ai(e,1/0):[]},Cn.flattenDepth=function(e,t){return(null==e?0:e.length)?ai(e,t=void 0===t?1:rs(t)):[]},Cn.flip=function(e){return Lr(e,512)},Cn.flow=Vs,Cn.flowRight=Ws,Cn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Cn.functions=function(e){return null==e?[]:pi(e,_s(e))},Cn.functionsIn=function(e){return null==e?[]:pi(e,xs(e))},Cn.groupBy=la,Cn.initial=function(e){return(null==e?0:e.length)?Wi(e,0,-1):[]},Cn.intersection=Fo,Cn.intersectionBy=zo,Cn.intersectionWith=No,Cn.invert=ys,Cn.invertBy=bs,Cn.invokeMap=pa,Cn.iteratee=Ks,Cn.keyBy=ha,Cn.keys=_s,Cn.keysIn=xs,Cn.map=fa,Cn.mapKeys=function(e,t){var n={};return t=Xr(t,3),ui(e,(function(e,i,r){Kn(n,t(e,i,r),e)})),n},Cn.mapValues=function(e,t){var n={};return t=Xr(t,3),ui(e,(function(e,i,r){Kn(n,i,t(e,i,r))})),n},Cn.matches=function(e){return Ci(Xn(e,1))},Cn.matchesProperty=function(e,t){return Ti(e,Xn(t,1))},Cn.memoize=Ea,Cn.merge=ks,Cn.mergeWith=Es,Cn.method=Zs,Cn.methodOf=Ys,Cn.mixin=Xs,Cn.negate=Sa,Cn.nthArg=function(e){return e=rs(e),Ni((function(t){return Ri(t,e)}))},Cn.omit=Ss,Cn.omitBy=function(e,t){return Ms(e,Sa(Xr(t)))},Cn.once=function(e){return ya(2,e)},Cn.orderBy=function(e,t,n,i){return null==e?[]:(Oa(t)||(t=null==t?[]:[t]),Oa(n=i?void 0:n)||(n=null==n?[]:[n]),Bi(e,t,n))},Cn.over=Qs,Cn.overArgs=ja,Cn.overEvery=ec,Cn.overSome=tc,Cn.partial=Ma,Cn.partialRight=Aa,Cn.partition=da,Cn.pick=js,Cn.pickBy=Ms,Cn.property=nc,Cn.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},Cn.pull=qo,Cn.pullAll=Ho,Cn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,Xr(n,2)):e},Cn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,void 0,n):e},Cn.pullAt=Uo,Cn.range=ic,Cn.rangeRight=rc,Cn.rearg=Ca,Cn.reject=function(e,t){return(Oa(e)?lt:oi)(e,Sa(Xr(t,3)))},Cn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Xr(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Di(e,r),n},Cn.rest=function(e,t){if("function"!=typeof e)throw new ve(o);return Ni(e,t=void 0===t?t:rs(t))},Cn.reverse=$o,Cn.sampleSize=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:rs(t),(Oa(e)?qn:qi)(e,t)},Cn.set=function(e,t,n){return null==e?e:Hi(e,t,n)},Cn.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:Hi(e,t,n,i)},Cn.shuffle=function(e){return(Oa(e)?Hn:Vi)(e)},Cn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&co(e,t,n)?(t=0,n=i):(t=null==t?0:rs(t),n=void 0===n?i:rs(n)),Wi(e,t,n)):[]},Cn.sortBy=ma,Cn.sortedUniq=function(e){return e&&e.length?Yi(e):[]},Cn.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},Cn.split=function(e,t,n){return n&&"number"!=typeof n&&co(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=cs(e))&&("string"==typeof t||null!=t&&!Za(t))&&!(t=Ji(t))&&Lt(e)?lr(Gt(e),0,n):e.split(t,n):[]},Cn.spread=function(e,t){if("function"!=typeof e)throw new ve(o);return t=null==t?0:sn(rs(t),0),Ni((function(n){var i=n[t],r=lr(n,0,t);return i&&dt(r,i),ot(e,this,r)}))},Cn.tail=function(e){var t=null==e?0:e.length;return t?Wi(e,1,t):[]},Cn.take=function(e,t,n){return e&&e.length?Wi(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},Cn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Wi(e,(t=i-(t=n||void 0===t?1:rs(t)))<0?0:t,i):[]},Cn.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},Cn.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},Cn.tap=function(e,t){return t(e),e},Cn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ve(o);return $a(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_a(e,t,{leading:i,maxWait:t,trailing:r})},Cn.thru=ia,Cn.toArray=ns,Cn.toPairs=As,Cn.toPairsIn=Cs,Cn.toPath=function(e){return Oa(e)?ft(e,Mo):Ja(e)?[e]:yr(jo(cs(e)))},Cn.toPlainObject=ss,Cn.transform=function(e,t,n){var i=Oa(e),r=i||za(e)||Qa(e);if(t=Xr(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:$a(e)&&qa(o)?Tn(He(e)):{}}return(r?st:ui)(e,(function(e,i,r){return t(n,e,i,r)})),n},Cn.unary=function(e){return va(e,1)},Cn.union=Vo,Cn.unionBy=Wo,Cn.unionWith=Go,Cn.uniq=function(e){return e&&e.length?Qi(e):[]},Cn.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},Cn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},Cn.unset=function(e,t){return null==e||er(e,t)},Cn.unzip=Ko,Cn.unzipWith=Zo,Cn.update=function(e,t,n){return null==e?e:tr(e,t,sr(n))},Cn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,sr(n),i)},Cn.values=Ts,Cn.valuesIn=function(e){return null==e?[]:Rt(e,xs(e))},Cn.without=Yo,Cn.words=qs,Cn.wrap=function(e,t){return Ma(sr(t),e)},Cn.xor=Xo,Cn.xorBy=Jo,Cn.xorWith=Qo,Cn.zip=ea,Cn.zipObject=function(e,t){return or(e||[],t||[],$n)},Cn.zipObjectDeep=function(e,t){return or(e||[],t||[],Hi)},Cn.zipWith=ta,Cn.entries=As,Cn.entriesIn=Cs,Cn.extend=ls,Cn.extendWith=ps,Xs(Cn,Cn),Cn.add=sc,Cn.attempt=Hs,Cn.camelCase=Ps,Cn.capitalize=Rs,Cn.ceil=cc,Cn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Yn(as(e),t,n)},Cn.clone=function(e){return Xn(e,4)},Cn.cloneDeep=function(e){return Xn(e,5)},Cn.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},Cn.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},Cn.conformsTo=function(e,t){return null==t||Jn(e,t,_s(t))},Cn.deburr=Bs,Cn.defaultTo=function(e,t){return null==e||e!=e?t:e},Cn.divide=uc,Cn.endsWith=function(e,t,n){e=cs(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(rs(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},Cn.eq=Ta,Cn.escape=function(e){return(e=cs(e))&&N.test(e)?e.replace(F,zt):e},Cn.escapeRegExp=function(e){return(e=cs(e))&&G.test(e)?e.replace(W,"\\$&"):e},Cn.every=function(e,t,n){var i=Oa(e)?ut:ii;return n&&co(e,t,n)&&(t=void 0),i(e,Xr(t,3))},Cn.find=aa,Cn.findIndex=Bo,Cn.findKey=function(e,t){return bt(e,Xr(t,3),ui)},Cn.findLast=sa,Cn.findLastIndex=Oo,Cn.findLastKey=function(e,t){return bt(e,Xr(t,3),li)},Cn.floor=lc,Cn.forEach=ca,Cn.forEachRight=ua,Cn.forIn=function(e,t){return null==e?e:si(e,Xr(t,3),xs)},Cn.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),xs)},Cn.forOwn=function(e,t){return e&&ui(e,Xr(t,3))},Cn.forOwnRight=function(e,t){return e&&li(e,Xr(t,3))},Cn.get=gs,Cn.gt=Pa,Cn.gte=Ra,Cn.has=function(e,t){return null!=e&&ro(e,t,gi)},Cn.hasIn=vs,Cn.head=Do,Cn.identity=Gs,Cn.includes=function(e,t,n,i){e=Da(e)?e:Ts(e),n=n&&!i?rs(n):0;var r=e.length;return n<0&&(n=sn(r+n,0)),Xa(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},Cn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=sn(i+r,0)),_t(e,t,r)},Cn.inRange=function(e,t,n){return t=is(t),void 0===n?(n=t,t=0):n=is(n),function(e,t,n){return e>=cn(t,n)&&e<sn(t,n)}(e=as(e),t,n)},Cn.invoke=ws,Cn.isArguments=Ba,Cn.isArray=Oa,Cn.isArrayBuffer=Ia,Cn.isArrayLike=Da,Cn.isArrayLikeObject=Fa,Cn.isBoolean=function(e){return!0===e||!1===e||Va(e)&&di(e)==l},Cn.isBuffer=za,Cn.isDate=Na,Cn.isElement=function(e){return Va(e)&&1===e.nodeType&&!Ka(e)},Cn.isEmpty=function(e){if(null==e)return!0;if(Da(e)&&(Oa(e)||"string"==typeof e||"function"==typeof e.splice||za(e)||Qa(e)||Ba(e)))return!e.length;var t=io(e);if(t==m||t==b)return!e.size;if(ho(e))return!Si(e).length;for(var n in e)if(ke.call(e,n))return!1;return!0},Cn.isEqual=function(e,t){return _i(e,t)},Cn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},Cn.isError=La,Cn.isFinite=function(e){return"number"==typeof e&&rn(e)},Cn.isFunction=qa,Cn.isInteger=Ha,Cn.isLength=Ua,Cn.isMap=Wa,Cn.isMatch=function(e,t){return e===t||xi(e,t,Qr(t))},Cn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,xi(e,t,Qr(t),n)},Cn.isNaN=function(e){return Ga(e)&&e!=+e},Cn.isNative=function(e){if(po(e))throw new Z("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(e)},Cn.isNil=function(e){return null==e},Cn.isNull=function(e){return null===e},Cn.isNumber=Ga,Cn.isObject=$a,Cn.isObjectLike=Va,Cn.isPlainObject=Ka,Cn.isRegExp=Za,Cn.isSafeInteger=function(e){return Ha(e)&&e>=-9007199254740991&&e<=9007199254740991},Cn.isSet=Ya,Cn.isString=Xa,Cn.isSymbol=Ja,Cn.isTypedArray=Qa,Cn.isUndefined=function(e){return void 0===e},Cn.isWeakMap=function(e){return Va(e)&&io(e)==x},Cn.isWeakSet=function(e){return Va(e)&&"[object WeakSet]"==di(e)},Cn.join=function(e,t){return null==e?"":on.call(e,t)},Cn.kebabCase=Os,Cn.last=Lo,Cn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=rs(n))<0?sn(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,kt,r,!0)},Cn.lowerCase=Is,Cn.lowerFirst=Ds,Cn.lt=es,Cn.lte=ts,Cn.max=function(e){return e&&e.length?ri(e,Gs,mi):void 0},Cn.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),mi):void 0},Cn.mean=function(e){return Et(e,Gs)},Cn.meanBy=function(e,t){return Et(e,Xr(t,2))},Cn.min=function(e){return e&&e.length?ri(e,Gs,Mi):void 0},Cn.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),Mi):void 0},Cn.stubArray=oc,Cn.stubFalse=ac,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=hc,Cn.nth=function(e,t){return e&&e.length?Ri(e,rs(t)):void 0},Cn.noConflict=function(){return Ge._===this&&(Ge._=Ae),this},Cn.noop=Js,Cn.now=ga,Cn.pad=function(e,t,n){e=cs(e);var i=(t=rs(t))?Wt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Br(en(r),n)+e+Br(Qt(r),n)},Cn.padEnd=function(e,t,n){e=cs(e);var i=(t=rs(t))?Wt(e):0;return t&&i<t?e+Br(t-i,n):e},Cn.padStart=function(e,t,n){e=cs(e);var i=(t=rs(t))?Wt(e):0;return t&&i<t?Br(t-i,n)+e:e},Cn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),ln(cs(e).replace(K,""),t||0)},Cn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&co(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=is(e),void 0===t?(t=e,e=0):t=is(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=pn();return cn(e+r*(t-e+Ue("1e-"+((r+"").length-1))),t)}return Fi(e,t)},Cn.reduce=function(e,t,n){var i=Oa(e)?mt:Mt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},Cn.reduceRight=function(e,t,n){var i=Oa(e)?gt:Mt,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},Cn.repeat=function(e,t,n){return t=(n?co(e,t,n):void 0===t)?1:rs(t),zi(cs(e),t)},Cn.replace=function(){var e=arguments,t=cs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Cn.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var o=null==e?void 0:e[Mo(t[i])];void 0===o&&(i=r,o=n),e=qa(o)?o.call(e):o}return e},Cn.round=fc,Cn.runInContext=e,Cn.sample=function(e){return(Oa(e)?Ln:Li)(e)},Cn.size=function(e){if(null==e)return 0;if(Da(e))return Xa(e)?Wt(e):e.length;var t=io(e);return t==m||t==b?e.size:Si(e).length},Cn.snakeCase=Fs,Cn.some=function(e,t,n){var i=Oa(e)?vt:Gi;return n&&co(e,t,n)&&(t=void 0),i(e,Xr(t,3))},Cn.sortedIndex=function(e,t){return Ki(e,t)},Cn.sortedIndexBy=function(e,t,n){return Zi(e,t,Xr(n,2))},Cn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Ki(e,t);if(i<n&&Ta(e[i],t))return i}return-1},Cn.sortedLastIndex=function(e,t){return Ki(e,t,!0)},Cn.sortedLastIndexBy=function(e,t,n){return Zi(e,t,Xr(n,2),!0)},Cn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Ki(e,t,!0)-1;if(Ta(e[n],t))return n}return-1},Cn.startCase=zs,Cn.startsWith=function(e,t,n){return e=cs(e),n=null==n?0:Yn(rs(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},Cn.subtract=dc,Cn.sum=function(e){return e&&e.length?At(e,Gs):0},Cn.sumBy=function(e,t){return e&&e.length?At(e,Xr(t,2)):0},Cn.template=function(e,t,n){var i=Cn.templateSettings;n&&co(e,t,n)&&(t=void 0),e=cs(e),t=ps({},t,i,qr);var r,o,a=ps({},t.imports,i.imports,qr),s=_s(a),c=Rt(a,s),u=0,l=t.interpolate||le,p="__p += '",h=me((t.escape||le).source+"|"+l.source+"|"+(l===H?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),f="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ne+"]")+"\n";e.replace(h,(function(t,n,i,a,s,c){return i||(i=a),p+=e.slice(u,c).replace(pe,Nt),n&&(r=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var d=ke.call(t,"variable")&&t.variable;if(d){if(ee.test(d))throw new Z("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(B,""):p).replace(O,"$1").replace(I,"$1;"),p="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Hs((function(){return he(s,f+"return "+p).apply(void 0,c)}));if(m.source=p,La(m))throw m;return m},Cn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=Ct(i,t=Xr(t));++n<e;)t(n);return r},Cn.toFinite=is,Cn.toInteger=rs,Cn.toLength=os,Cn.toLower=function(e){return cs(e).toLowerCase()},Cn.toNumber=as,Cn.toSafeInteger=function(e){return e?Yn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},Cn.toString=cs,Cn.toUpper=function(e){return cs(e).toUpperCase()},Cn.trim=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return Tt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return lr(i,Ot(i,r),It(i,r)+1).join("")},Cn.trimEnd=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.slice(0,Kt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return lr(i,0,It(i,Gt(t))+1).join("")},Cn.trimStart=function(e,t,n){if((e=cs(e))&&(n||void 0===t))return e.replace(K,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return lr(i,Ot(i,Gt(t))).join("")},Cn.truncate=function(e,t){var n=30,i="...";if($a(t)){var r="separator"in t?t.separator:r;n="length"in t?rs(t.length):n,i="omission"in t?Ji(t.omission):i}var o=(e=cs(e)).length;if(Lt(e)){var a=Gt(e);o=a.length}if(n>=o)return e;var s=n-Wt(i);if(s<1)return i;var c=a?lr(a,0,s).join(""):e.slice(0,s);if(void 0===r)return c+i;if(a&&(s+=c.length-s),Za(r)){if(e.slice(s).search(r)){var u,l=c;for(r.global||(r=me(r.source,cs(ie.exec(r))+"g")),r.lastIndex=0;u=r.exec(l);)var p=u.index;c=c.slice(0,void 0===p?s:p)}}else if(e.indexOf(Ji(r),s)!=s){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},Cn.unescape=function(e){return(e=cs(e))&&z.test(e)?e.replace(D,Zt):e},Cn.uniqueId=function(e){var t=++Ee;return cs(e)+t},Cn.upperCase=Ns,Cn.upperFirst=Ls,Cn.each=ca,Cn.eachRight=ua,Cn.first=Do,Xs(Cn,(pc={},ui(Cn,(function(e,t){ke.call(Cn.prototype,t)||(pc[t]=e)})),pc),{chain:!1}),Cn.VERSION="4.17.21",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Cn[e].placeholder=Cn})),st(["drop","take"],(function(e,t){Bn.prototype[e]=function(n){n=void 0===n?1:sn(rs(n),0);var i=this.__filtered__&&!t?new Bn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Bn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Bn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Bn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Bn.prototype[e]=function(){return this.__filtered__?new Bn(this):this[n](1)}})),Bn.prototype.compact=function(){return this.filter(Gs)},Bn.prototype.find=function(e){return this.filter(e).head()},Bn.prototype.findLast=function(e){return this.reverse().find(e)},Bn.prototype.invokeMap=Ni((function(e,t){return"function"==typeof e?new Bn(this):this.map((function(n){return bi(n,e,t)}))})),Bn.prototype.reject=function(e){return this.filter(Sa(Xr(e)))},Bn.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Bn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Bn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Bn.prototype.toArray=function(){return this.take(4294967295)},ui(Bn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=Cn[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);r&&(Cn.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,s=t instanceof Bn,c=a[0],u=s||Oa(t),l=function(e){var t=r.apply(Cn,dt([e],a));return i&&p?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(s=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=o&&!p,d=s&&!h;if(!o&&u){t=d?t:new Bn(this);var m=e.apply(t,a);return m.__actions__.push({func:ia,args:[l],thisArg:void 0}),new Rn(m,p)}return f&&d?e.apply(this,a):(m=this.thru(l),f?i?m.value()[0]:m.value():m)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Cn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Oa(r)?r:[],e)}return this[n]((function(n){return t.apply(Oa(n)?n:[],e)}))}})),ui(Bn.prototype,(function(e,t){var n=Cn[t];if(n){var i=n.name+"";ke.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Cr(void 0,2).name]=[{name:"wrapper",func:void 0}],Bn.prototype.clone=function(){var e=new Bn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Bn.prototype.reverse=function(){if(this.__filtered__){var e=new Bn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Bn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Oa(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=cn(t,e+a);break;case"takeRight":e=sn(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,c=s-a,u=i?s:a-1,l=this.__iteratees__,p=l.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var d=[];e:for(;c--&&h<f;){for(var m=-1,g=e[u+=t];++m<p;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}d[h++]=g}return d},Cn.prototype.at=ra,Cn.prototype.chain=function(){return na(this)},Cn.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(e){for(var t,n=this;n instanceof Pn;){var i=Co(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},Cn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Bn){var t=e;return this.__actions__.length&&(t=new Bn(this)),(t=t.reverse()).__actions__.push({func:ia,args:[$o],thisArg:void 0}),new Rn(t,this.__chain__)}return this.thru($o)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Xe&&(Cn.prototype[Xe]=function(){return this}),Cn}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(17),n(37)(e))},function(e,t,n){"use strict";function i(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}n.r(t);var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var i=Math.log(Math.pow(2,e))/Math.log(n),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var o=i-Math.floor(i),a="";for(r=0;r<Math.floor(i);r++){a=Math.floor(Math.random()*n).toString(n)+a}if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,i){var r=function(r){var a=0;do{if(a++>10){if(!i)throw new Error("too many ID collisions, use more bits");e+=i}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=r,s},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}}));function o(e){if(!(this instanceof o))return new o(e);e=e||[128,36,1],this._seed=e.length?r.rack(e[0],e[1],e[2]):e}o.prototype.next=function(e){return this._seed(e||!0)},o.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},o.prototype.claim=function(e,t){this._seed.set(e,t||!0)},o.prototype.assigned=function(e){return this._seed.get(e)||!1},o.prototype.unclaim=function(e){delete this._seed.hats[e]},o.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var a=o;function s(e){return Array.prototype.concat.apply([],e)}const c=Object.prototype.toString,u=Object.prototype.hasOwnProperty;function l(e){return void 0===e}function p(e){return void 0!==e}function h(e){return null==e}function f(e){return"[object Array]"===c.call(e)}function d(e){return"[object Object]"===c.call(e)}function m(e){return"[object Number]"===c.call(e)}function g(e){const t=c.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function v(e){return"[object String]"===c.call(e)}function y(e,t){return u.call(e,t)}function b(e,t){const n=F(t);let i;return k(e,(function(e,t){if(n(e,t))return i=e,!1})),i}function w(e,t){const n=F(t);let i=f(e)?-1:void 0;return k(e,(function(e,t){if(n(e,t))return i=t,!1})),i}function x(e,t){const n=F(t);let i=[];return k(e,(function(e,t){n(e,t)&&i.push(e)})),i}function k(e,t){let n,i;if(l(e))return;const r=f(e)?N:z;for(let o in e)if(y(e,o)&&(n=e[o],i=t(n,r(o)),!1===i))return n}function E(e,t){if(l(e))return[];!function(e){if(!f(e))throw new Error("must supply array")}(e);const n=F(t);return e.filter((function(e,t){return!n(e,t)}))}function S(e,t,n){return k(e,(function(e,i){n=t(n,e,i)})),n}function j(e,t){return!!S(e,(function(e,n,i){return e&&t(n,i)}),!0)}function M(e,t){return!!b(e,t)}function A(e,t){let n=[];return k(e,(function(e,i){n.push(t(e,i))})),n}function C(e){return e&&Object.keys(e)||[]}function T(e){return A(e,e=>e)}function P(e,t,n={}){return t=D(t),k(e,(function(e){let i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function R(e,...t){e=D(e);let n={};return k(t,t=>P(t,e,n)),A(n,(function(e,t){return e[0]}))}const B=R;function O(e,t){t=D(t);let n=[];return k(e,(function(e,i){let r=t(e,i),o={d:r,v:e};for(var a=0;a<n.length;a++){let{d:e}=n[a];if(r<e)return void n.splice(a,0,o)}n.push(o)})),A(n,e=>e.v)}function I(e){return function(t){return j(e,(function(e,n){return t[n]===e}))}}function D(e){return g(e)?e:t=>t[e]}function F(e){return g(e)?e:t=>t===e}function z(e){return e}function N(e){return Number(e)}function L(e,t){let n,i,r,o;function a(n){let a=Date.now(),u=n?0:o+t-a;if(u>0)return s(u);e.apply(r,i),c()}function s(e){n=setTimeout(a,e)}function c(){n&&clearTimeout(n),n=o=i=r=void 0}function u(...e){o=Date.now(),i=e,r=this,n||s(t)}return u.flush=function(){n&&a(!0),c()},u.cancel=c,u}function q(e,t){return e.bind(t)}function H(e,...t){return Object.assign(e,...t)}function U(e,t){let n={},i=Object(e);return k(t,(function(t){t in i&&(n[t]=e[t])})),n}function $(e,t){let n={};return k(Object(e),(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n}function V(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}const W=Object.prototype.toString,G=Object.prototype.hasOwnProperty;function K(e,t){return G.call(e,t)}function Z(e,t){let n,i;if(void 0===e)return;const r=function(e){return"[object Array]"===W.call(e)}(e)?X:Y;for(let o in e)if(K(e,o)&&(n=e[o],i=t(n,r(o)),!1===i))return n}function Y(e){return e}function X(e){return Number(e)}function J(e,...t){const n=e.style;return Z(t,(function(e){e&&Z(e,(function(e,t){n[t]=e}))})),e}function Q(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}const ee=Object.prototype.toString;function te(e){return new ne(e)}function ne(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function ie(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}function re(e,t){return e&&"function"==typeof e.matches&&e.matches(t)}function oe(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(re(i,t))return i;i=i.parentNode}return re(i,t)?i:null}ne.prototype.add=function(e){return this.list.add(e),this},ne.prototype.remove=function(e){return"[object RegExp]"==ee.call(e)?this.removeMatching(e):(this.list.remove(e),this)},ne.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},ne.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},ne.prototype.array=function(){return Array.from(this.list)},ne.prototype.has=ne.prototype.contains=function(e){return this.list.contains(e)};var ae,se,ce,ue={};function le(){ae=window.addEventListener?"addEventListener":"attachEvent",se=window.removeEventListener?"removeEventListener":"detachEvent",ce="addEventListener"!==ae?"on":""}var pe=V({__proto__:null,bind:ue.bind=function(e,t,n,i){return ae||le(),e[ae](ce+t,n,i||!1),n},unbind:ue.unbind=function(e,t,n,i){return se||le(),e[se](ce+t,n,i||!1),n},default:ue},[ue]),he=["focus","blur"];var fe,de={bind:function(e,t,n,i,r){return-1!==he.indexOf(n)&&(r=!0),pe.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=oe(r,t,!0),n.delegateTarget&&i.call(e,n)}),r)},unbind:function(e,t,n,i){return-1!==he.indexOf(t)&&(i=!0),pe.unbind(e,t,n,i)}},me=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild)}var r,o=Object.prototype.hasOwnProperty.call(ve,i)?ve[i]:ve._default,a=o[0],s=o[1],c=o[2];(r=t.createElement("div")).innerHTML=s+e+c;for(;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var u=t.createDocumentFragment();for(;r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u},ge=!1;"undefined"!=typeof document&&((fe=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',ge=!fe.getElementsByTagName("link").length,fe=void 0);var ve={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:ge?[1,"X<div>","</div>"]:[0,"",""]};ve.td=ve.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],ve.option=ve.optgroup=[1,'<select multiple="multiple">',"</select>"],ve.thead=ve.tbody=ve.colgroup=ve.caption=ve.tfoot=[1,"<table>","</table>"],ve.polyline=ve.ellipse=ve.polygon=ve.circle=ve.text=ve.line=ve.path=ve.rect=ve.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var ye=me;function be(e,t){return(t=t||document).querySelector(e)}function we(e,t){return(t=t||document).querySelectorAll(e)}function _e(e){e.parentNode&&e.parentNode.removeChild(e)}function xe(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function ke(e,t){return t.appendChild(xe(e,t))}function Ee(e,t){return ke(t,e),e}var Se={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function je(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Se[i];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function Me(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return Se[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);je(e,t,n)}else!function(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)je(e,i,t[i])}(e,t);return e}const Ae=Object.prototype.toString;function Ce(e){return new Te(e)}function Te(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Pe(e){var t=e.parentNode;return t&&t.removeChild(e),e}function Re(e){for(var t;t=e.firstChild;)Pe(t);return e}function Be(e){return e.cloneNode(!0)}Te.prototype.add=function(e){return this.list.add(e),this},Te.prototype.remove=function(e){return"[object RegExp]"==Ae.call(e)?this.removeMatching(e):(this.list.remove(e),this)},Te.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Te.prototype.toggle=function(e,t){return void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this},Te.prototype.array=function(){return Array.from(this.list)},Te.prototype.has=Te.prototype.contains=function(e){return this.list.contains(e)};var Oe="http://www.w3.org/2000/svg",Ie='<svg xmlns="'+Oe+'"';function De(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Oe)&&(e=Ie+e.substring(4)):(e=Ie+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function Fe(e,t){var n;return"<"===e.charAt(0)?(n=De(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Oe,e),t&&Me(n,t),n}var ze=null;function Ne(){return null===ze&&(ze=Fe("svg")),ze}function Le(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function qe(e){return e?Ne().createSVGTransformFromMatrix(e):Ne().createSVGTransform()}var He=/([&<>]{1})/g,Ue=/([\n\r"]{1})/g,$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Ve(e,t){return e.replace(t,(function(e,t){return $e[t]||t}))}function We(e,t){var n,i,r,o,a;switch(e.nodeType){case 3:t.push(Ve(e.textContent,He));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,i=(r=e.attributes).length;n<i;++n)o=r.item(n),t.push(" ",o.name,'="',Ve(o.value,Ue),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,i=(a=e.childNodes).length;n<i;++n)We(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",Ve(e.nodeValue,He),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function Ge(e,t){var n=De(t);if(Re(e),t){"#document-fragment"!==n.nodeName&&(n=n.documentElement);for(var i,r=(i=n.childNodes,Array.prototype.slice.call(i)),o=0;o<r.length;o++)ke(r[o],e)}}function Ke(e,t){if(void 0!==t){try{Ge(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)We(t,n),t=t.nextSibling;return n.join("")}(e)}function Ze(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function Ye(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(Ze(e,i))}(n,t)),n.consolidate()}const Xe=/^class[ {]/;function Je(e){return Array.isArray(e)}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function et(...e){1===e.length&&Je(e[0])&&(e=e[0]);const t=(e=[...e]).pop();return t.$inject=e,t}const tt=/constructor\s*[^(]*\(\s*([^)]*)\)/m,nt=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,it=/\/\*([^*]*)\*\//m;function rt(e){if("function"!=typeof e)throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(function(e){return Xe.test(e.toString())}(e)?tt:nt);if(!t)return[];const n=t[1]||t[2];return n&&n.split(",").map(e=>{const t=e.match(it);return(t&&t[1]||e).trim()})||[]}function ot(e,t){const n=t||{get:function(e,t){if(i.push(e),!1===t)return null;throw s(`No provider for "${e}"!`)}},i=[],r=this._providers=Object.create(n._providers||null),o=this._instances=Object.create(null),a=o.injector=this,s=function(e){const t=i.join(" -> ");return i.length=0,new Error(t?`${e} (Resolving: ${t})`:e)};function c(e,t){if(!r[e]&&e.includes(".")){const t=e.split(".");let n=c(t.shift());for(;t.length;)n=n[t.shift()];return n}if(Qe(o,e))return o[e];if(Qe(r,e)){if(-1!==i.indexOf(e))throw i.push(e),s("Cannot resolve circular dependency!");return i.push(e),o[e]=r[e][0](r[e][1]),i.pop(),o[e]}return n.get(e,t)}function u(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!Je(e))throw s(`Cannot invoke "${e}". Expected a function!`);e=et(e.slice())}return{fn:e,dependencies:(e.$inject||rt(e)).map(e=>Qe(t,e)?t[e]:c(e))}}function l(e){const{fn:t,dependencies:n}=u(e);return new(Function.prototype.bind.call(t,null,...n))}function p(e,t,n){const{fn:i,dependencies:r}=u(e,n);return i.apply(t,r)}function h(e){return et(t=>e.get(t))}function f(e,t){if(t&&t.length){const n=Object.create(null),i=Object.create(null),o=[],a=[],s=[];let c,u,l,p;for(let e in r)c=r[e],-1!==t.indexOf(e)&&("private"===c[2]?(u=o.indexOf(c[3]),-1===u?(l=c[3].createChild([],t),p=h(l),o.push(c[3]),a.push(l),s.push(p),n[e]=[p,e,"private",l]):n[e]=[s[u],e,"private",a[u]]):n[e]=[c[2],c[1]],i[e]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||t.forEach(t=>{-1!==c[1].$scope.indexOf(t)&&(n[e]=[c[2],c[1]],i[t]=!0)});t.forEach(e=>{if(!i[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(n)}return new ot(e,a)}const d={factory:p,type:l,value:function(e){return e}};function m(e,t){const n=e.__init__||[];return function(){n.forEach(e=>{"string"==typeof e?t.get(e):t.invoke(e)})}}function g(e){const t=e.__exports__;if(t){const n=e.__modules__,i=Object.keys(e).reduce((t,n)=>("__exports__"!==n&&"__modules__"!==n&&"__init__"!==n&&"__depends__"!==n&&(t[n]=e[n]),t),Object.create(null)),o=f((n||[]).concat(i)),a=et((function(e){return o.get(e)}));t.forEach((function(e){r[e]=[a,e,"private",o]}));const s=(e.__init__||[]).slice();return s.unshift((function(){o.init()})),m(e=Object.assign({},e,{__init__:s}),o)}return Object.keys(e).forEach((function(t){if("__init__"===t||"__depends__"===t)return;const n=e[t];if("private"===n[2])return void(r[t]=n);const i=n[0],o=n[1];r[t]=[d[i],at(i,o),i]})),m(e,a)}function v(e,t){return-1!==e.indexOf(t)||-1!==(e=(t.__depends__||[]).reduce(v,e)).indexOf(t)?e:e.concat(t)}this.get=c,this.invoke=p,this.instantiate=l,this.createChild=f,this.init=function(e){const t=e.reduce(v,[]).map(g);let n=!1;return function(){n||(n=!0,t.forEach(e=>e()))}}(e)}function at(e,t){return"value"!==e&&Je(t)&&(t=et(t.slice())),t}function st(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,o=t.gfx,a=t.attrs;if(n.canRender(r))return"render.shape"===i?n.drawShape(o,r,a):n.drawConnection(o,r,a)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function ct(e){return e.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function ut(e){return["L",e.x,e.y]}function lt(e,t){const n=e.length,i=[(r=e[0],["M",r.x,r.y])];var r,o,a,s;for(let r=1;r<n;r++){const n=e[r-1],c=e[r],u=e[r+1];if(!u||!t){i.push(ut(c));continue}const l=Math.min(t,ht(c.x-n.x,c.y-n.y),ht(u.x-c.x,u.y-c.y));if(!l){i.push(ut(c));continue}const p=pt(c,n,l),h=pt(c,n,.5*l),f=pt(c,u,l),d=pt(c,u,.5*l);i.push(ut(p)),i.push((a=d,s=f,["C",(o=h).x,o.y,a.x,a.y,s.x,s.y]))}return i}function pt(e,t,n){const i=t.x-e.x,r=t.y-e.y,o=n/ht(i,r);return{x:e.x+i*o,y:e.y+r*o}}function ht(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function ft(e,t,n){m(t)&&(n=t,t=null),t||(t={});const i=Fe("path",t);return m(n)&&(i.dataset.cornerRadius=String(n)),dt(i,e)}function dt(e,t){return Me(e,{d:ct(lt(t,parseInt(e.dataset.cornerRadius,10)||0))}),e}function mt(e){return x(e,(function(t){return!b(e,(function(e){return e!==t&&function e(t,n){if(!n)return;if(t===n)return n;if(!t.parent)return;return e(t.parent,n)}(t,e)}))}))}function gt(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function vt(e,t,n){n=n||0,f(e)||(e=[e]),k(e,(function(e,i){var r=t(e,i,n);f(r)&&r.length&&vt(r,t,n+1)}))}function yt(e,t,n){var i=[],r=[];return vt(e,(function(e,o,a){gt(i,e,t);var s=e.children;if((-1===n||a<n)&&s&&gt(r,s,t))return s})),i}function bt(e,t){return yt(e,!t,-1)}function wt(e,t){var n,i,r,o;return t=!!t,f(e)||(e=[e]),k(e,(function(e){var a=e;e.waypoints&&!t&&(a=wt(e.waypoints,!0));var s=a.x,c=a.y,u=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(c<i||void 0===i)&&(i=c),(s+l>r||void 0===r)&&(r=s+l),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:i,height:o-i,width:r-n}}function _t(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function xt(e){return!(!e||!e.isFrame)}function kt(e,t){return H({},e||{},t||{})}st.prototype.canRender=function(e){},st.prototype.drawShape=function(e,t){},st.prototype.drawConnection=function(e,t){},st.prototype.getShapePath=function(e){},st.prototype.getConnectionPath=function(e){};function Et(e,t){st.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}i(Et,st),Et.prototype.canRender=function(){return!0},Et.prototype.drawShape=function(e,t,n){var i=Fe("rect");return Me(i,{x:0,y:0,width:t.width||0,height:t.height||0}),xt(t)?Me(i,H({},this.FRAME_STYLE,n||{})):Me(i,H({},this.SHAPE_STYLE,n||{})),Ee(e,i),i},Et.prototype.drawConnection=function(e,t,n){var i=ft(t.waypoints,H({},this.CONNECTION_STYLE,n||{}));return Ee(e,i),i},Et.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width;return ct([["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]])},Et.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return ct(r)},Et.$inject=["eventBus","styles"];var St={__init__:["defaultRenderer"],defaultRenderer:["type",Et],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){return H(this.style(t,n),{class:e})},this.style=function(t,n){f(t)||n||(n=t,t=[]);var i=S(t,(function(t,n){return H(t,e[n]||{})}),{});return n?H(i,n):i},this.computeStyle=function(e,n,i){return f(n)||(i=n,n=[]),t.style(n||[],H({},i,e||{}))}}]};function jt(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function Mt(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function At(e,t){return e&&t?e.indexOf(t):-1}function Ct(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function Tt(e,t,n,i){if(void 0===i&&(i=5),!e||!t||!n)return!1;var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=Ct(e,t);return Math.abs(r/o)<=i}function Pt(e,t){var n=Array.from(arguments).flat();const i={x:"v",y:"h"};for(const[e,t]of Object.entries(i))if(Rt(e,n))return t;return!1}function Rt(e,t){const n=t[0];return j(t,(function(t){return Math.abs(n[e]-t[e])<=2}))}function Bt(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function Ot(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var It=/,?([a-z]),?/gi,Dt=parseFloat,Ft=Math,zt=Ft.PI,Nt=Ft.min,Lt=Ft.max,qt=Ft.pow,Ht=Ft.abs,Ut=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,$t=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/gi,Vt=Array.isArray||function(e){return e instanceof Array};function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gt(e){if("function"==typeof e||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)Wt(e,n)&&(t[n]=Gt(e[n]));return t}function Kt(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function Zt(e){var t=Zt.ps=Zt.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout((function(){for(var n in t)Wt(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])})),t[e]}function Yt(e,t,n,i){return 1===arguments.length&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function Xt(){return this.join(",").replace(It,"$1")}function Jt(e){var t=Gt(e);return t.toString=Xt,t}function Qt(e,t,n,i,r,o,a,s,c){var u=1-c,l=qt(u,3),p=qt(u,2),h=c*c*c,f=l*t+3*p*c*i+3*u*c*c*o+h*s;return{x:an(l*e+3*p*c*n+3*u*c*c*r+h*a),y:an(f)}}function en(e){var t=function(e,t,n,i,r,o,a,s){for(var c,u,l,p,h,f,d,m,g=[],v=[[],[]],y=0;y<2;++y)if(0==y?(u=6*e-12*n+6*r,c=-3*e+9*n-9*r+3*a,l=3*n-3*e):(u=6*t-12*i+6*o,c=-3*t+9*i-9*o+3*s,l=3*i-3*t),Ht(c)<1e-12){if(Ht(u)<1e-12)continue;0<(p=-l/u)&&p<1&&g.push(p)}else d=u*u-4*l*c,m=Ft.sqrt(d),d<0||(0<(h=(-u+m)/(2*c))&&h<1&&g.push(h),0<(f=(-u-m)/(2*c))&&f<1&&g.push(f));var b,w=g.length,_=w;for(;w--;)p=g[w],b=1-p,v[0][w]=b*b*b*e+3*b*b*p*n+3*b*p*p*r+p*p*p*a,v[1][w]=b*b*b*t+3*b*b*p*i+3*b*p*p*o+p*p*p*s;return v[0][_]=e,v[1][_]=t,v[0][_+1]=a,v[1][_+1]=s,v[0].length=v[1].length=_+2,{x0:Nt(...v[0]),y0:Nt(...v[1]),x1:Lt(...v[0]),y1:Lt(...v[1])}}(...e);return Yt(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function tn(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function nn(e,t,n,i,r){return e*(e*(-3*t+9*n-9*i+3*r)+6*t-12*n+6*i)-3*t+3*n}function rn(e,t,n,i,r,o,a,s,c){null==c&&(c=1);for(var u=(c=c>1?1:c<0?0:c)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,f=0;f<12;f++){var d=u*l[f]+u,m=nn(d,e,n,r,a),g=nn(d,t,i,o,s),v=m*m+g*g;h+=p[f]*Ft.sqrt(v)}return u*h}function on(e,t,n,i,r,o,a,s){if(!(Lt(e,n)<Nt(r,a)||Nt(e,n)>Lt(r,a)||Lt(t,i)<Nt(o,s)||Nt(t,i)>Lt(o,s))){var c=(e*i-t*n)*(o-s)-(t-i)*(r*s-o*a),u=(e-n)*(o-s)-(t-i)*(r-a);if(u){var l=an(((e*i-t*n)*(r-a)-(e-n)*(r*s-o*a))/u),p=an(c/u),h=+l.toFixed(2),f=+p.toFixed(2);if(!(h<+Nt(e,n).toFixed(2)||h>+Lt(e,n).toFixed(2)||h<+Nt(r,a).toFixed(2)||h>+Lt(r,a).toFixed(2)||f<+Nt(t,i).toFixed(2)||f>+Lt(t,i).toFixed(2)||f<+Nt(o,s).toFixed(2)||f>+Lt(o,s).toFixed(2)))return{x:l,y:p}}}}function an(e){return Math.round(1e11*e)/1e11}function sn(e,t,n){if(!function(e,t){return e=Yt(e),tn(t=Yt(t),e.x,e.y)||tn(t,e.x2,e.y)||tn(t,e.x,e.y2)||tn(t,e.x2,e.y2)||tn(e,t.x,t.y)||tn(e,t.x2,t.y)||tn(e,t.x,t.y2)||tn(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}(en(e),en(t)))return n?0:[];for(var i=rn(...e),r=rn(...t),o=ln(e)?1:~~(i/5)||1,a=ln(t)?1:~~(r/5)||1,s=[],c=[],u={},l=n?0:[],p=0;p<o+1;p++){var h=Qt(...e,p/o);s.push({x:h.x,y:h.y,t:p/o})}for(p=0;p<a+1;p++)h=Qt(...t,p/a),c.push({x:h.x,y:h.y,t:p/a});for(p=0;p<o;p++)for(var f=0;f<a;f++){var d,m=s[p],g=s[p+1],v=c[f],y=c[f+1],b=Ht(g.x-m.x)<.01?"y":"x",w=Ht(y.x-v.x)<.01?"y":"x",_=on(m.x,m.y,g.x,g.y,v.x,v.y,y.x,y.y);if(_){if(u[d=_.x.toFixed(9)+"#"+_.y.toFixed(9)])continue;u[d]=!0;var x=m.t+Ht((_[b]-m[b])/(g[b]-m[b]))*(g.t-m.t),k=v.t+Ht((_[w]-v[w])/(y[w]-v[w]))*(y.t-v.t);x>=0&&x<=1&&k>=0&&k<=1&&(n?l++:l.push({x:_.x,y:_.y,t1:x,t2:k}))}}return l}function cn(e,t,n){e=dn(e),t=dn(t);for(var i,r,o,a,s,c,u,l,p,h,f=n?0:[],d=0,m=e.length;d<m;d++){var g=e[d];if("M"==g[0])i=s=g[1],r=c=g[2];else{"C"==g[0]?(i=(p=[i,r,...g.slice(1)])[6],r=p[7]):(p=[i,r,i,r,s,c,s,c],i=s,r=c);for(var v=0,y=t.length;v<y;v++){var b=t[v];if("M"==b[0])o=u=b[1],a=l=b[2];else{"C"==b[0]?(o=(h=[o,a,...b.slice(1)])[6],a=h[7]):(h=[o,a,o,a,u,l,u,l],o=u,a=l);var w=sn(p,h,n);if(n)f+=w;else{for(var _=0,x=w.length;_<x;_++)w[_].segment1=d,w[_].segment2=v,w[_].bez1=p,w[_].bez2=h;f=f.concat(w)}}}}}return f}function un(e){var t=Zt(e);if(t.abs)return Jt(t.abs);if(Vt(e)&&Vt(e&&e[0])||(e=function(e){if(!e)return null;var t=Zt(e);if(t.arr)return Gt(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return Vt(e)&&Vt(e[0])&&(i=Gt(e)),i.length||String(e).replace(Ut,(function(e,t,r){var o=[],a=t.toLowerCase();for(r.replace($t,(function(e,t){t&&o.push(+t)})),"m"==a&&o.length>2&&(i.push([t,...o.splice(0,2)]),a="l",t="m"==t?"l":"L");o.length>=n[a]&&(i.push([t,...o.splice(0,n[a])]),n[a]););})),i.toString=Zt.toString,t.arr=Gt(i),i}(e)),!e||!e.length)return[["M",0,0]];var n,i=[],r=0,o=0,a=0,s=0,c=0;"M"==e[0][0]&&(a=r=+e[0][1],s=o=+e[0][2],c++,i[0]=["M",r,o]);for(var u,l,p=c,h=e.length;p<h;p++){if(i.push(u=[]),(n=(l=e[p])[0])!=n.toUpperCase())switch(u[0]=n.toUpperCase(),u[0]){case"A":u[1]=l[1],u[2]=l[2],u[3]=l[3],u[4]=l[4],u[5]=l[5],u[6]=+l[6]+r,u[7]=+l[7]+o;break;case"V":u[1]=+l[1]+o;break;case"H":u[1]=+l[1]+r;break;case"M":a=+l[1]+r,s=+l[2]+o;default:for(var f=1,d=l.length;f<d;f++)u[f]=+l[f]+(f%2?r:o)}else for(var m=0,g=l.length;m<g;m++)u[m]=l[m];switch(n=n.toUpperCase(),u[0]){case"Z":r=+a,o=+s;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return i.toString=Xt,t.abs=Jt(i),i}function ln(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function pn(e,t,n,i){return[e,t,n,i,n,i]}function hn(e,t,n,i,r,o){return[1/3*e+2/3*n,1/3*t+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function fn(e,t,n,i,r,o,a,s,c,u){var l,p,h=120*zt/180,f=zt/180*(+r||0),d=[],m=(p=function(e,t,n){return{x:e*Ft.cos(n)-t*Ft.sin(n),y:e*Ft.sin(n)+t*Ft.cos(n)}},function e(){var t=Array.prototype.slice.call(arguments,0),n=t.join("␀"),i=e.cache=e.cache||{},r=e.count=e.count||[];return Wt(i,n)?(Kt(r,n),i[n]):(r.length>=1e3&&delete i[r.shift()],r.push(n),i[n]=p(...arguments),i[n])});if(u)E=u[0],S=u[1],x=u[2],k=u[3];else{e=(l=m(e,t,-f)).x,t=l.y;var g=(e-(s=(l=m(s,c,-f)).x))/2,v=(t-(c=l.y))/2,y=g*g/(n*n)+v*v/(i*i);y>1&&(n*=y=Ft.sqrt(y),i*=y);var b=n*n,w=i*i,_=(o==a?-1:1)*Ft.sqrt(Ht((b*w-b*v*v-w*g*g)/(b*v*v+w*g*g))),x=_*n*v/i+(e+s)/2,k=_*-i*g/n+(t+c)/2,E=Ft.asin(((t-k)/i).toFixed(9)),S=Ft.asin(((c-k)/i).toFixed(9));(E=e<x?zt-E:E)<0&&(E=2*zt+E),(S=s<x?zt-S:S)<0&&(S=2*zt+S),a&&E>S&&(E-=2*zt),!a&&S>E&&(S-=2*zt)}var j=S-E;if(Ht(j)>h){var M=S,A=s,C=c;S=E+h*(a&&S>E?1:-1),d=fn(s=x+n*Ft.cos(S),c=k+i*Ft.sin(S),n,i,r,0,a,A,C,[S,M,x,k])}j=S-E;var T=Ft.cos(E),P=Ft.sin(E),R=Ft.cos(S),B=Ft.sin(S),O=Ft.tan(j/4),I=4/3*n*O,D=4/3*i*O,F=[e,t],z=[e+I*P,t-D*T],N=[s+I*B,c-D*R],L=[s,c];if(z[0]=2*F[0]-z[0],z[1]=2*F[1]-z[1],u)return[z,N,L].concat(d);for(var q=[],H=0,U=(d=[z,N,L].concat(d).join().split(",")).length;H<U;H++)q[H]=H%2?m(d[H-1],d[H],f).y:m(d[H],d[H+1],f).x;return q}function dn(e){var t=Zt(e);if(t.curve)return Jt(t.curve);for(var n=un(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(e,t,n){var i,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C",...fn(t.x,t.y,...e.slice(1))];break;case"S":"C"==n||"S"==n?(i=2*t.x-t.bx,r=2*t.y-t.by):(i=t.x,r=t.y),e=["C",i,r,...e.slice(1)];break;case"T":"Q"==n||"T"==n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C",...hn(t.x,t.y,t.qx,t.qy,e[1],e[2])];break;case"Q":t.qx=e[1],t.qy=e[2],e=["C",...hn(t.x,t.y,e[1],e[2],e[3],e[4])];break;case"L":e=["C",...pn(t.x,t.y,e[1],e[2])];break;case"H":e=["C",...pn(t.x,t.y,e[1],t.y)];break;case"V":e=["C",...pn(t.x,t.y,t.x,e[1])];break;case"Z":e=["C",...pn(t.x,t.y,t.X,t.Y)]}return e},o=function(e,t){if(e[t].length>7){e[t].shift();for(var i=e[t];i.length;)a[t]="A",e.splice(t++,0,["C",...i.splice(0,6)]);e.splice(t,1),l=n.length}},a=[],s="",c="",u=0,l=n.length;u<l;u++){n[u]&&(s=n[u][0]),"C"!=s&&(a[u]=s,u&&(c=a[u-1])),n[u]=r(n[u],i,c),"A"!=a[u]&&"C"==s&&(a[u]="C"),o(n,u);var p=n[u],h=p.length;i.x=p[h-2],i.y=p[h-1],i.bx=Dt(p[h-4])||i.x,i.by=Dt(p[h-3])||i.y}return t.curve=Jt(n),n}function mn(e){return d(e)&&y(e,"waypoints")}function gn(e){return d(e)&&y(e,"labelTarget")}function vn(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function yn(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function bn(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function wn(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function _n(e){for(var t=e.waypoints,n=t.reduce((function(e,n,i){var r,o,a=t[i-1];if(a){var s=e[e.length-1],c=s&&s.endLength||0,u=(r=a,o=n,Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)));e.push({start:a,end:n,startLength:c,endLength:c+u,length:u})}return e}),[]),i=n.reduce((function(e,t){return e+t.length}),0)/2,r=0,o=n[r];o.endLength<i;)o=n[++r];var a=(i-o.startLength)/o.length;return{x:o.start.x+(o.end.x-o.start.x)*a,y:o.start.y+(o.end.y-o.start.y)*a}}function xn(e){return mn(e)?_n(e):yn({x:(t=e).x+(t.width||0)/2,y:t.y+(t.height||0)/2});var t}function kn(e,t,n){d(n=n||0)||(n={x:n,y:n});var i=bn(e),r=bn(t),o=i.bottom+n.y<=r.top,a=i.left-n.x>=r.right,s=i.top-n.y>=r.bottom,c=o?"top":s?"bottom":null,u=i.right+n.x<=r.left?"left":a?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function En(e,t,n){var i=cn(e,t);return 1===i.length||2===i.length&&Ct(i[0],i[1])<1?yn(i[0]):i.length>1?yn((i=O(i,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:i.length-1]):null}function Sn(e,t){return Math.round(e*t)/t}function jn(e){return m(e)?e+"px":e}function Mn(e,t,n){const i=Fe("g");Ce(i).add(t);const r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}const An={shape:["x","y","width","height"],connection:["waypoints"]};function Cn(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(e||{})}function Tn(e,t){const n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Cn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Cn.prototype._init=function(e){const t=this._eventBus,n=this._container=function(e){const t=(e=H({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),J(n,{position:"relative",overflow:"hidden",width:jn(e.width),height:jn(e.height)}),t.appendChild(n),n}(e),i=this._svg=Fe("svg");Me(i,{width:"100%",height:"100%"}),Ee(n,i);const r=this._viewport=Mn(i,"viewport");e.deferUpdate&&(this._viewboxChanged=L(q(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:i,viewport:r})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Cn.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport},Cn.prototype._clear=function(){this._elementRegistry.getAll().forEach(e=>{const t=_t(e);"root"===t?this.removeRootElement(e):this._removeElement(e,t)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox},Cn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Cn.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},Cn.prototype._getChildIndex=function(e){return S(this._layers,(function(t,n){return n.visible&&e>=n.index&&t++,t}),0)},Cn.prototype._createLayer=function(e,t){void 0===t&&(t=1);const n=this._getChildIndex(t);return{group:Mn(this._viewport,"layer-"+e,n),index:t,visible:!0}},Cn.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=this._viewport,i=t.group,r=t.index;if(t.visible)return i;const o=this._getChildIndex(r);return n.insertBefore(i,n.childNodes[o]||null),t.visible=!0,i},Cn.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=t.group;return t.visible?(Pe(n),t.visible=!1,n):n},Cn.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],Pe(t.group))},Cn.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null},Cn.prototype.findRoot=function(e){if("string"==typeof e&&(e=this._elementRegistry.get(e)),!e)return;return(this._findPlaneForRoot(function(e){for(;e.parent;)e=e.parent;return e}(e))||{}).rootElement},Cn.prototype.getRootElements=function(){return this._planes.map((function(e){return e.rootElement}))},Cn.prototype._findPlaneForRoot=function(e){return b(this._planes,(function(t){return t.rootElement===e}))},Cn.prototype.getContainer=function(){return this._container},Cn.prototype._updateMarker=function(e,t,n){let i;e.id||(e=this._elementRegistry.get(e)),i=this._elementRegistry._elements[e.id],i&&(k([i.gfx,i.secondaryGfx],(function(e){e&&(n?Ce(e).add(t):Ce(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},Cn.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},Cn.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},Cn.prototype.hasMarker=function(e,t){e.id||(e=this._elementRegistry.get(e));return Ce(this.getGraphics(e)).has(t)},Cn.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},Cn.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))},Cn.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const n=e.layer="root-"+t;this._ensureValid("root",e);const i=this.getLayer(n,0);return this.hideLayer(n),this._addRoot(e,i),this._planes.push({rootElement:e,layer:i}),e},Cn.prototype.removeRootElement=function(e){"string"==typeof e&&(e=this._elementRegistry.get(e));if(this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter((function(t){return t.rootElement!==e})),this._rootElement===e&&(this._rootElement=null),e},Cn.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e},Cn.prototype._removeRoot=function(e){const t=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:e}),n.fire("root.removed",{element:e}),t.remove(e)},Cn.prototype._addRoot=function(e,t){const n=this._elementRegistry,i=this._eventBus;i.fire("root.add",{element:e}),n.add(e,t),i.fire("root.added",{element:e,gfx:t})},Cn.prototype._setRoot=function(e,t){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})},Cn.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const n=An[e];if(!j(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},Cn.prototype._setParent=function(e,t,n){Mt(t.children,e,n),e.parent=t},Cn.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();const r=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);const a=o.create(e,t,i);return this._elementRegistry.add(t,a),o.update(e,t,a),r.fire(e+".added",{element:t,gfx:a}),t},Cn.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},Cn.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},Cn.prototype._removeElement=function(e,t){const n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e))return r.fire(t+".remove",{element:e}),i.remove(e),jt(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e},Cn.prototype.removeShape=function(e){return this._removeElement(e,"shape")},Cn.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},Cn.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},Cn.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Cn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Cn.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;const t=this._viewport,n=this.getSize();let i,r,o,a,s,c,u;return e?(this._changeViewbox((function(){s=Math.min(n.width/e.width,n.height/e.height);const i=this._svg.createSVGMatrix().scale(s).translate(-e.x,-e.y);Ye(t,i)})),e):(o=this._rootElement?this.getActiveLayer():null,i=o&&o.getBBox()||{},a=Ye(t),r=a?a.matrix:function(e,t,n,i,r,o){var a=Ne().createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return Le(a,e);case 6:return Le(a,{a:e,b:t,c:n,d:i,e:r,f:o})}}(),s=Sn(r.a,1e3),c=Sn(-r.e||0,1e3),u=Sn(-r.f||0,1e3),e=this._cachedViewbox={x:c?c/s:0,y:u?u/s:0,width:n.width/s,height:n.height/s,scale:s,inner:{width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0},outer:n})},Cn.prototype.scroll=function(e){const t=this._viewport;let n=t.getCTM();return e&&this._changeViewbox((function(){e=H({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),Tn(t,n)})),{x:n.e,y:n.f}},Cn.prototype.scrollToElement=function(e,t){let n=100;"string"==typeof e&&(e=this._elementRegistry.get(e));const i=this.findRoot(e);if(i!==this.getRootElement()&&this.setRootElement(i),i===e)return;t||(t={}),"number"==typeof t&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};const r=wt(e),o=bn(r),a=this.viewbox(),s=this.zoom();let c,u;a.y+=t.top/s,a.x+=t.left/s,a.width-=(t.right+t.left)/s,a.height-=(t.bottom+t.top)/s;const l=bn(a);if(r.width<a.width&&r.height<a.height){const e=Math.max(0,o.right-l.right),t=Math.min(0,o.left-l.left),n=Math.max(0,o.bottom-l.bottom),i=Math.min(0,o.top-l.top);c=e||t,u=n||i}else c=r.x-a.x,u=r.y-a.y;this.scroll({dx:-c*s,dy:-u*s})},Cn.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if("fit-viewport"===e)return this._fitViewport(t);let n,i;return this._changeViewbox((function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),Sn(i.a,1e3)},Cn.prototype._fitViewport=function(e){const t=this.viewbox(),n=t.outer,i=t.inner;let r,o;return i.x>=0&&i.y>=0&&i.x+i.width<=n.width&&i.y+i.height<=n.height&&!e?o={x:0,y:0,width:Math.max(i.width+i.x,n.width),height:Math.max(i.height+i.y,n.height)}:(r=Math.min(1,n.width/i.width,n.height/i.height),o={x:i.x+(e?i.width/2-n.width/r/2:0),y:i.y+(e?i.height/2-n.height/r/2:0),width:n.width/r,height:n.height/r}),this.viewbox(o),this.viewbox(!1).scale},Cn.prototype._setZoom=function(e,t){const n=this._svg,i=this._viewport,r=n.createSVGMatrix(),o=n.createSVGPoint();let a,s,c,u,l;c=i.getCTM();const p=c.a;return t?(a=H(o,t),s=a.matrixTransform(c.inverse()),u=r.translate(s.x,s.y).scale(1/p*e).translate(-s.x,-s.y),l=c.multiply(u)):l=r.scale(e),Tn(this._viewport,l),l},Cn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Cn.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let n;if(e.waypoints){n=this.getGraphics(e).getBBox()}else n=e;return{x:n.x*t.scale-t.x*t.scale,y:n.y*t.scale-t.y*t.scale,width:n.width*t.scale,height:n.height*t.scale}},Cn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Pn="data-element-id";function Rn(e){this._elements={},this._eventBus=e}function Bn(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(e){var n=this.indexOf(e);return-1!==n&&(this.splice(n,1),t.unset(e,r,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,n){var o=this.indexOf(e);if(void 0===n){if(-1!==o)return;n=this.length}-1!==o&&this.splice(o,1),this.splice(n,0,e),-1===o&&t.set(e,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function On(e){return!0===e.__refs_collection}Rn.$inject=["eventBus"],Rn.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),Me(t,Pn,i),n&&Me(n,Pn,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},Rn.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(Me(i.gfx,Pn,""),i.secondaryGfx&&Me(i.secondaryGfx,Pn,""),delete t[n])},Rn.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},Rn.prototype.updateGraphics=function(e,t,n){var i=e.id||e,r=this._elements[i];return n?r.secondaryGfx=t:r.gfx=t,t&&Me(t,Pn,i),t},Rn.prototype.get=function(e){var t;t="string"==typeof e?e:e&&Me(e,Pn);var n=this._elements[t];return n&&n.element},Rn.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},Rn.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=t[n[i]],o=r.element;if(e(o,r.gfx))return o}},Rn.prototype.getAll=function(){return this.filter((function(e){return e}))},Rn.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,o=i.gfx;return e(r,o)}))},Rn.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},Rn.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function In(e,t,n){var i=Bn(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach((function(i){e.set(i,t.inverse,n)}))}function Dn(e,t){if(!(this instanceof Dn))return new Dn(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Dn.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?In(this,t,e):function(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(t){if(t!==r){var o=r;r=null,o&&e.unset(o,i,n),r=t,e.set(r,i,n)}}})}(this,t,e)},Dn.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return On(n)||In(this,t,e),n},Dn.prototype.ensureBound=function(e,t){(function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)})(e,t)||this.bind(e,t)},Dn.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},Dn.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)};var Fn=new Dn({name:"children",enumerable:!0,collection:!0},{name:"parent"}),zn=new Dn({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Nn=new Dn({name:"attachers",collection:!0},{name:"host"}),Ln=new Dn({name:"outgoing",collection:!0},{name:"source"}),qn=new Dn({name:"incoming",collection:!0},{name:"target"});function Hn(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Fn.bind(this,"parent"),zn.bind(this,"labels"),Ln.bind(this,"outgoing"),qn.bind(this,"incoming")}function Un(){Hn.call(this),Fn.bind(this,"children"),Nn.bind(this,"host"),Nn.bind(this,"attachers")}function $n(){Hn.call(this),Fn.bind(this,"children")}function Vn(){Un.call(this),zn.bind(this,"labelTarget")}function Wn(){Hn.call(this),Ln.bind(this,"source"),qn.bind(this,"target")}i(Un,Hn),i($n,Un),i(Vn,Un),i(Wn,Hn);var Gn={connection:Wn,shape:Un,label:Vn,root:$n};function Kn(){this._uid=12}Kn.prototype.createRoot=function(e){return this.create("root",e)},Kn.prototype.createLabel=function(e){return this.create("label",e)},Kn.prototype.createShape=function(e){return this.create("shape",e)},Kn.prototype.createConnection=function(e){return this.create("connection",e)},Kn.prototype.create=function(e,t){return(t=H({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Gn[e];if(!n)throw new Error("unknown type: <"+e+">");return H(new n,t)}(e,t)};var Zn=Array.prototype.slice;function Yn(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Xn(){}function Jn(e){return e.childNodes[0]}function Qn(e,t,n,i,r){var o=qe();o.setTranslate(t,n);var a=qe();a.setRotate(i||0,0,0);var s=qe();s.setScale(r||1,r||1),Ye(e,[o,a,s])}function ei(e,t,n){var i=qe();i.setTranslate(t,n),Ye(e,i)}function ti(e,t){var n=qe();n.setRotate(t,0,0),Ye(e,n)}function ni(e,t){this._eventBus=e,this._elementRegistry=t}function ii(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}Yn.prototype.on=function(e,t,n,i){if(e=f(e)?e:[e],g(t)&&(i=n,n=t,t=1e3),!m(t))throw new Error("priority must be a number");var r=n;i&&((r=q(n,i)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:r,next:null})}))},Yn.prototype.once=function(e,t,n,i){var r=this;if(g(t)&&(i=n,n=t,t=1e3),!m(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,o),t}o.__fn=n,this.on(e,t,o)},Yn.prototype.off=function(e,t){e=f(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},Yn.prototype.createEvent=function(e){var t=new Xn;return t.init(e),t},Yn.prototype.fire=function(e,t){var n,i,r,o;if(o=Zn.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof Xn?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{r=this._invokeListeners(n,o,i)}finally{e!==a&&(n.type=a)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},Yn.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},Yn.prototype._destroy=function(){this._listeners={}},Yn.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},Yn.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return i},Yn.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},Yn.prototype._getListeners=function(e){return this._listeners[e]},Yn.prototype._setListeners=function(e,t){this._listeners[e]=t},Yn.prototype._removeListener=function(e,t){var n,i,r,o=this._getListeners(e);if(t)for(;o;)n=o.next,(r=o.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=o,o=n;else this._setListeners(e,null)},Xn.prototype.stopPropagation=function(){this.cancelBubble=!0},Xn.prototype.preventDefault=function(){this.defaultPrevented=!0},Xn.prototype.init=function(e){H(this,e||{})},ni.$inject=["eventBus","elementRegistry"],ni.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(Ce(t=Fe("g")).add("djs-children"),Ee(n.parentNode,t)):t=n,t},ni.prototype._clear=function(e){var t=Jn(e);return ie(t),t},ni.prototype._createContainer=function(e,t,n,i){var r=Fe("g");Ce(r).add("djs-group"),void 0!==n?ii(r,t,t.childNodes[n]):Ee(t,r);var o=Fe("g");Ce(o).add("djs-element"),Ce(o).add("djs-"+e),i&&Ce(o).add("djs-frame"),Ee(r,o);var a=Fe("g");return Ce(a).add("djs-visual"),Ee(o,a),o},ni.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,xt(t))},ni.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry;k(S(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(function(e){var i=e.children;if(i){var r=t._getChildrenContainer(e);k(i.slice().reverse(),(function(e){ii(n.getGraphics(e).parentNode,r)}))}}))},ni.prototype.drawShape=function(e,t,n={}){return this._eventBus.fire("render.shape",{gfx:e,element:t,attrs:n})},ni.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},ni.prototype.drawConnection=function(e,t,n={}){return this._eventBus.fire("render.connection",{gfx:e,element:t,attrs:n})},ni.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},ni.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),ei(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?Me(n,"display","none"):Me(n,"display","block")}},ni.prototype.remove=function(e){Pe(this._elementRegistry.getGraphics(e).parentNode)};var ri={__depends__:[St],__init__:["canvas"],canvas:["type",Cn],elementRegistry:["type",Rn],elementFactory:["type",Kn],eventBus:["type",Yn],graphicsFactory:["type",ni]};function oi(e){return function(e){var t=new ot(e);return t.init(),t}([{config:["value",e=e||{}]},ri].concat(e.modules||[]))}function ai(e,t){this._injector=t||oi(e),this.get("eventBus").fire("diagram.init")}function si(){}function ci(e,t){this.model=e,this.properties=t}ai.prototype.get=function(e,t){return this._injector.get(e,t)},ai.prototype.invoke=function(e,t,n){return this._injector.invoke(e,t,n)},ai.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},ai.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},si.prototype.get=function(e){return this.$model.properties.get(this,e)},si.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},ci.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(si.prototype);k(e.properties,(function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)})),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function o(e){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),k(e,q((function(e,t){this.set(t,e)}),this))}return o.prototype=i,o.hasType=i.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var ui={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},li={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function pi(e,t){var n=li[e];return n?n(t):t}function hi(e){return!!ui[e]}function fi(e){return!!li[e]}function di(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function mi(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function gi(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,k(e,q(this.registerPackage,this))}function vi(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function yi(e){this.model=e}function bi(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function wi(e){return e.replace(/^:/,"")}function _i(e,t={}){this.properties=new yi(this),this.factory=new ci(this,this.properties),this.registry=new gi(e,this.properties),this.typeCache={},this.config=t}mi.prototype.build=function(){return U(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},mi.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},mi.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,a),o[i.name]=o[i.localName]=t},mi.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),o=di(r[0],i),a=di(r[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},mi.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},mi.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},mi.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},mi.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},mi.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)},mi.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},mi.prototype.hasProperty=function(e){return this.propertiesByName[e]},mi.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(k(e.properties,q((function(n){n=H({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var i=n.replaces,r=n.redefines;i||r?this.redefineProperty(n,i||r,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),i.push(e),n[r]=e)},gi.prototype.getPackage=function(e){return this.packageMap[e]},gi.prototype.getPackages=function(){return this.packages},gi.prototype.registerPackage=function(e){e=H({},e);var t=this.packageMap;vi(t,e,"prefix"),vi(t,e,"uri"),k(e.types,q((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},gi.prototype.registerType=function(e,t){var n=di((e=H({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:H(e.meta||{})})).name,t.prefix),i=n.name,r={};k(e.properties,q((function(e){var t=di(e.name,n.prefix),i=t.name;hi(e.type)||(e.type=di(e.type,t.prefix).name),H(e,{ns:t,name:i}),r[i]=e}),this)),H(e,{ns:n,name:i,propertiesByName:r}),k(e.extends,q((function(e){var t=di(e,n.prefix),r=this.typeMap[t.name];r.traits=r.traits||[],r.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},gi.prototype.mapTypes=function(e,t,n){var i=hi(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function o(n,i){var o=di(n,hi(n)?"":e.prefix);r.mapTypes(o,t,i)}function a(e){return o(e,!0)}if(!i)throw new Error("unknown type <"+e.name+">");k(i.superClass,n?a:function(e){return o(e,!1)}),t(i,!n),k(i.traits,a)},gi.prototype.getEffectiveDescriptor=function(e){var t=di(e),n=new mi(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},gi.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},yi.prototype.set=function(e,t,n){if(!v(t)||!t.length)throw new TypeError("property name must be a non-empty string");var i=this.getProperty(e,t),r=i&&i.name;void 0===n?i?delete e[r]:delete e.$attrs[wi(t)]:i?r in e?e[r]=n:bi(e,i,n):e.$attrs[wi(t)]=n},yi.prototype.get=function(e,t){var n=this.getProperty(e,t);if(!n)return e.$attrs[wi(t)];var i=n.name;return!e[i]&&n.isMany&&bi(e,n,[]),e[i]},yi.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;delete(n=H({},n,{get:function(){return i}})).value}Object.defineProperty(e,t,n)},yi.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},yi.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},yi.prototype.getProperty=function(e,t){var n=this.model,i=n.getPropertyDescriptor(e,t);if(i)return i;if(t.includes(":"))return null;const r=n.config.strict;if(void 0!==r){const n=new TypeError(`unknown property <${t}> on <${e.$type}>`);if(r)throw n;"undefined"!=typeof console&&console.warn(n)}return null},_i.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},_i.prototype.getType=function(e){var t=this.typeCache,n=v(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},_i.prototype.createAny=function(e,t,n){var i=di(e),r={$type:e,$instanceOf:function(e){return e===this.$type},get:function(e){return this[e]},set:function(e,t){!function(e,t,n){let i=e;k(t,(function(e,r){if("number"!=typeof e&&"string"!=typeof e)throw new Error("illegal key type: "+typeof e+". Key should be of type number or string.");if("constructor"===e)throw new Error("illegal key: constructor");if("__proto__"===e)throw new Error("illegal key: __proto__");let o=t[r+1],a=i[e];p(o)&&h(a)&&(a=i[e]=isNaN(+o)?{}:[]),l(o)?l(n)?delete i[e]:i[e]=n:i=a}))}(this,[e],t)}},o={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,o),this.properties.defineModel(r,this),this.properties.define(r,"get",{enumerable:!1,writable:!0}),this.properties.define(r,"set",{enumerable:!1,writable:!0}),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),this.properties.define(r,"$instanceOf",{enumerable:!1,writable:!0}),k(n,(function(e,t){d(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e})),r},_i.prototype.getPackage=function(e){return this.registry.getPackage(e)},_i.prototype.getPackages=function(){return this.registry.getPackages()},_i.prototype.getElementDescriptor=function(e){return e.$descriptor},_i.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},_i.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},_i.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var xi=String.fromCharCode,ki=Object.prototype.hasOwnProperty,Ei=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Si={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function ji(e,t,n,i){return i?ki.call(Si,i)?Si[i]:"&"+i+";":xi(t||parseInt(n,16))}function Mi(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(Ei,ji):e}Object.keys(Si).forEach((function(e){Si[e.toUpperCase()]=Si[e]}));function Ai(e){return new Error(e)}function Ci(e){return"missing namespace for prefix <"+e+">"}function Ti(e){return{get:e,enumerable:!0}}function Pi(e){var t,n={};for(t in e)n[t]=e[t];return n}function Ri(e){return e+"$uri"}function Bi(){return{line:0,column:0}}function Oi(e){throw e}function Ii(e){if(!this)return new Ii(e);var t,n,i,r,o,a,s,c,u,l=e&&e.proxy,p=Oi,h=Bi,f=!1,d=!1,m=null,g=!1;function v(e){e instanceof Error||(e=Ai(e)),m=e,p(e,h)}function y(e){o&&(e instanceof Error||(e=Ai(e)),o(e,h))}this.on=function(e,u){if("function"!=typeof u)throw Ai("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":i=u;break;case"error":p=u;break;case"warn":o=u;break;case"cdata":r=u;break;case"attention":c=u;break;case"question":s=u;break;case"comment":a=u;break;default:throw Ai("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw Ai("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",d=!0,u=n,this},this.parse=function(e){if("string"!=typeof e)throw Ai("required args <xml=string>");return m=null,function(e){var o,p,m,b,w,_,x,k,E,S,j,M=d?[]:null,A=d?function(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[Ri(n)]=t;return i}(u):null,C=[],T=0,P=!1,R=!1,B=0,O=0,I="",D=0;function F(){if(null!==j)return j;var e,t,n,i,r,o,a,s,c,l,p,h=d&&A.xmlns,m=d&&f?[]:null,g=D,v=I,b=v.length,w={},_={};e:for(;g<b;g++)if(c=!1,!(32===(l=v.charCodeAt(g))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(y("illegal first char attribute name"),c=!0),p=g+1;p<b;p++)if(!((l=v.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){y("missing attribute value"),g=p;continue e}if(61===l)break;y("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=v.substring(g,p))&&(y("illegal declaration of xmlns"),c=!0),34===(l=v.charCodeAt(p+1)))-1===(p=v.indexOf('"',g=p+2))&&-1!==(p=v.indexOf("'",g))&&(y("attribute value quote missmatch"),c=!0);else if(39===l)-1===(p=v.indexOf("'",g=p+2))&&-1!==(p=v.indexOf('"',g))&&(y("attribute value quote missmatch"),c=!0);else for(y("missing attribute value quotes"),c=!0,p+=1;p<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(y("missing closing quotes"),p=b,c=!0),c||(o=v.substring(g,p)),g=p;p+1<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++)g===p&&(y("illegal character after attribute end"),c=!0);if(g=p+1,!c)if(s in _)y("attribute <"+s+"> already defined");else if(_[s]=!0,d)if(f){if(null!==(r="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=Mi(o),t=Ri(r),!(a=u[e])){if("xmlns"===r||t in A&&A[t]!==e)do{a="ns"+T++}while(void 0!==A[a]);else a=r;u[e]=a}A[r]!==a&&(i||(A=Pi(A),i=!0),A[r]=a,"xmlns"===r&&(A[Ri(a)]=e,h=a),A[t]=e),w[s]=o;continue}m.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=A[s.substring(0,l)])?("xsi:type"===(s=h===n?s.substr(l+1):n+s.substr(l))&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=A[n]||n)+o.substring(l)):o=h+":"+o),w[s]=o):y(Ci(s.substring(0,l))):w[s]=o;else w[s]=o}if(f)for(g=0,b=m.length;g<b;g++){if(s=m[g++],o=m[g],-1!==(l=s.indexOf(":"))){if(!(n=A[s.substring(0,l)])){y(Ci(s.substring(0,l)));continue}"xsi:type"===(s=h===n?s.substr(l+1):n+s.substr(l))&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=A[n]||n)+o.substring(l)):o=h+":"+o)}w[s]=o}return j=w}function z(){for(var t,n,i=/(\r\n|\r|\n)/g,r=0,o=0,a=0,s=O;B>=a&&(t=i.exec(e))&&!((s=t[0].length+t.index)>B);)r+=1,a=s;return-1==B?(o=s,n=e.substring(O)):0===O?n=e.substring(O,B):(o=B-a,n=-1==O?e.substring(B):e.substring(B,O+1)),{data:n,line:r,column:o}}h=z,l&&(S=Object.create({},{name:Ti((function(){return k})),originalName:Ti((function(){return E})),attrs:Ti(F),ns:Ti((function(){return A}))}));for(;-1!==O;){if(-1===(B=60===e.charCodeAt(O)?O:e.indexOf("<",O)))return C.length?v("unexpected end of file"):0===O?v("missing start tag"):void(O<e.length&&e.substring(O).trim()&&y("non-whitespace outside of root node"));if(O!==B)if(C.length){if(t&&(t(e.substring(O,B),Mi,h),g))return}else if(e.substring(O,B).trim()&&(y("non-whitespace outside of root node"),g))return;if(33===(w=e.charCodeAt(B+1))){if(91===(b=e.charCodeAt(B+2))&&"CDATA["===e.substr(B+3,6)){if(-1===(O=e.indexOf("]]>",B)))return v("unclosed cdata");if(r&&(r(e.substring(B+9,O),h),g))return;O+=3;continue}if(45===b&&45===e.charCodeAt(B+3)){if(-1===(O=e.indexOf("--\x3e",B)))return v("unclosed comment");if(a&&(a(e.substring(B+4,O),Mi,h),g))return;O+=3;continue}}if(63!==w){for(p=B+1;;p++){if(_=e.charCodeAt(p),isNaN(_))return O=-1,v("unclosed tag");if(34===_)b=e.indexOf('"',p+1),p=-1!==b?b:p;else if(39===_)b=e.indexOf("'",p+1),p=-1!==b?b:p;else if(62===_){O=p;break}}if(33!==w){if(j={},47===w){if(P=!1,R=!0,!C.length)return v("missing open tag");if(p=k=C.pop(),b=B+2+p.length,e.substring(B+2,b)!==p)return v("closing tag mismatch");for(;b<O;b++)if(!(32===(w=e.charCodeAt(b))||w>8&&w<14))return v("close tag")}else{if(47===e.charCodeAt(O-1)?(p=k=e.substring(B+1,O-1),P=!0,R=!0):(p=k=e.substring(B+1,O),P=!0,R=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return v("illegal first char nodeName");for(b=1,m=p.length;b<m;b++)if(!((w=p.charCodeAt(b))>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){k=p.substring(0,b),j=null;break}return v("invalid nodeName")}R||C.push(k)}if(d){if(o=A,P&&(R||M.push(o),null===j&&(f=-1!==p.indexOf("xmlns",b))&&(D=b,I=p,F(),f=!1)),E=k,-1!==(w=k.indexOf(":"))){if(!(x=A[k.substring(0,w)]))return v("missing namespace on <"+E+">");k=k.substr(w+1)}else x=A.xmlns;x&&(k=x+":"+k)}if(P&&(D=b,I=p,n&&(l?n(S,Mi,R,h):n(k,F,Mi,R,h),g)))return;if(R){if(i&&(i(l?S:k,Mi,P,h),g))return;d&&(A=P?o:M.pop())}O+=1}else{if(c&&(c(e.substring(B,O+1),Mi,h),g))return;O+=1}}else{if(-1===(O=e.indexOf("?>",B)))return v("unclosed question");if(s&&(s(e.substring(B,O+2),h),g))return;O+=2}}}(e),h=Bi,g=!1,m},this.stop=function(){g=!0}}function Di(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var Fi={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"};function zi(e){return e.xml&&e.xml.serialize}function Ni(e){return"xsi:type"===zi(e)}function Li(e,t){return Di(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function qi(e){return new Error(e)}function Hi(e){return e.$descriptor}function Ui(e){H(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw qi("expected element");var t,n=this.elementsById,i=Hi(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw qi("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function $i(){}function Vi(){}function Wi(){}function Gi(e,t){this.property=e,this.context=t}function Ki(e,t){this.element=t,this.propertyDesc=e}function Zi(){}function Yi(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function Xi(e,t,n){Yi.call(this,e,t,n)}function Ji(e,t,n){this.model=e,this.context=n}function Qi(e){e instanceof _i&&(e={model:e}),H(this,{lax:!1},e)}$i.prototype.handleEnd=function(){},$i.prototype.handleText=function(){},$i.prototype.handleNode=function(){},Vi.prototype=Object.create($i.prototype),Vi.prototype.handleNode=function(){return this},Wi.prototype=Object.create($i.prototype),Wi.prototype.handleText=function(e){this.body=(this.body||"")+e},Gi.prototype=Object.create(Wi.prototype),Gi.prototype.handleNode=function(e){if(this.element)throw qi("expected no sub nodes");return this.element=this.createReference(e),this},Gi.prototype.handleEnd=function(){this.element.id=this.body},Gi.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},Ki.prototype=Object.create(Wi.prototype),Ki.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=pi(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},Zi.prototype=Object.create(Wi.prototype),Zi.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},Yi.prototype=Object.create(Zi.prototype),Yi.prototype.addReference=function(e){this.context.addReference(e)},Yi.prototype.handleText=function(e){if(!Hi(this.element).bodyProperty)throw qi("unexpected body text <"+e+">");Wi.prototype.handleText.call(this,e)},Yi.prototype.handleEnd=function(){var e=this.body,t=this.element,n=Hi(t).bodyProperty;n&&void 0!==e&&(e=pi(n.type,e),t.set(n.name,e))},Yi.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,r=Hi(i),o=this.context,a=new i({}),s=this.model;return k(n,(function(e,n){var i=r.propertiesByName[n];i&&i.isReference?i.isMany?k(e.split(" "),(function(e){o.addReference({element:a,property:i.ns.name,id:e})})):o.addReference({element:a,property:i.ns.name,id:e}):(i?e=pi(i.type,e):"xmlns"!==n&&(t=di(n,r.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},Yi.prototype.getPropertyForNode=function(e){var t,n,i=di(e.name),r=this.type,o=this.model,a=Hi(r),s=i.name,c=a.propertiesByName[s];if(c&&!c.isAttr)return Ni(c)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=di(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,o),H({},c,{effectiveType:Hi(n=o.getType(t)).name})):c;var u=o.getPackage(i.prefix);if(u){if(t=Li(i,u),n=o.getType(t),c=b(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return H({},c,{effectiveType:Hi(n).name})}else if(c=b(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return c;throw qi("unrecognized element <"+i.name+">")},Yi.prototype.toString=function(){return"ElementDescriptor["+Hi(this.type).name+"]"},Yi.prototype.valueHandler=function(e,t){return new Ki(e,t)},Yi.prototype.referenceHandler=function(e){return new Gi(e,this.context)},Yi.prototype.handler=function(e){return"Element"===e?new Ji(this.model,e,this.context):new Yi(this.model,e,this.context)},Yi.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,fi(n=t.effectiveType||t.type))return this.valueHandler(t,i);var o=(r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(H(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},Xi.prototype=Object.create(Yi.prototype),Xi.prototype.createElement=function(e){var t=e.name,n=di(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),a=o&&Li(n,o)||t;if(!r.hasType(a))throw qi("unexpected element <"+e.originalName+">");return Yi.prototype.createElement.call(this,e)},Ji.prototype=Object.create(Zi.prototype),Ji.prototype.createElement=function(e){var t=e.name,n=di(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},Ji.prototype.handleChild=function(e){var t=new Ji(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},Ji.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Qi.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof Yi?(i=t,t={}):"string"==typeof t?(i=this.handler(t),t={}):"string"==typeof i&&(i=this.handler(i));var r=this.model,o=this.lax,a=new Ui(H({},t,{rootHandler:i})),s=new Ii({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function u(e,t,n){var i=t(),r=i.line,o=i.column,s=i.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var c="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:c,error:e}),!0;throw qi(c)}function l(e,t){return u(e,t,!0)}i.context=a,c.push(i);var p=/^<\?xml /i,h=/ encoding="([^"]+)"/i,f=/^utf-8$/i;function d(e,t){try{c.peek().handleText(e)}catch(e){l(e,t)}}var m=r.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return s.ns(m).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(e){u(e,t,o)&&c.push(new Vi)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(p.test(e)){var t=h.exec(e),n=t&&t[1];n&&!f.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",d).on("text",(function(e,t,n){!function(e,t){e.trim()&&d(e,t)}(t(e),n)})).on("error",u).on("warn",l),new Promise((function(t,n){var r;try{s.parse(e),function(){var e,t,n=a.elementsById,i=a.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],s=Hi(r).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var c=r.get(s.name),u=c.indexOf(t);-1===u&&(u=c.length),o?c[u]=o:c.splice(u,1)}else r.set(s.name,o)}}()}catch(e){r=e}var o=i.element;r||o||(r=qi("failed to parse document as <"+i.type.$descriptor.name+">"));var c=a.warnings,u=a.references,l=a.elementsById;return r?(r.warnings=c,n(r)):t({rootElement:o,elementsById:l,references:u,warnings:c})}))},Qi.prototype.handler=function(e){return new Xi(this.model,e)};var er=/<|>|'|"|&|\n\r|\n/g,tr=/<|>|&/g;function nr(e){var t={},n={},i={},r=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,o).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function ir(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function rr(e){return v(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var or={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ar={"<":"lt",">":"gt","&":"amp"};function sr(e,t,n){return(e=v(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function cr(e){this.tagName=e}function ur(){}function lr(e){this.tagName=e}function pr(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function hr(e,t){pr.call(this,e,t)}function fr(){this.value="",this.write=function(e){this.value+=e}}function dr(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function mr(e){return e=H({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new fr,r=new dr(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new pr).build(t).serializeTo(r),!n)return i.value}}}function gr(e,t){_i.call(this,e,t)}cr.prototype.build=function(e){return this.element=e,this},cr.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},ur.prototype.serializeValue=ur.prototype.serializeTo=function(e){e.append(this.escape?sr(this.value,tr,ar):this.value)},ur.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(tr)&&(this.escape=!0),this},ir(lr,ur),lr.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},pr.prototype.build=function(e){this.element=e;var t,n,i=e.$descriptor,r=this.propertyDescriptor,o=i.isGeneric;return t=o?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=r?this.nsPropertyTagName(r):this.nsTagName(i),this.tagName=this.addTagName(this.ns),o||(n=function(e){return x(e.$descriptor.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!y(e,n))return!1;var i=e[n];return i!==t.default&&(null!==i&&(!t.isMany||i.length))}))}(e),this.parseAttributes(x(n,(function(e){return e.isAttr}))),this.parseContainments(function(e){return x(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},pr.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?H({localName:t.ns.localName},e):H({localName:(n=t.ns.localName,i=t.$pkg,Di(i)?(r=n).charAt(0).toLowerCase()+r.slice(1):n)},e);var n,i,r}(this.logNamespaceUsed(e.ns),e)},pr.prototype.nsPropertyTagName=function(e){return function(e,t){return H({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},pr.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},pr.prototype.nsAttributeName=function(e){var t;if(t=v(e)?di(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:H({localName:t.localName},n)},pr.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return k(e,(function(r,o){"$body"===o?n.push((new ur).build({type:"String"},r)):"$children"===o?k(r,(function(e){n.push(new pr(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,r)&&i.push({name:o,value:r})})),i},pr.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=di(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var a=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(a)}},pr.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,r=[];return k(i,(function(t,i){var o=n.parseNsAttribute(e,i,t);o&&r.push(o)})),r},pr.prototype.parseGenericAttributes=function(e,t){var n=this;k(t,(function(t){if("xsi:type"!==t.name)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},pr.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;k(e,(function(e){var r=i.get(e.name),o=e.isReference;if(e.isMany||(r=[r]),e.isBody)n.push((new ur).build(e,r[0]));else if(fi(e.type))k(r,(function(i){n.push(new lr(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(o)k(r,(function(i){n.push(new cr(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var a=Ni(e),s=function(e){return"property"===zi(e)}(e);k(r,(function(i){var r;r=a?new hr(t,e):s?new pr(t,e):new pr(t),n.push(r.build(i))}))}}))},pr.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new nr(t):n=t),n},pr.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,o=e.prefix;return i.byUri(r)&&!n||i.add(e,t),i.mapPrefix(o,r),e},pr.prototype.logNamespaceUsed=function(e,t){var n,i,r,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(r=Fi[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||r||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,i=1;a.uriByPrefix(n);)n=s+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return s&&a.mapPrefix(s,c),e},pr.prototype.parseAttributes=function(e){var t=this,n=this.element;k(e,(function(e){var i=n.get(e.name);if(e.isReference)if(e.isMany){var r=[];k(i,(function(e){r.push(e.id)})),i=r.join(" ")}else i=i.id;t.addAttribute(t.nsAttributeName(e),i)}))},pr.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),rr(e)},pr.prototype.addAttribute=function(e,t){var n=this.attrs;v(t)&&(t=sr(t,er,or));var i=w(n,(function(t){return t.name.localName===e.localName&&t.name.uri===e.uri&&t.name.prefix===e.prefix})),r={name:e,value:t};-1!==i?n.splice(i,1,r):n.push(r)},pr.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),k(t,(function(t){e.append(" ").append(rr(t.name)).append('="').append(t.value).append('"')}))},pr.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==ur;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),k(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},ir(hr,pr),hr.prototype.parseNsAttributes=function(e){var t=pr.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),o=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName("xsi:type"),(i.prefix?i.prefix+":":"")+o+n.ns.localName),t},hr.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},gr.prototype=Object.create(_i.prototype),gr.prototype.fromXML=function(e,t,n){v(t)||(n=t,t="bpmn:Definitions");var i=new Qi(H({model:this,lax:!0},n)),r=i.handler(t);return i.fromXML(e,r)},gr.prototype.toXML=function(e,t){var n=new mr(t);return new Promise((function(t,i){try{return t({xml:n.toXML(e)})}catch(e){return i(e)}}))};var vr={bpmn:{name:"BPMN20",uri:"http://www.omg.org/spec/BPMN/20100524/MODEL",prefix:"bpmn",associations:[],types:[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],enumerations:[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],xml:{tagAlias:"lowerCase",typePrefix:"t"}},bpmndi:{name:"BPMNDI",uri:"http://www.omg.org/spec/BPMN/20100524/DI",prefix:"bpmndi",types:[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],enumerations:[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],associations:[]},dc:{name:"DC",uri:"http://www.omg.org/spec/DD/20100524/DC",prefix:"dc",types:[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],associations:[]},di:{name:"DI",uri:"http://www.omg.org/spec/DD/20100524/DI",prefix:"di",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],associations:[],xml:{tagAlias:"lowerCase"}},bioc:{name:"bpmn.io colors for BPMN",uri:"http://bpmn.io/schema/bpmn/biocolor/1.0",prefix:"bioc",types:[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]},color:{name:"BPMN in Color",uri:"http://www.omg.org/spec/BPMN/non-normative/color/1.0",prefix:"color",types:[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],enumerations:[],associations:[]}};function yr(e,t){return new gr(H({},vr,e),t)}function br(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}function wr(e){y(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error("Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472")}})}function _r(e,t){return e.$instanceOf(t)}function xr(e,t){var n={},i=[],r={};function o(e,t){return function(n){e(n,t)}}function a(e){n[e.id]=e}function s(n,i){try{var o=r[n.id]&&function(n,i){if(n.gfx)throw new Error(t("already rendered {element}",{element:br(n)}));return e.element(n,r[n.id],i)}(n,i);return a(n),o}catch(e){c(e.message,{element:n,error:e}),console.error(t("failed to import {element}",{element:br(n)})),console.error(e)}}function c(t,n){e.error(t,n)}var u=this.registerDi=function(e){var n=e.bpmnElement;n?r[n.id]?c(t("multiple DI elements defined for {element}",{element:br(n)}),{element:n}):(r[n.id]=e,wr(n)):c(t("no bpmnElement referenced in {element}",{element:br(e)}),{element:e})};function l(e){var t;t=e.plane,u(t),k(t.planeElement,p)}function p(e){u(e)}this.handleDefinitions=function(a,s){var p=a.diagrams;if(s&&-1===p.indexOf(s))throw new Error(t("diagram not part of bpmn:Definitions"));if(!s&&p&&p.length&&(s=p[0]),!s)throw new Error(t("no diagram to display"));r={},l(s);var m=s.plane;if(!m)throw new Error(t("no plane for {element}",{element:br(s)}));var g=m.bpmnElement;if(!g){if(!(g=function(e){return b(e.rootElements,(function(e){return _r(e,"bpmn:Process")||_r(e,"bpmn:Collaboration")}))}(a)))throw new Error(t("no process or collaboration to display"));c(t("correcting missing bpmnElement on {plane} to {rootElement}",{plane:br(m),rootElement:br(g)})),m.bpmnElement=g,u(m)}var v,y,_=function(t,n){return e.root(t,r[t.id],n)}(g,m);if(_r(g,"bpmn:Process")||_r(g,"bpmn:SubProcess"))f(g,_);else{if(!_r(g,"bpmn:Collaboration"))throw new Error(t("unsupported bpmnElement for {plane}: {rootElement}",{plane:br(m),rootElement:br(g)}));y=_,k((v=g).participants,o(T,y)),w(v.artifacts,y),i.push((function(){!function(e,t){k(e,o(d,t))}(v.messageFlows,y)})),function(e,t){x(e,(function(e){return!n[e.id]&&_r(e,"bpmn:Process")&&e.laneSets})).forEach(o(f,t))}(a.rootElements,_)}h(i)};var h=this.handleDeferred=function(){for(;i.length;)i.shift()()};function f(e,t){C(e,t),_(e.ioSpecification,t),w(e.artifacts,t),a(e)}function d(e,t){s(e,t)}function m(e,t){s(e,t)}function g(e,t){s(e,t)}function v(e,t){s(e,t)}function y(e,t){s(e,t)}function w(e,t){k(e,(function(e){_r(e,"bpmn:Association")?i.push((function(){y(e,t)})):y(e,t)}))}function _(e,t){e&&(k(e.dataInputs,o(g,t)),k(e.dataOutputs,o(v,t)))}var E=this.handleSubProcess=function(e,t){C(e,t),w(e.artifacts,t)};function S(e,t){var n=s(e,t);_r(e,"bpmn:SubProcess")&&E(e,n||t),_r(e,"bpmn:Activity")&&_(e.ioSpecification,t),i.push((function(){k(e.dataInputAssociations,o(m,t)),k(e.dataOutputAssociations,o(m,t))}))}function j(e,t){s(e,t)}function M(e,t){i.push((function(){var n=s(e,t);e.childLaneSet&&A(e.childLaneSet,n||t),function(e){k(e.flowNodeRef,(function(t){var n=t.get("lanes");n&&n.push(e)}))}(e)}))}function A(e,t){k(e.lanes,o(M,t))}function C(e,n){!function(e,n){k(e,(function(e){_r(e,"bpmn:SequenceFlow")?i.push((function(){!function(e,t){s(e,t)}(e,n)})):_r(e,"bpmn:BoundaryEvent")?i.unshift((function(){S(e,n)})):_r(e,"bpmn:FlowNode")?S(e,n):_r(e,"bpmn:DataObject")||(_r(e,"bpmn:DataStoreReference")||_r(e,"bpmn:DataObjectReference")?j(e,n):c(t("unrecognized flowElement {element} in context {context}",{element:br(e),context:n?br(n.businessObject):"null"}),{element:e,context:n}))}))}(e.flowElements,n),e.laneSets&&function(e,t){k(e,o(A,t))}(e.laneSets,n)}function T(e,t){var n=s(e,t),i=e.processRef;i&&f(i,n||t)}}function kr(e,t){var n=Sr(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function Er(e,t){return M(t,(function(t){return kr(e,t)}))}function Sr(e){return e&&e.businessObject||e}function jr(e){return e&&e.di}function Mr(e,t,n){var i,r,o,a,s=[];function c(e,t){var n=new xr({root:function(e,t){return i.add(e,t)},element:function(e,t,n){return i.add(e,t,n)},error:function(e,t){s.push({message:e,context:t})}},o);t=t||e.diagrams&&e.diagrams[0];var r=function(e,t){if(!t)return;var n,i=t.plane.bpmnElement,r=i;kr(i,"bpmn:Process")||kr(i,"bpmn:Collaboration")||(r=function(e){var t=e;for(;t;){if(kr(t,"bpmn:Process"))return t;t=t.$parent}}(i));n=kr(r,"bpmn:Collaboration")?r:b(e.rootElements,(function(e){if(kr(e,"bpmn:Collaboration"))return b(e.participants,(function(e){return e.processRef===r}))}));var o=[r];n&&(o=A(n.participants,(function(e){return e.processRef}))).push(n);var a=function e(t){var n=[];return k(t,(function(t){t&&(n.push(t),n=n.concat(e(t.flowElements)))})),n}(o),s=[t],c=[i];return k(e.diagrams,(function(e){var t=e.plane.bpmnElement;-1!==a.indexOf(t)&&-1===c.indexOf(t)&&(s.push(e),c.push(t))})),s}(e,t);if(!r)throw new Error(o("no diagram to display"));k(r,(function(t){n.handleDefinitions(e,t)}));var c=t.plane.bpmnElement.id;a.setRootElement(a.findRoot(c+"_plane")||a.findRoot(c))}return new Promise((function(u,l){try{return i=e.get("bpmnImporter"),r=e.get("eventBus"),o=e.get("translate"),a=e.get("canvas"),r.fire("import.render.start",{definitions:t}),c(t,n),r.fire("import.render.complete",{error:void 0,warnings:s}),u({warnings:s})}catch(e){return e.warnings=s,l(e)}}))}var Ar,Cr='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',Tr={verticalAlign:"middle"},Pr={color:"#404040"},Rr={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},Br={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},Or={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"};function Ir(){Ar||(J(Ar=ye('<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg></a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>'),Rr),J(be("svg",Ar),Tr),J(be(".backdrop",Ar),Br),J(be(".notice",Ar),Or),J(be(".link",Ar),Pr,{margin:"15px 20px 15px 10px",alignSelf:"center"}),de.bind(Ar,".backdrop","click",(function(e){document.body.removeChild(Ar)}))),document.body.appendChild(Ar)}function Dr(e){e=H({},zr,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),function(e){const t=ye('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+Cr+"</a>");J(be("svg",t),Tr),J(t,Pr,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(t),pe.bind(t,"click",(function(e){Ir(),e.preventDefault()}))}(this._container),this._init(this._container,this._moddle,e)}function Fr(e,t){return e.warnings=t,e}i(Dr,ai),Dr.prototype.importXML=async function(e,t){const n=this;let i=[];try{let o;e=this._emit("import.parse.start",{xml:e})||e;try{o=await this._moddle.fromXML(e,"bpmn:Definitions")}catch(e){throw this._emit("import.parse.complete",{error:e}),e}let a=o.rootElement;const s=o.references,c=o.warnings,u=o.elementsById;i=i.concat(c),a=this._emit("import.parse.complete",(r={error:null,definitions:a,elementsById:u,references:s,warnings:i},n.get("eventBus").createEvent(r)))||a;const l=await this.importDefinitions(a,t);return i=i.concat(l.warnings),this._emit("import.done",{error:null,warnings:i}),{warnings:i}}catch(e){let t=e;throw i=i.concat(t.warnings||[]),Fr(t,i),t=function(e){const t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+t[2]);return e}(t),this._emit("import.done",{error:t,warnings:t.warnings}),t}var r},Dr.prototype.importDefinitions=async function(e,t){this._setDefinitions(e);return{warnings:(await this.open(t)).warnings}},Dr.prototype.open=async function(e){const t=this._definitions;let n=e;if(!t){const e=new Error("no XML imported");throw Fr(e,[]),e}if("string"==typeof e&&(n=function(e,t){if(!t)return null;return b(e.diagrams,(function(e){return e.id===t}))||null}(t,e),!n)){const t=new Error("BPMNDiagram <"+e+"> not found");throw Fr(t,[]),t}try{this.clear()}catch(e){throw Fr(e,[]),e}const{warnings:i}=await Mr(this,t,n);return{warnings:i}},Dr.prototype.saveXML=async function(e){e=e||{};let t,n,i=this._definitions;try{if(!i)throw new Error("no definitions loaded");i=this._emit("saveXML.start",{definitions:i})||i;n=(await this._moddle.toXML(i,e)).xml,n=this._emit("saveXML.serialized",{xml:n})||n}catch(e){t=e}const r=t?{error:t}:{xml:n};if(this._emit("saveXML.done",r),t)throw t;return r},Dr.prototype.saveSVG=async function(){let e,t;this._emit("saveSVG.start");try{const t=this.get("canvas"),n=t.getActiveLayer(),i=be("defs",t._svg),r=Ke(n),o=i?"<defs>"+Ke(i)+"</defs>":"",a=n.getBBox();e='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with bpmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+a.width+'" height="'+a.height+'" viewBox="'+a.x+" "+a.y+" "+a.width+" "+a.height+'" version="1.1">'+o+r+"</svg>"}catch(e){t=e}if(this._emit("saveSVG.done",{error:t,svg:e}),t)throw t;return{svg:e}},Dr.prototype._setDefinitions=function(e){this._definitions=e},Dr.prototype.getModules=function(){return this._modules},Dr.prototype.clear=function(){this.getDefinitions()&&ai.prototype.clear.call(this)},Dr.prototype.destroy=function(){ai.prototype.destroy.call(this),_e(this._container)},Dr.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},Dr.prototype.off=function(e,t){this.get("eventBus").off(e,t)},Dr.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=be(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Dr.prototype.getDefinitions=function(){return this._definitions},Dr.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},Dr.prototype._init=function(e,t,n){const i=n.modules||this.getModules(n),r=n.additionalModules||[],o=[].concat([{bpmnjs:["value",this],moddle:["value",t]}],i,r),a=H($(n,["additionalModules"]),{canvas:H({},n.canvas,{container:e}),modules:o});ai.call(this,a),n&&n.container&&this.attachTo(n.container)},Dr.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},Dr.prototype._createContainer=function(e){const t=ye('<div class="bjs-container"></div>');return J(t,{width:Nr(e.width),height:Nr(e.height),position:e.position}),t},Dr.prototype._createModdle=function(e){return new yr(H({},this._moddleExtensions,e.moddleExtensions))},Dr.prototype._modules=[];const zr={width:"100%",height:"100%",position:"relative"};function Nr(e){return e+(m(e)?"px":"")}function Lr(e){Dr.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.elementsById)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function qr(e,t){return!kr(e,"bpmn:CallActivity")&&(kr(e,"bpmn:SubProcess")?!(!(t=t||jr(e))||!kr(t,"bpmndi:BPMNPlane"))||t&&!!t.isExpanded:!kr(e,"bpmn:Participant")||!!Sr(e).processRef)}function Hr(e){if(kr(e,"bpmn:Participant")||kr(e,"bpmn:Lane")){var t=jr(e).isHorizontal;return void 0===t||t}}function Ur(e){return e&&!!Sr(e).triggeredByEvent}function $r(e,t){return M(Sr(e).eventDefinitions,(function(e){return kr(e,t)}))}i(Lr,Dr),Lr.prototype._createModdle=function(e){var t=Dr.prototype._createModdle.call(this,e);return t.ids=new a([32,36,1]),t},Lr.prototype._collectIds=function(e,t){var n,i=e.$model.ids;for(n in i.clear(),t)i.claim(n,t[n])};var Vr={width:90,height:20};function Wr(e){return kr(e,"bpmn:Event")||kr(e,"bpmn:Gateway")||kr(e,"bpmn:DataStoreReference")||kr(e,"bpmn:DataObjectReference")||kr(e,"bpmn:DataInput")||kr(e,"bpmn:DataOutput")||kr(e,"bpmn:SequenceFlow")||kr(e,"bpmn:MessageFlow")||kr(e,"bpmn:Group")}function Gr(e){return gn(e.label)}function Kr(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],r=function(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}(e),o=Math.atan((i.y-n.y)/(i.x-n.x)),a=r.x,s=r.y;return Math.abs(o)<Math.PI/2?s-=15:a+=15,{x:a,y:s}}function Zr(e){return e.waypoints?Kr(e.waypoints):kr(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+Vr.height/2}:{x:e.x+e.width/2,y:e.y+e.height+Vr.height/2}}function Yr(e){return kr(e,"bpmn:FlowElement")||kr(e,"bpmn:Participant")||kr(e,"bpmn:Lane")||kr(e,"bpmn:SequenceFlow")||kr(e,"bpmn:MessageFlow")||kr(e,"bpmn:DataInput")||kr(e,"bpmn:DataOutput")?"name":kr(e,"bpmn:TextAnnotation")?"text":kr(e,"bpmn:Group")?"categoryValueRef":void 0}function Xr(e){var t=e.businessObject,n=Yr(t);if(n)return"categoryValueRef"===n?function(e){var t=e.categoryValueRef;return t&&t.value||""}(t):t[n]||""}var Jr="hsl(225, 10%, 15%)";function Qr(e,t){return M(e.eventDefinitions,(function(e){return e.$type===t}))}function eo(e,t,n){var i=jr(e);return n||i.get("color:background-color")||i.get("bioc:fill")||t||"white"}function to(e,t,n){var i=jr(e);return n||i.get("color:border-color")||i.get("bioc:stroke")||t||Jr}function no(e,t,n,i){var r=jr(e).get("label");return i||r&&r.get("color:color")||t||to(e,n)}function io(e,t={}){return{width:ro(e,t),height:oo(e,t)}}function ro(e,t={}){return y(t,"width")?t.width:e.width}function oo(e,t={}){return y(t,"height")?t.height:e.height}var ao=new a;function so(e,t,n,i,r,o,a){st.call(this,t,a);var s=e&&e.defaultFillColor,c=e&&e.defaultStrokeColor,u=e&&e.defaultLabelColor,l=ao.next(),p={};function h(e){return n.computeStyle(e,{strokeLinecap:"round",strokeLinejoin:"round",stroke:Jr,strokeWidth:2,fill:"white"})}function f(e){return n.computeStyle(e,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:Jr,strokeWidth:2})}function m(e,t){var{ref:n={x:0,y:0},scale:i=1,element:o}=t,a=Fe("marker",{id:e,viewBox:"0 0 20 20",refX:n.x,refY:n.y,markerWidth:20*i,markerHeight:20*i,orient:"auto"});Ee(a,o);var s=be("defs",r._svg);s||(s=Fe("defs"),Ee(r._svg,s)),Ee(s,a),p[e]=a}function g(e){return e.replace(/[^0-9a-zA-Z]+/g,"_")}function v(e,t,n){var i=e+"-"+g(t)+"-"+g(n)+"-"+l;return p[i]||function(e,t,n,i){if("sequenceflow-end"===t){var r=Fe("path",{d:"M 1 5 L 11 10 L 1 15 Z",...h({fill:i,stroke:i,strokeWidth:1})});m(e,{element:r,ref:{x:11,y:10},scale:.5})}if("messageflow-start"===t){var o=Fe("circle",{cx:6,cy:6,r:3.5,...h({fill:n,stroke:i,strokeWidth:1,strokeDasharray:[1e4,1]})});m(e,{element:o,ref:{x:6,y:6}})}if("messageflow-end"===t){var a=Fe("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...h({fill:n,stroke:i,strokeWidth:1,strokeDasharray:[1e4,1]})});m(e,{element:a,ref:{x:8.5,y:5}})}if("association-start"===t){var s=Fe("path",{d:"M 11 5 L 1 10 L 11 15",...f({fill:"none",stroke:i,strokeWidth:1.5,strokeDasharray:[1e4,1]})});m(e,{element:s,ref:{x:1,y:10},scale:.5})}if("association-end"===t){var c=Fe("path",{d:"M 1 5 L 11 10 L 1 15",...f({fill:"none",stroke:i,strokeWidth:1.5,strokeDasharray:[1e4,1]})});m(e,{element:c,ref:{x:11,y:10},scale:.5})}if("conditional-flow-marker"===t){var u=Fe("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...h({fill:n,stroke:i})});m(e,{element:u,ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===t){var l=Fe("path",{d:"M 6 4 L 10 16",...h({stroke:i})});m(e,{element:l,ref:{x:0,y:10},scale:.5})}}(i,e,t,n),"url(#"+i+")"}function y(e,t,n,i,r={}){d(i)&&(r=i,i=0),i=i||0,r=h(r);var o=Fe("circle",{cx:t/2,cy:n/2,r:Math.round((t+n)/4-i),...r});return Ee(e,o),o}function b(e,t,n,i,r,o){d(r)&&(o=r,r=0),r=r||0,o=h(o);var a=Fe("rect",{x:r,y:r,width:t-2*r,height:n-2*r,rx:i,ry:i,...o});return Ee(e,a),a}function w(e,t,n,i){var r=ft(t,n=f(n),i);return Ee(e,r),r}function _(e,t,n){return w(e,t,n,5)}function x(e,t,n){n=f(n);var i=Fe("path",{...n,d:t});return Ee(e,i),i}function E(e,t,n,i){return x(t,n,H({"data-marker":e},i))}function S(e){return te[e]}function j(e){return function(t,n,i){return S(e)(t,n,i)}}var M=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.235,my:.315}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:r?eo(t,s,n.fill):to(t,c,n.stroke),strokeWidth:1})},A=function(e,t,n={}){var r=y(e,t.width,t.height,.2*t.height,{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:2});x(e,i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),{stroke:to(t,c,n.stroke),strokeWidth:2});for(var o=0;o<12;o++){var a=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.5}}),u=t.width/2,l=t.height/2;x(e,a,{strokeWidth:1,stroke:to(t,c,n.stroke),transform:"rotate("+30*o+","+l+","+u+")"})}return r},C=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},T=function(e,t,n={}){return x(e,i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.222}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},P=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.57,my:.263}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},R=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.2,my:.722}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},B=function(e,t,n={},r){var o=x(e,i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.638,my:-.055}}),{fill:r?to(t,c,n.stroke):"none",stroke:to(t,c,n.stroke),strokeWidth:1});return ti(o,45),o},O=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.22,my:.5}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},I=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:t.width,containerHeight:t.height,position:{mx:.5,my:.2}}),{strokeWidth:1,fill:r?to(t,c,n.stroke):eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},D=function(e,t,n={},r){return x(e,i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:t.width,containerHeight:t.height,position:{mx:.222,my:.36}}),{fill:r?to(t,c,n.stroke):eo(t,s,n.fill),strokeWidth:1})},F=function(e,t,n={}){return x(e,i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:t.width,containerHeight:t.height,position:{mx:.458,my:.194}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1})},z=function(e,t,n={}){return y(e,t.width,t.height,8,{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:4})};function N(e,t,n={}){var i,r=Sr(e),o="bpmn:IntermediateThrowEvent"===(i=r).$type||"bpmn:EndEvent"===i.$type;return r.get("eventDefinitions")&&r.get("eventDefinitions").length>1?r.get("parallelMultiple")?F(t,e,n,o):D(t,e,n,o):Qr(r,"bpmn:MessageEventDefinition")?M(t,e,n,o):Qr(r,"bpmn:TimerEventDefinition")?A(t,e,n,o):Qr(r,"bpmn:ConditionalEventDefinition")?T(t,e,n,o):Qr(r,"bpmn:SignalEventDefinition")?I(t,e,n,o):Qr(r,"bpmn:EscalationEventDefinition")?C(t,e,n,o):Qr(r,"bpmn:LinkEventDefinition")?P(t,e,n,o):Qr(r,"bpmn:ErrorEventDefinition")?R(t,e,n,o):Qr(r,"bpmn:CancelEventDefinition")?B(t,e,n,o):Qr(r,"bpmn:CompensateEventDefinition")?O(t,e,n,o):Qr(r,"bpmn:TerminateEventDefinition")?z(t,e,n,o):null}var L={ParticipantMultiplicityMarker:function(e,t,n={}){var r=ro(t,n),o=oo(t,n);E("participant-multiplicity",e,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r,containerHeight:o,position:{mx:(r/2-6)/r,my:(o-15)/o}}),{strokeWidth:2,fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},SubProcessMarker:function(e,t,n={}){ei(b(e,14,14,0,{strokeWidth:1,fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)}),t.width/2-7.5,t.height-20),E("sub-process",e,i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2-7.5)/t.width,my:(t.height-20)/t.height}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},ParallelMarker:function(e,t,n){var r=ro(t,n),o=oo(t,n);E("parallel",e,i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:r,containerHeight:o,position:{mx:(r/2+n.parallel)/r,my:(o-20)/o}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},SequentialMarker:function(e,t,n){E("sequential",e,i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.seq)/t.width,my:(t.height-19)/t.height}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},CompensationMarker:function(e,t,n){E("compensation",e,i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:(t.width/2+n.compensation)/t.width,my:(t.height-13)/t.height}}),{strokeWidth:1,fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})},LoopMarker:function(e,t,n){var r=ro(t,n),o=oo(t,n);E("loop",e,i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:r,containerHeight:o,position:{mx:(r/2+n.loop)/r,my:(o-7)/o}}),{strokeWidth:1.5,fill:"none",stroke:to(t,c,n.stroke),strokeMiterlimit:.5})},AdhocMarker:function(e,t,n){var r=ro(t,n),o=oo(t,n);E("adhoc",e,i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:r,containerHeight:o,position:{mx:(r/2+n.adhoc)/r,my:(o-15)/o}}),{strokeWidth:1,fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke)})}};function q(e,t,n,i){L[e](t,n,i)}function U(e,t,n,i={}){i={fill:i.fill,stroke:i.stroke,width:ro(t,i),height:oo(t,i)};var r=Sr(t),o=n&&n.includes("SubProcessMarker");i=o?{...i,seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{...i,seq:-5,parallel:-6,compensation:-27,loop:0,adhoc:10},k(n,(function(n){q(n,e,t,i)})),r.get("isForCompensation")&&q("CompensationMarker",e,t,i),kr(r,"bpmn:AdHocSubProcess")&&q("AdhocMarker",e,t,i);var a=r.get("loopCharacteristics"),s=a&&a.get("isSequential");a&&(void 0===s&&q("LoopMarker",e,t,i),!1===s&&q("ParallelMarker",e,t,i),!0===s&&q("SequentialMarker",e,t,i))}function $(e,t,n={}){n=H({size:{width:100}},n);var i=o.createText(t||"",n);return Ce(i).add("djs-label"),Ee(e,i),i}function V(e,t,n,i={}){var r=Sr(t),o=io({x:t.x,y:t.y,width:t.width,height:t.height},i);return $(e,r.name,{align:n,box:o,padding:7,style:{fill:no(t,u,c,i.stroke)}})}function W(e,t,n,i={}){var r=Hr(n),o=$(e,t,{box:{height:30,width:r?oo(n,i):ro(n,i)},align:"center-middle",style:{fill:no(n,u,c,i.stroke)}});r&&Qn(o,0,-(-1*oo(n,i)),270)}function G(e,t,n={}){var{width:i,height:r}=io(t,n);return b(e,i,r,10,{...n,fill:eo(t,s,n.fill),fillOpacity:.95,stroke:to(t,c,n.stroke)})}function K(e,t,n={}){var i=Sr(t),r=eo(t,s,n.fill),o=to(t,c,n.stroke);return"One"!==i.get("associationDirection")&&"Both"!==i.get("associationDirection")||(n.markerEnd=v("association-end",r,o)),"Both"===i.get("associationDirection")&&(n.markerStart=v("association-start",r,o)),n=co(n,["markerStart","markerEnd"]),_(e,t.waypoints,{...n,stroke:o,strokeDasharray:"0, 5"})}function Z(e,t,n={}){var r=eo(t,s,n.fill),o=to(t,c,n.stroke),a=x(e,i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}}),{fill:r,fillOpacity:.95,stroke:o});(function(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection})(Sr(t))&&x(e,i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:.33,my:(t.height-18)/t.height}}),{strokeWidth:2,fill:r,stroke:o});return a}function Y(e,t,n={}){return y(e,t.width,t.height,{fillOpacity:.95,...n,fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)})}function X(e,t,n={}){return function(e,t,n,i){var r=t/2,o=n/2,a=[{x:r,y:0},{x:t,y:o},{x:r,y:n},{x:0,y:o}].map((function(e){return e.x+","+e.y})).join(" ");i=h(i);var s=Fe("polygon",{...i,points:a});return Ee(e,s),s}(e,t.width,t.height,{fill:eo(t,s,n.fill),fillOpacity:.95,stroke:to(t,c,n.stroke)})}function J(e,t,n={}){var i=b(e,ro(t,n),oo(t,n),0,{fill:eo(t,s,n.fill),fillOpacity:n.fillOpacity||.95,stroke:to(t,c,n.stroke),strokeWidth:1.5}),r=Sr(t);kr(r,"bpmn:Lane")&&W(e,r.get("name"),t,n);return i}function Q(e,t,n={}){var i=G(e,t,n);Ur(t)&&Me(i,{strokeDasharray:"0, 5.5",strokeWidth:2.5});var r=qr(t);return V(e,t,r?"center-top":"center-middle",n),U(e,t,r?void 0:["SubProcessMarker"],n),i}function ee(e,t,n={}){var i=G(e,t,n);return V(e,t,"center-middle",n),U(e,t,void 0,n),i}var te=this.handlers={"bpmn:AdHocSubProcess":function(e,t,n={}){return Q(e,t,n=qr(t)?co(n,["fill","stroke","width","height"]):co(n,["fill","stroke"]))},"bpmn:Association":function(e,t,n={}){return K(e,t,n=co(n,["fill","stroke"]))},"bpmn:BoundaryEvent":function(e,t,n={}){var{renderIcon:i=!0}=n;n=co(n,["fill","stroke"]);var r=Sr(t).get("cancelActivity");n={strokeWidth:1.5,fill:eo(t,s,n.fill),fillOpacity:1,stroke:to(t,c,n.stroke)},r||(n.strokeDasharray="6");var o=Y(e,t,n);return y(e,t.width,t.height,3,{...n,fill:"none"}),i&&N(t,e,n),o},"bpmn:BusinessRuleTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return Me(x(e,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}})),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),Me(x(e,i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}})),{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:CallActivity":function(e,t,n={}){return n=co(n,["fill","stroke"]),Q(e,t,{strokeWidth:5,...n})},"bpmn:ComplexGateway":function(e,t,n={}){var r=X(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.26}}),{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:DataInput":function(e,t,n={}){n=co(n,["fill","stroke"]);var r=i.getRawPath("DATA_ARROW"),o=Z(e,t,n);return x(e,r,{fill:"none",stroke:to(t,c,n.stroke),strokeWidth:1}),o},"bpmn:DataInputAssociation":function(e,t,n={}){return n=co(n,["fill","stroke"]),K(e,t,{...n,markerEnd:v("association-end",eo(t,s,n.fill),to(t,c,n.stroke))})},"bpmn:DataObject":function(e,t,n={}){return Z(e,t,n=co(n,["fill","stroke"]))},"bpmn:DataObjectReference":j("bpmn:DataObject"),"bpmn:DataOutput":function(e,t,n={}){n=co(n,["fill","stroke"]);var r=i.getRawPath("DATA_ARROW"),o=Z(e,t,n);return x(e,r,{strokeWidth:1,fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke)}),o},"bpmn:DataOutputAssociation":function(e,t,n={}){return n=co(n,["fill","stroke"]),K(e,t,{...n,markerEnd:v("association-end",eo(t,s,n.fill),to(t,c,n.stroke))})},"bpmn:DataStoreReference":function(e,t,n={}){return n=co(n,["fill","stroke"]),x(e,i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.133}}),{fill:eo(t,s,n.fill),fillOpacity:.95,stroke:to(t,c,n.stroke),strokeWidth:2})},"bpmn:EndEvent":function(e,t,n={}){var{renderIcon:i=!0}=n;n=co(n,["fill","stroke"]);var r=Y(e,t,{...n,strokeWidth:4});return i&&N(t,e,n),r},"bpmn:EventBasedGateway":function(e,t,n={}){n=co(n,["fill","stroke"]);var r=Sr(t),o=X(e,t,n);y(e,t.width,t.height,.2*t.height,{fill:eo(t,"none",n.fill),stroke:to(t,c,n.stroke),strokeWidth:1});var a=r.get("eventGatewayType"),s=!!r.get("instantiate");if("Parallel"===a){var u=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.474,my:.296}});x(e,u,{fill:"none",stroke:to(t,c,n.stroke),strokeWidth:1})}else"Exclusive"===a&&(s||y(e,t.width,t.height,.26*t.height,{fill:"none",stroke:to(t,c,n.stroke),strokeWidth:1}),function(){var r=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:t.width,containerHeight:t.height,position:{mx:.36,my:.44}});x(e,r,{fill:"none",stroke:to(t,c,n.stroke),strokeWidth:2})}());return o},"bpmn:ExclusiveGateway":function(e,t,n={}){var r=X(e,t,n=co(n,["fill","stroke"])),o=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:t.width,containerHeight:t.height,position:{mx:.32,my:.3}});return jr(t).get("isMarkerVisible")&&x(e,o,{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:Gateway":function(e,t,n={}){return X(e,t,n=co(n,["fill","stroke"]))},"bpmn:Group":function(e,t,n={}){return n=co(n,["fill","stroke","width","height"]),b(e,t.width,t.height,10,{stroke:to(t,c,n.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:ro(t,n),height:oo(t,n)})},"bpmn:InclusiveGateway":function(e,t,n={}){var i=X(e,t,n=co(n,["fill","stroke"]));return y(e,t.width,t.height,.24*t.height,{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:2.5}),i},"bpmn:IntermediateEvent":function(e,t,n={}){var{renderIcon:i=!0}=n;n=co(n,["fill","stroke"]);var r=Y(e,t,{...n,strokeWidth:1.5});return y(e,t.width,t.height,3,{fill:"none",stroke:to(t,c,n.stroke),strokeWidth:1.5}),i&&N(t,e,n),r},"bpmn:IntermediateCatchEvent":j("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":j("bpmn:IntermediateEvent"),"bpmn:Lane":function(e,t,n={}){return n=co(n,["fill","stroke","width","height"]),J(e,t,{...n,fillOpacity:.25})},"bpmn:ManualTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:.5}),r},"bpmn:MessageFlow":function(e,t,n={}){n=co(n,["fill","stroke"]);var r=Sr(t),o=jr(t),a=eo(t,s,n.fill),u=to(t,c,n.stroke),l=_(e,t.waypoints,{markerEnd:v("messageflow-end",a,u),markerStart:v("messageflow-start",a,u),stroke:u,strokeDasharray:"10, 11",strokeWidth:1.5});if(r.get("messageRef")){var p=l.getPointAtLength(l.getTotalLength()/2),h=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:p.x,y:p.y}}),f={strokeWidth:1};"initiating"===o.get("messageVisibleKind")?(f.fill=a,f.stroke=u):(f.fill=u,f.stroke=a);var d=x(e,h,f),m=$(e,r.get("messageRef").get("name"),{align:"center-top",fitBox:!0,style:{fill:u}}),g=d.getBBox(),y=m.getBBox();Qn(m,p.x-y.width/2,p.y+g.height/2+10,0)}return l},"bpmn:ParallelGateway":function(e,t,n={}){var r=X(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:t.width,containerHeight:t.height,position:{mx:.46,my:.2}}),{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:Participant":function(e,t,n={}){var i=J(e,t,n=co(n,["fill","stroke","width","height"])),r=qr(t),o=Hr(t),a=Sr(t),s=a.get("name");if(r){w(e,o?[{x:30,y:0},{x:30,y:oo(t,n)}]:[{x:0,y:30},{x:ro(t,n),y:30}],{stroke:to(t,c,n.stroke),strokeWidth:1.5}),W(e,s,t,n)}else{var l=io(t,n);o||(l.height=ro(t,n),l.width=oo(t,n));var p=$(e,s,{box:l,align:"center-middle",style:{fill:no(t,u,c,n.stroke)}});if(!o)Qn(p,0,-(-1*oo(t,n)),270)}return a.get("participantMultiplicity")&&q("ParticipantMultiplicityMarker",e,t,n),i},"bpmn:ReceiveTask":function(e,t,n={}){n=co(n,["fill","stroke"]);var r,o=Sr(t),a=ee(e,t,n);return o.get("instantiate")?(y(e,28,28,4.4,{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),r=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):r=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),x(e,r,{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),a},"bpmn:ScriptTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:SendTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}}),{fill:to(t,c,n.stroke),stroke:eo(t,s,n.fill),strokeWidth:1}),r},"bpmn:SequenceFlow":function(e,t,n={}){n=co(n,["fill","stroke"]);var i=eo(t,s,n.fill),r=to(t,c,n.stroke),o=_(e,t.waypoints,{markerEnd:v("sequenceflow-end",i,r),stroke:r}),a=Sr(t),{source:u}=t;if(u){var l=Sr(u);a.get("conditionExpression")&&kr(l,"bpmn:Activity")&&Me(o,{markerStart:v("conditional-flow-marker",i,r)}),l.get("default")&&(kr(l,"bpmn:Gateway")||kr(l,"bpmn:Activity"))&&l.get("default")===a&&Me(o,{markerStart:v("conditional-default-flow-marker",i,r)})}return o},"bpmn:ServiceTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return y(e,10,10,{fill:eo(t,s,n.fill),stroke:"none",transform:"translate(6, 6)"}),x(e,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),y(e,10,10,{fill:eo(t,s,n.fill),stroke:"none",transform:"translate(11, 10)"}),x(e,i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:1}),r},"bpmn:StartEvent":function(e,t,n={}){var{renderIcon:i=!0}=n;n=co(n,["fill","stroke"]),Sr(t).get("isInterrupting")||(n={...n,strokeDasharray:"6"});var r=Y(e,t,n);return i&&N(t,e,n),r},"bpmn:SubProcess":function(e,t,n={}){return Q(e,t,n=qr(t)?co(n,["fill","stroke","width","height"]):co(n,["fill","stroke"]))},"bpmn:Task":function(e,t,n={}){return ee(e,t,n=co(n,["fill","stroke"]))},"bpmn:TextAnnotation":function(e,t,n={}){n=co(n,["fill","stroke","width","height"]);var{width:r,height:o}=io(t,n),a=b(e,r,o,0,0,{fill:"none",stroke:"none"});return x(e,i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:r,containerHeight:o,position:{mx:0,my:0}}),{stroke:to(t,c,n.stroke)}),$(e,Sr(t).get("text")||"",{align:"left-top",box:io(t,n),padding:7,style:{fill:no(t,u,c,n.stroke)}}),a},"bpmn:Transaction":function(e,t,i={}){i=qr(t)?co(i,["fill","stroke","width","height"]):co(i,["fill","stroke"]);var r=Q(e,t,{strokeWidth:1.5,...i}),o=n.style(["no-fill","no-events"],{stroke:to(t,c,i.stroke),strokeWidth:1.5});return qr(t)||(i={}),b(e,ro(t,i),oo(t,i),7,3,o),r},"bpmn:UserTask":function(e,t,n={}){var r=ee(e,t,n=co(n,["fill","stroke"]));return x(e,i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:15,y:12}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:.5}),x(e,i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:15,y:12}}),{fill:eo(t,s,n.fill),stroke:to(t,c,n.stroke),strokeWidth:.5}),x(e,i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:15,y:12}}),{fill:to(t,c,n.stroke),stroke:to(t,c,n.stroke),strokeWidth:.5}),r},label:function(e,t,n={}){return function(e,t,n={}){var i={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return $(e,Xr(t),{box:i,fitBox:!0,style:H({},o.getExternalStyle(),{fill:no(t,u,c,n.stroke)})})}(e,t,n)}};this._drawPath=x,this._renderer=S}function co(e,t=[]){return t.reduce((t,n)=>(e[n]&&(t[n]=e[n]),t),{})}i(so,st),so.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],so.prototype.canRender=function(e){return kr(e,"bpmn:BaseElement")},so.prototype.drawShape=function(e,t,n={}){var{type:i}=t;return this._renderer(i)(e,t,n)},so.prototype.drawConnection=function(e,t,n={}){var{type:i}=t;return this._renderer(i)(e,t,n)},so.prototype.getShapePath=function(e){return kr(e,"bpmn:Event")?(n=(t=e).x+t.width/2,i=t.y+t.height/2,r=t.width/2,ct([["M",n,i],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]])):kr(e,"bpmn:Activity")?function(e,t){var n=e.x,i=e.y,r=e.width,o=e.height;return ct([["M",n+t,i],["l",r-2*t,0],["a",t,t,0,0,1,t,t],["l",0,o-2*t],["a",t,t,0,0,1,-t,t],["l",2*t-r,0],["a",t,t,0,0,1,-t,-t],["l",0,2*t-o],["a",t,t,0,0,1,t,-t],["z"]])}(e,10):kr(e,"bpmn:Gateway")?function(e){var t=e.width/2,n=e.height/2;return ct([["M",e.x+t,e.y],["l",t,n],["l",-t,n],["l",-t,-n],["z"]])}(e):function(e){var t=e.x,n=e.y,i=e.width;return ct([["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]])}(e);var t,n,i,r};var uo={width:150,height:50};function lo(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function po(e,t,n){for(var i,r=e.shift(),o=r;;){if((i=lo(o,n)).width=o?i.width:0," "===o||""===o||i.width<Math.round(t)||o.length<2)return ho(e,o,r,i);o=fo(o,i.width,t)}}function ho(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function fo(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),r=[],o=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+o<t)){"-"!==n&&"­"!==n||r.pop();break}r.push(n),o+=n.length}var a=r[r.length-1];return a&&"­"===a&&(r[r.length-1]="-"),r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function mo(e){this._config=H({},{size:uo,padding:0,style:{},align:"center-top"},e||{})}mo.prototype.createText=function(e,t){return this.layoutText(e,t).element},mo.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},mo.prototype.layoutText=function(e,t){var n=H({},this._config.size,t.box),i=H({},this._config.style,t.style),r=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return d(e)?H({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(i),c=e.split(/\u00AD?\r?\n/),u=[],l=n.width-o.left-o.right,p=Fe("text");for(Me(p,{x:0,y:0}),Me(p,i),Ee(function(){var e=document.getElementById("helper-svg");return e||(Me(e=Fe("svg"),{id:"helper-svg"}),J(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}(),p);c.length;)u.push(po(c,l,p));"middle"===r.vertical&&(o.top=o.bottom=0);var h=S(u,(function(e,t,n){return e+(s||t.height)}),0)+o.top+o.bottom,f=S(u,(function(e,t,n){return t.width>e?t.width:e}),0),m=o.top;"middle"===r.vertical&&(m+=(n.height-h)/2),m-=(s||u[0].height)/4;var g=Fe("text");return Me(g,i),k(u,(function(e){var t;switch(m+=s||e.height,r.horizontal){case"left":t=o.left;break;case"right":t=(a?f:l)-o.right-e.width;break;default:t=Math.max(((a?f:l)-e.width)/2+o.left,0)}var n=Fe("tspan");Me(n,{x:t,y:m}),n.textContent=e.text,Ee(g,n)})),Pe(p),{dimensions:{width:f,height:h},element:g}};function go(e){var t=H({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=H({},t,{fontSize:n},e&&e.externalStyle||{}),r=new mo({style:t});this.getExternalLabelBounds=function(e,t){var n=r.getDimensions(t,{box:{width:90,height:30},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,n){var i=r.getDimensions(n,{box:e,style:t,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(30,Math.round(i.height))}},this.createText=function(e,t){return r.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}go.$inject=["config.textRenderer"];var vo=/\{([^{}]+)\}/g,yo=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;var bo={__init__:["bpmnRenderer"],bpmnRenderer:["type",so],textRenderer:["type",go],pathMap:["type",function(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,i,r=this.pathMap[e];t.abspos?(n=t.abspos.x,i=t.abspos.y):(n=t.containerWidth*t.position.mx,i=t.containerHeight*t.position.my);var o,a,s={};if(t.position){for(var c=t.containerHeight/r.height*t.yScaleFactor,u=t.containerWidth/r.width*t.xScaleFactor,l=0;l<r.heightElements.length;l++)s["y"+l]=r.heightElements[l]*c;for(var p=0;p<r.widthElements.length;p++)s["x"+p]=r.widthElements[p]*u}return o=r.d,a={mx:n,my:i,e:s},String(o).replace(vo,(function(e,t){return function(e,t,n){var i=n;return t.replace(yo,(function(e,t,n,r,o){t=t||r,i&&(t in i&&(i=i[t]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?e:i)+""}(e,t,a)}))}}]};var wo={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]};function _o(e,t,n){return H({id:e.id,type:e.$type,businessObject:e,di:t},n)}function xo(e,t,n){var i=e.waypoint;return!i||i.length<2?[xn(t),xn(n)]:i.map((function(e){return{x:e.x,y:e.y}}))}function ko(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:br(n),referenced:br(t),property:i}))}function Eo(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r,this._textRenderer=o}Eo.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Eo.prototype.add=function(e,t,n){var i,r,o,a,s,c,u,l=this._translate;if(kr(t,"bpmndi:BPMNPlane")){var p=kr(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};i=this._elementFactory.createRoot(_o(e,t,p)),this._canvas.addRootElement(i)}else if(kr(t,"bpmndi:BPMNShape")){var h=!qr(e,t),f=function(e){return kr(e,"bpmn:Group")}(e);r=n&&(n.hidden||n.collapsed);var d=t.bounds;i=this._elementFactory.createShape(_o(e,t,{collapsed:h,hidden:r,x:Math.round(d.x),y:Math.round(d.y),width:Math.round(d.width),height:Math.round(d.height),isFrame:f})),kr(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,i),kr(e,"bpmn:Lane")&&(o=0),kr(e,"bpmn:DataStoreReference")&&(a=n,s=xn(d),c=s.x,u=s.y,c>=a.x&&c<=a.x+a.width&&u>=a.y&&u<=a.y+a.height||(n=this._canvas.findRoot(n))),this._canvas.addShape(i,n,o)}else{if(!kr(t,"bpmndi:BPMNEdge"))throw new Error(l("unknown di {di} for element {semantic}",{di:br(t),semantic:br(e)}));var m=this._getSource(e),g=this._getTarget(e);r=n&&(n.hidden||n.collapsed),i=this._elementFactory.createConnection(_o(e,t,{hidden:r,source:m,target:g,waypoints:xo(t,m,g)})),kr(e,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),this._canvas.addConnection(i,n,o)}return Wr(e)&&Xr(i)&&this.addLabel(e,t,i),this._eventBus.fire("bpmnElement.added",{element:i}),i},Eo.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:br(e)}));var r=this._elementRegistry.get(i.id),o=r&&r.attachers;if(!r)throw ko(n,e,i,"attachedToRef");t.host=r,o||(r.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Eo.prototype.addLabel=function(e,t,n){var i,r,o;return i=function(e,t){var n,i,r,o=e.label;return o&&o.bounds?(r=o.bounds,i={width:Math.max(Vr.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Zr(t),i=Vr),H({x:n.x-i.width/2,y:n.y-i.height/2},i)}(t,n),(r=Xr(n))&&(i=this._textRenderer.getExternalLabelBounds(i,r)),o=this._elementFactory.createLabel(_o(e,t,{id:e.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!Xr(n),x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),this._canvas.addShape(o,n.parent)},Eo.prototype._getConnectedElement=function(e,t){var n,i,r=e.$type,o=this._translate;if(i=e[t+"Ref"],"source"===t&&"bpmn:DataInputAssociation"===r&&(i=i&&i[0]),("source"===t&&"bpmn:DataOutputAssociation"===r||"target"===t&&"bpmn:DataInputAssociation"===r)&&(i=e.$parent),n=i&&this._getElement(i))return n;throw i?ko(o,e,i,t+"Ref"):new Error(o("{semantic}#{side} Ref not specified",{semantic:br(e),side:t}))},Eo.prototype._getSource=function(e){return this._getConnectedElement(e,"source")},Eo.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")},Eo.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var So={__depends__:[bo,{__depends__:[wo],bpmnImporter:["type",Eo]}]};function jo(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function Mo(e){return e.originalEvent||e.srcEvent}function Ao(e){jo(e),jo(Mo(e))}function Co(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function To(){return/mac/i.test(navigator.platform)}function Po(e,t){return(Mo(e)||e).button===t}function Ro(e){return Po(e,0)}function Bo(e){var t=Mo(e)||e;return!!Ro(e)&&(To()?t.metaKey:t.ctrlKey)}function Oo(e){var t=Mo(e)||e;return Ro(e)&&t.shiftKey}function Io(e){return!0}function Do(e){return Ro(e)||function(e){return Po(e,1)}(e)}function Fo(e,t,n){var i=this;function r(n,i,r){var o,a;(function(e,t){return!(c[e]||Ro)(t)})(n,i)||(r?a=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(a=o,r=t.get(a)),a&&r&&!1===e.fire(n,{element:r,gfx:a,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var o={};function a(e){return o[e]}var s={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":Io,"element.mousedown":Do,"element.mouseup":Do,"element.click":Do,"element.dblclick":Do};function u(e,t,n,i){var a=o[n]=function(e){r(n,e)};i&&(c[n]=i),a.$delegate=de.bind(e,"svg, .djs-element",t,a)}function l(e,t,n){var i=a(n);i&&de.unbind(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,k(s,(function(e,n){l(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,k(s,(function(e,n){u(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:i})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:i})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;i.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;i.updateDefaultHit(t,n)}));var p=d("djs-hit djs-hit-stroke"),h=d("djs-hit djs-hit-click-stroke"),f={all:d("djs-hit djs-hit-all"),"click-stroke":h,stroke:p,"no-move":d("djs-hit djs-hit-no-move")};function d(e,t){return t=H({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function m(e,t){var n=f[t];if(!n)throw new Error("invalid hit type <"+t+">");return Me(e,n),e}function g(e,t){Ee(e,t)}this.removeHits=function(e){k(we(".djs-hit",e),Pe)},this.createDefaultHit=function(e,t){var n,i=e.waypoints,r=e.isFrame;return i?this.createWaypointsHit(t,i):(n=r?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=ft(t);return m(n,"stroke"),g(e,n),n},this.createBoxHit=function(e,t,n){n=H({x:0,y:0},n);var i=Fe("rect");return m(i,t),Me(i,n),g(e,i),i},this.updateDefaultHit=function(e,t){var n=be(".djs-hit",t);if(n)return e.waypoints?dt(n,e.waypoints):Me(n,{width:e.width,height:e.height}),n},this.fire=r,this.triggerMouseEvent=function(e,t,n){var i=s[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return r(i,t,n)},this.mouseHandler=a,this.registerEvent=u,this.unregisterEvent=l}Fo.$inject=["eventBus","elementRegistry","styles"];var zo={__init__:["interactionEvents"],interactionEvents:["type",Fo]};function No(e,t){this._eventBus=e,this.offset=5;var n=t.cls("djs-outline",["no-fill"]),i=this;function r(e){var t=Fe("rect");return Me(t,H({x:0,y:0,rx:4,width:100,height:100},n)),t}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,o=be(".djs-outline",n);o||Ee(n,o=i.getOutline(t)||r()),i.updateShapeOutline(o,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,o=be(".djs-outline",n);o||Ee(n,o=r()),i.updateConnectionOutline(o,t)}))}No.prototype.updateShapeOutline=function(e,t){var n=!1,i=this._getProviders();i.length&&k(i,(function(i){n=n||i.updateOutline(t,e)})),n||Me(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},No.prototype.updateConnectionOutline=function(e,t){var n=wt(t);Me(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},No.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("outline.getProviders",e,(function(e){e.providers.push(t)}))},No.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},No.prototype.getOutline=function(e){var t;return k(this._getProviders(),(function(n){g(n.getOutline)&&(t=t||n.getOutline(e))})),t},No.$inject=["eventBus","styles","elementRegistry"];var Lo={__init__:["outline"],outline:["type",No]};function qo(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],(function(e){var t=e.element;n.deselect(t)})),e.on(["diagram.clear","root.set"],(function(e){n.select(null)}))}qo.$inject=["eventBus","canvas"],qo.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},qo.prototype.get=function(){return this._selectedElements},qo.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},qo.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();f(e)||(e=e?[e]:[]);var r=this._canvas,o=r.getRootElement();e=e.filter((function(e){var t=r.findRoot(e);return o===t})),t?k(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};function Ho(e,t,n){this._canvas=e;var i=this;function r(t,n){e.addMarker(t,n)}function o(t,n){e.removeMarker(t,n)}this._multiSelectionBox=null,t.on("element.hover",(function(e){r(e.element,"hover")})),t.on("element.out",(function(e){o(e.element,"hover")})),t.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;k(t,(function(e){-1===n.indexOf(e)&&o(e,"selected")})),k(n,(function(e){-1===t.indexOf(e)&&r(e,"selected")})),i._updateSelectionOutline(n)})),t.on("element.changed",(function(e){n.isSelected(e.element)&&i._updateSelectionOutline(n.get())}))}function Uo(e,t,n,i){e.on("create.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.elements,o=(n.hints||{}).autoSelect;if(i){if(!1===o)return;f(o)?t.select(o):t.select(r.filter($o))}})),e.on("connect.end",500,(function(e){var n=e.context.connection;n&&t.select(n)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],r=i.get(e.context.shape.id);b(n,(function(e){return r.id===e.id}))||t.select(r)})),e.on("element.click",(function(e){if(Ro(e)){var i=e.element;i===n.getRootElement()&&(i=null);var r=t.isSelected(i),o=t.get().length>1,a=Oo(e);if(r&&o)return a?t.deselect(i):t.select(i);r?t.deselect(i):t.select(i,a)}}))}function $o(e){return!e.hidden}Ho.$inject=["canvas","eventBus","selection"],Ho.prototype._updateSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");Re(t);var n=e.length>1;if(Ce(this._canvas.getContainer())[n?"add":"remove"]("djs-multi-select"),n){var i=function(e){return{x:e.x-6,y:e.y-6,width:e.width+12,height:e.height+12}}(wt(e)),r=Fe("rect");Me(r,H({rx:3},i)),Ce(r).add("djs-selection-outline"),Ee(t,r)}},Uo.$inject=["eventBus","selection","canvas","elementRegistry"];var Vo={__init__:["selectionVisuals","selectionBehavior"],__depends__:[zo,Lo],selection:["type",qo],selectionVisuals:["type",Ho],selectionBehavior:["type",Uo]};function Wo(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Wo.prototype.next=function(){return this._prefix+ ++this._counter};var Go=new Wo("ov");function Ko(e,t,n,i){var r,o;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=Go,this._overlayDefaults=H({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(r=n.getContainer(),J(o=ye('<div class="djs-overlay-container" />'),{position:"absolute",width:0,height:0}),r.insertBefore(o,r.firstChild),o),this._init()}function Zo(e,t,n){J(e,{left:t+"px",top:n+"px"})}function Yo(e,t){e.style.display=!1===t?"none":""}function Xo(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}Ko.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Ko.prototype.get=function(e){if(v(e)&&(e={id:e}),v(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?x(t.overlays,I({type:e.type})):t.overlays.slice():[]}return e.type?x(this._overlays,I({type:e.type})):e.id?this._overlays[e.id]:null},Ko.prototype.add=function(e,t,n){if(d(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=H({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},Ko.prototype.remove=function(e){var t=this.get(e)||[];f(t)||(t=[t]);var n=this;k(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(_e(e.html),_e(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},Ko.prototype.isShown=function(){return"none"!==this._overlayRoot.style.display},Ko.prototype.show=function(){Yo(this._overlayRoot)},Ko.prototype.hide=function(){Yo(this._overlayRoot,!1)},Ko.prototype.clear=function(){this._overlays={},this._overlayContainers=[],ie(this._overlayRoot)},Ko.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var o=wt(t);i=o.x,r=o.y}Zo(n,i,r),Q(e.html,"data-container-id",t.id)},Ko.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,o=e.element,a=i.left,s=i.top;void 0!==i.right&&(t=o.waypoints?wt(o).width:o.width,a=-1*i.right+t);void 0!==i.bottom&&(n=o.waypoints?wt(o).height:o.height,s=-1*i.bottom+n);Zo(r,a||0,s||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())},Ko.prototype._createOverlayContainer=function(e){var t=ye('<div class="djs-overlays" />');J(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},Ko.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";Xo(this._overlayRoot,n)},Ko.prototype._getOverlayContainer=function(e,t){var n=b(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},Ko.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),v(o)&&(o=ye(o)),n=this._getOverlayContainer(r),J(t=ye('<div class="djs-overlay" data-overlay-id="'+i+'">'),{position:"absolute"}),t.appendChild(o),e.type&&te(t).add("djs-overlay-"+e.type),Yo(t,this._canvas.findRoot(r)===this._canvas.getRootElement()),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},Ko.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=this._canvas.findRoot(e.element),r=n&&n.minZoom,o=n&&n.maxZoom,a=e.htmlContainer,s=!0;(i!==this._canvas.getRootElement()||n&&(p(r)&&r>t.scale||p(o)&&o<t.scale))&&(s=!1),Yo(a,s),this._updateOverlayScale(e,t)},Ko.prototype._updateOverlayScale=function(e,t){var n,i,r,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),p(n)&&t.scale<n&&(r=(1/t.scale||1)*n),p(i)&&t.scale>i&&(r=(1/t.scale||1)*i)),p(r)&&(s="scale("+r+","+r+")"),Xo(a,s)},Ko.prototype._updateOverlaysVisibilty=function(e){var t=this;k(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},Ko.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;k(t.get({element:n}),(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){_e(i.html);var r=t._overlayContainers.indexOf(i);-1!==r&&t._overlayContainers.splice(r,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&(k(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&te(n.html)[e.add?"add":"remove"](e.marker)})),e.on("root.set",(function(){t._updateOverlaysVisibilty(t._canvas.viewbox())})),e.on("diagram.clear",this.clear,this)};var Jo={__init__:["overlays"],overlays:["type",Ko]};function Qo(e,t,n,i){e.on("element.changed",(function(i){var r=i.element;(r.parent||r===t.getRootElement())&&(i.gfx=n.getGraphics(r)),i.gfx&&e.fire(_t(r)+".changed",i)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),i.updateContainments(n)})),e.on("shape.changed",(function(e){i.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){i.update("connection",e.element,e.gfx)}))}Qo.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var ea={__init__:["changeSupport"],changeSupport:["type",Qo]};function ta(e){this._eventBus=e}function na(e){return function(t,n,i,r,o){(g(t)||m(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}}function ia(e,t){t.invoke(ta,this),this.executed((function(t){var n=t.context;n.rootElement?e.setRootElement(n.rootElement):n.rootElement=e.getRootElement()})),this.revert((function(t){var n=t.context;n.rootElement&&e.setRootElement(n.rootElement)}))}ta.$inject=["eventBus"],ta.prototype.on=function(e,t,n,i,r,o){if((g(t)||m(t))&&(o=r,r=i,i=n,n=t,t=null),g(n)&&(o=r,r=i,i=n,n=1e3),d(r)&&(o=r,r=!1),!g(i))throw new Error("handlerFn must be a function");f(e)||(e=[e]);var a=this._eventBus;k(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,r?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,o):i,o)}))},ta.prototype.canExecute=na("canExecute"),ta.prototype.preExecute=na("preExecute"),ta.prototype.preExecuted=na("preExecuted"),ta.prototype.execute=na("execute"),ta.prototype.executed=na("executed"),ta.prototype.postExecute=na("postExecute"),ta.prototype.postExecuted=na("postExecuted"),ta.prototype.revert=na("revert"),ta.prototype.reverted=na("reverted"),i(ia,ta),ia.$inject=["canvas","injector"];var ra={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",ia]};function oa(e){return CSS.escape(e)}var aa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function sa(e){return(e=""+e)&&e.replace(/[&<>"']/g,(function(e){return aa[e]}))}function ca(e){return function(e){return e.replace(new RegExp("_plane$"),"")}(e.id)}function ua(e){var t=e.id;return kr(e,"bpmn:SubProcess")?ha(t):t}function la(e){return ha(e)}function pa(e){return kr(jr(e),"bpmndi:BPMNPlane")}function ha(e){return e+"_plane"}function fa(e,t,n){var i=ye('<ul class="bjs-breadcrumbs"></ul>'),r=n.getContainer(),o=te(r);r.appendChild(i);var a=[];function s(e){e&&(a=function(e){for(var t=Sr(e),n=[],i=t;i;i=i.$parent)(kr(i,"bpmn:SubProcess")||kr(i,"bpmn:Process"))&&n.push(i);return n.reverse()}(e));var r=a.map((function(e){var i=sa(e.name||e.id),r=ye('<li><span class="bjs-crumb"><a title="'+i+'">'+i+"</a></span></li>"),o=n.findRoot(ua(e))||n.findRoot(e.id);if(!o&&kr(e,"bpmn:Process")){var a=t.find((function(t){var n=Sr(t);return n&&n.get("processRef")&&n.get("processRef")===e}));o=n.findRoot(a.id)}return r.addEventListener("click",(function(){n.setRootElement(o)})),r}));i.innerHTML="";var s=r.length>1;o.toggle("bjs-breadcrumbs-shown",s),r.forEach((function(e){i.appendChild(e)}))}e.on("element.changed",(function(e){var t=Sr(e.element);b(a,(function(e){return e===t}))&&s()})),e.on("root.set",(function(e){s(e.element)}))}function da(e,t){var n=null,i=new ma;e.on("root.set",(function(e){var r=e.element,o=t.viewbox(),a=i.get(r);if(i.set(n,{x:o.x,y:o.y,zoom:o.scale}),n=r,!kr(r,"bpmn:Collaboration")||a){a=a||{x:0,y:0,zoom:1};var s=(o.x-a.x)*o.scale,c=(o.y-a.y)*o.scale;0===s&&0===c||t.scroll({dx:s,dy:c}),a.zoom!==o.scale&&t.zoom(a.zoom,{x:0,y:0})}})),e.on("diagram.clear",(function(){i.clear(),n=null}))}function ma(){this._entries=[],this.set=function(e,t){var n=!1;for(var i in this._entries)if(this._entries[i][0]===e){this._entries[i][1]=t,n=!0;break}n||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var n in this._entries)if(this._entries[n][0]===e){t=n;break}-1!==t&&this._entries.splice(t,1)}}fa.$inject=["eventBus","elementRegistry","canvas"],da.$inject=["eventBus","canvas"];var ga=180,va=160;function ya(e,t){this._eventBus=e,this._moddle=t;var n=this;e.on("import.render.start",1500,(function(e,t){n._handleImport(t.definitions)}))}ya.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach((function(e){e.plane&&e.plane.bpmnElement&&(t._processToDiagramMap[e.plane.bpmnElement.id]=e)}));var n=[];e.diagrams.forEach((function(e){var i=t._createNewDiagrams(e.plane);Array.prototype.push.apply(n,i)})),n.forEach((function(e){t._movePlaneElementsToOrigin(e.plane)}))}},ya.prototype._createNewDiagrams=function(e){var t=this,n=[],i=[];e.get("planeElement").forEach((function(t){var r=t.bpmnElement;if(r){var o=r.$parent;kr(r,"bpmn:SubProcess")&&!t.isExpanded&&n.push(r),function(e,t){var n=e.$parent;if(!kr(n,"bpmn:SubProcess")||n===t.bpmnElement)return!1;if(Er(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))return!1;return!0}(r,e)&&i.push({diElement:t,parent:o})}}));var r=[];return n.forEach((function(e){if(!t._processToDiagramMap[e.id]){var n=t._createDiagram(e);t._processToDiagramMap[e.id]=n,r.push(n)}})),i.forEach((function(e){for(var i=e.diElement,r=e.parent;r&&-1===n.indexOf(r);)r=r.$parent;if(r){var o=t._processToDiagramMap[r.id];t._moveToDiPlane(i,o.plane)}})),r},ya.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),n=function(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach((function(e){if(e.bounds){var n=bn(e.bounds);t.top=Math.min(n.top,t.top),t.left=Math.min(n.left,t.left)}})),wn(t)}(e),i=n.x-ga,r=n.y-va;t.forEach((function(e){e.waypoint?e.waypoint.forEach((function(e){e.x=e.x-i,e.y=e.y-r})):e.bounds&&(e.bounds.x=e.bounds.x-i,e.bounds.y=e.bounds.y-r)}))},ya.prototype._moveToDiPlane=function(e,t){var n=function e(t){return kr(t,"bpmndi:BPMNDiagram")?t:e(t.$parent)}(e).plane.get("planeElement");n.splice(n.indexOf(e),1),t.get("planeElement").push(e)},ya.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=n,t.bpmnElement=e,n.$parent=this._definitions,this._definitions.diagrams.push(n),n},ya.$inject=["eventBus","moddle"];function ba(e,t,n,i){ta.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=n,this._overlays=i;var r=this;this.executed("shape.toggleCollapse",250,(function(e){var t=e.shape;r._canDrillDown(t)?r._addOverlay(t):r._removeOverlay(t)}),!0),this.reverted("shape.toggleCollapse",250,(function(e){var t=e.shape;r._canDrillDown(t)?r._addOverlay(t):r._removeOverlay(t)}),!0),this.executed(["shape.create","shape.move","shape.delete"],250,(function(e){var t=e.oldParent,n=e.newParent||e.parent,i=e.shape;r._canDrillDown(i)&&r._addOverlay(i),r._updateDrilldownOverlay(t),r._updateDrilldownOverlay(n),r._updateDrilldownOverlay(i)}),!0),this.reverted(["shape.create","shape.move","shape.delete"],250,(function(e){var t=e.oldParent,n=e.newParent||e.parent,i=e.shape;r._canDrillDown(i)&&r._addOverlay(i),r._updateDrilldownOverlay(t),r._updateDrilldownOverlay(n),r._updateDrilldownOverlay(i)}),!0),t.on("import.render.complete",(function(){n.filter((function(e){return r._canDrillDown(e)})).map((function(e){r._addOverlay(e)}))}))}i(ba,ta),ba.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var n=t.findRoot(e);n&&this._updateOverlayVisibility(n)}},ba.prototype._canDrillDown=function(e){var t=this._canvas;return kr(e,"bpmn:SubProcess")&&t.findRoot(ua(e))},ba.prototype._updateOverlayVisibility=function(e){var t=this._overlays,n=Sr(e),i=t.get({element:n.id,type:"drilldown"})[0];if(i){var r=n&&n.get("flowElements")&&n.get("flowElements").length;te(i.html).toggle("bjs-drilldown-empty",!r)}},ba.prototype._addOverlay=function(e){var t=this._canvas,n=this._overlays;n.get({element:e,type:"drilldown"}).length&&this._removeOverlay(e);var i=ye('<button class="bjs-drilldown"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg></button>');i.addEventListener("click",(function(){t.setRootElement(t.findRoot(ua(e)))})),n.add(e,"drilldown",{position:{bottom:-7,right:-8},html:i}),this._updateOverlayVisibility(e)},ba.prototype._removeOverlay=function(e){this._overlays.remove({element:e,type:"drilldown"})},ba.$inject=["canvas","eventBus","elementRegistry","overlays"];var wa={__depends__:[Jo,ea,ra],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",fa],drilldownCentering:["type",da],drilldownOverlayBehavior:["type",ba],subprocessCompatibility:["type",ya]};function _a(e){Dr.call(this,e)}i(_a,Dr),_a.prototype._modules=[So,wo,Vo,Jo,wa],_a.prototype._moddleExtensions={};var xa=["c","C"],ka=["v","V"],Ea=["y","Y"],Sa=["z","Z"];function ja(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function Ma(e,t){return-1!==(e=f(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.code)}function Aa(e){return e.shiftKey}function Ca(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}Ca.$inject=["config.keyboard","eventBus"],Ca.prototype._keydownHandler=function(e){this._keyHandler(e,"keyboard.keydown")},Ca.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},Ca.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||"keyboard.keydown",n)&&e.preventDefault()}},Ca.prototype._isEventIgnored=function(e){return!!e.defaultPrevented||((t=e.target)&&(re(t,"input, textarea")||"true"===t.contentEditable)||function(e){return e&&re(e,"button, input[type=submit], input[type=button], a[href], [aria-role=button]")}(e.target)&&Ma([" ","Enter"],e))&&this._isModifiedKeyIgnored(e);var t},Ca.prototype._isModifiedKeyIgnored=function(e){return!ja(e)||-1===this._getAllowedModifiers(e.target).indexOf(e.key)},Ca.prototype._getAllowedModifiers=function(e){var t=oe(e,"[input-handle-modified-keys]",!0);return!t||this._node&&!this._node.contains(t)?[]:t.getAttribute("input-handle-modified-keys").split(",")},Ca.prototype.bind=function(e){this.unbind(),this._node=e,pe.bind(e,"keydown",this._keydownHandler),pe.bind(e,"keyup",this._keyupHandler),this._fire("bind")},Ca.prototype.getBinding=function(){return this._node},Ca.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),pe.unbind(e,"keydown",this._keydownHandler),pe.unbind(e,"keyup",this._keyupHandler)),this._node=null},Ca.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},Ca.prototype.addListener=function(e,t,n){g(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||"keyboard.keydown",e,t)},Ca.prototype.removeListener=function(e,t){this._eventBus.off(t||"keyboard.keydown",e)},Ca.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},Ca.prototype.isCmd=ja,Ca.prototype.isShift=Aa,Ca.prototype.isKey=Ma;function Ta(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}Ta.$inject=["eventBus","keyboard"],Ta.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){if(function(e){return ja(e)&&!Aa(e)&&Ma(Sa,e)}(e.keyEvent))return t.trigger("undo"),!0})),n("redo",(function(e){if(function(e){return ja(e)&&(Ma(Ea,e)||Ma(Sa,e)&&Aa(e))}(e.keyEvent))return t.trigger("redo"),!0})),n("copy",(function(e){if(function(e){return ja(e)&&Ma(xa,e)}(e.keyEvent))return t.trigger("copy"),!0})),n("paste",(function(e){if(function(e){return ja(e)&&Ma(ka,e)}(e.keyEvent))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(Ma(["+","Add","="],n)&&ja(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(Ma(["-","Subtract"],n)&&ja(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(Ma("0",n)&&ja(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(Ma(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var Pa={__init__:["keyboard","keyboardBindings"],keyboard:["type",Ca],keyboardBindings:["type",Ta]},Ra={moveSpeed:50,moveSpeedAccelerated:200};function Ba(e,t,n){var i=this;this._config=H({},Ra,e||{}),t.addListener((function(e){var n=e.keyEvent,r=i._config;if(!t.isCmd(n))return;if(t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?r.moveSpeedAccelerated:r.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return i.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,i=0,r=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":i=r;break;case"right":t=-r;break;case"down":i=-r}n.scroll({dx:t,dy:i})}}Ba.$inject=["config.keyboardMove","keyboard","canvas"];var Oa={__depends__:[Pa],__init__:["keyboardMove"],keyboardMove:["type",Ba]},Ia=/^djs-cursor-.*$/;function Da(e){var t=te(document.body);t.removeMatching(Ia),e&&t.add("djs-cursor-"+e)}function Fa(){Da(null)}function za(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function Na(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function La(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qa(e,t){var n;function i(i){var r,o=n.start,a=n.button,s=Co(i),c=La(s,o);(!n.dragging&&(r=c,Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))>15)&&(n.dragging=!0,0===a&&za(e),Da("grab")),n.dragging)&&(c=La(s,n.last||n.start),t.scroll({dx:c.x,dy:c.y}),n.last=s);i.preventDefault()}function r(e){pe.unbind(document,"mousemove",i),pe.unbind(document,"mouseup",r),n=null,Fa()}e.on("element.mousedown",500,(function(e){return function(e){if(oe(e.target,".djs-draggable"))return;var t=e.button;if(t>=2||e.ctrlKey||e.shiftKey||e.altKey)return;return n={button:t,start:Co(e)},pe.bind(document,"mousemove",i),pe.bind(document,"mouseup",r),!0}(e.originalEvent)})),this.isActive=function(){return!!n}}qa.$inject=["eventBus","canvas"];var Ha={__init__:["moveCanvas"],moveCanvas:["type",qa]};function Ua(e){return Math.log(e)/Math.log(10)}function $a(e,t){var n=Ua(e.min),i=Ua(e.max);return(Math.abs(n)+Math.abs(i))/t}var Va=Math.sign||function(e){return e>=0?1:-1},Wa={min:.2,max:4};function Ga(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=q(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}Ga.$inject=["config.zoomScroll","eventBus","canvas"],Ga.prototype.scroll=function(e){this._canvas.scroll(e)},Ga.prototype.reset=function(){this._canvas.zoom("fit-viewport")},Ga.prototype.zoom=function(e,t){var n=$a(Wa,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},Ga.prototype._handleWheel=function(e){if(!oe(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,i=e.ctrlKey||To()&&e.metaKey,r=e.shiftKey,o=-1*this._scale;if(o*=i?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,i){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*Va(e.deltaY)*o,this.zoom(n,s)}else n=r?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},Ga.prototype.stepZoom=function(e,t){var n=$a(Wa,10);this._zoom(e,t,n)},Ga.prototype._zoom=function(e,t,n){var i=this._canvas,r=e>0?1:-1,o=Ua(i.zoom()),a=Math.round(o/n)*n;a+=n*r;var s,c,u=Math.pow(10,a);i.zoom((s=Wa,c=u,Math.max(s.min,Math.min(s.max,c))),t)},Ga.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled;return void 0===e&&(e=!i),i!==e&&pe[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},Ga.prototype._init=function(e){this.toggle(e)};var Ka={__init__:["zoomScroll"],zoomScroll:["type",Ga]};function Za(e){_a.call(this,e)}function Ya(e){return e&&e[e.length-1]}function Xa(e){return e.y}function Ja(e){return e.x}i(Za,_a),Za.prototype._navigationModules=[Oa,Ha,Ka],Za.prototype._modules=[].concat(_a.prototype._modules,Za.prototype._navigationModules);var Qa={left:Ja,center:Ja,right:function(e){return e.x+e.width},top:Xa,middle:Xa,bottom:function(e){return e.y+e.height}};function es(e,t){this._modeling=e,this._rules=t}es.$inject=["modeling","rules"],es.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},es.prototype._isType=function(e,t){return-1!==t.indexOf(e)},es.prototype._alignmentPosition=function(e,t){var n,i,r,o=this._getOrientationDetails(e),a=o.axis,s=o.dimension,c={},u={},l=!1;if(this._isType(e,["left","top"]))c[e]=t[0][a];else if(this._isType(e,["right","bottom"]))r=Ya(t),c[e]=r[a]+r[s];else if(this._isType(e,["center","middle"])){if(k(t,(function(e){var t=e[a]+Math.round(e[s]/2);u[t]?u[t].elements.push(e):u[t]={elements:[e],center:t}})),n=O(u,(function(e){return e.elements.length>1&&(l=!0),e.elements.length})),l)return c[e]=Ya(n).center,c;i=t[0],r=Ya(t=O(t,(function(e){return e[a]+e[s]}))),c[e]=function(e,t){return Math.round((e[a]+t[a]+t[s])/2)}(i,r)}return c},es.prototype.trigger=function(e,t){var n,i=this._modeling,r=x(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));if(f(n=this._rules.allowed("elements.align",{elements:r}))&&(r=n),!(r.length<2)&&n){var o=O(r,Qa[t]),a=this._alignmentPosition(t,o);i.alignElements(o,a)}};var ts={__init__:["alignElements"],alignElements:["type",es]};function ns(e,t,n,i){this._canvas=e,this._eventBus=n,this._overlays=i;var r=p(t&&t.scale)?t.scale:{min:1,max:1.5};this._overlaysConfig={scale:r},this._current=null,this._init()}function is(e,t){return-1!==e.indexOf(t)}ns.$inject=["canvas","config.contextPad","eventBus","overlays"],ns.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",(function(t){var n=t.newSelection,i=n.length?1===n.length?n[0]:n:null;i?e.open(i,!0):e.close()})),this._eventBus.on("elements.changed",(function(t){var n=t.elements,i=e._current;if(i){var r=i.target;M(f(r)?r:[r],(function(e){return is(n,e)}))&&e.open(r,!0)}}))},ns.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},ns.prototype.getEntries=function(e){var t=this._getProviders(),n=f(e)?"getMultiElementContextPadEntries":"getContextPadEntries",i={};return k(t,(function(t){if(g(t[n])){var r=t[n](e);g(r)?i=r(i):k(r,(function(e,t){i[t]=e}))}})),i},ns.prototype.trigger=function(e,t,n){var i,r,o=t.delegateTarget||t.target;return o?(i=Q(o,"data-action"),r=t.originalEvent||t,"mouseover"===e?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(i,"hover",r,n)},300):"mouseout"===e&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(i,e,r,n)):t.preventDefault()},ns.prototype.triggerEntry=function(e,t,n,i){if(this.isShown()){var r=this._current.target,o=this._current.entries[e];if(o){var a=o.action;if(!1!==this._eventBus.fire("contextPad.trigger",{entry:o,event:n})){if(g(a)){if("click"===t)return a(n,r,i)}else if(a[t])return a[t](n,r,i);n.preventDefault()}}}},ns.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},ns.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},ns.prototype._updateAndOpen=function(e){var t,n=this.getEntries(e),i=this.getPad(e),r=i.html;k(n,(function(e,n){var i,o,a,s,c=e.group||"default",u=ye(e.html||'<div class="entry" draggable="true"></div>');Q(u,"data-action",n),(i=be("[data-group="+oa(c)+"]",r))||(Q(i=ye('<div class="group"></div>'),"data-group",c),r.appendChild(i)),i.appendChild(u),e.className&&(o=u,a=e.className,s=te(o),(a=f(a)?a:a.split(/\s+/g)).forEach((function(e){s.add(e)}))),e.title&&Q(u,"title",e.title),e.imageUrl&&(Q(t=ye("<img>"),"src",e.imageUrl),t.style.width="100%",t.style.height="100%",u.appendChild(t))})),te(r).add("open"),this._current={target:e,entries:n,pad:i},this._eventBus.fire("contextPad.open",{current:this._current})},ns.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,i=ye('<div class="djs-context-pad"></div>'),r=this._getPosition(e),o=H({html:i},this._overlaysConfig,r);de.bind(i,".entry","click",(function(e){t.trigger("click",e)})),de.bind(i,".entry","dragstart",(function(e){t.trigger("dragstart",e)})),de.bind(i,".entry","mouseover",(function(e){t.trigger("mouseover",e)})),de.bind(i,".entry","mouseout",(function(e){t.trigger("mouseout",e)})),pe.bind(i,"mousedown",(function(e){e.stopPropagation()}));var a=this._canvas.getRootElement();this._overlayId=n.add(a,"context-pad",o);var s=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:e,pad:s}),s},ns.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},ns.prototype.isOpen=function(e){var t=this._current;if(!t)return!1;if(!e)return!0;var n=t.target;return f(e)===f(n)&&(f(e)?e.length===n.length&&j(e,(function(e){return is(n,e)})):n===e)},ns.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()},ns.prototype._getPosition=function(e){var t,n=wt(f(e=mn(e)?(t=e).waypoints[t.waypoints.length-1]:e)?e:[e]);return{position:{left:n.x+n.width+12,top:n.y-6}}};var rs,os,as,ss,cs,us,ls,ps={__depends__:[zo,Jo],contextPad:["type",ns]},hs={},fs=[],ds=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ms=Array.isArray;function gs(e,t){for(var n in t)e[n]=t[n];return e}function vs(e){var t=e.parentNode;t&&t.removeChild(e)}function ys(e,t,n){var i,r,o,a={};for(o in t)"key"==o?i=t[o]:"ref"==o?r=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?rs.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return bs(e,a,i,r,null)}function bs(e,t,n,i,r){var o={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++as:r,__i:-1,__u:0};return null==r&&null!=os.vnode&&os.vnode(o),o}function ws(e){return e.children}function _s(e,t){this.props=e,this.context=t}function xs(e,t){if(null==t)return e.__?xs(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?xs(e):null}function ks(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return ks(e)}}function Es(e){(!e.__d&&(e.__d=!0)&&ss.push(e)&&!Ss.__r++||cs!==os.debounceRendering)&&((cs=os.debounceRendering)||us)(Ss)}function Ss(){var e,t,n,i,r,o,a,s,c;for(ss.sort(ls);e=ss.shift();)e.__d&&(t=ss.length,i=void 0,o=(r=(n=e).__v).__e,s=[],c=[],(a=n.__P)&&((i=gs({},r)).__v=r.__v+1,os.vnode&&os.vnode(i),Os(a,i,r,n.__n,void 0!==a.ownerSVGElement,32&r.__u?[o]:null,s,null==o?xs(r):o,!!(32&r.__u),c),i.__v=r.__v,i.__.__k[i.__i]=i,Is(s,i,c),i.__e!=o&&ks(i)),ss.length>t&&ss.sort(ls));Ss.__r=0}function js(e,t,n,i,r,o,a,s,c,u,l){var p,h,f,d,m,g=i&&i.__k||fs,v=t.length;for(n.__d=c,Ms(n,t,g),c=n.__d,p=0;p<v;p++)null!=(f=n.__k[p])&&"boolean"!=typeof f&&"function"!=typeof f&&(h=-1===f.__i?hs:g[f.__i]||hs,f.__i=p,Os(e,f,h,r,o,a,s,c,u,l),d=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&Fs(h.ref,null,f),l.push(f.ref,f.__c||d,f)),null==m&&null!=d&&(m=d),65536&f.__u||h.__k===f.__k?(d||h.__e!=c||(c=xs(h)),c=As(f,c,e)):"function"==typeof f.type&&void 0!==f.__d?c=f.__d:d&&(c=d.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function Ms(e,t,n){var i,r,o,a,s,c=t.length,u=n.length,l=u,p=0;for(e.__k=[],i=0;i<c;i++)a=i+p,null!=(r=e.__k[i]=null==(r=t[i])||"boolean"==typeof r||"function"==typeof r?null:"string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?bs(null,r,null,null,null):ms(r)?bs(ws,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?bs(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)?(r.__=e,r.__b=e.__b+1,s=Cs(r,n,a,l),r.__i=s,o=null,-1!==s&&(l--,(o=n[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&p--,"function"!=typeof r.type&&(r.__u|=65536)):s!==a&&(s===a+1?p++:s>a?l>c-a?p+=s-a:p--:s<a?s==a-1&&(p=s-a):p=0,s!==i+p&&(r.__u|=65536))):(o=n[a])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=xs(o)),zs(o,o,!1),n[a]=null,l--);if(l)for(i=0;i<u;i++)null!=(o=n[i])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=xs(o)),zs(o,o))}function As(e,t,n){var i,r;if("function"==typeof e.type){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=As(i[r],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function Cs(e,t,n,i){var r=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&r==c.key&&o===c.type&&0==(131072&c.__u))return n;if(i>(null!=c&&0==(131072&c.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&0==(131072&c.__u)&&r==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&0==(131072&c.__u)&&r==c.key&&o===c.type)return s;s++}}return-1}function Ts(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||ds.test(t)?n:n+"px"}function Ps(e,t,n,i,r){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||Ts(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||Ts(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.u=i.u:(n.u=Date.now(),e.addEventListener(t,o?Bs:Rs,o)):e.removeEventListener(t,o?Bs:Rs,o);else{if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function Rs(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(os.event?os.event(e):e)}}function Bs(e){if(this.l)return this.l[e.type+!0](os.event?os.event(e):e)}function Os(e,t,n,i,r,o,a,s,c,u){var l,p,h,f,d,m,g,v,y,b,w,_,x,k,E,S=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=os.__b)&&l(t);e:if("function"==typeof S)try{if(v=t.props,y=(l=S.contextType)&&i[l.__c],b=l?y?y.props.value:l.__:i,n.__c?g=(p=t.__c=n.__c).__=p.__E:("prototype"in S&&S.prototype.render?t.__c=p=new S(v,b):(t.__c=p=new _s(v,b),p.constructor=S,p.render=Ns),y&&y.sub(p),p.props=v,p.state||(p.state={}),p.context=b,p.__n=i,h=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=S.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=gs({},p.__s)),gs(p.__s,S.getDerivedStateFromProps(v,p.__s))),f=p.props,d=p.state,p.__v=t,h)null==S.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==S.getDerivedStateFromProps&&v!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(v,b),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(v,p.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(p.props=v,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),w=0;w<p._sb.length;w++)p.__h.push(p._sb[w]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(v,p.__s,b),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,d,m)}))}if(p.context=b,p.props=v,p.__P=e,p.__e=!1,_=os.__r,x=0,"prototype"in S&&S.prototype.render){for(p.state=p.__s,p.__d=!1,_&&_(t),l=p.render(p.props,p.state,p.context),k=0;k<p._sb.length;k++)p.__h.push(p._sb[k]);p._sb=[]}else do{p.__d=!1,_&&_(t),l=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++x<25);p.state=p.__s,null!=p.getChildContext&&(i=gs(gs({},i),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(f,d)),js(e,ms(E=null!=l&&l.type===ws&&null==l.key?l.props.children:l)?E:[E],t,n,i,r,o,a,s,c,u),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),g&&(p.__E=p.__=null)}catch(e){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),os.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ds(n.__e,t,n,i,r,o,a,c,u);(l=os.diffed)&&l(t)}function Is(e,t,n){t.__d=void 0;for(var i=0;i<n.length;i++)Fs(n[i],n[++i],n[++i]);os.__c&&os.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){os.__e(e,t.__v)}}))}function Ds(e,t,n,i,r,o,a,s,c){var u,l,p,h,f,d,m,g=n.props,v=t.props,y=t.type;if("svg"===y&&(r=!0),null!=o)for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!y&&(y?f.localName===y:3===f.nodeType)){e=f,o[u]=null;break}if(null==e){if(null===y)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,v.is&&v),o=null,s=!1}if(null===y)g===v||s&&e.data===v||(e.data=v);else{if(o=o&&rs.call(e.childNodes),g=n.props||hs,!s&&null!=o)for(g={},u=0;u<e.attributes.length;u++)g[(f=e.attributes[u]).name]=f.value;for(u in g)f=g[u],"children"==u||("dangerouslySetInnerHTML"==u?p=f:"key"===u||u in v||Ps(e,u,null,f,r));for(u in v)f=v[u],"children"==u?h=f:"dangerouslySetInnerHTML"==u?l=f:"value"==u?d=f:"checked"==u?m=f:"key"===u||s&&"function"!=typeof f||g[u]===f||Ps(e,u,f,g[u],r);if(l)s||p&&(l.__html===p.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(p&&(e.innerHTML=""),js(e,ms(h)?h:[h],t,n,i,r&&"foreignObject"!==y,o,a,o?o[0]:n.__k&&xs(n,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&vs(o[u]);s||(u="value",void 0!==d&&(d!==e[u]||"progress"===y&&!d||"option"===y&&d!==g[u])&&Ps(e,u,d,g[u],!1),u="checked",void 0!==m&&m!==e[u]&&Ps(e,u,m,g[u],!1))}return e}function Fs(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){os.__e(e,n)}}function zs(e,t,n){var i,r;if(os.unmount&&os.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||Fs(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){os.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&zs(i[r],t,n||"function"!=typeof e.type);n||null==e.__e||vs(e.__e),e.__=e.__e=e.__d=void 0}function Ns(e,t,n){return this.constructor(e,n)}function Ls(e,t,n){var i,r,o,a;os.__&&os.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,o=[],a=[],Os(t,e=(!i&&n||t).__k=ys(ws,null,[e]),r||hs,hs,void 0!==t.ownerSVGElement,!i&&n?[n]:r?null:t.firstChild?rs.call(t.childNodes):null,o,!i&&n?n:r?r.__e:t.firstChild,i,a),Is(o,e,a)}rs=fs.slice,os={__e:function(e,t,n,i){for(var r,o,a;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),a=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),a=r.__d),a)return r.__E=r}catch(t){e=t}throw e}},as=0,_s.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=gs({},this.state),"function"==typeof e&&(e=e(gs({},n),this.props)),e&&gs(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Es(this))},_s.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Es(this))},_s.prototype.render=ws,ss=[],us="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ls=function(e,t){return e.__v.__b-t.__v.__b},Ss.__r=0;var qs,Hs,Us,$s,Vs=function(e,t,n,i){var r;t[0]=0;for(var o=1;o<t.length;o++){var a=t[o++],s=t[o]?(t[0]|=a?1:2,n[t[o++]]):t[++o];3===a?i[0]=s:4===a?i[1]=Object.assign(i[1]||{},s):5===a?(i[1]=i[1]||{})[t[++o]]=s:6===a?i[1][t[++o]]+=s+"":a?(r=e.apply(s,Vs(e,s,n,["",null])),i.push(r),s[0]?t[0]|=2:(t[o-2]=0,t[o]=r)):i.push(s)}return i},Ws=new Map,Gs=function(e){var t=Ws.get(this);return t||(t=new Map,Ws.set(this,t)),(t=Vs(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,i=1,r="",o="",a=[0],s=function(e){1===i&&(e||(r=r.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,r):3===i&&(e||r)?(a.push(3,e,r),i=2):2===i&&"..."===r&&e?a.push(4,e,0):2===i&&r&&!e?a.push(5,0,!0,r):i>=5&&((r||!e&&5===i)&&(a.push(i,0,r,n),i=6),e&&(a.push(i,e,0,n),i=6)),r=""},c=0;c<e.length;c++){c&&(1===i&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===i?"<"===t?(s(),a=[a],i=3):r+=t:4===i?"--"===r&&">"===t?(i=1,r=""):r=t+r[0]:o?t===o?o="":r+=t:'"'===t||"'"===t?o=t:">"===t?(s(),i=1):i&&("="===t?(i=5,n=r,r=""):"/"===t&&(i<5||">"===e[c][u+1])?(s(),3===i&&(a=a[0]),i=a,(a=a[0]).push(2,0,i),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),i=2):r+=t),3===i&&"!--"===r&&(i=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}.bind(ys),Ks=0,Zs=[],Ys=[],Xs=os,Js=Xs.__b,Qs=Xs.__r,ec=Xs.diffed,tc=Xs.__c,nc=Xs.unmount,ic=Xs.__;function rc(e,t){Xs.__h&&Xs.__h(Hs,e,Ks||t),Ks=0;var n=Hs.__H||(Hs.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ys}),n.__[e]}function oc(e){return Ks=1,function(e,t,n){var i=rc(qs++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):vc(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=Hs,!Hs.u)){var r=function(e,t,n){if(!i.__c.__H)return!0;var r=i.__c.__H.__.filter((function(e){return!!e.__c}));if(r.every((function(e){return!e.__N})))return!o||o.call(this,e,t,n);var a=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0)}})),!(!a&&i.__c.props===e)&&(!o||o.call(this,e,t,n))};Hs.u=!0;var o=Hs.shouldComponentUpdate,a=Hs.componentWillUpdate;Hs.componentWillUpdate=function(e,t,n){if(this.__e){var i=o;o=void 0,r(e,t,n),o=i}a&&a.call(this,e,t,n)},Hs.shouldComponentUpdate=r}return i.__N||i.__}(vc,e)}function ac(e,t){var n=rc(qs++,3);!Xs.__s&&gc(n.__H,t)&&(n.__=e,n.i=t,Hs.__H.__h.push(n))}function sc(e,t){var n=rc(qs++,4);!Xs.__s&&gc(n.__H,t)&&(n.__=e,n.i=t,Hs.__h.push(n))}function cc(e){return Ks=5,uc((function(){return{current:e}}),[])}function uc(e,t){var n=rc(qs++,7);return gc(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function lc(e,t){return Ks=8,uc((function(){return e}),t)}function pc(){for(var e;e=Zs.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(dc),e.__H.__h.forEach(mc),e.__H.__h=[]}catch(t){e.__H.__h=[],Xs.__e(t,e.__v)}}Xs.__b=function(e){Hs=null,Js&&Js(e)},Xs.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ic&&ic(e,t)},Xs.__r=function(e){Qs&&Qs(e),qs=0;var t=(Hs=e.__c).__H;t&&(Us===Hs?(t.__h=[],Hs.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Ys,e.__N=e.i=void 0}))):(t.__h.forEach(dc),t.__h.forEach(mc),t.__h=[],qs=0)),Us=Hs},Xs.diffed=function(e){ec&&ec(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Zs.push(t)&&$s===Xs.requestAnimationFrame||(($s=Xs.requestAnimationFrame)||fc)(pc)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Ys&&(e.__=e.__V),e.i=void 0,e.__V=Ys}))),Us=Hs=null},Xs.__c=function(e,t){t.some((function(e){try{e.__h.forEach(dc),e.__h=e.__h.filter((function(e){return!e.__||mc(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Xs.__e(n,e.__v)}})),tc&&tc(e,t)},Xs.unmount=function(e){nc&&nc(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{dc(e)}catch(e){t=e}})),n.__H=void 0,t&&Xs.__e(t,n.__v))};var hc="function"==typeof requestAnimationFrame;function fc(e){var t,n=function(){clearTimeout(i),hc&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);hc&&(t=requestAnimationFrame(n))}function dc(e){var t=Hs,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Hs=t}function mc(e){var t=Hs;e.__c=e.__(),Hs=t}function gc(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function vc(e,t){return"function"==typeof t?t(e):t}function yc(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=yc(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}var bc=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=yc(e))&&(i&&(i+=" "),i+=t);return i};function wc(e){const{entry:t,selected:n,onMouseEnter:i,onMouseLeave:r,onAction:o}=e;return Gs`
    <li
      class=${bc("entry",{selected:n})}
      data-id=${t.id}
      title=${t.title||t.label}
      tabIndex="0"
      onClick=${o}
      onFocus=${i}
      onBlur=${r}
      onMouseEnter=${i}
      onMouseLeave=${r}
      onDragStart=${e=>o(e,t,"dragstart")}
      aria-role="button"
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${bc("djs-popup-entry-name",t.className)}
        >
          ${t.imageUrl&&Gs`<img class="djs-popup-entry-icon" src=${t.imageUrl} alt="" />`||t.imageHtml&&Gs`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:t.imageHtml}} />`}

          ${t.label?Gs`
            <span class="djs-popup-label">
              ${t.label}
            </span>
          `:null}
        </span>
        ${t.description&&Gs`
          <span
            class="djs-popup-entry-description"
            title=${t.description}
          >
            ${t.description}
          </span>
        `}
      </div>
      ${t.documentationRef&&Gs`
        <div class="djs-popup-entry-docs">
          <a
            href="${t.documentationRef}"
            onClick=${e=>e.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function _c(e){const{selectedEntry:t,setSelectedEntry:n,entries:i,...r}=e,o=cc(),a=uc(()=>function(e){const t=[],n=e=>t.find(t=>e.id===t.id);return e.forEach(e=>{const i=e.group?(e=>"string"==typeof e?{id:e}:e)(e.group):{id:"default"};(e=>!!n(e))(i)?n(i).entries.push(e):t.push({...i,entries:[e]})}),t}(i),[i]);return sc(()=>{const e=o.current;if(!e)return;const t=e.querySelector(".selected");var n;t&&("function"==typeof(n=t).scrollIntoViewIfNeeded?n.scrollIntoViewIfNeeded():n.scrollIntoView({scrollMode:"if-needed",block:"nearest"}))},[t]),Gs`
    <div class="djs-popup-results" ref=${o}>
      ${a.map(e=>Gs`
        ${e.name&&Gs`
          <div key=${e.id} class="entry-header" title=${e.name}>
            ${e.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${e.id}>
          ${e.entries.map(e=>Gs`
            <${wc}
              key=${e.id}
              entry=${e}
              selected=${e===t}
              onMouseEnter=${()=>n(e)}
              onMouseLeave=${()=>n(null)}
              ...${r}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function xc(e){const{onClose:t,onSelect:n,className:i,headerEntries:r,position:o,title:a,width:s,scale:c,search:u,emptyPlaceholder:l,entries:h,onOpened:f,onClosed:d}=e,m=uc(()=>!!p(u)&&h.length>5,[u,h]),[v,y]=oc(""),b=lc((e,t)=>{if(!m)return e;return e.filter(e=>{if(!t)return(e.rank||0)>=0;if(!1===e.searchable)return!1;const n=[e.description||"",e.label||"",e.search||""].map(e=>e.toLowerCase());return t.toLowerCase().split(/\s/g).every(e=>n.some(t=>t.includes(e)))})},[m]),[w,_]=oc(b(h,v)),[x,k]=oc(w[0]),E=lc(e=>{x&&e.includes(x)||k(e[0]),_(e)},[x,_,k]);ac(()=>{E(b(h,v))},[v,h]);const S=lc(e=>{let t=w.indexOf(x)+e;t<0&&(t=w.length-1),t>=w.length&&(t=0),k(w[t])},[w,x,k]),j=lc(e=>"Enter"===e.key&&x?n(e,x):"ArrowUp"===e.key?(S(-1),e.preventDefault()):"ArrowDown"===e.key?(S(1),e.preventDefault()):void 0,[n,x,S]),M=lc(e=>{re(e.target,"input")&&y(()=>e.target.value)},[y]);ac(()=>(f(),()=>{d()}),[]);const A=uc(()=>a||r.length>0,[a,r]);return Gs`
    <${kc}
      onClose=${t}
      onKeyup=${M}
      onKeydown=${j}
      className=${i}
      position=${o}
      width=${s}
      scale=${c}
    >
      ${A&&Gs`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${a}>${a}</h3>
          ${r.map(e=>Gs`
            <${e.action?"button":"span"}
              class=${function(e,t){return bc("entry",e.className,e.active?"active":"",e.disabled?"disabled":"",t?"selected":"")}(e,e===x)}
              onClick=${t=>n(t,e)}
              title=${e.title||e.label}
              data-id=${e.id}
              onMouseEnter=${()=>k(e)}
              onMouseLeave=${()=>k(null)}
              onFocus=${()=>k(e)}
              onBlur=${()=>k(null)}
            >
            ${e.imageUrl&&Gs`<img class="djs-popup-entry-icon" src=${e.imageUrl} alt="" />`||e.imageHtml&&Gs`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:e.imageHtml}} />`}

              ${e.label?Gs`
                <span class="djs-popup-label">${e.label}</span>
              `:null}
            </${e.action?"button":"span"}>
          `)}
        </div>
      `}
      ${h.length>0&&Gs`
        <div class="djs-popup-body">

          ${m&&Gs`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" aria-label="${a}" />
          </div>
          `}

          <${_c}
            entries=${w}
            selectedEntry=${x}
            setSelectedEntry=${k}
            onAction=${n}
          />
        </div>
      `}
    ${l&&0===w.length&&Gs`
      <div class="djs-popup-no-results">${g(l)?l(v):l}</div>
    `}
    </${kc}>
  `}function kc(e){const{onClose:t,onKeydown:n,onKeyup:i,className:r,children:o,position:a}=e,s=cc();return sc(()=>{if("function"!=typeof a)return;const e=s.current,t=a(e);e.style.left=t.x+"px",e.style.top=t.y+"px"},[s.current,a]),sc(()=>{const e=s.current;if(!e)return;(e.querySelector("input")||e).focus()},[]),ac(()=>{const e=e=>{if("Escape"===e.key)return e.preventDefault(),t()},n=e=>{if(!oe(e.target,".djs-popup",!0))return t()};return document.documentElement.addEventListener("keydown",e),document.body.addEventListener("click",n),()=>{document.documentElement.removeEventListener("keydown",e),document.body.removeEventListener("click",n)}},[]),Gs`
    <div
      class=${bc("djs-popup",r)}
      style=${function(e){return{transform:`scale(${e.scale})`,width:e.width+"px"}}(e)}
      onKeydown=${n}
      onKeyup=${i}
      ref=${s}
      tabIndex="-1"
    >
      ${o}
    </div>
  `}var Ec=["contextPad.close","canvas.viewbox.changing","commandStack.changed"];function Sc(e,t,n){this._eventBus=t,this._canvas=n,this._current=null;var i=p(e&&e.scale)?e.scale:{min:1,max:1.5};this._config={scale:i},t.on("diagram.destroy",()=>{this.close()}),t.on("element.changed",e=>{const t=this.isOpen()&&this._current.target;e.element===t&&this.refresh()})}Sc.$inject=["config.popupMenu","eventBus","canvas"],Sc.prototype._render=function(){const{position:e,providerId:t,entries:n,headerEntries:i,emptyPlaceholder:r,options:o}=this._current,a=Object.entries(n).map(([e,t])=>({id:e,...t})),s=Object.entries(i).map(([e,t])=>({id:e,...t})),c=e&&(t=>this._ensureVisible(t,e)),u=this._updateScale(this._current.container);Ls(Gs`
      <${xc}
        onClose=${e=>this.close(e)}
        onSelect=${(e,t,n)=>this.trigger(e,t,n)}
        position=${c}
        className=${t}
        entries=${a}
        headerEntries=${s}
        emptyPlaceholder=${r}
        scale=${u}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...o}}
      />
    `,this._current.container)},Sc.prototype.open=function(e,t,n,i){if(!e)throw new Error("target is missing");if(!t)throw new Error("providers for <"+t+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:r,headerEntries:o,emptyPlaceholder:a}=this._getContext(e,t);this._current={position:n,providerId:t,target:e,entries:r,headerEntries:o,emptyPlaceholder:a,container:this._createContainer({provider:t}),options:i},this._emit("open"),this._bindAutoClose(),this._render()},Sc.prototype.refresh=function(){if(!this.isOpen())return;const{target:e,providerId:t}=this._current,{entries:n,headerEntries:i,emptyPlaceholder:r}=this._getContext(e,t);this._current={...this._current,entries:n,headerEntries:i,emptyPlaceholder:r},this._emit("refresh"),this._render()},Sc.prototype._getContext=function(e,t){const n=this._getProviders(t);if(!n||!n.length)throw new Error("provider for <"+t+"> not found");const i=this._getEntries(e,n),r=this._getHeaderEntries(e,n);return{entries:i,headerEntries:r,emptyPlaceholder:this._getEmptyPlaceholder(n),empty:!(Object.keys(i).length||Object.keys(r).length)}},Sc.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)},Sc.prototype.reset=function(){const e=this._current.container;Ls(null,e),_e(e)},Sc.prototype._emit=function(e,t){this._eventBus.fire("popupMenu."+e,t)},Sc.prototype._onOpened=function(){this._emit("opened")},Sc.prototype._onClosed=function(){this._emit("closed")},Sc.prototype._createContainer=function(e){var t=this._canvas.getContainer();const n=ye(`<div class="djs-popup-parent djs-scrollable" data-popup=${e.provider}></div>`);return t.appendChild(n),n},Sc.prototype._bindAutoClose=function(){this._eventBus.once(Ec,this.close,this)},Sc.prototype._unbindAutoClose=function(){this._eventBus.off(Ec,this.close,this)},Sc.prototype._updateScale=function(){var e,t,n=this._canvas.zoom(),i=this._config.scale,r=n;return!0!==i&&(!1===i?(e=1,t=1):(e=i.min,t=i.max),p(e)&&n<e&&(r=e),p(t)&&n>t&&(r=t)),r},Sc.prototype._ensureVisible=function(e,t){var n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect(),r={},o=t.x,a=t.y;return t.x+i.width>n.width&&(r.x=!0),t.y+i.height>n.height&&(r.y=!0),r.x&&r.y?(o=t.x-i.width,a=t.y-i.height):r.x?(o=t.x-i.width,a=t.y):r.y&&t.y<i.height?(o=t.x,a=10):r.y&&(o=t.x,a=t.y-i.height),t.y<n.top&&(a=t.y+i.height),{x:o,y:a}},Sc.prototype.isEmpty=function(e,t){if(!e)throw new Error("target is missing");if(!t)throw new Error("provider ID is missing");const n=this._getProviders(t);return!n||!n.length||this._getContext(e,t).empty},Sc.prototype.registerProvider=function(e,t,n){n||(n=t,t=1e3),this._eventBus.on("popupMenu.getProviders."+e,t,(function(e){e.providers.push(n)}))},Sc.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers},Sc.prototype._getEntries=function(e,t){var n={};return k(t,(function(t){if(t.getPopupMenuEntries){var i=t.getPopupMenuEntries(e);g(i)?n=i(n):k(i,(function(e,t){n[t]=e}))}else k(t.getEntries(e),(function(e){var t=e.id;if(!t)throw new Error("entry ID is missing");n[t]=$(e,["id"])}))})),n},Sc.prototype._getHeaderEntries=function(e,t){var n={};return k(t,(function(t){if(t.getPopupMenuHeaderEntries){var i=t.getPopupMenuHeaderEntries(e);g(i)?n=i(n):k(i,(function(e,t){n[t]=e}))}else{if(!t.getHeaderEntries)return;k(t.getHeaderEntries(e),(function(e){var t=e.id;if(!t)throw new Error("entry ID is missing");n[t]=$(e,["id"])}))}})),n},Sc.prototype._getEmptyPlaceholder=function(e){const t=e.find(e=>g(e.getEmptyPlaceholder));return t&&t.getEmptyPlaceholder()},Sc.prototype.isOpen=function(){return!!this._current},Sc.prototype.trigger=function(e,t,n="click"){if(e.preventDefault(),!t){let n=Q(oe(e.delegateTarget||e.target,".entry",!0),"data-id");t={id:n,...this._getEntry(n)}}const i=t.action;if(!1!==this._emit("trigger",{entry:t,event:e}))if(g(i)){if("click"===n)return i(e,t)}else if(i[n])return i[n](e,t)},Sc.prototype._getEntry=function(e){var t=this._current.entries[e]||this._current.headerEntries[e];if(!t)throw new Error("entry not found");return t};var jc={__init__:["popupMenu"],popupMenu:["type",Sc]},Mc={align:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">\n              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',bottom:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',top:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>',middle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>\n            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n          </svg>'};function Ac(e,t,n,i){e.registerProvider(900,this),this._contextPad=e,this._popupMenu=t,this._translate=n,this._canvas=i}Ac.$inject=["contextPad","popupMenu","translate","canvas"],Ac.prototype.getMultiElementContextPadEntries=function(e){var t={};return this._isAllowed(e)&&H(t,this._getEntries(e)),t},Ac.prototype._isAllowed=function(e){return!this._popupMenu.isEmpty(e,"align-elements")},Ac.prototype._getEntries=function(){var e=this;return{"align-elements":{group:"align-elements",title:e._translate("Align elements"),html:`<div class="entry">${Mc.align}</div>`,action:{click:function(t,n){var i=e._getMenuPosition(n);H(i,{cursor:{x:t.x,y:t.y}}),e._popupMenu.open(n,"align-elements",i)}}}}},Ac.prototype._getMenuPosition=function(e){var t=this._contextPad.getPad(e).html.getBoundingClientRect();return{x:t.left,y:t.bottom+5}};var Cc=["left","center","right","top","middle","bottom"];function Tc(e,t,n,i){this._alignElements=t,this._translate=n,this._popupMenu=e,this._rules=i,e.registerProvider("align-elements",this)}function Pc(e){ta.call(this,e),this.init()}function Rc(e){Pc.call(this,e)}Tc.$inject=["popupMenu","alignElements","translate","rules"],Tc.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&H(t,this._getEntries(e)),t},Tc.prototype._isAllowed=function(e){return this._rules.allowed("elements.align",{elements:e})},Tc.prototype._getEntries=function(e){var t=this._alignElements,n=this._translate,i=this._popupMenu,r={};return k(Cc,(function(o){r["align-elements-"+o]={group:"align",title:n("Align elements "+o),className:"bjs-align-elements-menu-entry",imageHtml:Mc[o],action:function(){t.trigger(e,o),i.close()}}})),r},Pc.$inject=["eventBus"],i(Pc,ta),Pc.prototype.addRule=function(e,t,n){var i=this;"string"==typeof e&&(e=[e]),e.forEach((function(e){i.canExecute(e,t,(function(e,t,i){return n(e)}),!0)}))},Pc.prototype.init=function(){},Rc.$inject=["eventBus"],i(Rc,Pc),Rc.prototype.init=function(){this.addRule("elements.align",(function(e){var t=x(e.elements,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));return!((t=mt(t)).length<2)&&t}))};var Bc={__depends__:[ts,ps,jc],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",Ac],alignElementsMenuProvider:["type",Tc],bpmnAlignElements:["type",Rc]};function Oc(e,t,n,i){for(var r;r=Dc(e,n,t);)n=i(t,n,r);return n}function Ic(e){return function(t,n,i){var r={x:n.x,y:n.y};return["x","y"].forEach((function(o){var a=e[o];if(a){var s="x"===o?"width":"height",c=a.margin,u=a.minDistance;r[o]=c<0?Math.min(i[o]+c-t[s]/2,n[o]-u+c):Math.max(i[o]+i[s]+c+t[s]/2,n[o]+u+c)}})),r}}function Dc(e,t,n){var i={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height};return b(function(e){var t=Fc(e);e.host&&(t=t.concat(Fc(e.host)));e.attachers&&(t=t.concat(e.attachers.reduce((function(e,t){return e.concat(Fc(t))}),[])));return t}(e),(function(e){return e!==n&&"intersect"===kn(e,i,10)}))}function Fc(e){return(t=e,t.outgoing.map((function(e){return e.target}))).concat(function(e){return e.incoming.map((function(e){return e.source}))}(e));var t}function zc(){return!0}function Nc(e,t,n){e.on("autoPlace",100,(function(e){var t=e.shape;return function(e,t,n){n||(n={});var i=n.defaultDistance||50,r=xn(e);return{x:bn(e).right+i+t.width/2,y:r.y}}(e.source,t)})),e.on("autoPlace.end",(function(e){n.scrollToElement(e.shape)})),this.append=function(n,i,r){e.fire("autoPlace.start",{source:n,shape:i});var o=e.fire("autoPlace",{source:n,shape:i}),a=t.appendShape(n,i,o,n.parent,r);return e.fire("autoPlace.end",{source:n,shape:a}),a}}function Lc(e,t){e.on("autoPlace.end",500,(function(e){t.select(e.shape)}))}Nc.$inject=["eventBus","modeling","canvas"],Lc.$inject=["eventBus","selection"];var qc={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",Nc],autoPlaceSelectionBehavior:["type",Lc]};function Hc(e,t){return kr(t,"bpmn:TextAnnotation")?function(e,t){var n=bn(e),i={x:n.right+t.width/2,y:n.top-50-t.height/2};mn(e)&&((i=xn(e)).x+=100,i.y-=50);return Oc(e,t,i,Ic({y:{margin:-30,minDistance:20}}))}(e,t):Er(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])?function(e,t){var n=bn(e),i={x:n.right-10+t.width/2,y:n.bottom+40+t.width/2};return Oc(e,t,i,Ic({x:{margin:30,minDistance:30}}))}(e,t):kr(t,"bpmn:FlowNode")?function(e,t){var n=bn(e),i=xn(e),r=function(e,t){t||(t={});var n=t.defaultDistance||50,i=t.direction||"e",r=t.filter,o=t.getWeight||function(t){return t.source===e?1:-1},a=t.maxDistance||250,s=t.reference||"start";function c(e,t){return"n"===i?"start"===s?bn(e).top-bn(t).bottom:"center"===s?bn(e).top-xn(t).y:bn(e).top-bn(t).top:"w"===i?"start"===s?bn(e).left-bn(t).right:"center"===s?bn(e).left-xn(t).x:bn(e).left-bn(t).left:"s"===i?"start"===s?bn(t).top-bn(e).bottom:"center"===s?xn(t).y-bn(e).bottom:bn(t).bottom-bn(e).bottom:"start"===s?bn(t).left-bn(e).right:"center"===s?xn(t).x-bn(e).right:bn(t).right-bn(e).right}r||(r=zc);var u=e.incoming.filter(r).map((function(t){var n=o(t),i=n<0?c(t.source,e):c(e,t.source);return{id:t.source.id,distance:i,weight:n}})),l=e.outgoing.filter(r).map((function(t){var n=o(t),i=n>0?c(e,t.target):c(t.target,e);return{id:t.target.id,distance:i,weight:n}}));return S(u.concat(l).reduce((function(e,t){return e[t.id+"__weight_"+t.weight]=t,e}),{}),(function(e,t){var n=t.distance,i=t.weight;return n<0||n>a||(e[String(n)]||(e[String(n)]=0),e[String(n)]+=1*i,(!e.distance||e[e.distance]<e[String(n)])&&(e.distance=n)),e}),{}).distance||n}(e,{filter:function(e){return kr(e,"bpmn:SequenceFlow")}}),o=30,a="left";kr(e,"bpmn:BoundaryEvent")&&-1!==(a=kn(e,e.host,-25)).indexOf("top")&&(o*=-1);var s={x:n.right+r+t.width/2,y:i.y+Uc(a,80)};return Oc(e,t,s,Ic({y:{margin:o,minDistance:80}}))}(e,t):void 0}function Uc(e,t){return e.includes("top")?-1*t:e.includes("bottom")?t:0}function $c(e){e.on("autoPlace",(function(e){var t=e.shape;return Hc(e.source,t)}))}$c.$inject=["eventBus"];var Vc={__depends__:[qc],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",$c]};function Wc(e,t,n,i){ta.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=i;var r=this;this.postExecuted(["shape.create"],(function(e){var t=e.context,n=t.hints||{},i=t.shape,o=t.parent||t.newParent;!1!==n.autoResize&&r._expand([i],o)})),this.postExecuted(["elements.move"],(function(e){var t=e.context,n=s(T(t.closure.topLevel)),i=t.hints,o=!i||i.autoResize;!1!==o&&k(P(n,(function(e){return e.parent.id})),(function(e,t){f(o)&&(e=e.filter((function(e){return b(o,I({id:e.id}))}))),r._expand(e,t)}))})),this.postExecuted(["shape.toggleCollapse"],(function(e){var t=e.context,n=t.hints,i=t.shape;n&&!1===n.autoResize||i.collapsed||r._expand(i.children||[],i)})),this.postExecuted(["shape.resize"],(function(e){var t=e.context,n=t.hints,i=t.shape,o=i.parent;n&&!1===n.autoResize||o&&r._expand([i],o)}))}function Gc(e){e.invoke(Wc,this)}function Kc(e){Pc.call(this,e);var t=this;this.addRule("element.autoResize",(function(e){return t.canResize(e.elements,e.target)}))}function Zc(e,t){Kc.call(this,e),this._modeling=t}Wc.$inject=["eventBus","elementRegistry","modeling","rules"],i(Wc,ta),Wc.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),i=this.getPadding(t),r=bn(wt(e)),o=bn(t),a={};return r.top-o.top<i.top&&(a.top=r.top-n.top),r.left-o.left<i.left&&(a.left=r.left-n.left),o.right-r.right<i.right&&(a.right=r.right+n.right),o.bottom-r.bottom<i.bottom&&(a.bottom=r.bottom+n.bottom),wn(H({},o,a))},Wc.prototype._expand=function(e,t){if("string"==typeof t&&(t=this._elementRegistry.get(t)),this._rules.allowed("element.autoResize",{elements:e,target:t})){var n=this._getOptimalBounds(e,t);if(function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(n,t)){var i=function(e,t){var n="";e=bn(e),t=bn(t),e.top>t.top&&(n=n.concat("n"));e.right<t.right&&(n=n.concat("w"));e.bottom<t.bottom&&(n=n.concat("s"));e.left>t.left&&(n=n.concat("e"));return n}(U(t,["x","y","width","height"]),n);this.resize(t,n,{autoResize:i});var r=t.parent;r&&this._expand([t],r)}}},Wc.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}},Wc.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}},Wc.prototype.resize=function(e,t,n){this._modeling.resizeShape(e,t,null,n)},Gc.$inject=["injector"],i(Gc,Wc),Gc.prototype.resize=function(e,t,n){kr(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,n):this._modeling.resizeShape(e,t,null,n)},Kc.$inject=["eventBus"],i(Kc,Pc),Kc.prototype.canResize=function(e,t){return!1},i(Zc,Kc),Zc.$inject=["eventBus","modeling"],Zc.prototype.canResize=function(e,t){if(kr(t.di,"bpmndi:BPMNPlane"))return!1;if(!kr(t,"bpmn:Participant")&&!kr(t,"bpmn:Lane")&&!kr(t,"bpmn:SubProcess"))return!1;var n=!0;return k(e,(function(e){(kr(e,"bpmn:Lane")||gn(e))&&(n=!1)})),n};var Yc={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",Gc],bpmnAutoResizeProvider:["type",Zc]};function Xc(e,t,n){var i,r,o=this,a=n.get("dragging",!1);a&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,i=o._findTargetGfx(n),r=i&&e.get(i);i&&r&&(t.stopPropagation(),a.hover({element:r,gfx:i}),a.move(n))}}(t)}))})),t.on("element.hover",(function(e){i=e.gfx,r=e.element})),t.on("element.hover",1500,(function(e){r&&t.fire("element.out",{element:r,gfx:i})})),t.on("element.out",(function(){i=null,r=null})),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=Co(e),function(e){return oe(e,"svg, .djs-element",!0)}(document.elementFromPoint(t.x,t.y))}}Xc.$inject=["elementRegistry","eventBus","injector"];var Jc={__init__:["hoverFix"],hoverFix:["type",Xc]},Qc=Math.round;function eu(e){e.preventDefault()}function tu(e,t,n,i){var r,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),i=t._container.getBoundingClientRect();return{x:n.x+(e.x-i.left)/n.scale,y:n.y+(e.y-i.top)/n.scale}}function s(t,n){n=n||r;var i=e.createEvent(H({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,i)&&e.fire(n.prefix+"."+t,i)}function c(e,i){var o,c=r.payload,u=r.displacement,l=r.globalStart,p=Co(e),h=La(p,l),f=r.localStart,d=a(p),g=La(d,f);if(!r.active&&(i||(o=h,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>r.threshold))){if(H(c,{x:Qc(f.x+u.x),y:Qc(f.y+u.y),dx:0,dy:0},{originalEvent:e}),!1===s("start"))return m();r.active=!0,r.keepSelection||(c.previousSelection=n.get(),n.select(null)),r.cursor&&Da(r.cursor),t.addMarker(t.getRootElement(),"djs-drag-active")}Ao(e),r.active&&(H(c,{x:Qc(d.x+u.x),y:Qc(d.y+u.y),dx:Qc(g.x),dy:Qc(g.y)},{originalEvent:e}),s("move"))}function u(e){var t=!0;r.active&&(e&&(r.payload.originalEvent=e,Ao(e)),t=s("end")),!1===t&&s("rejected"),s("ended",g(!0!==t))}function l(e){Ma("Escape",e)&&(eu(e),m())}function p(t){var n;r.active&&(n=za(e),setTimeout(n,400),eu(t)),u(t)}function h(e){c(e)}function f(e){var t=r.payload;t.hoverGfx=e.gfx,t.hover=e.element,s("hover")}function d(e){s("out");var t=r.payload;t.hoverGfx=null,t.hover=null}function m(e){var t;if(r){var n=r.active;n&&s("cancel"),t=g(e),n&&s("canceled",t)}}function g(o){var a,g;s("cleanup"),Fa(),g=r.trapClick?p:u,pe.unbind(document,"mousemove",c),pe.unbind(document,"dragstart",eu),pe.unbind(document,"selectstart",eu),pe.unbind(document,"mousedown",g,!0),pe.unbind(document,"mouseup",g,!0),pe.unbind(document,"keyup",l),pe.unbind(document,"touchstart",h,!0),pe.unbind(document,"touchcancel",m,!0),pe.unbind(document,"touchmove",c,!0),pe.unbind(document,"touchend",u,!0),e.off("element.hover",f),e.off("element.out",d),t.removeMarker(t.getRootElement(),"djs-drag-active");var v=r.payload.previousSelection;return!1!==o&&v&&!n.get().length&&function(e){var t=e.filter((function(e){return i.get(e.id)}));t.length&&n.select(t)}(v),a=r,r=null,a}e.on("diagram.destroy",m),this.init=function(t,n,i,g){r&&m(!1),"string"==typeof n&&(g=i,i=n,n=null);var v,y,b,w,_,x=(g=H({},o,g||{})).data||{};w=g.trapClick?p:u,t?(v=Mo(t)||t,y=Co(t),Ao(t),"dragstart"===v.type&&eu(v)):(v=null,y={x:0,y:0}),b=a(y),n||(n=b),_=function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}(v),r=H({prefix:i,data:x,payload:{},globalStart:y,displacement:La(n,b),localStart:b,isTouch:_},g),g.manual||(_?(pe.bind(document,"touchstart",h,!0),pe.bind(document,"touchcancel",m,!0),pe.bind(document,"touchmove",c,!0),pe.bind(document,"touchend",u,!0)):(pe.bind(document,"mousemove",c),pe.bind(document,"dragstart",eu),pe.bind(document,"selectstart",eu),pe.bind(document,"mousedown",w,!0),pe.bind(document,"mouseup",w,!0)),pe.bind(document,"keyup",l),e.on("element.hover",f),e.on("element.out",d)),s("init"),g.autoActivate&&c(t,!0)},this.move=c,this.hover=f,this.out=d,this.end=u,this.cancel=m,this.context=function(){return r},this.setOptions=function(e){H(o,e)}}tu.$inject=["eventBus","canvas","selection","elementRegistry"];var nu={__depends__:[Jc,Vo],dragging:["type",tu]};function iu(e,t,n){this._canvas=n,this._opts=H({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",(function(e){var t=i._toBorderPoint(e);i.startScroll(t)})),t.on(["drag.cleanup"],(function(){i.stopScroll()}))}function ru(e,t,n){return t<e&&e<n}iu.$inject=["config.autoScroll","eventBus","canvas"],iu.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,i=this,r=t.getContainer().getBoundingClientRect(),o=[e.x,e.y,r.width-e.x,r.height-e.y];this.stopScroll();for(var a=0,s=0,c=0;c<4;c++)ru(o[c],n.scrollThresholdOut[c],n.scrollThresholdIn[c])&&(0===c?a=n.scrollStep:1==c?s=n.scrollStep:2==c?a=-n.scrollStep:3==c&&(s=-n.scrollStep));0===a&&0===s||(t.scroll({dx:a,dy:s}),this._scrolling=setTimeout((function(){i.startScroll(e)}),n.scrollRepeatTimeout))},iu.prototype.stopScroll=function(){clearTimeout(this._scrolling)},iu.prototype.setOptions=function(e){this._opts=H({},this._opts,e)},iu.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=Co(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};var ou={__depends__:[nu],__init__:["autoScroll"],autoScroll:["type",iu]};function au(e){this._commandStack=e.get("commandStack",!1)}au.$inject=["injector"],au.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(e,t)),void 0===n||n};var su={__init__:["rules"],rules:["type",au]},cu=Math.round,uu=Math.max;function lu(e,t){return function(e,t){var n,i;for(n=0;i=e[n];n++)if(Ct(i,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,i,r,o,a=cn((r=10,[["M",(i=t).x,i.y],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]]),(n=[],e.forEach((function(e,t){n.push([0===t?"M":"L",e.x,e.y])})),n)),s=a[0],c=a[a.length-1];return s?s!==c?s.segment2!==c.segment2?{point:e[o=uu(s.segment2,c.segment2)-1],bendpoint:!0,index:o}:{point:{x:cu(s.x+c.x)/2,y:cu(s.y+c.y)/2},index:s.segment2}:{point:{x:cu(s.x),y:cu(s.y)},index:s.segment2}:null}(e,t)}function pu(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function hu(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function fu(e,t){var n=t[0],i=t[1],r={x:i.x-n.x,y:i.y-n.y},o=function(e,t,n){var i=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(i[0].n*t[0]+i[1].n*t[1])/(i[0].lambda*t[0]+i[1].lambda*t[1])}([n.x,n.y],[r.x,r.y],[e.x,e.y]);return{x:n.x+o*r.x,y:n.y+o*r.y}}function du(e,t){var n=fu(e,t);return pu({x:n.x-e.x,y:n.y-e.y})}function mu(e,t){return pu({x:e.x-t.x,y:e.y-t.y})}function gu(e,t,n){return lu(t,function(e,t){var n,i=Co(t),r=e._container.getBoundingClientRect();n={x:r.left,y:r.top};var o=e.viewbox();return{x:o.x+(i.x-n.x)/o.scale,y:o.y+(i.y-n.y)/o.scale}}(e,n))}function vu(e,t){var n=Fe("g");Ce(n).add("djs-bendpoint"),Ee(e,n);var i=Fe("circle");Me(i,{cx:0,cy:0,r:4}),Ce(i).add("djs-visual"),Ee(n,i);var r=Fe("circle");return Me(r,{cx:0,cy:0,r:10}),Ce(r).add("djs-hit"),Ee(n,r),t&&Ce(n).add(t),n}function yu(e,t,n,i){var r=Fe("g");Ee(e,r);var o=function(e,t,n){var i=t.x-e.x,r=t.y-e.y;return wu("h"===n?i:r)}(t,n,i),a=Fe("rect");Me(a,{x:-9,y:-3,width:18,height:6}),Ce(a).add("djs-visual"),Ee(r,a);var s=Fe("rect");return Me(s,{x:-o/2,y:-8.5,width:o,height:17}),Ce(s).add("djs-hit"),Ee(r,s),ti(r,"v"===i?90:0),r}function bu(e,t,n){var i=Fe("g"),r=Ot(t,n),o=Pt(t,n);return Ee(e,i),yu(i,t,n,o),Ce(i).add("djs-segment-dragger"),Ce(i).add("h"===o?"horizontal":"vertical"),ei(i,r.x,r.y),i}function wu(e){return Math.abs(Math.round(2*e/3))}function _u(e,t){return fu(e,function(e,t){for(var n,i=t.waypoints,r=1/0,o=0;o<i.length-1;o++){var a=i[o],s=i[o+1],c=du(e,[a,s]);c<r&&(r=c,n=o)}return[i[n],i[n+1]]}(e,t))}function xu(e,t,n,i,r){function o(e,n){var o=n.waypoints,a=gu(t,o,e);if(a)return!function(e,t,n){var i,r,o,a,s,c,u=e.index,l=e.point;return!(u<=0||e.bendpoint)&&(o=Ot(i=t[u-1],r=t[u]),a=Pt(i,r),s=Math.abs(l.x-o.x),c=Math.abs(l.y-o.y),a&&s<=n&&c<=n)}(a,o,function(e,t){var n,i,r=e.waypoints;return t.index<=0||t.bendpoint?null:(i=Pt((n={start:r[t.index-1],end:r[t.index]}).start,n.end))?wu("h"===i?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,a))?i.start(e,n,a.index,!a.bendpoint):r.start(e,n,a.index),!0}function a(e,t,i){pe.bind(e,t,(function(e){n.triggerMouseEvent(t,e,i),e.stopPropagation()}))}function s(e,n){var i=t.getLayer("overlays"),r=be('.djs-bendpoints[data-element-id="'+oa(e.id)+'"]',i);return!r&&n&&(Me(r=Fe("g"),{"data-element-id":e.id}),Ce(r).add("djs-bendpoints"),Ee(i,r),a(r,"mousedown",e),a(r,"click",e),a(r,"dblclick",e)),r}function c(e,t){return be('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function u(e,t){t.waypoints.forEach((function(t,n){var i=vu(e);Ee(e,i),ei(i,t.x,t.y)})),vu(e,"floating")}function l(e,t){for(var n,i,r,o=t.waypoints,s=1;s<o.length;s++)Pt(n=o[s-1],i=o[s])&&(Me(r=bu(e,n,i),{"data-segment-idx":s}),a(r,"mousemove",t))}function p(e){var t=s(e);return t||(u(t=s(e,!0),e),l(t,e)),t}function h(e){var t=s(e);t&&(!function(e){k(we(".djs-segment-dragger",e),(function(e){Pe(e)}))}(t),function(e){k(we(".djs-bendpoint",e),(function(e){Pe(e)}))}(t),l(t,e),u(t,e))}function f(e,t,n){var i,r,o=c(t.index,e),a=n[t.index-1],s=n[t.index],u=t.point,l=Ot(a,s),p=Pt(a,s);o&&(i=function(e){return be(".djs-visual",e)}(o),r={x:u.x-l.x,y:u.y-l.y},"v"===p&&(r={x:r.y,y:r.x}),ei(i,r.x,r.y))}e.on("connection.changed",(function(e){h(e.element)})),e.on("connection.remove",(function(e){var t=s(e.element);t&&Pe(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=p(n),e.add?Ce(t).add(e.marker):Ce(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,i,r=e.element,o=r.waypoints;if(o){if(n=s(r,!0),!(i=gu(t,o,e.originalEvent)))return;!function(e,t){var n=be(".floating",e),i=t.point;n&&ei(n,i.x,i.y)}(n,i),i.bendpoint||f(n,i,o)}})),e.on("element.mousedown",(function(e){if(Ro(e)){var t=e.originalEvent,n=e.element;if(n.waypoints)return o(t,n)}})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&p(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(p(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var i=s(t);i&&Me(i,{"data-element-id":n})}})),this.addHandles=p,this.updateHandles=h,this.getBendpointsContainer=s,this.getSegmentDragger=c}xu.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var ku=Math.round;function Eu(e,t,n,i,r,o){this._injector=e,this.start=function(e,t,o,a){var s,c=n.getGraphics(t),u=t.source,l=t.target,p=t.waypoints,h="updateWaypoints"===(s=a||0!==o?a||o!==p.length-1?"updateWaypoints":"reconnectEnd":"reconnectStart")?"connection.updateWaypoints":"connection.reconnect",f=r.allowed(h,{connection:t,source:u,target:l});!1===f&&(f=r.allowed(h,{connection:t,source:l,target:u})),!1!==f&&i.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:c,context:{allowed:f,bendpointIndex:o,connection:t,source:u,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,i=n.connection,o=i.source,a=i.target,s=e.hover,c=n.type;if(n.hover=s,s){var u="updateWaypoints"===c?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=r.allowed(u,{connection:i,source:"reconnectStart"===c?s:o,target:"reconnectEnd"===c?s:a}))return n.source="reconnectStart"===c?s:o,void(n.target="reconnectEnd"===c?s:a);!1===t&&(t=n.allowed=r.allowed(u,{connection:i,source:"reconnectEnd"===c?s:a,target:"reconnectStart"===c?s:o})),t&&(n.source="reconnectEnd"===c?s:a,n.target="reconnectStart"===c?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context,n=t.type;t.hover=null,t.source=null,t.target=null,"updateWaypoints"!==n&&(t.allowed=!1)})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,r=t.connection,a=t.insert,s=r.waypoints.slice(),c=t.source,u=t.target,l=t.type,p=t.hints||{},h={x:ku(e.x),y:ku(e.y)};if(!n)return!1;"updateWaypoints"===l?(a?s.splice(i,0,h):s[i]=h,p.bendpointMove={insert:a,bendpointIndex:i},s=this.cropWaypoints(r,s),o.updateWaypoints(r,function(e){e=e.slice();for(var t,n,i,r=0;e[r];)t=e[r],n=e[r-1],0===Ct(t,i=e[r+1])||Tt(n,i,t)?e.splice(r,1):r++;return e}(s),p)):("reconnectStart"===l?(p.docking="source",Su(t)&&(p.docking="target",p.newWaypoints=s.reverse())):"reconnectEnd"===l&&(p.docking="target",Su(t)&&(p.docking="source",p.newWaypoints=s.reverse())),o.reconnect(r,c,u,h,p))}),this)}function Su(e){var t=e.hover,n=e.source,i=e.target,r=e.type;return"reconnectStart"===r?t&&i&&t===i&&n!==i:"reconnectEnd"===r?t&&n&&t===n&&n!==i:void 0}Eu.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],Eu.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t};function ju(e,t,n,i){this._injector=t;var r=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,r=t.connection,o=t.insert,a=r.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),r.waypoints=s,Ce(t.draggerGfx=vu(i.getLayer("overlays"))).add("djs-dragging"),i.addMarker(r,"djs-dragging"),i.addMarker(r,"djs-updating")})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,r=t.hover,o=t.type;if(r){if(i.addMarker(r,"connect-hover"),"updateWaypoints"===o)return;n?(i.removeMarker(r,"connect-not-ok"),i.addMarker(r,"connect-ok")):!1===n&&(i.removeMarker(r,"connect-ok"),i.addMarker(r,"connect-not-ok"))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,r=t.target;n&&(i.removeMarker(n,"connect-hover"),i.removeMarker(n,r?"connect-ok":"connect-not-ok"))})),n.on("bendpoint.move.move",(function(t){var n=t.context,i=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,c=n.type,u=n.connection,l=u.source,p=u.target,h=u.waypoints.slice(),f={x:t.x,y:t.y},d=n.hints||{},m={};r&&(d.connectionStart&&(m.connectionStart=d.connectionStart),d.connectionEnd&&(m.connectionEnd=d.connectionEnd),"reconnectStart"===c?Su(n)?(m.connectionEnd=m.connectionEnd||f,m.source=p,m.target=s||l,h=h.reverse()):(m.connectionStart=m.connectionStart||f,m.source=s||l,m.target=p):"reconnectEnd"===c?Su(n)?(m.connectionStart=m.connectionStart||f,m.source=s||p,m.target=l,h=h.reverse()):(m.connectionEnd=m.connectionEnd||f,m.source=l,m.target=s||p):(m.noCropping=!0,m.noLayout=!0,h[o]=f),"updateWaypoints"===c&&(h=e.cropWaypoints(u,h)),m.waypoints=h,r.drawPreview(n,i,m)),ei(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,c=t.waypoints;n.waypoints=c,Pe(o),i.removeMarker(n,"djs-updating"),i.removeMarker(n,"djs-dragging"),a&&(i.removeMarker(a,"connect-ok"),i.removeMarker(a,s?"connect-ok":"connect-not-ok")),r&&r.cleanUp(t)}))}ju.$inject=["bendpointMove","injector","eventBus","canvas"];function Mu(e,t,n){return Au(e,t,e[t]+n)}function Au(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function Cu(e){return"x"===e?"y":"x"}function Tu(e,t,n){var i,r;return e.original?e.original:(i=xn(t),Au(e,r=Cu(n),i[r]))}function Pu(e,t,n,i,r,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,i=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=i,n}function c(e){r.update("connection",e.connection,e.connectionGfx)}function u(e,t,n){var i=e.newWaypoints,r=function(e,t,n,i){var r=Math.max(t[i],n[i]),o=Math.min(t[i],n[i]);return Au(t,i,Math.min(Math.max(o+20,e[i]),r-20))}(n,i[e.segmentStartIndex+t],i[e.segmentEndIndex+t],Cu(e.axis));ei(e.draggerGfx,r.x,r.y)}this.start=function(e,t,r){var o,a,s,c,u=n.getGraphics(t),l=r-1,p=r,h=t.waypoints,f=h[l],d=h[p],m=gu(n,h,e);(a=Pt(f,d))&&(s="v"===a?"x":"y",0===l&&(f=Tu(f,t.source,s)),p===h.length-1&&(d=Tu(d,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:p,segmentStart:f,segmentEnd:d,axis:s,dragPosition:c=m?m.point:{x:(f.x+d.x)/2,y:(f.y+d.y)/2}},i.init(e,c,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:u,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,i=e.connection,r=n.getLayer("overlays");t.originalWaypoints=i.waypoints.slice(),t.draggerGfx=bu(r,t.segmentStart,t.segmentEnd),Ce(t.draggerGfx).add("djs-dragging"),n.addMarker(i,"djs-updating")})),t.on("connectionSegment.move.move",(function(e){var t,n,i=e.context,r=i.connection,o=i.segmentStartIndex,a=i.segmentEndIndex,l=i.segmentStart,p=i.segmentEnd,h=i.axis,f=i.originalWaypoints.slice(),d=Mu(l,h,e["d"+h]),m=Mu(p,h,e["d"+h]),g=f.length,v=0;f[o]=d,f[a]=m,o<2&&(t=kn(r.source,d),1===o?"intersect"===t&&(f.shift(),f[0]=d,v--):"intersect"!==t&&(f.unshift(l),v++)),a>g-3&&(n=kn(r.target,m),a===g-2?"intersect"===n&&(f.pop(),f[f.length-1]=m):"intersect"!==n&&f.push(p)),i.newWaypoints=r.waypoints=s(r,f),u(i,v,e),i.newSegmentStartIndex=o+v,c(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,"connect-hover")})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,"connect-hover")})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,i=t.connection;t.draggerGfx&&Pe(t.draggerGfx),n.removeMarker(i,"djs-updating")})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,c(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,i=t.newWaypoints,r=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(i,r){return!Tt(e[r-1],e[r+1],i)||(n=r<=t?n-1:n,!1)})),segmentOffset:n}}(i=i.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),r),c=s(n,a.waypoints),u=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:r+u}};o.updateWaypoints(n,c,l)}))}Pu.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Ru=Math.abs,Bu=Math.round;function Ou(e){return{x:e.x,y:e.y}}function Iu(e){return{x:e.x+e.width,y:e.y+e.height}}function Du(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:Bu(e.x+e.width/2),y:Bu(e.y+e.height/2)}}function Fu(e,t){var n=e.snapped;return!!n&&("string"==typeof t?n[t]:n.x&&n.y)}function zu(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var i,r=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,i=n-r,e[t]+=i,e["d"+t]+=i),r}function Nu(e){return e.children||[]}var Lu=Math.abs,qu=Math.round;function Hu(e){function t(e,t){if(f(e)){for(var n=e.length;n--;)if(Lu(e[n]-t)<=10)return e[n]}else{var i=t%(e=+e);if(i<10)return t-i;if(i>e-10)return t-i+e}return t}function n(e,t){return e.waypoints?_u(t,e):e.width?{x:qu(e.width/2+e.x),y:qu(e.height/2+e.y)}:void 0}e.on("connectionSegment.move.move",1500,(function(e){var i,r,o=function(e){var t=e.context,i=t.snapPoints,r=t.connection,o=r.waypoints,a=t.segmentStart,s=t.segmentStartIndex,c=t.segmentEnd,u=t.segmentEndIndex,l=t.axis;if(i)return i;var p=[o[s-1],a,c,o[u+1]];return s<2&&p.unshift(n(r.source,e)),u>o.length-3&&p.unshift(n(r.target,e)),t.snapPoints=i={horizontal:[],vertical:[]},k(p,(function(e){e&&(e=e.original||e,"y"===l&&i.horizontal.push(e.y),"x"===l&&i.vertical.push(e.x))})),i}(e),a=e.x,s=e.y;if(o){var c=a-(i=t(o.vertical,a)),u=s-(r=t(o.horizontal,s));H(e,{dx:e.dx-c,dy:e.dy-u,x:i,y:r}),(c||-1!==o.vertical.indexOf(a))&&zu(e,"x",i),(u||-1!==o.horizontal.indexOf(s))&&zu(e,"y",r)}})),e.on(["connect.hover","connect.move","connect.end"],1500,(function(e){var t=e.context.hover,i=t&&n(t,e);mn(t)&&i&&i.x&&i.y&&(zu(e,"x",i.x),zu(e,"y",i.y))})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var i,r,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,i=e.bendpointIndex;if(t)return t;var r=[n[i-1],n[i+1]];return e.snapPoints=t={horizontal:[],vertical:[]},k(r,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),s=o.hover,c=s&&n(s,e),u=e.x,l=e.y;if(a){var p=u-(i=t(c?a.vertical.concat([c.x]):a.vertical,u)),h=l-(r=t(c?a.horizontal.concat([c.y]):a.horizontal,l));H(e,{dx:e.dx-p,dy:e.dy-h,x:e.x-p,y:e.y-h}),(p||-1!==a.vertical.indexOf(u))&&zu(e,"x",i),(h||-1!==a.horizontal.indexOf(l))&&zu(e,"y",r)}}))}Hu.$inject=["eventBus"];var Uu={__depends__:[nu,su],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",xu],bendpointMove:["type",Eu],bendpointMovePreview:["type",ju],connectionSegmentMove:["type",Pu],bendpointSnapping:["type",Hu]};function $u(e,t,n,i){function r(e,t){return i.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,i=n.start,o=e.hover;if(n.hover=o,!h(t=n.canExecute=r(i,o))){if(!1!==t)return n.source=i,void(n.target=o);h(t=n.canExecute=r(o,i))||!1!==t&&(n.source=o,n.target=i)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,i=t.canExecute,r=t.connectionStart,o={x:e.x,y:e.y},a=t.source,s=t.target;if(!i)return!1;var c=null,u={connectionStart:Vu(t)?o:r,connectionEnd:Vu(t)?r:o};d(i)&&(c=i),t.connection=n.connect(a,s,c,u)})),this.start=function(e,n,i,r){d(i)||(r=i,i=xn(n)),t.init(e,"connect",{autoActivate:r,data:{shape:n,context:{start:n,connectionStart:i}}})}}function Vu(e){var t=e.hover,n=e.source,i=e.target;return t&&n&&t===n&&n!==i}$u.$inject=["eventBus","dragging","modeling","rules"];function Wu(e,t,n){var i=e.get("connectionPreview",!1);i&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,r=t.hover,o=t.source,a=t.start,s=t.startPosition,c=t.target,u=t.connectionStart||s,l=t.connectionEnd||{x:e.x,y:e.y},p=u,h=l;Vu(t)&&(p=l,h=u),i.drawPreview(t,n,{source:o||a,target:c||r,connectionStart:p,connectionEnd:h})})),t.on("connect.hover",900,(function(e){var t=e.context,i=e.hover,r=t.canExecute;null!==r&&n.addMarker(i,r?"connect-ok":"connect-not-ok")})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,"connect-ok"),n.removeMarker(t,"connect-not-ok"))})),i&&t.on("connect.cleanup",(function(e){i.cleanUp(e.context)}))}Wu.$inject=["injector","eventBus","canvas"];var Gu={__depends__:[Vo,su,nu],__init__:["connectPreview"],connect:["type",$u],connectPreview:["type",Wu]};function Ku(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}Ku.$inject=["injector","canvas","graphicsFactory","elementFactory"],Ku.prototype.drawPreview=function(e,t,n){n=n||{};var i,r,o,a=e.connectionPreviewGfx,s=e.getConnection,c=n.source,u=n.target,l=n.waypoints,p=n.connectionStart,h=n.connectionEnd,f=n.noLayout,d=n.noCropping,m=n.noNoop,g=this;a||(a=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),Re(a),s||(s=e.getConnection=(r=function(e,t,n){return g.getConnection(e,t,n)},o={},function(e){var t=JSON.stringify(e),n=o[t];return n||(n=o[t]=r.apply(null,arguments)),n})),t&&(i=s(t,c,u)),i?(i.waypoints=l||[],this._layouter&&!f&&(i.waypoints=this._layouter.layoutConnection(i,{source:c,target:u,connectionStart:p,connectionEnd:h,waypoints:n.waypoints||i.waypoints})),i.waypoints&&i.waypoints.length||(i.waypoints=[c?xn(c):p,u?xn(u):h]),this._connectionDocking&&(c||u)&&!d&&(i.waypoints=this._connectionDocking.getCroppedWaypoints(i,c,u)),this._graphicsFactory.drawConnection(a,i,{stroke:"var(--element-dragger-color)"})):!m&&this.drawNoopPreview(a,n)},Ku.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,r=t.connectionStart||xn(n),o=t.connectionEnd||xn(i),a=this.cropWaypoints(r,o,n,i);Ee(e,this.createNoopConnection(a[0],a[1]))},Ku.prototype.cropWaypoints=function(e,t,n,i){var r=this._graphicsFactory,o=n&&r.getShapePath(n),a=i&&r.getShapePath(i),s=r.getConnectionPath({waypoints:[e,t]});return[e=n&&En(o,s,!0)||e,t=i&&En(a,s,!1)||t]},Ku.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Pe(e.connectionPreviewGfx)},Ku.prototype.getConnection=function(e){var t=function(e){return d(e)?e:{}}(e);return this._elementFactory.createConnection(t)},Ku.prototype.createConnectionPreviewGfx=function(){var e=Fe("g");return Me(e,{pointerEvents:"none"}),Ce(e).add("djs-dragger"),Ee(this._canvas.getActiveLayer(),e),e},Ku.prototype.createNoopConnection=function(e,t){return ft([e,t],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};var Zu={__init__:["connectionPreview"],connectionPreview:["type",Ku]},Yu=["marker-start","marker-mid","marker-end"],Xu=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Ju(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i,this._clonedMarkers={};var r=this;t.on("drag.cleanup",(function(){r.cleanUp()}))}Ju.$inject=["elementRegistry","eventBus","canvas","styles"],Ju.prototype.cleanUp=function(){k(this._clonedMarkers,(function(e){Pe(e)})),this._clonedMarkers={}},Ju.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},Ju.prototype.addDragger=function(e,t,n,i="djs-dragger"){var r=Be(n=n||this.getGfx(e)),o=n.getBoundingClientRect();return this._cloneMarkers(Jn(r),i),Me(r,this._styles.cls(i,[],{x:o.top,y:o.left})),Ee(t,r),Me(r,"data-preview-support-element-id",e.id),r},Ju.prototype.addFrame=function(e,t){var n=Fe("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return Ee(t,n),Me(n,"data-preview-support-element-id",e.id),n},Ju.prototype._cloneMarkers=function(e,t="djs-dragger"){var n,i=this;if(e.childNodes)for(var r=0;r<e.childNodes.length;r++)i._cloneMarkers(e.childNodes[r],t);(n=e,-1!==Xu.indexOf(n.nodeName))&&Yu.forEach((function(n){if(Me(e,n)){var r=function(e,t,n){return be("marker#"+(i=Me(e,t),i.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]),n||document);var i}(e,n,i._canvas.getContainer());i._cloneMarker(e,r,n,t)}}))},Ju.prototype._cloneMarker=function(e,t,n,i="djs-dragger"){var r=t.id+"-"+i,o=this._clonedMarkers[r];if(!o){var a=r+"-clone";(o=Be(t)).id=a,Ce(o).add(i),this._clonedMarkers[r]=o;var s=be("defs",this._canvas._svg);s||(s=Fe("defs"),Ee(this._canvas._svg,s)),Ee(s,o)}Me(e,n,"url(#"+this._clonedMarkers[r].id+")")};var Qu={__init__:["previewSupport"],previewSupport:["type",Ju]};class el{constructor(e,t,n){this._canvas=e,this._graphicsFactory=t,this._previewSupport=n,this._markers=[]}create(e){this.cleanUp();const{created:t=[],moved:n=[],removed:i=[],resized:r=[]}=e,o=this._canvas.getLayer("complex-preview");t.filter(e=>!function(e){return e.hidden}(e)).forEach(e=>{let t;mn(e)?(t=this._graphicsFactory._createContainer("connection",Fe("g")),this._graphicsFactory.drawConnection(Jn(t),e)):(t=this._graphicsFactory._createContainer("shape",Fe("g")),this._graphicsFactory.drawShape(Jn(t),e),ei(t,e.x,e.y)),this._previewSupport.addDragger(e,o,t)}),n.forEach(({element:e,delta:t})=>{this._previewSupport.addDragger(e,o,void 0,"djs-dragging"),this._canvas.addMarker(e,"djs-element-hidden"),this._markers.push([e,"djs-element-hidden"]);const n=this._previewSupport.addDragger(e,o);mn(e)?ei(n,t.x,t.y):ei(n,e.x+t.x,e.y+t.y)}),i.forEach(e=>{this._previewSupport.addDragger(e,o,void 0,"djs-dragging"),this._canvas.addMarker(e,"djs-element-hidden"),this._markers.push([e,"djs-element-hidden"])}),r.forEach(({shape:e,bounds:t})=>{this._canvas.addMarker(e,"djs-hidden"),this._markers.push([e,"djs-hidden"]),this._previewSupport.addDragger(e,o,void 0,"djs-dragging");const n=this._graphicsFactory._createContainer("shape",Fe("g"));this._graphicsFactory.drawShape(Jn(n),e,{width:t.width,height:t.height}),ei(n,t.x,t.y),this._previewSupport.addDragger(e,o,n)})}cleanUp(){Re(this._canvas.getLayer("complex-preview")),this._markers.forEach(([e,t])=>this._canvas.removeMarker(e,t)),this._markers=[],this._previewSupport.cleanUp()}show(){this._canvas.showLayer("complex-preview")}hide(){this._canvas.hideLayer("complex-preview")}}el.$inject=["canvas","graphicsFactory","previewSupport"];var tl={__depends__:[Qu],__init__:["complexPreview"],complexPreview:["type",el]},nl=["top","bottom","left","right"];function il(e,t){function n(e){if(Gr(e)){var n=function(e){var t=xn(e.label),n=rl(xn(e),t);if(i=n,-1===nl.indexOf(i))return;var i;var r=function(e){var t=xn(e);return[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return rl(t,e)}))}(e);if(e.host){var o=function(e){var t,n=e.host,i=kn(xn(e),n);t=i.indexOf("-")>=0?i.split("-"):[i];return nl.filter((function(e){return-1===t.indexOf(e)}))}(e);r=r.concat(o)}var a=nl.filter((function(e){return-1===r.indexOf(e)}));if(-1!==a.indexOf(n))return;return a[0]}(e);n&&function(e,n){var i=xn(e),r=e.label,o=xn(r);if(!r.parent)return;var a,s=bn(e);switch(n){case"top":a={x:i.x,y:s.top-10-r.height/2};break;case"left":a={x:s.left-10-r.width/2,y:i.y};break;case"bottom":a={x:i.x,y:s.bottom+10+r.height/2};break;case"right":a={x:s.right+10+r.width/2,y:i.y}}var c=La(a,o);t.moveShape(r,c)}(e,n)}}ta.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context,i=t.connection,r=i.source,o=i.target;!1!==(t.hints||{}).createElementsBehavior&&(n(r),n(o))})),this.postExecuted(["label.create"],(function(e){var t=e.context,i=t.shape;!1!==(t.hints||{}).createElementsBehavior&&n(i.labelTarget)})),this.postExecuted(["elements.create"],(function(e){var t=e.context,i=t.elements;!1!==(t.hints||{}).createElementsBehavior&&i.forEach((function(e){n(e)}))}))}function rl(e,t){return kn(t,e,5)}function ol(e){ta.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||(kr(n,"bpmn:TextAnnotation")?e.position={x:t.x+t.width/2+75,y:t.y-50-n.height/2}:e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}function al(e,t){e.invoke(ta,this),this.postExecute("shape.move",(function(e){var n=e.newParent,i=e.shape;k(x(i.incoming.concat(i.outgoing),(function(e){return kr(e,"bpmn:Association")})),(function(e){t.moveConnection(e,{x:0,y:0},n)}))}),!0)}i(il,ta),il.$inject=["eventBus","modeling"],i(ol,ta),ol.$inject=["eventBus"],i(al,ta),al.$inject=["injector","modeling"];function sl(e,t){t.invoke(ta,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;1===(t=t.filter((function(e){return cl(e,e.host)}))).length&&t.map((function(e){return t.indexOf(e)})).forEach((function(i){var r=t[i];e.elements[i]=n._replaceShape(t[i],r)}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,i=e.newHost;if(1===t.length){var r=t[0];cl(r,i)&&(e.shapes=[n._replaceShape(r,i)])}}),!0)}function cl(e,t){return!gn(e)&&Er(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function ul(e,t){function n(e){return x(e.attachers,(function(e){return kr(e,"bpmn:BoundaryEvent")}))}ta.call(this,e),this.postExecute("connection.create",(function(e){var i=e.context.source,r=e.context.target,o=n(r);kr(i,"bpmn:EventBasedGateway")&&kr(r,"bpmn:ReceiveTask")&&o.length>0&&t.removeElements(o)})),this.postExecute("connection.reconnect",(function(e){var i=e.context.oldSource,r=e.context.newSource;kr(i,"bpmn:Gateway")&&kr(r,"bpmn:EventBasedGateway")&&k(r.outgoing,(function(e){var i=e.target,r=n(i);kr(i,"bpmn:ReceiveTask")&&r.length>0&&t.removeElements(r)}))}))}function ll(e,t,n){function i(e){t.updateProperties(e,{isForCompensation:!0})}function r(e){t.updateProperties(e,{isForCompensation:void 0})}ta.call(this,e),this.preExecute("shape.replace",(function(e){const{newData:n,oldShape:i}=e;if(hl(e.oldShape)&&"bpmn:CompensateEventDefinition"!==n.eventDefinitionType||"bpmn:BoundaryEvent"!==n.type){const t=i.outgoing.find(({target:e})=>pl(e));t&&t.target&&(e._connectionTarget=t.target)}else if(!hl(e.oldShape)&&"bpmn:CompensateEventDefinition"===n.eventDefinitionType&&"bpmn:BoundaryEvent"===n.type){const n=i.outgoing.find(({target:e})=>fl(e));n&&n.target&&(e._connectionTarget=n.target),function(e){const n=e.outgoing.filter(e=>kr(e,"bpmn:SequenceFlow"));t.removeElements(n)}(i)}}),!0),this.postExecuted("shape.replace",(function(e){const{_connectionTarget:n,newShape:i}=e;n&&t.connect(i,n)}),!0),this.preExecute("connection.create",(function(e){const n=e.connection,r=e.source,o=e.target;hl(r)&&fl(o)&&(i(o),function(e,n){const i=e.outgoing.filter(e=>kr(e,"bpmn:Association"));i.filter(e=>pl(e.target)&&!n.includes(e)).forEach(e=>t.removeConnection(e))}(r,[n]))}),!0),this.postExecuted("connection.delete",(function(e){const t=e.source,n=e.target;hl(t)&&pl(n)&&r(n)}),!0),this.postExecuted("connection.reconnect",(function(e){const t=e.newTarget,n=e.oldSource,o=e.oldTarget;if(o!==t){const e=n;pl(o)&&r(o),hl(e)&&fl(t)&&i(t)}}),!0),this.postExecuted("element.updateProperties",(function(e){const{element:i}=e;pl(i)?(function(e){for(const i of e.incoming)n.canConnect(i.source,e)||t.removeConnection(i);for(const i of e.outgoing)n.canConnect(e,i.target)||t.removeConnection(i)}(i),function(e){const n=e.attachers.slice();if(!n.length)return;t.removeElements(n)}(i)):fl(i)&&function(e){const n=e.incoming.filter(e=>hl(e.source));t.removeElements(n)}(i)}),!0)}function pl(e){const t=Sr(e);return t&&t.get("isForCompensation")}function hl(e){return e&&kr(e,"bpmn:BoundaryEvent")&&$r(e,"bpmn:CompensateEventDefinition")}function fl(e){return e&&kr(e,"bpmn:Activity")&&!Ur(e)}function dl(e,t){for(v(t)&&(t=[t]);e=e.parent;)if(Er(e,t))return e;return null}function ml(e){e.invoke(ta,this),this.preExecute("shape.create",1500,(function(e){var t=e.context,n=t.parent,i=t.shape;kr(n,"bpmn:Lane")&&!kr(i,"bpmn:Lane")&&(t.parent=dl(n,"bpmn:Participant"))}))}function gl(e,t){ta.call(this,e),this.preExecute("shape.create",(function(e){var n=e.context.shape;if(kr(n,"bpmn:DataObjectReference")&&"label"!==n.type){var i=t.create("bpmn:DataObject");n.businessObject.dataObjectRef=i}}))}sl.$inject=["bpmnReplace","injector"],i(sl,ta),sl.prototype._replaceShape=function(e,t){var n,i=(n=Sr(e).eventDefinitions)&&n[0],r={type:"bpmn:BoundaryEvent",host:t};return i&&(r.eventDefinitionType=i.$type),this._bpmnReplace.replaceElement(e,r,{layoutConnection:!1})},ul.$inject=["eventBus","modeling"],i(ul,ta),i(ll,ta),ll.$inject=["eventBus","modeling","bpmnRules"],ml.$inject=["injector"],i(ml,ta),gl.$inject=["eventBus","bpmnFactory"],i(gl,ta);function vl(e,t,n){function i(){var t=e.getRootElement();return kr(t,"bpmn:Collaboration")?t:n.makeCollaboration()}ta.call(this,t),t.on(["create.start","shape.move.start"],2e3,(function(t){var n=t.context,i=n.shape,r=e.getRootElement();if(kr(i,"bpmn:Participant")&&kr(r,"bpmn:Process")&&r.children.length){var o=r.children.filter((function(e){return!kr(e,"bpmn:Group")&&!gn(e)&&!mn(e)}));if(o.length){var a=wt(o);H(i,function(e,t){t={width:t.width+40+30,height:t.height+40};var n=Math.max(e.width,t.width),i=Math.max(e.height,t.height);return{x:-n/2,y:-i/2,width:n,height:i}}(i,a)),n.createConstraints=function(e,t){return{bottom:(t=bn(t)).top+e.height/2-20,left:t.right-e.width/2+20,top:t.bottom-e.height/2+20,right:t.left+e.width/2-20-30}}(i,a)}}})),t.on("create.start",2e3,(function(n){var i=n.context.shape,r=e.getRootElement(),o=e.getGraphics(r);function a(e){e.element=r,e.gfx=o}kr(i,"bpmn:Participant")&&kr(r,"bpmn:Process")&&(t.on("element.hover",2e3,a),t.once("create.cleanup",(function(){t.off("element.hover",a)})))})),this.preExecute("elements.create",2e3,(function(e){var t,n=e.elements,r=e.parent,o=function(e){return b(e,(function(e){return kr(e,"bpmn:Participant")}))}(n);o&&kr(r,"bpmn:Process")&&(e.parent=i(),(t=e.hints=e.hints||{}).participant=o,t.process=r,t.processRef=Sr(o).get("processRef"))}),!0),this.preExecute("shape.create",(function(e){var t=e.parent,n=e.shape;kr(n,"bpmn:Participant")&&kr(t,"bpmn:Process")&&(e.parent=i(),e.process=t,e.processRef=Sr(n).get("processRef"))}),!0),this.execute("shape.create",(function(e){var t=e.hints||{},n=e.process||t.process,i=e.shape,r=t.participant;!n||r&&i!==r||Sr(i).set("processRef",Sr(n))}),!0),this.revert("shape.create",(function(e){var t=e.hints||{},n=e.process||t.process,i=e.processRef||t.processRef,r=e.shape,o=t.participant;!n||o&&r!==o||Sr(r).set("processRef",i)}),!0),this.postExecute("shape.create",(function(e){var t=e.hints||{},i=e.process||e.hints.process,r=e.shape,o=t.participant;if(i){var a=i.children.slice();o?r===o&&n.moveElements(a,{x:0,y:0},o):n.moveElements(a,{x:0,y:0},r)}}),!0)}vl.$inject=["canvas","eventBus","modeling"],i(vl,ta);function yl(e,t){function n(e,n){var i=e.get("properties"),r=b(i,(function(e){return"__targetRef_placeholder"===e.name}));return!r&&n&&Mt(i,r=t.create("bpmn:Property",{name:"__targetRef_placeholder"})),r}function i(e,t){var i=n(e);i&&(function(e,t,n){return b(e.get("dataInputAssociations"),(function(e){return e!==n&&e.targetRef===t}))}(e,i,t)||jt(e.get("properties"),i))}function r(e){var t,r=e.context,o=r.connection,a=o.businessObject,s=o.target,c=s&&s.businessObject,u=r.newTarget,l=u&&u.businessObject,p=r.oldTarget||r.target,h=p&&p.businessObject,f=o.businessObject;h&&h!==c&&i(h,a),l&&l!==c&&i(l,a),c?(t=n(c,!0),f.targetRef=t):f.targetRef=null}ta.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],bl(r)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],bl(r))}function bl(e){return function(t){if(kr(t.context.connection,"bpmn:DataInputAssociation"))return e(t)}}function wl(e){this._bpmnUpdater=e}function _l(e,t,n,i){function r(e){return e.children.filter((function(e){return kr(e,"bpmn:DataStoreReference")&&!e.labelTarget}))}function o(e,i){var r=e.businessObject||e;if(i=i||n.filter((function(e){return kr(e,"bpmn:Participant")&&Sr(e).processRef}))[0]){var o=i.businessObject||i;t.execute("dataStore.updateContainment",{dataStoreBo:r,dataStoreDi:jr(e),newSemanticParent:o.processRef||o,newDiParent:jr(i)})}}ta.call(this,i),t.registerHandler("dataStore.updateContainment",wl),this.preExecute("shape.create",(function(e){var t=e.context,n=t.shape;kr(n,"bpmn:DataStoreReference")&&"label"!==n.type&&(t.hints||(t.hints={}),t.hints.autoResize=!1)})),this.preExecute("elements.move",(function(e){var t=e.context,n=t.shapes;n.filter((function(e){return kr(e,"bpmn:DataStoreReference")})).length&&(t.hints||(t.hints={}),t.hints.autoResize=n.filter((function(e){return!kr(e,"bpmn:DataStoreReference")})))})),this.postExecute("shape.create",(function(e){var t=e.context.shape,n=t.parent;kr(t,"bpmn:DataStoreReference")&&"label"!==t.type&&kr(n,"bpmn:Collaboration")&&o(t)})),this.postExecute("shape.move",(function(e){var t=e.context,n=t.shape,i=t.oldParent,r=n.parent;kr(i,"bpmn:Collaboration")||kr(n,"bpmn:DataStoreReference")&&"label"!==n.type&&kr(r,"bpmn:Collaboration")&&o(n,kr(i,"bpmn:Participant")?i:function(e,t){for(;e.parent;){if(kr(e.parent,t))return e.parent;e=e.parent}}(i,"bpmn:Participant"))})),this.postExecute("shape.delete",(function(t){var n=t.context.shape,i=e.getRootElement();Er(n,["bpmn:Participant","bpmn:SubProcess"])&&kr(i,"bpmn:Collaboration")&&r(i).filter((function(e){return function(e,t){var n=e.businessObject||e,i=t.businessObject||t;for(;n.$parent;){if(n.$parent===i.processRef||i)return!0;n=n.$parent}return!1}(e,n)})).forEach((function(e){o(e)}))})),this.postExecute("canvas.updateRoot",(function(e){var t=e.context,n=t.oldRoot,i=t.newRoot;r(n).forEach((function(e){kr(i,"bpmn:Process")&&o(e,i)}))}))}yl.$inject=["eventBus","bpmnFactory"],i(yl,ta),wl.$inject=["bpmnUpdater"],wl.prototype.execute=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,i=e.newSemanticParent,r=e.newDiParent;return e.oldSemanticParent=t.$parent,e.oldDiParent=n.$parent,this._bpmnUpdater.updateSemanticParent(t,i),this._bpmnUpdater.updateDiParent(n,r),[]},wl.prototype.revert=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,i=e.oldSemanticParent,r=e.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t,i),this._bpmnUpdater.updateDiParent(n,r),[]},_l.$inject=["canvas","commandStack","elementRegistry","eventBus"],i(_l,ta);var xl=Math.max,kl=Math.min;function El(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function Sl(e,t,n){var i=t[e],r=n.min&&n.min[e],o=n.max&&n.max[e];return m(r)&&(i=(/top|left/.test(e)?kl:xl)(i,r)),m(o)&&(i=(/top|left/.test(e)?xl:kl)(i,o)),i}function jl(e,t){return void 0!==e?e:20}function Ml(e){return!e.waypoints&&"label"!==e.type}function Al(e,t){var n;if((n=void 0===e.length?x(e.children,Ml):e).length)return function(e,t){var n,i,r,o;return"object"==typeof t?(n=jl(t.left),i=jl(t.right),r=jl(t.top),o=jl(t.bottom)):n=i=r=o=jl(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+o}}(wt(n),t)}var Cl=Math.abs;var Tl=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"];function Pl(e,t){return t=t||[],e.children.filter((function(e){kr(e,"bpmn:Lane")&&(Pl(e,t),t.push(e))})),t}function Rl(e){return e.children.filter((function(e){return kr(e,"bpmn:Lane")}))}function Bl(e){return dl(e,Tl)||e}function Ol(e,t){var n=Bl(e),i=Pl(n,kr(n,"bpmn:Process")?[]:[n]),r=bn(e),o=bn(t),a=function(e,t){return El(bn(t),bn(e))}(e,t),s=[],c=Hr(e);return i.forEach((function(t){if(t!==e){var n,i,u=c?0:a.top,l=c?a.right:0,p=c?0:a.bottom,h=c?a.left:0,f=bn(t);a.top&&(Cl(f.bottom-r.top)<10&&(p=o.top-f.bottom),Cl(f.top-r.top)<5&&(u=o.top-f.top)),a.left&&(Cl(f.right-r.left)<10&&(l=o.left-f.right),Cl(f.left-r.left)<5&&(h=o.left-f.left)),a.bottom&&(Cl(f.top-r.bottom)<10&&(u=o.bottom-f.top),Cl(f.bottom-r.bottom)<5&&(p=o.bottom-f.bottom)),a.right&&(Cl(f.left-r.right)<10&&(h=o.right-f.left),Cl(f.right-r.right)<5&&(l=o.right-f.right)),(u||l||p||h)&&s.push({shape:t,newBounds:(n=t,i={top:u,right:l,bottom:p,left:h},{x:n.x+(i.left||0),y:n.y+(i.top||0),width:n.width-(i.left||0)+(i.right||0),height:n.height-(i.top||0)+(i.bottom||0)})})}})),s}function Il(e,t){ta.call(this,e),this.postExecuted("shape.delete",500,(function(e){var n=e.context,i=n.hints,r=n.shape,o=n.oldParent;kr(r,"bpmn:Lane")&&(i&&i.nested||function(e,n){var i,r,o,a,s,c=Hr(e),u=Rl(n),l=[],p=[],h=[],f=[];vt(u,(function(t){return c?t.y>e.y?p.push(t):l.push(t):t.x>e.x?f.push(t):h.push(t),t.children})),u.length&&(i=c?p.length&&l.length?e.height/2:e.height:f.length&&h.length?e.width/2:e.width,l.length&&(r=t.calculateAdjustments(l,"y",i,e.y-10),t.makeSpace(r.movingShapes,r.resizingShapes,{x:0,y:i},"s")),p.length&&(o=t.calculateAdjustments(p,"y",-i,e.y+e.height+10),t.makeSpace(o.movingShapes,o.resizingShapes,{x:0,y:-i},"n")),h.length&&(a=t.calculateAdjustments(h,"x",i,e.x-10),t.makeSpace(a.movingShapes,a.resizingShapes,{x:i,y:0},"e")),f.length&&(s=t.calculateAdjustments(f,"x",-i,e.x+e.width+10),t.makeSpace(s.movingShapes,s.resizingShapes,{x:-i,y:0},"w")))}(r,o))}))}Il.$inject=["eventBus","spaceTool"],i(Il,ta);function Dl(e,t){t.invoke(ta,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",500,(function(e){var t=e.elements;t.filter((function(e){return Fl(e,e.host)})).map((function(e){return t.indexOf(e)})).forEach((function(i){e.elements[i]=n._replaceShape(t[i])}))}),!0),this.preExecute("elements.move",500,(function(e){var t=e.shapes,i=e.newHost;t.forEach((function(e,r){var o,a=e.host;Fl(e,(o=a,-1!==t.indexOf(o)?a:i))&&(t[r]=n._replaceShape(e))}))}),!0)}function Fl(e,t){return!gn(e)&&kr(e,"bpmn:BoundaryEvent")&&!t}function zl(e,t,n){function i(e,i,r){var o,a,s,c,u,l,p,h,f=i.waypoints,d=e.outgoing.slice(),g=e.incoming.slice(),v=lu(f,h=m(r.width)?xn(r):r);if(v){if(o=f.slice(0,v.index),a=f.slice(v.index+(v.bendpoint?1:0)),!o.length||!a.length)return;s=v.bendpoint?f[v.index]:h,1!==o.length&&Nl(e,o[o.length-1])||o.push(Ll(s)),1!==a.length&&Nl(e,a[0])||a.unshift(Ll(s))}c=i.source,u=i.target,t.canConnect(c,e,i)&&(n.reconnectEnd(i,e,o||h),l=i),t.canConnect(e,u,i)&&(l?p=n.connect(e,u,{type:i.type,waypoints:a}):(n.reconnectStart(i,e,a||h),p=i));var y=[].concat(l&&x(g,(function(e){return e.source===l.source}))||[],p&&x(d,(function(e){return e.target===p.target}))||[]);y.length&&n.removeElements(y)}ta.call(this,e),this.preExecute("elements.move",(function(e){var n=e.newParent,i=e.shapes,r=e.delta,o=i[0];if(o&&n){n&&n.waypoints&&(e.newParent=n=n.parent);var a=xn(o),s={x:a.x+r.x,y:a.y+r.y},c=b(n.children,(function(e){return t.canInsert(i,e)&&lu(e.waypoints,s)}));c&&(e.targetFlow=c,e.position=s)}}),!0),this.postExecuted("elements.move",(function(e){var t=e.shapes,n=e.targetFlow,r=e.position;n&&i(t[0],n,r)}),!0),this.preExecute("shape.create",(function(e){var n=e.parent,i=e.shape;t.canInsert(i,n)&&(e.targetFlow=n,e.parent=n.parent)}),!0),this.postExecuted("shape.create",(function(e){var t=e.shape,n=e.targetFlow,r=e.position;n&&i(t,n,r)}),!0)}function Nl(e,t){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function Ll(e){return H({},e)}function ql(e,t){ta.call(this,e),this.preExecuted("connection.create",(function(e){var n=e.context,i=n.connection,r=n.source,o=n.target,a=n.hints;if((!a||!1!==a.createElementsBehavior)&&Hl(i)){(kr(r,"bpmn:EventBasedGateway")?o.incoming.filter(e=>e!==i&&Hl(e)):o.incoming.filter(e=>e!==i&&Hl(e)&&kr(e.source,"bpmn:EventBasedGateway"))).forEach((function(e){t.removeConnection(e)}))}})),this.preExecuted("shape.replace",(function(e){var n=e.context.newShape;kr(n,"bpmn:EventBasedGateway")&&n.outgoing.filter(Hl).reduce((function(e,t){return e.includes(t.target)?e:e.concat(t.target)}),[]).forEach((function(e){e.incoming.filter(Hl).forEach((function(i){const r=e.incoming.filter(Hl).filter((function(e){return e.source===n}));(i.source!==n||r.length>1)&&t.removeConnection(i)}))}))}))}function Hl(e){return kr(e,"bpmn:SequenceFlow")}Dl.$inject=["bpmnReplace","injector"],i(Dl,ta),Dl.prototype._replaceShape=function(e){var t,n,i=(n=Sr(e).eventDefinitions)&&n[0];return t=i?{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:i.$type}:{type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,t,{layoutConnection:!1})},i(zl,ta),zl.$inject=["eventBus","bpmnRules","modeling"],ql.$inject=["eventBus","modeling"],i(ql,ta);function Ul(e,t,n){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],1500,(function(t){var i=t.context.shape||t.shape,r=t.hover;kr(r,"bpmn:Lane")&&!Er(i,["bpmn:Lane","bpmn:Participant"])&&(t.hover=Bl(r),t.hoverGfx=e.getGraphics(t.hover));var o=n.getRootElement();r!==o&&(i.labelTarget||Er(i,["bpmn:Group","bpmn:TextAnnotation"]))&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],1500,(function(t){var n=t.hover;kr(n,"bpmn:Lane")&&(t.hover=Bl(n)||n,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["bendpoint.move.hover"],1500,(function(t){var n=t.context,i=t.hover,r=n.type;kr(i,"bpmn:Lane")&&/reconnect/.test(r)&&(t.hover=Bl(i)||i,t.hoverGfx=e.getGraphics(t.hover))})),t.on(["connect.start"],1500,(function(e){var t=e.context,n=t.start;kr(n,"bpmn:Lane")&&(t.start=Bl(n)||n)})),t.on("shape.move.start",2e3,(function(e){var t=e.shape;kr(t,"bpmn:Lane")&&(e.shape=Bl(t)||t)})),t.on("spaceTool.move",2e3,(function(e){var t=e.hover;t&&kr(t,"bpmn:Lane")&&(e.hover=Bl(t))}))}Ul.$inject=["elementRegistry","eventBus","canvas"];function $l(e,t,n,i,r,o){function a(e,t,i){var r=n.filter((function(e){return kr(e,"bpmn:Group")})).filter((function(e){return e.businessObject!==i}));t&&!function(e,t){return e.some((function(e){var n=Sr(e);return(n.categoryValueRef&&n.categoryValueRef.$parent)===t}))}(r,t)&&function(e){var t=e.$parent;t&&(jt(t.get("rootElements"),e),e.$parent=null)}(t),e&&!function(e,t){return e.some((function(e){return Sr(e).categoryValueRef===t}))}(r,e)&&function(e){var t=e.$parent;t&&(jt(t.get("categoryValue"),e),e.$parent=null)}(e)}function s(e,n){return function(e,t,n){return Mt(t.get("categoryValue"),e),e.$parent=t,Mt(n.get("rootElements"),t),t.$parent=n,e}(e,n,t.getDefinitions())}function c(n,i){var r=Sr(n),o=r.categoryValueRef;o||(o=r.categoryValueRef=i.categoryValue=i.categoryValue||function(e){return e.create("bpmn:CategoryValue")}(e));var a=o.$parent;a||(a=o.$parent=i.category=i.category||function(e){return e.create("bpmn:Category")}(e)),s(o,a,t.getDefinitions())}function u(e,t){var n=t.category,i=t.categoryValue,r=Sr(e);i?(r.categoryValueRef=null,a(i,n,r)):a(null,r.categoryValueRef.$parent,r)}function l(t,n){var i=e.create(t.$type);return o.copyElement(t,i,null,n)}r.invoke(ta,this),this.execute("label.create",(function(e){var t=e.context,n=t.labelTarget;kr(n,"bpmn:Group")&&c(n,t)})),this.revert("label.create",(function(e){var t=e.context,n=t.labelTarget;kr(n,"bpmn:Group")&&u(n,t)})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,i=Sr(n);if(kr(n,"bpmn:Group")&&!n.labelTarget){var r=t.categoryValue=i.categoryValueRef;r&&(a(r,t.category=r.$parent,i),i.categoryValueRef=null)}})),this.reverted("shape.delete",(function(e){var t=e.context,n=t.shape;if(kr(n,"bpmn:Group")&&!n.labelTarget){var i=t.category,r=t.categoryValue,o=Sr(n);r&&(o.categoryValueRef=r,s(r,i))}})),this.execute("shape.create",(function(e){var t=e.context,n=t.shape;kr(n,"bpmn:Group")&&!n.labelTarget&&Sr(n).categoryValueRef&&c(n,t)})),this.reverted("shape.create",(function(e){var t=e.context,n=t.shape;kr(n,"bpmn:Group")&&!n.labelTarget&&Sr(n).categoryValueRef&&u(n,t)})),i.on("copyPaste.copyElement",770,(function(e){var t=e.descriptor,n=e.element;if(kr(n,"bpmn:Group")&&!n.labelTarget){var i=Sr(n);if(i.categoryValueRef){var r=i.categoryValueRef;t.categoryValue=l(r,!0),r.$parent&&(t.category=l(r.$parent,!0))}}})),i.on("copyPaste.pasteElement",770,(function(e){var t=e.descriptor,n=t.businessObject,i=t.categoryValue,r=t.category;i&&(i=n.categoryValueRef=l(i)),r&&(i.$parent=l(r)),delete t.category,delete t.categoryValue}))}function Vl(e,t,n,i){var r,o,a,s;return 0==(r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((i.x-n.x)*o-(i.y-n.y)*a)/r,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function Wl(e){function t(e,t,n){var i,r={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=Vl(e,t,n,r),s=Vl(e,t,n,o);i=a&&s?Gl(a,n)>Gl(s,n)?s:a:a||s,e.original=i}e.on("bpmnElement.added",(function(e){var n,i,r=e.element;r.waypoints&&(t((i=(n=r).waypoints)[0],i[1],xn(n.source)),t(i[i.length-1],i[i.length-2],xn(n.target)))}))}function Gl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kl(e){ta.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],(function(e){var n=e.context.shape,i=Sr(n),r=jr(n);if(Er(i,t)){var o=r.get("isHorizontal");void 0===o&&(o=!0),r.set("isHorizontal",o)}}))}$l.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"],i($l,ta),Wl.$inject=["eventBus"],Kl.$inject=["eventBus"],i(Kl,ta);var Zl=Math.sqrt,Yl=Math.min,Xl=Math.max,Jl=Math.abs;function Ql(e){return Math.pow(e,2)}function ep(e,t){return Zl(Ql(e.x-t.x)+Ql(e.y-t.y))}function tp(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,c=r*r+o*o,u=(r*a+o*s)/c,l=u*u-(a*a+s*s-i*i)/c;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=Zl(l),h=-u+p,f=-u-p,d={x:e.x-r*h,y:e.y-o*h};return 0===l?[d]:[d,{x:e.x-r*f,y:e.y-o*f}].filter((function(n){return function(e,t,n){return np(e.x,t.x,n.x)&&np(e.y,t.y,n.y)}(n,e,t)}))}function np(e,t,n){return e>=Yl(t,n)-ip&&e<=Xl(t,n)+ip}var ip=.1;function rp(e,t){return Jl(e.x-t.x)<=ip&&Jl(e.y-t.y)<=ip}function op(e,t,n,i){var r=n.segmentIndex,o=t.length-e.length;if(i.segmentMove){var a=i.segmentMove.segmentStartIndex,s=i.segmentMove.newSegmentStartIndex;return r===a?s:r>=s?r+o<s?s:r+o:r}if(i.bendpointMove){var c,u=i.bendpointMove.insert,l=i.bendpointMove.bendpointIndex;if(0===o)return r;if(r>=l&&(c=u?r+1:r-1),r<l)if(c=r,u&&"bendpoint"!==n.type&&l-1===r)sp(t,l)<n.relativeLocation&&c++;return c}return 0===o?r:i.connectionStart&&0===r?0:i.connectionEnd&&r===e.length-2?t.length-2:Math.floor((t.length-2)/2)}function ap(e,t,n,i){var r=0,o=0,a={point:e,delta:{x:0,y:0}},s=function(e,t){var n,i,r,o,a,s,c,u,l,p,h,f,d=0;for(d=0;d<t.length-1;d++){if(rp(n=t[d],i=t[d+1])?s=[n]:(r=ep(e,n),o=ep(e,i),s=tp(n,i,e,Yl(r,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(c={type:"bendpoint",position:s[0],segmentIndex:d,bendpointIndex:rp(n,s[0])?d:d+1}),2===s.length&&(h=s[0],f=s[1],c={type:"segment",position:a={x:(h.x+f.x)/2,y:(h.y+f.y)/2},segmentIndex:d,relativeLocation:ep(n,a)/ep(n,i)}),u=ep(c.position,e),(!p||l>u)&&(p=c,l=u)}return p}(e,n),c=s.segmentIndex,u=op(n,t,s,i);if(u<0||u>t.length-2||null===u)return a;var l,p,h,f,d,m,g=cp(n,c),v=cp(t,u),y=s.position,b=(f=y,d=mu((h=g)[0],h[1]),m=mu(h[0],f),0===d?0:m/d),w=(l=v,p=hu(g),hu(l)-p);if("bendpoint"===s.type){var _=t.length-n.length,x=s.bendpointIndex,k=n[x];if(-1!==t.indexOf(k))return a;if(0===_){var E=t[x];return{delta:{x:r=E.x-s.position.x,y:o=E.y-s.position.y},point:{x:e.x+r,y:e.y+o}}}_<0&&0!==x&&x<n.length-1&&(b=sp(n,x))}var S,j,M={x:(v[1].x-v[0].x)*b+v[0].x,y:(v[1].y-v[0].y)*b+v[0].y},A=(S={x:e.x-y.x,y:e.y-y.y},(j=w)?{x:Math.cos(j)*S.x-Math.sin(j)*S.y,y:Math.sin(j)*S.x+Math.cos(j)*S.y}:S);return r=M.x+A.x-e.x,o=M.y+A.y-e.y,{point:yn(M),delta:yn({x:r,y:o})}}function sp(e,t){var n=mu(e[t-1],e[t]);return n/(n+mu(e[t],e[t+1]))}function cp(e,t){return[e[t],e[t+1]]}function up(e,t,n){var i=Na(t),r=Na(n),o=La(e,i),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return yn({x:r.x+a,y:r.y+s})}function lp(e,t,n){var i=Na(e),r=Na(t),o=Na(n),a=La(e,i),s=La(i,r),c=function(e,t,n){var i=bn(t),r=bn(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(i,r))return null;var o,a,s=kn(t,e);if("top"===s)o={x:0,y:r.bottom-i.bottom};else if("bottom"===s)o={x:0,y:r.top-i.top};else if("right"===s)o={x:r.left-i.left,y:0};else{if("left"!==s)return null;o={x:r.right-i.right,y:0}}if(a={x:e.x+o.x,y:e.y+o.y},kn(n,a)!==s)return null;return o}(i,t,n);if(c)return c;var u=s.x*(n.width/t.width),l=s.y*(n.height/t.height),p=o.x+u,h=o.y+l;return yn({x:p+a.x-e.x,y:h+a.y-e.y})}function pp(e,t,n,i){function r(e){var n=e.context,r=n.element,o=n.properties;if("name"in o&&t.updateLabel(r,o.name),"text"in o&&kr(r,"bpmn:TextAnnotation")){var a=i.getTextAnnotationBounds({x:r.x,y:r.y,width:r.width,height:r.height},o.text||"");t.updateLabel(r,o.text,a)}}function o(e){var t=e.context,n=t.connection,i=n.label,r=H({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return void 0===r.startChanged&&(r.startChanged=!!r.connectionStart),void 0===r.endChanged&&(r.endChanged=!!r.connectionEnd),function(e,t,n,i){return ap(xn(e),t,n,i).delta}(i,o,a,r)}ta.call(this,e),this.postExecute("element.updateProperties",r),this.postExecute("element.updateModdleProperties",e=>{Sr(e.context.element)===e.context.moddleElement&&r(e)}),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var i=n.shape||n.connection;!gn(i)&&Wr(i)&&Xr(i)&&t.updateLabel(i,Xr(i))}})),this.postExecute("shape.delete",(function(e){var n=e.context,i=n.labelTarget,r=n.hints||{};i&&!1!==r.unsetLabel&&t.updateLabel(i,null,null,{removeShape:!1})})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n=e.context;if(!1!==(n.hints||{}).labelBehavior){var i,r=n.connection.label;r&&r.parent&&(i=o(e),t.moveShape(r,i))}})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,i=t.oldShape,r=Sr(n);r&&Wr(r)&&i.label&&n.label&&(n.label.x=i.label.x,n.label.y=i.label.y)})),this.postExecute("shape.resize",(function(e){var n,i=e.context,r=i.shape,o=i.newBounds,a=i.oldBounds;if(Gr(r)){var s=r.label,c=function(e,t,n){return yn(La(up(e,t,n),e))}(function(e,t){if(!t.length)return;var n=function(e,t){return O(t.map((function(t){return{line:t,distance:du(e,t)}})),"distance")[0].line}(e,t);return fu(e,n)}(xn(s),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),a,o);t.moveShape(s,c)}}))}function hp(e,t){function n(e,t){var n=e.context,i=n.connection,r=H({},n.hints),o=n.newWaypoints||i.waypoints,a=n.oldWaypoints;return void 0===r.startChanged&&(r.startChanged=!!r.connectionStart),void 0===r.endChanged&&(r.endChanged=!!r.connectionEnd),function(e,t,n,i){return ap(e,t,n,i).point}(t,o,a,r)}ta.call(this,e),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var i=e.context.connection,r=i.outgoing;i.incoming.forEach((function(i){var r=i.waypoints[i.waypoints.length-1],o=n(e,r),a=[].concat(i.waypoints.slice(0,-1),[o]);t.updateWaypoints(i,a)})),r.forEach((function(i){var r=i.waypoints[0],o=n(e,r),a=[].concat([o],i.waypoints.slice(1));t.updateWaypoints(i,a)}))})),this.postExecute(["connection.move"],(function(e){var n=e.context,i=n.connection,r=i.outgoing,o=i.incoming,a=n.delta;o.forEach((function(e){var n=e.waypoints[e.waypoints.length-1],i={x:n.x+a.x,y:n.y+a.y},r=[].concat(e.waypoints.slice(0,-1),[i]);t.updateWaypoints(e,r)})),r.forEach((function(e){var n=e.waypoints[0],i={x:n.x+a.x,y:n.y+a.y},r=[].concat([i],e.waypoints.slice(1));t.updateWaypoints(e,r)}))}))}function fp(e,t,n){var i=yp(e),r=bp(i,t),o=i[0];return r.length?r[r.length-1]:up(o.original||o,n,t)}function dp(e,t,n){var i=yp(e),r=bp(i,t),o=i[i.length-1];return r.length?r[0]:up(o.original||o,n,t)}function mp(e,t,n){var i=yp(e),r=vp(t,n),o=i[0];return up(o.original||o,r,t)}function gp(e,t,n){var i=yp(e),r=vp(t,n),o=i[i.length-1];return up(o.original||o,r,t)}function vp(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function yp(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function bp(e,t){return x(A(e,wp),(function(e){return function(e,t){return"intersect"===kn(t,e,1)}(e,t)}))}function wp(e){return e.original||e}function _p(e,t){ta.call(this,e),this.postExecute("shape.replace",(function(e){var n=e.oldShape,i=e.newShape;if(function(e,t){return kr(e,"bpmn:Participant")&&qr(e)&&kr(t,"bpmn:Participant")&&!qr(t)}(n,i)){var r,o,a,s,c=(o=bt([r=n],!1),a=[],s=[],o.forEach((function(e){e!==r&&(e.incoming.forEach((function(e){kr(e,"bpmn:MessageFlow")&&a.push(e)})),e.outgoing.forEach((function(e){kr(e,"bpmn:MessageFlow")&&s.push(e)})))}),[]),{incoming:a,outgoing:s});c.incoming.forEach((function(e){var r=dp(e,i,n);t.reconnectEnd(e,i,r)})),c.outgoing.forEach((function(e){var r=fp(e,i,n);t.reconnectStart(e,i,r)}))}}),!0)}i(pp,ta),pp.$inject=["eventBus","modeling","bpmnFactory","textRenderer"],i(hp,ta),hp.$inject=["eventBus","modeling"],_p.$inject=["eventBus","modeling"],i(_p,ta);const xp=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function kp(e){const t=Sr(e);if(!(kr(t,"bpmn:BoundaryEvent")||kr(t,"bpmn:StartEvent")&&Ur(t.$parent)))return!1;const n=t.get("eventDefinitions");return!(!n||!n.length)&&xp.some(e=>kr(n[0],e))}function Ep(e){return kr(e,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function Sp(e,t){e.invoke(ta,this),this.postExecuted("shape.replace",(function(e){const n=e.context.oldShape,i=e.context.newShape,r=e.context.hints;if(!kp(i))return;const o=Ep(i);if(r.targetElement&&void 0!==r.targetElement[o])return;const a=Sr(n).get(o);a!==Sr(i).get(o)&&t.updateProperties(i,{[o]:a})}))}function jp(e,t){ta.call(this,e),this.preExecute("shape.resize",(function(e){var n=e.shape,i=jr(n),r=i&&i.get("label");r&&r.get("bounds")&&t.updateModdleProperties(n,r,{bounds:void 0})}),!0)}function Mp(e,t,n){ta.call(this,e),this.preExecute("shape.delete",(function(e){var i=e.context.shape;if(1===i.incoming.length&&1===i.outgoing.length){var r,o,a,s=i.incoming[0],c=i.outgoing[0];if(kr(s,"bpmn:SequenceFlow")&&kr(c,"bpmn:SequenceFlow"))if(t.canConnect(s.source,c.target,s)){var u=(r=s.waypoints,o=c.waypoints,(a=Vl(Ap(r[r.length-2]),Ap(r[r.length-1]),Ap(o[1]),Ap(o[0])))?[].concat(r.slice(0,r.length-1),[a],o.slice(1)):[Ap(r[0]),Ap(o[o.length-1])]);n.reconnectEnd(s,c.target,u)}}}))}function Ap(e){return e.original||e}function Cp(e,t){ta.call(this,e),this.preExecute("shape.delete",(function(e){var t=e.shape,n=t.parent;kr(t,"bpmn:Participant")&&(e.collaborationRoot=n)}),!0),this.postExecute("shape.delete",(function(e){var n=e.collaborationRoot;n&&!n.businessObject.participants.length&&t.makeProcess()}),!0)}function Tp(e,t,n,i){ta.call(this,e);var r=i.get("dragging",!1);function o(e){var i,r,o=e.source,a=e.target;e.parent&&(kr(e,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(o,a)||(r=!0),n.canConnectMessageFlow(o,a)&&(i="bpmn:MessageFlow")),kr(e,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(o,a)||(r=!0),n.canConnectSequenceFlow(o,a)&&(i="bpmn:SequenceFlow")),r&&t.removeConnection(e),i&&t.connect(o,a,{type:i,waypoints:e.waypoints.slice()}))}this.postExecuted("elements.move",(function(e){k(e.closure.allConnections,o)}),!0),this.preExecute("connection.reconnect",(function(e){var i,o,a=e.context,s=a.connection,c=a.newSource||s.source,u=a.newTarget||s.target;(i=n.canConnect(c,u))&&i.type!==s.type&&(o=t.connect(c,u,{type:i.type,associationDirection:i.associationDirection,waypoints:s.waypoints.slice()}),s.parent&&t.removeConnection(s),a.connection=o,r&&function(e,t){var n,i=r.context(),o=i&&i.payload.previousSelection;if(!o||!o.length)return;if(-1===(n=o.indexOf(e)))return;o.splice(n,1,t)}(s,o))})),this.postExecuted("element.updateProperties",(function(e){var n,i=e.context,r=i.properties,o=i.element,a=o.businessObject;r.default&&(n=b(o.outgoing,I({id:o.businessObject.default.id})))&&t.updateProperties(n,{conditionExpression:void 0}),r.conditionExpression&&a.sourceRef.default===a&&t.updateProperties(o.source,{default:void 0})}))}function Pp(e,t,n,i,r,o){i.invoke(ta,this),this._bpmnReplace=e,this._elementRegistry=n,this._selection=o,this.postExecuted(["elements.create"],500,(function(e){var n=e.context,i=n.parent,r=n.elements,o=S(r,(function(e,n){var r=t.canReplace([n],n.host||n.parent||i);return r?e.concat(r.replacements):e}),[]);o.length&&this._replaceElements(r,o)}),this),this.postExecuted(["elements.move"],500,(function(e){var n=e.context,i=n.newParent,r=n.newHost,o=[];k(n.closure.topLevel,(function(e){o=Ur(e)?o.concat(e.children):o.concat(e)})),1===o.length&&r&&(i=r);var a=t.canReplace(o,i);a&&this._replaceElements(o,a.replacements,r)}),this),this.postExecute(["shape.replace"],1500,(function(e){var n,i=e.context,r=i.oldShape,o=i.newShape,a=r.attachers;a&&a.length&&(n=t.canReplace(a,o),this._replaceElements(a,n.replacements))}),this),this.postExecuted(["shape.replace"],1500,(function(e){var t=e.context,n=t.oldShape,i=t.newShape;r.unclaimId(n.businessObject.id,n.businessObject),r.updateProperties(i,{id:n.id})}))}Sp.$inject=["injector","modeling"],i(Sp,ta),i(jp,ta),jp.$inject=["eventBus","modeling"],i(Mp,ta),Mp.$inject=["eventBus","bpmnRules","modeling"],Cp.$inject=["eventBus","modeling"],i(Cp,ta),i(Tp,ta),Tp.$inject=["eventBus","modeling","bpmnRules","injector"],i(Pp,ta),Pp.prototype._replaceElements=function(e,t){var n=this._elementRegistry,i=this._bpmnReplace,r=this._selection;k(t,(function(t){var r={type:t.newElementType},o=n.get(t.oldElementId),a=e.indexOf(o);e[a]=i.replaceElement(o,r,{select:!1})})),t&&r.select(e)},Pp.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var Rp={width:140,height:120},Bp={width:300,height:60},Op={width:60,height:300},Ip={width:300,height:150},Dp={width:150,height:300},Fp={width:140,height:120},zp={width:50,height:30};function Np(e){e.on("resize.start",1500,(function(e){var t=e.context,n=t.shape,i=t.direction,r=t.balanced;(kr(n,"bpmn:Lane")||kr(n,"bpmn:Participant"))&&(t.resizeConstraints=function(e,t,n){var i=Bl(e),r=!0,o=!0,a=Pl(i,[i]),s=bn(e),c={},u={},l=Hr(e),p=l?Bp:Op;/n/.test(t)?u.top=s.bottom-p.height:/e/.test(t)?u.right=s.left+p.width:/s/.test(t)?u.bottom=s.top+p.height:/w/.test(t)&&(u.left=s.right-p.width);a.forEach((function(e){var i=bn(e);/n/.test(t)&&(l&&i.top<s.top-10&&(r=!1),n&&Lp(s.top-i.bottom)<10&&Vp(c,"top",i.top+p.height),Lp(s.top-i.top)<5&&$p(u,"top",i.bottom-p.height)),/e/.test(t)&&(!l&&i.right>s.right+10&&(o=!1),n&&Lp(s.right-i.left)<10&&$p(c,"right",i.right-p.width),Lp(s.right-i.right)<5&&Vp(u,"right",i.left+p.width)),/s/.test(t)&&(l&&i.bottom>s.bottom+10&&(o=!1),n&&Lp(s.bottom-i.top)<10&&$p(c,"bottom",i.bottom-p.height),Lp(s.bottom-i.bottom)<5&&Vp(u,"bottom",i.top+p.height)),/w/.test(t)&&(!l&&i.left<s.left-10&&(r=!1),n&&Lp(s.left-i.right)<10&&Vp(c,"left",i.left+p.width),Lp(s.left-i.left)<5&&$p(u,"left",i.right-p.width))}));var h=i.children.filter((function(e){return!e.hidden&&!e.waypoints&&(kr(e,"bpmn:FlowElement")||kr(e,"bpmn:Artifact"))})),f=l?Wp:Gp;return h.forEach((function(e){var n=bn(e);r&&/n/.test(t)&&$p(u,"top",n.top-f.top),o&&/e/.test(t)&&Vp(u,"right",n.right+f.right),o&&/s/.test(t)&&Vp(u,"bottom",n.bottom+f.bottom),r&&/w/.test(t)&&$p(u,"left",n.left-f.left)})),{min:u,max:c}}(n,i,r)),kr(n,"bpmn:SubProcess")&&qr(n)&&(t.minDimensions=Fp),kr(n,"bpmn:TextAnnotation")&&(t.minDimensions=zp)}))}Np.$inject=["eventBus"];var Lp=Math.abs,qp=Math.min,Hp=Math.max;function Up(e,t,n,i){var r=e[t];e[t]=void 0===r?n:i(n,r)}function $p(e,t,n){return Up(e,t,n,qp)}function Vp(e,t,n){return Up(e,t,n,Hp)}var Wp={top:20,left:50,right:20,bottom:20},Gp={top:50,left:20,right:20,bottom:20};function Kp(e,t){e.on("resize.start",1501,(function(e){var t=e.context,n=t.shape;(kr(n,"bpmn:Lane")||kr(n,"bpmn:Participant"))&&(t.balanced=!Bo(e))})),e.on("resize.end",1001,(function(e){var n=e.context,i=n.shape,r=n.canExecute,o=n.newBounds;if(kr(i,"bpmn:Lane")||kr(i,"bpmn:Participant"))return r&&(o=vn(o),t.resizeLane(i,o,n.balanced)),!1}))}Kp.$inject=["eventBus","modeling"];function Zp(e,t,n,i,r){function o(e){return Er(e,["bpmn:ReceiveTask","bpmn:SendTask"])||function(e,t){f(t)||(t=[t]);return M(t,(function(t){return $r(e,t)}))}(e,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function a(t){return!!b(e.getDefinitions().get("rootElements"),I({id:t.id}))}function s(e){return kr(e,"bpmn:ErrorEventDefinition")?"errorRef":kr(e,"bpmn:EscalationEventDefinition")?"escalationRef":kr(e,"bpmn:MessageEventDefinition")?"messageRef":kr(e,"bpmn:SignalEventDefinition")?"signalRef":void 0}function c(e){if(Er(e,["bpmn:ReceiveTask","bpmn:SendTask"]))return e.get("messageRef");var t=e.get("eventDefinitions")[0];return t.get(s(t))}n.invoke(ta,this),this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],(function(t){var n=t.shape||t.element;if(o(n)){var i=c(Sr(n));i&&!a(i)&&(Mt(e.getDefinitions().get("rootElements"),i),t.addedRootElement=i)}}),!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],(function(t){var n=t.addedRootElement;n&&jt(e.getDefinitions().get("rootElements"),n)}),!0),t.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element;if(!n.labelTarget&&o(n)){var i=c(Sr(n));i&&(t.referencedRootElement=i)}})),t.on("copyPaste.pasteElement",500,(function(e){var t=e.descriptor,n=t.businessObject,o=t.referencedRootElement;o&&(a(o)||(o=i.copyElement(o,r.create(o.$type))),function(e,t){if(Er(e,["bpmn:ReceiveTask","bpmn:SendTask"]))return e.set("messageRef",t);var n=e.get("eventDefinitions")[0];n.set(s(n),t)}(n,o),delete t.referencedRootElement)}))}Zp.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"],i(Zp,ta);var Yp=Math.max;function Xp(e){e.on("spaceTool.getMinDimensions",(function(e){var t=e.shapes,n=e.axis,i=e.start,r={};return k(t,(function(e){var t=e.id;kr(e,"bpmn:Participant")&&(r[t]=function(e,t,n){var i=Hr(e);if(r=e,!Rl(r).length)return i?Ip:Dp;var r;var o=function(e){return"x"===e}(t),a={};a=o?i?Ip:{width:Qp(e,n,o),height:Dp.height}:i?{width:Ip.width,height:Jp(e,n,o)}:Dp;return a}(e,n,i)),kr(e,"bpmn:Lane")&&(r[t]=Hr(e)?Bp:Op),kr(e,"bpmn:SubProcess")&&qr(e)&&(r[t]=Fp),kr(e,"bpmn:TextAnnotation")&&(r[t]=zp),kr(e,"bpmn:Group")&&(r[t]=Rp)})),r}))}function Jp(e,t,n){var i;return i=function(e,t,n){var i,r=Rl(e);return i=eh(r,t,n),e.height-i.height+Bp.height}(e,t,n),Yp(Ip.height,i)}function Qp(e,t,n){var i;return i=function(e,t,n){var i,r=Rl(e);return i=eh(r,t,n),e.width-i.width+Op.width}(e,t,n),Yp(Dp.width,i)}function eh(e,t,n){var i,r,o;for(i=0;i<e.length;i++)if(r=e[i],!n&&t>=r.y&&t<=r.y+r.height||n&&t>=r.x&&t<=r.x+r.width)return(o=Rl(r)).length?eh(o,t,n):r}Xp.$inject=["eventBus"];var th=180,nh=160;function ih(e,t,n,i,r,o,a){ta.call(this,t),this._canvas=e,this._eventBus=t,this._modeling=n,this._elementFactory=i,this._bpmnFactory=r,this._bpmnjs=o,this._elementRegistry=a;var s=this;function c(e){return kr(e,"bpmn:SubProcess")&&!qr(e)}function u(t){var n=t.shape,i=t.newRootElement,r=Sr(n);i=s._addDiagram(i||r),t.newRootElement=e.addRootElement(i)}function l(t){var n=Sr(t.shape);s._removeDiagram(n);var i=t.newRootElement=a.get(ua(n));e.removeRootElement(i)}this.executed("shape.create",(function(e){c(e.shape)&&u(e)}),!0),this.postExecuted("shape.create",(function(e){var t=e.shape,n=e.newRootElement;n&&t.children&&(s._showRecursively(t.children),s._moveChildrenToShape(t,n))}),!0),this.reverted("shape.create",(function(e){c(e.shape)&&l(e)}),!0),this.preExecuted("shape.delete",(function(e){var t=e.shape;if(c(t)){var i=a.get(ua(t));i&&n.removeElements(i.children.slice())}}),!0),this.executed("shape.delete",(function(e){c(e.shape)&&l(e)}),!0),this.reverted("shape.delete",(function(e){c(e.shape)&&u(e)}),!0),this.preExecuted("shape.replace",(function(t){var n=t.oldShape,i=t.newShape;c(n)&&c(i)&&(t.oldRoot=e.removeRootElement(ua(n)))}),!0),this.postExecuted("shape.replace",(function(t){var i=t.newShape,r=t.oldRoot,o=e.findRoot(ua(i));if(r&&o){var a=r.children;n.moveElements(a,{x:0,y:0},o)}}),!0),this.executed("element.updateProperties",(function(e){var t=e.element;if(kr(t,"bpmn:SubProcess")){var n=e.properties,i=e.oldProperties.id,r=n.id;if(i!==r){if(pa(t))return a.updateId(t,la(r)),void a.updateId(i,r);a.get(la(i))&&a.updateId(la(i),la(r))}}}),!0),this.reverted("element.updateProperties",(function(e){var t=e.element;if(kr(t,"bpmn:SubProcess")){var n=e.properties,i=e.oldProperties.id,r=n.id;if(i!==r){if(pa(t))return a.updateId(t,la(i)),void a.updateId(r,i);var o=a.get(la(r));o&&a.updateId(o,la(i))}}}),!0),t.on("element.changed",(function(e){var n=e.element;if(pa(n)){var i=n,r=a.get(ca(i));r&&r!==i&&t.fire("element.changed",{element:r})}})),this.executed("shape.toggleCollapse",400,(function(e){var t=e.shape;kr(t,"bpmn:SubProcess")&&(qr(t)?l(e):(u(e),s._showRecursively(t.children)))}),!0),this.reverted("shape.toggleCollapse",400,(function(e){var t=e.shape;kr(t,"bpmn:SubProcess")&&(qr(t)?l(e):(u(e),s._showRecursively(t.children)))}),!0),this.postExecuted("shape.toggleCollapse",600,(function(e){var t=e.shape;if(kr(t,"bpmn:SubProcess")){var n=e.newRootElement;n&&(qr(t)?s._moveChildrenToShape(n,t):s._moveChildrenToShape(t,n))}}),!0),t.on("copyPaste.createTree",(function(e){var t=e.element,n=e.children;if(c(t)){var i=ua(t),r=a.get(i);r&&n.push.apply(n,r.children)}})),t.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,i=e.elements,r=n.parent;if(kr(jr(r),"bpmndi:BPMNPlane")){var o=ca(r),a=b(i,(function(e){return e.id===o}));a&&(t.parent=a.id)}})),t.on("copyPaste.pasteElement",(function(e){var t=e.descriptor;t.parent&&(c(t.parent)||t.parent.hidden)&&(t.hidden=!0)}))}function rh(e,t){e.invoke(ta,this),this.postExecuted("shape.replace",(function(e){var n=e.context.oldShape,i=e.context.newShape;if(kr(i,"bpmn:SubProcess")&&(kr(n,"bpmn:Task")||kr(n,"bpmn:CallActivity"))&&qr(i)){var r,o={x:(r=i).x+r.width/6,y:r.y+r.height/2};t.createShape({type:"bpmn:StartEvent"},o,i)}}))}function oh(e){ta.call(this,e),this.preExecute("connection.create",(function(e){const{target:t}=e;kr(t,"bpmn:TextAnnotation")&&(e.parent=t.parent)}),!0),this.preExecute(["shape.create","shape.resize","elements.move"],(function(e){const t=e.shapes||[e.shape];1===t.length&&kr(t[0],"bpmn:TextAnnotation")&&(e.hints=e.hints||{},e.hints.autoResize=!1)}),!0)}function ah(e,t){ta.call(this,e),this.postExecuted("shape.toggleCollapse",1500,(function(e){var n=e.shape;if(!qr(n)){var i=bt(n);i.forEach((function(e){var t=e.incoming.slice(),n=e.outgoing.slice();k(t,(function(e){r(e,!0)})),k(n,(function(e){r(e,!1)}))}))}function r(e,r){-1!==i.indexOf(e.source)&&-1!==i.indexOf(e.target)||(r?t.reconnectEnd(e,n,xn(n)):t.reconnectStart(e,n,xn(n)))}}),!0)}i(ih,ta),ih.prototype._moveChildrenToShape=function(e,t){var n,i=this._modeling,r=e.children;if(r){var o=(r=r.concat(r.reduce((function(t,n){return n.label&&n.label.parent!==e?t.concat(n.label):t}),[]))).filter((function(e){return!e.hidden}));if(o.length){var a=wt(o);if(t.x){var s=xn(t),c=xn(a);n={x:s.x-c.x,y:s.y-c.y}}else n={x:th-a.x,y:nh-a.y};i.moveElements(r,n,t,{autoResize:!1})}else i.moveElements(r,{x:0,y:0},t,{autoResize:!1})}},ih.prototype._showRecursively=function(e,t){var n=this,i=[];return e.forEach((function(e){e.hidden=!!t,i=i.concat(e),e.children&&(i=i.concat(n._showRecursively(e.children,e.collapsed||t)))})),i},ih.prototype._addDiagram=function(e){var t=this._bpmnjs.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),t.push(e.di.$parent),e},ih.prototype._createNewDiagram=function(e){var t=this._bpmnFactory,n=this._elementFactory,i=t.create("bpmndi:BPMNPlane",{bpmnElement:e}),r=t.create("bpmndi:BPMNDiagram",{plane:i});return i.$parent=r,n.createRoot({id:ua(e),type:e.$type,di:i,businessObject:e,collapsed:!0})},ih.prototype._removeDiagram=function(e){var t=this._bpmnjs.getDefinitions().diagrams,n=b(t,(function(t){return t.plane.bpmnElement.id===e.id}));return t.splice(t.indexOf(n),1),n},ih.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"],rh.$inject=["injector","modeling"],i(rh,ta),i(oh,ta),oh.$inject=["eventBus"],i(ah,ta),ah.$inject=["eventBus","modeling"];function sh(e,t,n){ta.call(this,e),this.executed(["shape.toggleCollapse"],500,(function(e){var t,n=e.context.shape;kr(n,"bpmn:SubProcess")&&(n.collapsed?jr(n).isExpanded=!1:((t=n.children).length&&t.forEach((function(e){"label"!==e.type||e.businessObject.name||(e.hidden=!0)})),jr(n).isExpanded=!0))})),this.reverted(["shape.toggleCollapse"],500,(function(e){var t=e.context.shape;t.collapsed?jr(t).isExpanded=!1:jr(t).isExpanded=!0})),this.postExecuted(["shape.toggleCollapse"],500,(function(e){var i,r=e.context.shape,o=t.getDefaultSize(r);i=r.collapsed?function(e,t){return{x:e.x+(e.width-t.width)/2,y:e.y+(e.height-t.height)/2,width:t.width,height:t.height}}(r,o):function(e,t){var n,i,r=e.children,o=t;return(n=Al((i=r,i.filter((function(e){return!e.hidden}))).concat([e])))?(o.width=Math.max(n.width,o.width),o.height=Math.max(n.height,o.height),o.x=n.x+(n.width-o.width)/2,o.y=n.y+(n.height-o.height)/2):(o.x=e.x+(e.width-o.width)/2,o.y=e.y+(e.height-o.height)/2),o}(r,o),n.resizeShape(r,i,null,{autoResize:!r.collapsed&&"nwse"})}))}function ch(e,t,n,i){t.invoke(ta,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,r=t.businessObject;gn(t)||(kr(t,"bpmn:Participant")&&qr(t)&&n.ids.unclaim(r.processRef.id),i.unclaimId(r.id,r))})),this.preExecute("connection.delete",(function(e){var t=e.context.connection.businessObject;i.unclaimId(t.id,t)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement(),i=t.businessObject;kr(t,"bpmn:Collaboration")&&n.ids.unclaim(i.id)}))}function uh(e,t){ta.call(this,e),this.preExecute("connection.delete",(function(e){var n=e.context.connection,i=n.source;(function(e,t){if(!kr(e,"bpmn:SequenceFlow"))return!1;var n=Sr(t),i=Sr(e);return n.get("default")===i})(n,i)&&t.updateProperties(i,{default:null})}))}i(sh,ta),sh.$inject=["eventBus","elementFactory","modeling"],i(ch,ta),ch.$inject=["canvas","injector","moddle","modeling"],i(uh,ta),uh.$inject=["eventBus","modeling"];function lh(e,t,n){var i;function r(){if(!i)throw new Error(n("out of bounds release"));return i}ta.call(this,e);var o=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(o,5e3,(function(e){(i=i||new ph).enter()})),this.postExecuted(o,500,(function(e){!function(){if(!i)throw new Error(n("out of bounds release"));var e=i.leave();e&&(t.updateLaneRefs(i.flowNodes,i.lanes),i=null)}()})),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],(function(e){var t=e.context.shape,n=r();t.labelTarget||(kr(t,"bpmn:Lane")&&n.addLane(t),kr(t,"bpmn:FlowNode")&&n.addFlowNode(t))}))}function ph(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}lh.$inject=["eventBus","modeling","translate"],i(lh,ta);var hh={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior"],adaptiveLabelPositioningBehavior:["type",il],appendBehavior:["type",ol],associationBehavior:["type",al],attachEventBehavior:["type",sl],boundaryEventBehavior:["type",ul],compensateBoundaryEventBehaviour:["type",ll],createBehavior:["type",ml],createDataObjectBehavior:["type",gl],createParticipantBehavior:["type",vl],dataInputAssociationBehavior:["type",yl],dataStoreBehavior:["type",_l],deleteLaneBehavior:["type",Il],detachEventBehavior:["type",Dl],dropOnFlowBehavior:["type",zl],eventBasedGatewayBehavior:["type",ql],fixHoverBehavior:["type",Ul],groupBehavior:["type",$l],importDockingFix:["type",Wl],isHorizontalFix:["type",Kl],labelBehavior:["type",pp],layoutConnectionBehavior:["type",hp],messageFlowBehavior:["type",_p],nonInterruptingBehavior:["type",Sp],removeElementBehavior:["type",Mp],removeEmbeddedLabelBoundsBehavior:["type",jp],removeParticipantBehavior:["type",Cp],replaceConnectionBehavior:["type",Tp],replaceElementBehaviour:["type",Pp],resizeBehavior:["type",Np],resizeLaneBehavior:["type",Kp],rootElementReferenceBehavior:["type",Zp],spaceToolBehavior:["type",Xp],subProcessPlaneBehavior:["type",ih],subProcessStartEventBehavior:["type",rh],textAnnotationBehavior:["type",oh],toggleCollapseConnectionBehaviour:["type",ah],toggleElementCollapseBehaviour:["type",sh],unclaimIdBehavior:["type",ch],unsetDefaultFlowBehavior:["type",uh],updateFlowNodeRefsBehavior:["type",lh]};function fh(e,t){var n=kn(e,t,-15);return"intersect"!==n?n:null}function dh(e){Pc.call(this,e)}function mh(e){return!e||gn(e)}function gh(e){do{if(kr(e,"bpmn:Process"))return Sr(e);if(kr(e,"bpmn:Participant"))return Sr(e).processRef||Sr(e)}while(e=e.parent)}function vh(e){return kr(e,"bpmn:TextAnnotation")}function yh(e){return kr(e,"bpmn:Group")&&!e.labelTarget}function bh(e){return kr(e,"bpmn:BoundaryEvent")&&kh(e,"bpmn:CompensateEventDefinition")}function wh(e){return Sr(e).isForCompensation}function _h(e){for(var t=e;t=t.parent;){if(kr(t,"bpmn:FlowElementsContainer"))return Sr(t);if(kr(t,"bpmn:Participant"))return Sr(t).processRef}return null}function xh(e,t){return _h(e)===_h(t)}function kh(e,t){return!!b(Sr(e).eventDefinitions||[],(function(e){return kr(e,t)}))}function Eh(e,t){return(Sr(e).eventDefinitions||[]).every((function(e){return kr(e,t)}))}function Sh(e,t){return-1!==function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(e)}function jh(e,t,n){if(mh(e)||mh(t))return null;if(!kr(n,"bpmn:DataAssociation")){if(Lh(e,t))return{type:"bpmn:MessageFlow"};if(qh(e,t))return{type:"bpmn:SequenceFlow"}}var i=Hh(e,t);return i||(Nh(e,t)?{type:"bpmn:Association",associationDirection:"One"}:!!zh(e,t)&&{type:"bpmn:Association",associationDirection:"None"})}function Mh(e,t){return!(!gn(e)&&!yh(e))||!(kr(t,"bpmn:Participant")&&!qr(t))&&(kr(e,"bpmn:Participant")?kr(t,"bpmn:Process")||kr(t,"bpmn:Collaboration"):Er(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:kr(e,"bpmn:Lane")?kr(t,"bpmn:Participant")||kr(t,"bpmn:Lane"):!(kr(e,"bpmn:BoundaryEvent")&&(n=e,!Sr(n).cancelActivity||!Th(n)&&!Ph(n)))&&(kr(e,"bpmn:FlowElement")&&!kr(e,"bpmn:DataStoreReference")?kr(t,"bpmn:FlowElementsContainer")?qr(t):Er(t,["bpmn:Participant","bpmn:Lane"]):kr(e,"bpmn:DataStoreReference")&&kr(t,"bpmn:Collaboration")?M(Sr(t).get("participants"),(function(e){return!!e.get("processRef")})):Er(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Er(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):!!kr(e,"bpmn:MessageFlow")&&(kr(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t)));var n}function Ah(e){return kr(e,"bpmn:Lane")}function Ch(e){return!!function(e){return!gn(e)&&kr(e,"bpmn:BoundaryEvent")}(e)||(!(!kr(e,"bpmn:IntermediateThrowEvent")||!Th(e))||kr(e,"bpmn:IntermediateCatchEvent")&&Ph(e))}function Th(e){var t=Sr(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function Ph(e){return Rh(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function Rh(e,t){return t.some((function(t){return kh(e,t)}))}function Bh(e,t,n,i){if(Array.isArray(e)||(e=[e]),1!==e.length)return!1;var r=e[0];return!gn(r)&&(!!Ch(r)&&(!Ur(t)&&(!(!kr(t,"bpmn:Activity")||wh(t))&&(!(i&&!fh(i,t))&&(!function(e){return kr(e,"bpmn:ReceiveTask")&&b(e.incoming,(function(e){return kr(e.source,"bpmn:EventBasedGateway")}))}(t)&&"attach")))))}function Oh(e,t,n){if(!t)return!1;var i={replacements:[]};return k(e,(function(e){Ur(t)||kr(e,"bpmn:StartEvent")&&"label"!==e.type&&Mh(e,t)&&(function(e){return e&&!1!==Sr(e).isInterrupting}(e)||i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),(function(e){return $r(e,"bpmn:ErrorEventDefinition")}(e)||function(e){return $r(e,"bpmn:EscalationEventDefinition")}(e)||function(e){return $r(e,"bpmn:CompensateEventDefinition")}(e))&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"}),Rh(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&kr(t,"bpmn:SubProcess")&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:StartEvent"})),kr(t,"bpmn:Transaction")||kh(e,"bpmn:CancelEventDefinition")&&"label"!==e.type&&(kr(e,"bpmn:EndEvent")&&Mh(e,t)&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:EndEvent"}),kr(e,"bpmn:BoundaryEvent")&&Bh(e,t,0,n)&&i.replacements.push({oldElementId:e.id,newElementType:"bpmn:BoundaryEvent"}))})),!!i.replacements.length&&i}function Ih(e,t){return!M(e,Ah)&&(!t||e.every((function(e){return Mh(e,t)})))}function Dh(e,t,n,i){return!!t&&(!(!gn(e)&&!yh(e))||n!==t&&((!n||!Sh(n,t))&&(Mh(e,t)||Uh(e,t,i))))}function Fh(e,t){return kr(e,"bpmn:SubProcess")?qr(e)&&(!t||t.width>=100&&t.height>=80):!!kr(e,"bpmn:Lane")||(!!kr(e,"bpmn:Participant")||(!!vh(e)||!!yh(e)))}function zh(e,t){return!Sh(t,e)&&!Sh(e,t)&&(!!function(e,t){var n=vh(e),i=vh(t);return(n||i)&&n!==i}(e,t)||!!Hh(e,t))}function Nh(e,t){return xh(e,t)&&bh(e)&&kr(t,"bpmn:Activity")&&(n=e,!t.attachers.includes(n))&&!Ur(t);var n}function Lh(e,t){return!(Vh(e)&&!Vh(t))&&(kr(i=e,"bpmn:InteractionNode")&&!kr(i,"bpmn:BoundaryEvent")&&(!kr(i,"bpmn:Event")||kr(i,"bpmn:ThrowEvent")&&Eh(i,"bpmn:MessageEventDefinition"))&&function(e){return kr(e,"bpmn:InteractionNode")&&!wh(e)&&(!kr(e,"bpmn:Event")||kr(e,"bpmn:CatchEvent")&&Eh(e,"bpmn:MessageEventDefinition"))&&!(kr(e,"bpmn:BoundaryEvent")&&!kh(e,"bpmn:MessageEventDefinition"))}(t)&&(n=t,!(gh(e)===gh(n))));var n,i}function qh(e,t){return kr(n=e,"bpmn:FlowNode")&&!kr(n,"bpmn:EndEvent")&&!Ur(n)&&!(kr(n,"bpmn:IntermediateThrowEvent")&&kh(n,"bpmn:LinkEventDefinition"))&&!bh(n)&&!wh(n)&&function(e){return kr(e,"bpmn:FlowNode")&&!kr(e,"bpmn:StartEvent")&&!kr(e,"bpmn:BoundaryEvent")&&!Ur(e)&&!(kr(e,"bpmn:IntermediateCatchEvent")&&kh(e,"bpmn:LinkEventDefinition"))&&!wh(e)}(t)&&xh(e,t)&&!(kr(e,"bpmn:EventBasedGateway")&&!function(e){return kr(e,"bpmn:ReceiveTask")||kr(e,"bpmn:IntermediateCatchEvent")&&(kh(e,"bpmn:MessageEventDefinition")||kh(e,"bpmn:TimerEventDefinition")||kh(e,"bpmn:ConditionalEventDefinition")||kh(e,"bpmn:SignalEventDefinition"))}(t));var n}function Hh(e,t){return Er(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Er(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:!(!Er(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])||!Er(e,["bpmn:Activity","bpmn:CatchEvent"]))&&{type:"bpmn:DataOutputAssociation"}}function Uh(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(1!==e.length)return!1;e=e[0]}return t.source!==e&&t.target!==e&&(Er(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!gn(t)&&kr(e,"bpmn:FlowNode")&&!kr(e,"bpmn:BoundaryEvent")&&Mh(e,t.parent))}function $h(e,t){return!!gn(t)||!(kr(t,"bpmn:Lane")&&!function(e,t){return e&&t&&-1!==e.indexOf(t)}(e,t.parent))}function Vh(e){return dl(e,"bpmn:Process")||dl(e,"bpmn:Collaboration")}i(dh,Pc),dh.$inject=["eventBus"],dh.prototype.init=function(){this.addRule("connection.start",(function(e){return function(e){if(mh(e))return null;return Er(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}(e.source)})),this.addRule("connection.create",(function(e){var t=e.source,n=e.target,i=e.hints||{},r=i.targetParent;if(i.targetAttach)return!1;r&&(n.parent=r);try{return jh(t,n)}finally{r&&(n.parent=null)}})),this.addRule("connection.reconnect",(function(e){var t=e.connection;return jh(e.source,e.target,t)})),this.addRule("connection.updateWaypoints",(function(e){return{type:e.connection.type}})),this.addRule("shape.resize",(function(e){return Fh(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=e.position,i=e.target;return!(mn(i)&&!Uh(t,i,n))&&j(t,(function(e){return mn(e)?jh(e.source,e.target,e):e.host?Bh(e,e.host,null,n):Dh(e,i,null,n)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes,i=e.position;return Bh(n,t,null,i)||Oh(n,t,i)||Ih(n,t)||Uh(n,t,i)})),this.addRule("shape.create",(function(e){return Dh(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return Bh(e.shape,e.target,null,e.position)})),this.addRule("element.copy",(function(e){var t=e.element;return $h(e.elements,t)}))},dh.prototype.canConnectMessageFlow=Lh,dh.prototype.canConnectSequenceFlow=qh,dh.prototype.canConnectDataAssociation=Hh,dh.prototype.canConnectAssociation=zh,dh.prototype.canConnectCompensationAssociation=Nh,dh.prototype.canMove=Ih,dh.prototype.canAttach=Bh,dh.prototype.canReplace=Oh,dh.prototype.canDrop=Mh,dh.prototype.canInsert=Uh,dh.prototype.canCreate=Dh,dh.prototype.canConnect=jh,dh.prototype.canResize=Fh,dh.prototype.canCopy=$h;var Wh={__depends__:[su],__init__:["bpmnRules"],bpmnRules:["type",dh]};function Gh(e,t){e.on("saveXML.start",2e3,(function(){k(t.getRootElements(),(function(e){var t,n=jr(e);t=A(x(bt([e],!1),(function(t){return t!==e&&!t.labelTarget})),jr),n.set("planeElement",t)}))}))}Gh.$inject=["eventBus","canvas"];var Kh={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",Gh]};function Zh(e){ta.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.newParent||i.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function Yh(e,t,n){Zh.call(this,e);var i=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function r(e){var t=e.order;if(t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=b(i,(function(t){return Er(e,[t.type])}));return t&&t.order||{level:1}}(e)),!t)throw new Error("no order for <"+e.id+">");return t}this.getOrdering=function(e,n){if(e.labelTarget||kr(e,"bpmn:TextAnnotation"))return{parent:t.findRoot(n)||t.getRootElement(),index:-1};var i=r(e);i.containers&&(n=function(e,t,n){for(var i=t;i&&!Er(i,n);)i=i.parent;if(!i)throw new Error("no parent for <"+e.id+"> in <"+(t&&t.id)+">");return i}(e,n,i.containers));var o=n.children.indexOf(e),a=w(n.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&i.level<r(t).level}));return-1!==a&&-1!==o&&o<a&&(a-=1),{index:a,parent:n}}}Zh.prototype.getOrdering=function(e,t){return null},i(Zh,ta),Yh.$inject=["eventBus","canvas","translate"],i(Yh,Zh);var Xh={__depends__:[wo],__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",Yh]};function Jh(){}Jh.prototype.get=function(){return this._data},Jh.prototype.set=function(e){this._data=e},Jh.prototype.clear=function(){var e=this._data;return delete this._data,e},Jh.prototype.isEmpty=function(){return!this._data};var Qh={clipboard:["type",Jh]},ef="drop-ok",tf="drop-not-ok",nf="attach-ok",rf="new-parent";function of(e,t,n,i,r){function o(t,n){[nf,ef,tf,rf].forEach((function(i){i===n?e.addMarker(t,i):e.removeMarker(t,i)}))}function a(){var e=t.context();e&&"create"===e.prefix&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,i=e.hover,a=t.source,s=t.hints||{};if(!i)return t.canExecute=!1,void(t.target=null);af(e);var c={x:e.x,y:e.y},u=t.canExecute=i&&function(e,t,n,i,o){if(!t)return!1;var a=b(e=x(e,(function(t){var n=t.labelTarget;return!(t.parent||gn(t)&&-1!==e.indexOf(n))})),(function(e){return!mn(e)})),s=!1,c=!1,u=!1;sf(e)&&(s=r.allowed("shape.attach",{position:n,shape:a,target:t})),s||(u=sf(e)?r.allowed("shape.create",{position:n,shape:a,source:i,target:t}):r.allowed("elements.create",{elements:e,position:n,target:t}));var l=o.connectionTarget;return u||s?(a&&i&&(c=r.allowed("connection.create",{source:l===i?a:i,target:l===i?i:a,hints:{targetParent:t,targetAttach:s}})),{attach:s,connect:c}):(null===u||null===s)&&null}(n,i,c,a,s);i&&null!==u&&(t.target=i,u&&u.attach?o(i,nf):o(i,u?rf:tf))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,r=t.shape,o=t.elements,a=t.target,s=t.canExecute,c=s&&s.attach,u=s&&s.connect,l=t.hints||{};if(!1===s||!a)return!1;af(e);var p={x:e.x,y:e.y};r=u?i.appendShape(n,r,p,a,{attach:c,connection:!0===u?{}:u,connectionTarget:l.connectionTarget}):b(o=i.createElements(o,p,a,H({},l,{attach:c})),(function(e){return!mn(e)})),H(t,{elements:o,shape:r}),H(e,{elements:o,shape:r})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,i){f(n)||(n=[n]);var r=b(n,(function(e){return!mn(e)}));if(r){i=H({elements:n,hints:{},shape:r},i||{}),k(n,(function(e){m(e.x)||(e.x=0),m(e.y)||(e.y=0)}));var o=wt(x(n,(function(e){return!e.hidden})));k(n,(function(e){mn(e)&&(e.waypoints=A(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),H(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:r,elements:n,context:i}})}}}function af(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function sf(e){return e&&1===e.length&&!mn(e[0])}of.$inject=["canvas","dragging","eventBus","modeling","rules"];function cf(e,t,n,i,r){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,c=a.dragGroup;c||(c=a.dragGroup=function(e){var t=Fe("g");Me(t,r.cls("djs-drag-group",["no-events"]));var o=Fe("g");return e.forEach((function(e){var r;e.hidden||(e.waypoints?(r=n._createContainer("connection",o),n.drawConnection(Jn(r),e)):(r=n._createContainer("shape",o),n.drawShape(Jn(r),e),ei(r,e.x,e.y)),i.addDragger(e,t,r))})),t}(s)),o?(c.parentNode||Ee(e.getActiveLayer(),c),ei(c,t.x,t.y)):Pe(c)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&Pe(t)}))}cf.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var uf={__depends__:[nu,Qu,su,Vo],__init__:["create","createPreview"],create:["type",of],createPreview:["type",cf]};function lf(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}lf.$inject=["eventBus"],lf.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent"),i=e,r=t,o=e,a=t;n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,i,r,o,a,!1,!1,!1,!1,0,null);return n}(0,0)};var pf={__init__:["mouse"],mouse:["type",lf]};function hf(e,t,n,i,r,o,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=r,this._modeling=o,this._mouse=a,this._rules=s,r.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,i=e.elements;t.priority=1,t.id=n.id,b(i,(function(e){return e===n.parent}))&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),mn(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return A(e.waypoints,(function(e){return(e=ff(e)).original&&(e.original=ff(e.original)),e}))}(n)),gn(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),k(["x","y","width","height"],(function(e){m(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),r.on("copyPaste.pasteElements",(function(e){H(e.hints,{createElementsBehavior:!1})}))}function ff(e){return H({},e)}function df(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}hf.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],hf.prototype.copy=function(e){var t,n;return f(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree(f(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},hf.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(t);if(e&&e.element&&e.point)return this._paste(i,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}},hf.prototype._paste=function(e,t,n,i){k(e,(function(e){m(e.x)||(e.x=0),m(e.y)||(e.y=0)}));var r=wt(e);return k(e,(function(e){mn(e)&&(e.waypoints=A(e.waypoints,(function(e){return{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2}}))),H(e,{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2})})),this._modeling.createElements(e,n,t,H({},i))},hf.prototype._createElements=function(e){var t=this,n=this._eventBus,i={},r=[];return k(e,(function(e,o){o=parseInt(o,10),k(e=O(e,"priority"),(function(e){var o,a=H({},$(e,["priority"]));return i[e.parent]?a.parent=i[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:a}),mn(a)?(a.source=i[e.source],a.target=i[e.target],o=i[e.id]=t.createConnection(a),void r.push(o)):gn(a)?(a.labelTarget=i[a.labelTarget],o=i[e.id]=t.createLabel(a),void r.push(o)):(a.host&&(a.host=i[a.host]),o=i[e.id]=t.createShape(a),void r.push(o))}))})),r},hf.prototype.createConnection=function(e){return this._elementFactory.createConnection($(e,["id"]))},hf.prototype.createLabel=function(e){return this._elementFactory.createLabel($(e,["id"]))},hf.prototype.createShape=function(e){return this._elementFactory.createShape($(e,["id"]))},hf.prototype.hasRelations=function(e,t){var n,i;return!(mn(e)&&(n=b(t,I({id:e.source.id})),i=b(t,I({id:e.target.id})),!n||!i))&&!(gn(e)&&!b(t,I({id:e.labelTarget.id})))},hf.prototype.createTree=function(e){var t=this._rules,n=this,i={},r=[];function o(e,t){var n=b(r,(function(t){return e===t.element}));n?n.depth<t&&(r=function(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1);return t}(n,r)).push({element:n.element,depth:t}):r.push({element:e,depth:t})}return vt(mt(e),(function(e,t,i){if(!gn(e)){k(e.labels,(function(e){o(e,i)})),k([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&k(e,(function(e){k(e.labels,(function(e){o(e,i)})),o(e,i)}))})),o(e,i);var r=[];return e.children&&(r=e.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:e,children:r}),r}})),e=A(r,(function(e){return e.element})),r=O(r=A(r,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),(function(e){return e.descriptor.priority})),e=A(r,(function(e){return e.element})),k(r,(function(r){var o=r.depth;n.hasRelations(r.element,e)?!function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(r.element,e)?df(r.element,e):(i[o]||(i[o]=[]),i[o].push(r.descriptor)):df(r.element,e)})),i};var mf={__depends__:[Qh,uf,pf,su],__init__:["copyPaste"],copyPaste:["type",hf]};function gf(e,t,n){f(n)||(n=[n]),k(n,(function(n){l(e[n])||(t[n]=e[n])}))}function vf(e,t,n){function i(t,i){var r=e.create(t.$type);return n.copyElement(t,r,null,i)}t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,r=Sr(n);if(gn(n))return t;var o=t.businessObject=i(r,!0),a=t.di=i(jr(n),!0);a.bpmnElement=o,gf(o,t,"name"),gf(a,t,"isExpanded"),r.default&&(t.default=r.default.id)}));t.on("copyPaste.pasteElement",(function(e){var t=e.cache,n=e.descriptor,r=n.businessObject,o=n.di;if(gn(n))return n.businessObject=Sr(t[n.labelTarget]),void(n.di=jr(t[n.labelTarget]));r=n.businessObject=i(r),(o=n.di=i(o)).bpmnElement=r,gf(n,r,["isExpanded","name"]),n.type=r.$type})),t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element;if(kr(n,"bpmn:Participant")){var r=Sr(n);r.processRef&&(t.processRef=i(r.processRef,!0))}})),t.on("copyPaste.pasteElement",(function(e){var t=e.descriptor,n=t.processRef;n&&(t.processRef=i(n))})),t.on("copyPaste.pasteElement",750,(function(e){var t=e.cache;!function(e,t){e["-bpmn-js-refs"]=t}(t,function(e,t,n){var i=Sr(e);return e.default&&(n[e.default]={element:i,property:"default"}),e.host&&(Sr(e).attachedToRef=Sr(t[e.host])),$(n,S(n,(function(t,n,r){var o=n.element,a=n.property;return r===e.id&&(o.set(a,i),t.push(e.id)),t}),[]))}(e.descriptor,t,function(e){return e["-bpmn-js-refs"]=e["-bpmn-js-refs"]||{}}(t)))}))}vf.$inject=["bpmnFactory","eventBus","moddleCopy"];var yf=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"];function bf(e,t,n){this._bpmnFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return O(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=d(t)&&t.$descriptor,i=e.propertyName;return(!i||-1===yf.indexOf(i))&&(!(i&&n&&!b(n.properties,I({name:i})))&&void 0)})),e.on("moddleCopy.canSetCopiedProperty",(function(e){var t,n,i=e.property;if(n="bpmn:ExtensionElements",(t=i)&&g(t.$instanceOf)&&t.$instanceOf(n)&&(!i.values||!i.values.length))return!1}))}function wf(e,t){return S(e.properties,(function(e,n){return t&&n.default?e:e.concat(n.name)}),[])}bf.$inject=["eventBus","bpmnFactory","moddle"],bf.prototype.copyElement=function(e,t,n,i=!1){var r=this;n&&!f(n)&&(n=[n]),n=n||wf(e.$descriptor);var o=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t,clone:i});return!1===o||(f(o)&&(n=o),k(n,(function(n){var o;y(e,n)&&(o=e.get(n));var a=r.copyProperty(o,t,n,i);p(a)&&(!1!==r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:a,propertyName:n})&&t.set(n,a))}))),t},bf.prototype.copyProperty=function(e,t,n,i=!1){var r=this,o=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n,clone:i});if(!1!==o){if(o)return d(o)&&o.$type&&!o.$parent&&(o.$parent=t),o;var a=this._moddle.getPropertyDescriptor(t,n);if(!a.isReference){if(a.isId)return e&&this._copyId(e,t,i);if(f(e))return S(e,(function(e,a){return(o=r.copyProperty(a,t,n,i))?e.concat(o):e}),[]);if(d(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(o=r._bpmnFactory.create(e.$type)).$parent=t,o=r.copyElement(e,o,null,i)}return e}}},bf.prototype._copyId=function(e,t,n=!1){return n?e:this._moddle.ids.assigned(e)?void 0:(this._moddle.ids.claim(e,t),e)};var _f={__depends__:[mf],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",vf],moddleCopy:["type",bf]},xf=Math.round;function kf(e,t){this._modeling=e,this._eventBus=t}function Ef(e,t){t.on("replace.end",500,(function(t){const{newElement:n,hints:i={}}=t;!1!==i.select&&e.select(n)}))}kf.$inject=["modeling","eventBus"],kf.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var i=this._modeling,r=this._eventBus;r.fire("replace.start",{element:e,attrs:t,hints:n});var o=t.width||e.width,a=t.height||e.height,s=t.x||e.x,c=t.y||e.y,u=xf(s+o/2),l=xf(c+a/2),p=i.replaceShape(e,H({},t,{x:u,y:l,width:o,height:a}),n);return r.fire("replace.end",{element:e,newElement:p,hints:n}),p},Ef.$inject=["selection","eventBus"];var Sf={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",Ef],replace:["type",kf]};var jf=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function Mf(e,t,n,i,r,o){this.replaceElement=function(a,s,c){c=c||{};var u=s.type,p=a.businessObject;if(Af(p)&&"bpmn:SubProcess"===u&&function(e,t){var n=e&&y(e,"collapsed")?e.collapsed:!qr(e);return n!==(t&&(y(t,"collapsed")||y(t,"isExpanded"))?y(t,"collapsed")?t.collapsed:!t.isExpanded:n)}(a,s))return i.toggleCollapse(a),a;var h=e.create(u),d={type:u,businessObject:h,di:{}};"bpmn:ExclusiveGateway"===u&&(d.di.isMarkerVisible=!0),function(e,t,n){f(n)||(n=[n]),k(n,(function(n){l(e[n])||(t[n]=e[n])}))}(a.di,d.di,["fill","stroke","background-color","border-color","color"]);var m,g=wf(p.$descriptor),v=wf(h.$descriptor,!0),b=(m=v,g.filter((function(e){return m.includes(e)})));H(h,U(s,jf));var w=x(b,(function(e){return"eventDefinitions"===e?Cf(a,s.eventDefinitionType):"loopCharacteristics"===e?!Ur(h):!y(h,e)&&(("processRef"!==e||!1!==s.isExpanded)&&("triggeredByEvent"!==e&&("isForCompensation"!==e||!Ur(h))))}));if(h=n.copyElement(p,h,w),s.eventDefinitionType&&(Cf(h,s.eventDefinitionType)||(d.eventDefinitionType=s.eventDefinitionType,d.eventDefinitionAttrs=s.eventDefinitionAttrs)),kr(p,"bpmn:Activity")){if(Af(p))d.isExpanded=qr(a);else if(s&&y(s,"isExpanded")){d.isExpanded=s.isExpanded;var _=t.getDefaultSize(h,{isExpanded:d.isExpanded});d.width=_.width,d.height=_.height,d.x=a.x-(d.width-a.width)/2,d.y=a.y-(d.height-a.height)/2}qr(a)&&!kr(p,"bpmn:Task")&&d.isExpanded&&(d.width=a.width,d.height=a.height)}return Af(p)&&!Af(h)&&(c.moveChildren=!1),kr(p,"bpmn:Participant")&&(!0===s.isExpanded?h.processRef=e.create("bpmn:Process"):c.moveChildren=!1,d.width=a.width,d.height=t.getDefaultSize(d).height),o.allowed("shape.resize",{shape:h})||(d.height=t.getDefaultSize(d).height,d.width=t.getDefaultSize(d).width),h.name=p.name,Er(p,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Er(h,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(h.default=p.default),s.host&&!kr(p,"bpmn:BoundaryEvent")&&kr(h,"bpmn:BoundaryEvent")&&(d.host=s.host),"bpmn:DataStoreReference"!==d.type&&"bpmn:DataObjectReference"!==d.type||(d.x=a.x+(a.width-d.width)/2),r.replaceElement(a,d,{...c,targetElement:s})}}function Af(e){return kr(e,"bpmn:SubProcess")}function Cf(e,t){var n=Sr(e);return t&&n.get("eventDefinitions").some((function(e){return kr(e,t)}))}Mf.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];var Tf={__depends__:[_f,Sf,Vo],bpmnReplace:["type",Mf]};function Pf(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}Pf.$inject=["eventBus","dragging"],Pf.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},Pf.prototype.isActive=function(e){return e&&this._active===e},Pf.prototype.length=function(e){return this._tools.length},Pf.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},Pf.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,r=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void i.cancel();this.setActive(e)}),this),k(t,(function(e){r.push(e+".ended"),r.push(e+".canceled")})),n.on(r,250,(function(e){this._active&&(function(e){var t=e.originalEvent&&e.originalEvent.target;return t&&oe(t,'.group[data-group="tools"]')}(e)||this.setActive(null))}),this)};var Rf={__depends__:[nu],__init__:["toolManager"],toolManager:["type",Pf]};function Bf(e,t){return-1!==e.indexOf(t)}var Of=Math.abs,If=Math.round,Df={x:"width",y:"height"},Ff={n:"top",w:"left",s:"bottom",e:"right"},zf={n:"s",w:"e",s:"n",e:"w"};function Nf(e,t,n,i,r,o,a){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=i,this._rules=r,this._toolManager=o,this._mouse=a;var s=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){s.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=s.init(e,t)),n&&qf(e)})),n.on("spaceTool.end",(function(e){var t=e.context,i=t.axis,r=t.direction,o=t.movingShapes,a=t.resizingShapes,c=t.start;if(t.initialized){qf(e);var u={x:0,y:0};u[i]=If(e["d"+i]),s.makeSpace(o,a,u,r,c),n.once("spaceTool.ended",(function(e){s.activateSelection(e.originalEvent,!0,!0)}))}}))}function Lf(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function qf(e){var t,n,i=e.context.spaceToolConstraints;i&&(m(i.left)&&(t=Math.max(e.x,i.left),e.dx=e.dx+t-e.x,e.x=t),m(i.right)&&(t=Math.min(e.x,i.right),e.dx=e.dx+t-e.x,e.x=t),m(i.top)&&(n=Math.max(e.y,i.top),e.dy=e.dy+n-e.y,e.y=n),m(i.bottom)&&(n=Math.min(e.y,i.bottom),e.dy=e.dy+n-e.y,e.y=n))}function Hf(e,t){return-1!==e.indexOf(t)}Nf.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],Nf.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:"crosshair",data:{context:{reactivate:n}},trapClick:!1})},Nf.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},Nf.prototype.makeSpace=function(e,t,n,i,r){return this._modeling.createSpace(e,t,n,i,r)},Nf.prototype.init=function(e,t){var n=Of(e.dx)>Of(e.dy)?"x":"y",i=e["d"+n],r=e[n]-i;if(Of(i)<5)return!1;i<0&&(i*=-1),Bo(e)&&(i*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,i),a=this._canvas.getRootElement();!Oo(e)&&e.hover&&(a=e.hover);var s=[...bt(a,!0),...a.attachers||[]],c=this.calculateAdjustments(s,n,i,r);return H(t,c,{axis:n,direction:o,spaceToolConstraints:function(e,t,n,i,r){var o=e.movingShapes,a=e.resizingShapes;if(!a.length)return;var s,c,u={};return k(a,(function(e){var l,p,h,f,d,g,v=e.attachers,y=e.children,b=bn(e),w=x(y,(function(e){return!(mn(e)||gn(e)||Hf(o,e)||Hf(a,e))})),_=x(y,(function(e){return!mn(e)&&!gn(e)&&Hf(o,e)})),k=[],E=[];w.length&&(p=Lf(bn(wt(w))),l=i-b[Ff[n]]+p[Ff[n]],"n"===n?u.bottom=c=m(c)?Math.min(c,l):l:"w"===n?u.right=c=m(c)?Math.min(c,l):l:"s"===n?u.top=s=m(s)?Math.max(s,l):l:"e"===n&&(u.left=s=m(s)?Math.max(s,l):l)),_.length&&(h=Lf(bn(wt(_))),l=i-h[Ff[zf[n]]]+b[Ff[zf[n]]],"n"===n?u.bottom=c=m(c)?Math.min(c,l):l:"w"===n?u.right=c=m(c)?Math.min(c,l):l:"s"===n?u.top=s=m(s)?Math.max(s,l):l:"e"===n&&(u.left=s=m(s)?Math.max(s,l):l)),v&&v.length&&(v.forEach((function(e){Hf(o,e)?k.push(e):E.push(e)})),k.length&&(f=bn(wt(k.map(xn))),d=b[Ff[zf[n]]]-(f[Ff[zf[n]]]-i)),E.length&&(g=bn(wt(E.map(xn)))[Ff[n]]-(b[Ff[n]]-i)),"n"===n?(l=Math.min(d||1/0,g||1/0),u.bottom=c=m(c)?Math.min(c,l):l):"w"===n?(l=Math.min(d||1/0,g||1/0),u.right=c=m(c)?Math.min(c,l):l):"s"===n?(l=Math.max(d||-1/0,g||-1/0),u.top=s=m(s)?Math.max(s,l):l):"e"===n&&(l=Math.max(d||-1/0,g||-1/0),u.left=s=m(s)?Math.max(s,l):l));var S=r&&r[e.id];S&&("n"===n?(l=i+e[Df[t]]-S[Df[t]],u.bottom=c=m(c)?Math.min(c,l):l):"w"===n?(l=i+e[Df[t]]-S[Df[t]],u.right=c=m(c)?Math.min(c,l):l):"s"===n?(l=i-e[Df[t]]+S[Df[t]],u.top=s=m(s)?Math.max(s,l):l):"e"===n&&(l=i-e[Df[t]]+S[Df[t]],u.left=s=m(s)?Math.max(s,l):l))})),u}(c,n,o,r,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:c.resizingShapes,start:r})),start:r}),Da("resize-"+("x"===n?"ew":"ns")),!0},Nf.prototype.calculateAdjustments=function(e,t,n,i){var r=this._rules,o=[],a=[],s=[],c=[];function u(e){o.includes(e)||o.push(e);var t=e.label;t&&!o.includes(t)&&o.push(t)}k(e,(function(e){if(e.parent&&!gn(e))if(mn(e))c.push(e);else{var o=e[t],l=o+e[Df[t]];if(function(e){return!!e.host}(e)&&(n>0&&xn(e)[t]>i||n<0&&xn(e)[t]<i))s.push(e);else{var p;if(!(n>0&&o>i||n<0&&l<i))return o<i&&l>i&&r.allowed("shape.resize",{shape:e})?(p=e,void(a.includes(p)||a.push(p))):void 0;u(e)}}})),k(o,(function(e){var t=e.attachers;t&&k(t,(function(e){u(e)}))}));var l=o.concat(a);return k(s,(function(e){var t=e.host;Hf(l,t)&&u(e)})),l=o.concat(a),k(c,(function(e){var t=e.source,n=e.target,i=e.label;Hf(l,t)&&Hf(l,n)&&i&&u(i)})),{movingShapes:o,resizingShapes:a}},Nf.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Nf.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^spaceTool/.test(e.prefix)};var Uf=Math.max;function $f(e,t,n,i,r){function o(e,t){k(e,(function(e){r.addDragger(e,t),n.addMarker(e,"djs-dragging")}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),r=e.context,o="M 0,-10000 L 0,10000",a="M -10000,0 L 10000,0",s=Fe("g");Me(s,i.cls("djs-crosshair-group",["no-events"])),Ee(t,s);var c=Fe("path");Me(c,"d",o),Ce(c).add("djs-crosshair"),Ee(s,c);var u=Fe("path");Me(u,"d",a),Ce(u).add("djs-crosshair"),Ee(s,u),r.crosshairGroup=s})),e.on("spaceTool.selection.move",(function(e){ei(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&Pe(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,s=a.line,c=a.axis,u=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");Me(s=Fe("path"),"d","M0,0 L0,0"),Ce(s).add("djs-crosshair"),Ee(p,s),a.line=s;var h=Fe("g");Me(h,i.cls("djs-drag-group",["no-events"])),Ee(n.getActiveLayer(),h),o(u,h),o(a.movingConnections=t.filter((function(e){var t=!1;k(u,(function(n){k(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;k(u,(function(t){k(t.incoming,(function(t){e===t&&(n=!0)}))}));var i=!1;k(l,(function(t){k(t.outgoing,(function(t){e===t&&(i=!0)}))}));var r=!1;return k(l,(function(t){k(t.incoming,(function(t){e===t&&(r=!0)}))})),mn(e)&&(t||i)&&(n||r)})),h),a.dragGroup=h}if(!a.frameGroup){var f=Fe("g");Me(f,i.cls("djs-frame-group",["no-events"])),Ee(n.getActiveLayer(),f);var d=[];k(l,(function(e){var t=r.addFrame(e,f),i=t.getBBox();d.push({element:t,initialBounds:i}),n.addMarker(e,"djs-resizing")})),a.frameGroup=f,a.frames=d}Me(s,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[c]});var m={x:e.dx,y:e.dy};m[{x:"y",y:"x"}[a.axis]]=0,ei(a.dragGroup,m.x,m.y),k(a.frames,(function(e){var t,n,i=e.element,r=e.initialBounds;"e"===a.direction?Me(i,{width:Uf(r.width+m.x,5)}):Me(i,{width:t=Uf(r.width-m.x,5),x:r.x+r.width-t}),"s"===a.direction?Me(i,{height:Uf(r.height+m.y,5)}):Me(i,{height:n=Uf(r.height-m.y,5),y:r.y+r.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,i=t.movingShapes,r=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,c=t.frameGroup;k(i,(function(e){n.removeMarker(e,"djs-dragging")})),k(r,(function(e){n.removeMarker(e,"djs-dragging")})),s&&(Pe(a),Pe(s)),k(o,(function(e){n.removeMarker(e,"djs-resizing")})),c&&Pe(c)}))}$f.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Vf={__init__:["spaceToolPreview"],__depends__:[nu,su,Rf,Qu,pf],spaceTool:["type",Nf],spaceToolPreview:["type",$f]};function Wf(e){e.invoke(Nf,this)}Wf.$inject=["injector"],i(Wf,Nf),Wf.prototype.calculateAdjustments=function(e,t,n,i){var r=Nf.prototype.calculateAdjustments.call(this,e,t,n,i);return r.resizingShapes=r.resizingShapes.filter((function(e){return!kr(e,"bpmn:TextAnnotation")&&(!function(e){return kr(e,"bpmn:Participant")&&!Sr(e).processRef}(e)||!("y"===t&&Hr(e)||"x"===t&&!Hr(e)))})),r};var Gf={__depends__:[Vf],spaceTool:["type",Wf]};function Kf(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}Kf.$inject=["eventBus","injector"],Kf.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()},Kf.prototype.canExecute=function(e,t){const n={command:e,context:t},i=this._getHandler(e);let r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},Kf.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},Kf.prototype.undo=function(){let e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Kf.prototype.redo=function(){let e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),e&&e.id===t.id);)t=e;this._popAction()}},Kf.prototype.register=function(e,t){this._setHandler(e,t)},Kf.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)},Kf.prototype.canUndo=function(){return!!this._getUndoAction()},Kf.prototype.canRedo=function(){return!!this._getRedoAction()},Kf.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Kf.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Kf.prototype._internalUndo=function(e){const t=e.command,n=e.context,i=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),i.revert&&this._markDirty(i.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)})},Kf.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const i=t?[e+"."+t,t]:[e];let r;n=this._eventBus.createEvent(n);for(const e of i)if(r=this._eventBus.fire("commandStack."+e,n),n.cancelBubble)break;return r},Kf.prototype._createId=function(){return this._uid++},Kf.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},Kf.prototype._internalExecute=function(e,t){const n=e.command,i=e.context,r=this._getHandler(n);if(!r)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),r.preExecute&&r.preExecute(i),this._fire(n,"preExecuted",e)),this._atomicDo(()=>{this._fire(n,"execute",e),r.execute&&this._markDirty(r.execute(i)),this._executedAction(e,t),this._fire(n,"executed",e)}),t||(this._fire(n,"postExecute",e),r.postExecute&&r.postExecute(i),this._fire(n,"postExecuted",e)),this._popAction()},Kf.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},Kf.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:R("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},Kf.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=f(e)?e:[e],t.dirty=t.dirty.concat(e))},Kf.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},Kf.prototype._revertedAction=function(e){this._stackIdx--},Kf.prototype._getHandler=function(e){return this._handlerMap[e]},Kf.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var Zf={commandStack:["type",Kf]};function Yf(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function Xf(e,t,n){ta.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,i=t.validatedShapes;t.shapes=Jf(n),t.validatedShapes=Jf(i)})),i&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,r=[];k(n,(function(e){k(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||r.push(n),e.labelTarget&&r.push(e)}))})),k(r,(function(e){i.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,i=[];k(n,(function(e){k(e.labels,(function(e){n[e.id]||i.push(e)}))})),t.addAll(i)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;Yf((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,i=n.labelTarget;i&&(t.labelTargetIndex=At(i.labels,n),t.labelTarget=i,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,i=t.labelTarget,r=t.labelTargetIndex;i&&(Mt(i.labels,n,r),n.labelTarget=i)}))}function Jf(e){return x(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}i(Xf,ta),Xf.$inject=["injector","eventBus","modeling"];var Qf={__init__:["labelSupport"],labelSupport:["type",Xf]};function ed(e,t,n,i,r){ta.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t,n,i=e.context,r=i.shapes,o=i.validatedShapes;i.shapes=(n=td(t=r),B("id",t,n)),i.validatedShapes=function(e){var t=P(e,"id");return x(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(o)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context;k(td(t.shapes),(function(e){o.makeDraggable(t,e,!0),k(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var i=e.context.shapes;if(1===i.length){var r=i[0].host;r&&(n.addMarker(r,"attach-ok"),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(r,"attach-ok")})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure;k(td(t.shapes),(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t=e.context,n=t.shapes,i=t.newHost;i&&1!==n.length||k(i?n:x(n,(function(e){var t,i=e.host;return function(e){return!!e.host}(e)&&(t=i,!(-1!==n.indexOf(t)))})),(function(e){r.updateAttachment(e,i)}))})),this.postExecuted("elements.move",(function(e){k(e.context.shapes,(function(e){k(e.attachers,(function(e){k(e.outgoing.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)})),k(e.incoming.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,i=t.host;i&&r.updateAttachment(n,i)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;Yf(n.attachers,(function(e){"attach"===i.allowed("elements.move",{target:o,shapes:[e]})?r.updateAttachment(e,o):r.removeShape(e)})),o.attachers.length&&k(o.attachers,(function(e){var t=lp(e,n,o);r.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,i=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&k(a,(function(e){var t=lp(e,i,o);r.moveShape(e,t,e.parent),k(e.labels,(function(e){r.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;Yf(t.attachers,(function(e){r.removeShape(e)})),t.host&&r.updateAttachment(t,null)}))}function td(e){return s(A(e,(function(e){return e.attachers||[]})))}i(ed,ta),ed.$inject=["injector","eventBus","canvas","rules","modeling"];var nd={__depends__:[su],__init__:["attachSupport"],attachSupport:["type",ed]};function id(e){this._model=e}function rd(e,t,n,i){ta.call(this,e),this._bpmnFactory=t,this._translate=i;var r=this;function o(e){k(e.context.oldRoot.children,(function(e){kr(e,"bpmn:BaseElement")&&r.updateParent(e)}))}function a(e){var t=e.context.shape;kr(t,"bpmn:BaseElement")&&r.updateBounds(t)}function s(e){r.updateConnection(e.context)}function c(e){r.updateConnectionWaypoints(e.context.connection)}function u(e){r.updateAttachment(e.context)}function l(e){const{element:n}=e.context,i=Xr(n),r=jr(n),o=r&&r.get("label");Wr(n)||pa(n)||(i&&!o?r.set("label",t.create("bpmndi:BPMNLabel")):!i&&o&&r.set("label",void 0))}this.executed(["connection.layout","connection.create"],(function(e){var t,i=e.context,r=i.hints||{};i.cropped||!1===r.createElementsBehavior||((t=i.connection).waypoints=n.getCroppedWaypoints(t),i.cropped=!0)})),this.reverted(["connection.layout"],(function(e){delete e.context.cropped})),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],od((function(e){var t=e.context;r.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],od((function(e){var t=e.context,n=t.shape||t.connection,i=t.parent||t.newParent;r.updateParent(n,i)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],od((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],od((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})})),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],od(s)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],od(s)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],od(c)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],od(c)),this.executed("connection.reconnect",od((function(e){var t=e.context,n=t.connection,i=t.oldSource,r=t.newSource,o=Sr(n),a=Sr(i),s=Sr(r);o.conditionExpression&&!Er(s,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(t.oldConditionExpression=o.conditionExpression,delete o.conditionExpression),i!==r&&a.default===o&&(t.oldDefault=a.default,delete a.default)}))),this.reverted("connection.reconnect",od((function(e){var t=e.context,n=t.connection,i=t.oldSource,r=t.newSource,o=Sr(n),a=Sr(i),s=Sr(r);t.oldConditionExpression&&(o.conditionExpression=t.oldConditionExpression),t.oldDefault&&(a.default=t.oldDefault,delete s.default)}))),this.executed(["element.updateAttachment"],od(u)),this.reverted(["element.updateAttachment"],od(u)),this.executed("element.updateLabel",od(l)),this.reverted("element.updateLabel",od(l))}function od(e){return function(t){var n=t.context;kr(n.shape||n.connection||n.element,"bpmn:BaseElement")&&e(t)}}function ad(e,t,n){Kn.call(this),this._bpmnFactory=e,this._moddle=t,this._translate=n}function sd(e,t,n){return void 0===t[n]?t:(e[n]=t[n],$(t,[n]))}function cd(e,t){this._modeling=e,this._canvas=t}function ud(e){this._modeling=e}function ld(e,t){this._canvas=e,this._layouter=t}id.$inject=["moddle"],id.prototype._needsId=function(e){return Er(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])},id.prototype._ensureId=function(e){var t;e.id?this._model.ids.claim(e.id,e):(t=kr(e,"bpmn:Activity")?"Activity":kr(e,"bpmn:Event")?"Event":kr(e,"bpmn:Gateway")?"Gateway":Er(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?"Flow":(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e)))},id.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n},id.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})},id.prototype.createDiShape=function(e,t){return this.create("bpmndi:BPMNShape",H({bpmnElement:e,bounds:this.createDiBounds()},t))},id.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},id.prototype.createDiWaypoints=function(e){var t=this;return A(e,(function(e){return t.createDiWaypoint(e)}))},id.prototype.createDiWaypoint=function(e){return this.create("dc:Point",U(e,["x","y"]))},id.prototype.createDiEdge=function(e,t){return this.create("bpmndi:BPMNEdge",H({bpmnElement:e,waypoint:this.createDiWaypoints([])},t))},id.prototype.createDiPlane=function(e,t){return this.create("bpmndi:BPMNPlane",H({bpmnElement:e},t))},i(rd,ta),rd.$inject=["eventBus","bpmnFactory","connectionDocking","translate"],rd.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host;n.attachedToRef=i&&i.businessObject},rd.prototype.updateParent=function(e,t){if(!(gn(e)||kr(e,"bpmn:DataStoreReference")&&e.parent&&kr(e.parent,"bpmn:Collaboration"))){var n=e.parent,i=e.businessObject,r=jr(e),o=n&&n.businessObject,a=jr(n);kr(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(i,o,t&&t.businessObject),kr(e,"bpmn:DataOutputAssociation")&&(o=e.source?e.source.businessObject:null),kr(e,"bpmn:DataInputAssociation")&&(o=e.target?e.target.businessObject:null),this.updateSemanticParent(i,o),kr(e,"bpmn:DataObjectReference")&&i.dataObjectRef&&this.updateSemanticParent(i.dataObjectRef,o),this.updateDiParent(r,a)}},rd.prototype.updateBounds=function(e){var t=jr(e),n=function(e){if(!kr(e,"bpmn:Activity"))return;var t=jr(e);if(!t)return;var n=t.get("label");if(!n)return;return n.get("bounds")}(e);if(n){var i=La(n,t.get("bounds"));H(n,{x:e.x+i.x,y:e.y+i.y})}var r=gn(e)?this._getLabel(t):t,o=r.bounds;o||(o=this._bpmnFactory.createDiBounds(),r.set("bounds",o)),H(o,{x:e.x,y:e.y,width:e.width,height:e.height})},rd.prototype.updateFlowNodeRefs=function(e,t,n){n!==t&&(kr(n,"bpmn:Lane")&&jt(n.get("flowNodeRef"),e),kr(t,"bpmn:Lane")&&Mt(t.get("flowNodeRef"),e))},rd.prototype.updateDiConnection=function(e,t,n){var i=jr(e),r=jr(t),o=jr(n);i.sourceElement&&i.sourceElement.bpmnElement!==Sr(t)&&(i.sourceElement=t&&r),i.targetElement&&i.targetElement.bpmnElement!==Sr(n)&&(i.targetElement=n&&o)},rd.prototype.updateDiParent=function(e,t){if(t&&!kr(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(jt(n,e),e.$parent=null)}},rd.prototype.getLaneSet=function(e){var t,n;return kr(e,"bpmn:Lane")?((t=e.childLaneSet)||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(kr(e,"bpmn:Participant")&&(e=e.processRef),(t=(n=e.get("laneSets"))[0])||((t=this._bpmnFactory.create("bpmn:LaneSet")).$parent=e,n.push(t)),t)},rd.prototype.updateSemanticParent=function(e,t,n){var i,r=this._translate;if(e.$parent!==t&&(!kr(e,"bpmn:DataInput")&&!kr(e,"bpmn:DataOutput")||(kr(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),!("ioSpecification"in t)||t.ioSpecification!==e.$parent))){if(kr(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),i="lanes";else if(kr(e,"bpmn:FlowElement")){if(t)if(kr(t,"bpmn:Participant"))t=t.processRef;else if(kr(t,"bpmn:Lane"))do{t=t.$parent.$parent}while(kr(t,"bpmn:Lane"));i="flowElements"}else if(kr(e,"bpmn:Artifact")){for(;t&&!kr(t,"bpmn:Process")&&!kr(t,"bpmn:SubProcess")&&!kr(t,"bpmn:Collaboration");){if(kr(t,"bpmn:Participant")){t=t.processRef;break}t=t.$parent}i="artifacts"}else if(kr(e,"bpmn:MessageFlow"))i="messageFlows";else if(kr(e,"bpmn:Participant")){i="participants";var o,a=e.processRef;a&&(o=function(e){for(;e&&!kr(e,"bpmn:Definitions");)e=e.$parent;return e}(e.$parent||t),e.$parent&&(jt(o.get("rootElements"),a),a.$parent=null),t&&(Mt(o.get("rootElements"),a),a.$parent=o))}else kr(e,"bpmn:DataOutputAssociation")?i="dataOutputAssociations":kr(e,"bpmn:DataInputAssociation")&&(i="dataInputAssociations");if(!i)throw new Error(r("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var s;if(e.$parent&&jt(s=e.$parent.get(i),e),t?((s=t.get(i)).push(e),e.$parent=t):e.$parent=null,n){var c=n.get(i);jt(s,e),t&&(c||(c=[],t.set(i,c)),c.push(e))}}},rd.prototype.updateConnectionWaypoints=function(e){jr(e).set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))},rd.prototype.updateConnection=function(e){var t,n=e.connection,i=Sr(n),r=n.source,o=Sr(r),a=n.target,s=Sr(n.target);if(kr(i,"bpmn:DataAssociation"))kr(i,"bpmn:DataInputAssociation")?(i.get("sourceRef")[0]=o,t=e.parent||e.newParent||s,this.updateSemanticParent(i,s,t)):kr(i,"bpmn:DataOutputAssociation")&&(t=e.parent||e.newParent||o,this.updateSemanticParent(i,o,t),i.targetRef=s);else{var c=kr(i,"bpmn:SequenceFlow");i.sourceRef!==o&&(c&&(jt(i.sourceRef&&i.sourceRef.get("outgoing"),i),o&&o.get("outgoing")&&o.get("outgoing").push(i)),i.sourceRef=o),i.targetRef!==s&&(c&&(jt(i.targetRef&&i.targetRef.get("incoming"),i),s&&s.get("incoming")&&s.get("incoming").push(i)),i.targetRef=s)}this.updateConnectionWaypoints(n),this.updateDiConnection(n,r,a)},rd.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label},i(ad,Kn),ad.$inject=["bpmnFactory","moddle","translate"],ad.prototype._baseCreate=Kn.prototype.create,ad.prototype.create=function(e,t){if("label"===e){var n=t.di||this._bpmnFactory.createDiLabel();return this._baseCreate(e,H({type:"label",di:n},Vr,t))}return this.createElement(e,t)},ad.prototype.createElement=function(e,t){var n,i,r,o=this._translate,a=(t=H({},t||{})).businessObject,s=t.di;if(!a){if(!t.type)throw new Error(o("no shape type specified"));wr(a=this._bpmnFactory.create(t.type))}if(!Er(s,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])){var c=H({},s||{},{id:a.id+"_di"});s="root"===e?this._bpmnFactory.createDiPlane(a,c):"connection"===e?this._bpmnFactory.createDiEdge(a,c):this._bpmnFactory.createDiShape(a,c)}return kr(a,"bpmn:Group")&&(t=H({isFrame:!0},t)),(t=function(e,t,n){return k(n,(function(n){t=sd(e,t,n)})),t}(a,t,["processRef","isInterrupting","associationDirection","isForCompensation"])).isExpanded&&(t=sd(s,t,"isExpanded")),Er(a,["bpmn:Lane","bpmn:Participant"])&&(t=sd(s,t,"isHorizontal")),kr(a,"bpmn:SubProcess")&&(t.collapsed=!qr(a,s)),kr(a,"bpmn:ExclusiveGateway")&&(y(s,"isMarkerVisible")?void 0===s.isMarkerVisible&&(s.isMarkerVisible=!1):s.isMarkerVisible=!0),p(t.triggeredByEvent)&&(a.triggeredByEvent=t.triggeredByEvent,delete t.triggeredByEvent),p(t.cancelActivity)&&(a.cancelActivity=t.cancelActivity,delete t.cancelActivity),t.eventDefinitionType&&(i=a.get("eventDefinitions")||[],r=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),"bpmn:ConditionalEventDefinition"===t.eventDefinitionType&&(r.condition=this._bpmnFactory.create("bpmn:FormalExpression")),i.push(r),r.$parent=a,a.eventDefinitions=i,delete t.eventDefinitionType),n=this.getDefaultSize(a,s),t=H({id:a.id},n,t,{businessObject:a,di:s}),this._baseCreate(e,t)},ad.prototype.getDefaultSize=function(e,t){var n=Sr(e);return t=t||jr(e),kr(n,"bpmn:SubProcess")?qr(n,t)?{width:350,height:200}:{width:100,height:80}:kr(n,"bpmn:Task")?{width:100,height:80}:kr(n,"bpmn:Gateway")?{width:50,height:50}:kr(n,"bpmn:Event")?{width:36,height:36}:kr(n,"bpmn:Participant")?qr(n,t)?{width:600,height:250}:{width:400,height:60}:kr(n,"bpmn:Lane")?{width:400,height:100}:kr(n,"bpmn:DataObjectReference")?{width:36,height:50}:kr(n,"bpmn:DataStoreReference")?{width:50,height:50}:kr(n,"bpmn:TextAnnotation")?{width:100,height:30}:kr(n,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}},ad.prototype.createParticipantShape=function(e){return d(e)||(e={isExpanded:e}),!1!==(e=H({type:"bpmn:Participant"},e||{})).isExpanded&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)},cd.$inject=["modeling","canvas"],cd.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,i=e.alignment;k(n,(function(e){var n={x:0,y:0};p(i.left)?n.x=i.left-e.x:p(i.right)?n.x=i.right-e.width-e.x:p(i.center)?n.x=i.center-Math.round(e.width/2)-e.x:p(i.top)?n.y=i.top-e.y:p(i.bottom)?n.y=i.bottom-e.height-e.y:p(i.middle)&&(n.y=i.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},cd.prototype.postExecute=function(e){},ud.$inject=["modeling"],ud.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,r=e.hints||{};i=e.shape=this._modeling.createShape(i,e.position,n,{attach:r.attach}),e.shape=i},ud.prototype.postExecute=function(e){var t,n,i=e.hints||{};t=e.source,n=e.shape,M(t.outgoing,(function(e){return e.target===n}))||(i.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},ld.$inject=["canvas","layouter"],ld.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,r=e.parent,o=e.parentIndex,a=e.hints;if(!n||!i)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,r,o),t},ld.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var pd=Math.round;function hd(e){this._modeling=e}hd.$inject=["modeling"],hd.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,r=e.position,o=e.hints,a=this._modeling;k(t,(function(e){m(e.x)||(e.x=0),m(e.y)||(e.y=0)}));var s=wt(x(t,(function(e){return!e.hidden})));k(t,(function(e){mn(e)&&(e.waypoints=A(e.waypoints,(function(e){return{x:pd(e.x-s.x-s.width/2+r.x),y:pd(e.y-s.y-s.height/2+r.y)}}))),H(e,{x:pd(e.x-s.x-s.width/2+r.x),y:pd(e.y-s.y-s.height/2+r.y)})}));var c=mt(t),u={};k(t,(function(e){if(mn(e))u[e.id]=m(i)?a.createConnection(u[e.source.id],u[e.target.id],i,e,e.parent||n,o):a.createConnection(u[e.source.id],u[e.target.id],e,e.parent||n,o);else{var t=H({},o);-1===c.indexOf(e)&&(t.autoResize=!1),gn(e)&&(t=$(t,["attach"])),u[e.id]=m(i)?a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,i,t):a.createShape(e,U(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=T(u)};var fd=Math.round;function dd(e){this._canvas=e}function md(e){dd.call(this,e)}dd.$inject=["canvas"],dd.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,r=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?H(t,n):H(t,{x:n.x-fd(t.width/2),y:n.y-fd(t.height/2)}),this._canvas.addShape(t,i,r),t},dd.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},i(md,dd),md.$inject=["canvas"];var gd=dd.prototype.execute;md.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){void 0===e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,gd.call(this,e)};var vd=dd.prototype.revert;function yd(e,t){this._canvas=e,this._modeling=t}function bd(e,t){this._modeling=e,this._elementRegistry=t}function wd(e,t){this._canvas=e,this._modeling=t}function _d(e){this._modeling=e}md.prototype.revert=function(e){return e.shape.labelTarget=null,vd.call(this,e)},yd.$inject=["canvas","modeling"],yd.prototype.preExecute=function(e){var t=this._modeling,n=e.connection;Yf(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),Yf(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})}))},yd.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=At(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},yd.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,Mt(n.children,t,i),this._canvas.addConnection(t,n),t},bd.$inject=["modeling","elementRegistry"],bd.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry;k(e.elements,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},wd.$inject=["canvas","modeling"],wd.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;Yf(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),Yf(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),Yf(n.children,(function(e){mn(e)?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},wd.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=At(i.children,n),t.removeShape(n),n},wd.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,r=e.oldParentIndex;return Mt(i.children,n,r),t.addShape(n,i),n},_d.$inject=["modeling"];var xd={x:"y",y:"x"};function kd(e,t){this._layouter=e,this._canvas=t}function Ed(){}function Sd(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function jd(e){this._modeling=e}function Md(e){this._helper=new jd(e)}function Ad(e){this._modeling=e,this._helper=new jd(e)}function Cd(e){this._modeling=e}function Td(e){return e.original||e}function Pd(e,t){this._modeling=e,this._rules=t}function Rd(e){this._modeling=e}function Bd(e){this._modeling=e}function Od(e){return H({},e)}function Id(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function Dd(e,t,n){var i=Id(n);return/e|s/.test(n)?e[i]>t:/n|w/.test(n)?e[i]<t:void 0}function Fd(e,t){return-1!==e.indexOf(t)}function zd(e){this._modeling=e}function Nd(e){this._modeling=e}function Ld(e,t){return jt(e&&e.attachers,t)}function qd(e,t,n){if(e){var i=e.attachers;i||(e.attachers=i=[]),Mt(i,t,n)}}function Hd(){}function Ud(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",(function(){i.registerHandlers(n)}))}function $d(e){this._elementRegistry=e}function Vd(e,t){k(t,(function(t,n){e.set(n,t)}))}_d.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,i=e.axis,r=e.dimension;function o(e,t){e.range.min=Math.min(t[i],e.range.min),e.range.max=Math.max(t[i]+t[r],e.range.max)}function a(e){return e[i]+e[r]/2}function s(e){return e.length-1}function c(e){return e.max-e.min}var u,l,p=n[0],h=s(n),f=n[h],d=0;k(n,(function(e,u){var l,p,f;e.elements.length<2?u&&u!==n.length-1&&(o(e,e.elements[0]),d+=c(e.range)):(p=(l=O(e.elements,i))[0],u===h&&(p=l[s(l)]),f=a(p),e.range=null,k(l,(function(n){!function(e,n){var r={y:0};r[i]=e-a(n),r[i]&&(r[xd[i]]=0,t.moveElements([n],r,n.parent))}(f,n),null!==e.range?o(e,n):e.range={min:n[i],max:n[i]+n[r]}})),u&&u!==n.length-1&&(d+=c(e.range)))})),l=Math.abs(f.range.min-p.range.max),(u=Math.round((l-d)/(n.length-1)))<n.length-1||k(n,(function(e,o){var a,s={};e!==p&&e!==f&&(a=n[o-1],e.range.max=0,k(e.elements,(function(n,o){s[xd[i]]=0,s[i]=a.range.max-n[i]+u,e.range.min!==n[i]&&(s[i]+=n[i]-e.range.min),s[i]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[i]+n[r],o?e.range.max:0)})))}))},_d.prototype.postExecute=function(e){},kd.$inject=["layouter","canvas"],kd.prototype.execute=function(e){var t=e.connection;return H(e,{oldWaypoints:t.waypoints}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},kd.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},Ed.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=jt(o.children,t),Mt(i.children,t,r),t.parent=i,k(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},Ed.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,r=e.oldParentIndex,o=e.delta;return jt(n.children,t),Mt(i.children,t,r),t.parent=i,k(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},Sd.prototype.add=function(e,t){return this.addAll([e],t)},Sd.prototype.addAll=function(e,t){return H(this,function(e,t,n){l(t)&&(t=!0),d(t)&&(n=t,t=!0);var i=kt((n=n||{}).allShapes),r=kt(n.allConnections),o=kt(n.enclosedElements),a=kt(n.enclosedConnections),s=kt(n.topLevel,t&&P(e,(function(e){return e.id})));function c(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(a[e.id]=o[e.id]=e),r[e.id]=e}return vt(e,(function(e){if(o[e.id]=e,!e.waypoints)return i[e.id]=e,k(e.incoming,c),k(e.outgoing,c),e.children;a[e.id]=r[e.id]=e})),{allShapes:i,allConnections:r,topLevel:s,enclosedConnections:a,enclosedElements:o}}(e,!!t,this)),this},jd.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},jd.prototype.moveClosure=function(e,t,n,i,r){var o=this._modeling,a=e.allShapes,s=e.allConnections,c=e.enclosedConnections,u=e.topLevel,l=!1;r&&r.parent===n&&(l=!0),k(a,(function(e){o.moveShape(e,t,u[e.id]&&!l&&n,{recurse:!1,layout:!1})})),k(s,(function(e){var i=!!a[e.source.id],r=!!a[e.target.id];c[e.id]&&i&&r?o.moveConnection(e,t,u[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:i&&mp(e,e.source,t),connectionEnd:r&&gp(e,e.target,t)})}))},jd.prototype.getClosure=function(e){return(new Sd).addAll(e,!0)},Md.$inject=["modeling"],Md.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},Md.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},Ad.$inject=["modeling"],Ad.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldBounds=U(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=jt(o.children,t),Mt(i.children,t,r),H(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},Ad.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,r=this._modeling;!1!==i.layout&&(k(t.incoming,(function(e){r.layoutConnection(e,{connectionEnd:gp(e,t,n)})})),k(t.outgoing,(function(e){r.layoutConnection(e,{connectionStart:mp(e,t,n)})}))),!1!==i.recurse&&this.moveChildren(e)},Ad.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,r=e.delta;return Mt(n.children,t,i),H(t,{parent:n,x:t.x-r.x,y:t.y-r.y}),t},Ad.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},Ad.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},Cd.$inject=["modeling"],Cd.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,r=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return f(r)&&(e.oldWaypoints=i.waypoints,i.waypoints=r),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i},Cd.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,r=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||i&&"source"!==o.docking||(a.connectionStart=a.connectionStart||Td(f(r)?r[0]:r)),!i||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||Td(f(r)?r[r.length-1]:r)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},Cd.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,r=e.connection;return t&&(r.source=t),n&&(r.target=n),i&&(r.waypoints=i),r},Pd.$inject=["modeling","rules"],Pd.prototype.preExecute=function(e){var t,n=this,i=this._modeling,r=this._rules,o=e.oldShape,a=e.newData,s=e.hints||{};function c(e,t,n){return r.allowed("connection.reconnect",{connection:n,source:e,target:t})}var u,l={x:a.x,y:a.y},p={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,l,o.parent,s),o.host&&i.updateAttachment(t,o.host),!1!==s.moveChildren&&(u=o.children.slice(),i.moveElements(u,{x:0,y:0},t,s));var h=o.incoming.slice(),f=o.outgoing.slice();k(h,(function(e){c(e.source,t,e)&&n.reconnectEnd(e,t,dp(e,t,p),s)})),k(f,(function(e){var i=e.target;c(t,i,e)&&n.reconnectStart(e,t,fp(e,t,p),s)}))},Pd.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},Pd.prototype.execute=function(e){},Pd.prototype.revert=function(e){},Pd.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)},Pd.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)},Pd.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)},Rd.$inject=["modeling"],Rd.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},H(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Rd.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds;!1!==(e.hints||{}).layout&&(k(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:dp(e,n,i)})})),k(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:fp(e,n,i)})})))},Rd.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return H(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},Bd.$inject=["modeling"],Bd.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,r=e.resizingShapes,o=e.start,a={};this.moveShapes(i,t),k(r,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(r,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return k(e.concat(t),(function(i){var r=i.incoming,o=i.outgoing;k(r.concat(o),(function(i){var r=i.source,o=i.target;(Bf(e,r)||Bf(e,o)||Bf(t,r)||Bf(t,o))&&(Bf(n,i)||n.push(i))}))})),n}(i,r),t,n,o,i,r,a)},Bd.prototype.execute=function(){},Bd.prototype.revert=function(){},Bd.prototype.moveShapes=function(e,t){var n=this;k(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},Bd.prototype.resizeShapes=function(e,t,n){var i=this;k(e,(function(e){var r=function(e,t,n){var i=e.x,r=e.y,o=e.width,a=e.height,s=n.x,c=n.y;switch(t){case"n":return{x:i,y:r+c,width:o,height:a-c};case"s":return{x:i,y:r,width:o,height:a+c};case"w":return{x:i+s,y:r,width:o-s,height:a};case"e":return{x:i,y:r,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);i._modeling.resizeShape(e,r,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},Bd.prototype.updateConnectionWaypoints=function(e,t,n,i,r,o,a){var s=this,c=r.concat(o);k(e,(function(e){var u=e.source,l=e.target,p=function(e){return A(e.waypoints,(function(e){return(e=Od(e)).original&&(e.original=Od(e.original)),e}))}(e),h=Id(n),f={};Fd(c,u)&&Fd(c,l)?(p=A(p,(function(e){return Dd(e,i,n)&&(e[h]=e[h]+t[h]),e.original&&Dd(e.original,i,n)&&(e.original[h]=e.original[h]+t[h]),e})),s._modeling.updateWaypoints(e,p,{labelBehavior:!1})):(Fd(c,u)||Fd(c,l))&&(Fd(r,u)?f.connectionStart=mp(e,u,t):Fd(r,l)?f.connectionEnd=gp(e,l,t):Fd(o,u)?f.connectionStart=fp(e,u,a[u.id]):Fd(o,l)&&(f.connectionEnd=dp(e,l,a[l.id])),s._modeling.layoutConnection(e,f))}))},zd.$inject=["modeling"],zd.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=function e(t){var n={};return k(t,(function(t){n[t.id]=t.hidden,t.children&&(n=H({},n,e(t.children)))})),n}(n),t.collapsed=!t.collapsed;var i=function e(t,n){var i=[];return k(t,(function(t){t.hidden=n,i=i.concat(t),t.children&&(i=i.concat(e(t.children,t.collapsed||n)))})),i}(n,t.collapsed);return[t].concat(i)},zd.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,i=function e(t,n){var i=[];return k(t,(function(t){t.hidden=n[t.id],i=i.concat(t),t.children&&(i=i.concat(e(t.children,n)))})),i}(t.children,n);return t.collapsed=!t.collapsed,[t].concat(i)},Nd.$inject=["modeling"],Nd.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=Ld(i,t),qd(n,t),t.host=n,t},Nd.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,r=e.attacherIdx;return t.host=i,Ld(n,t),qd(i,t,r),t},Hd.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},Hd.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},Ud.$inject=["eventBus","elementFactory","commandStack"],Ud.prototype.getHandlers=function(){return{"shape.append":ud,"shape.create":dd,"shape.delete":wd,"shape.move":Ad,"shape.resize":Rd,"shape.replace":Pd,"shape.toggleCollapse":zd,spaceTool:Bd,"label.create":md,"connection.create":ld,"connection.delete":yd,"connection.move":Ed,"connection.layout":kd,"connection.updateWaypoints":Hd,"connection.reconnect":Cd,"elements.create":hd,"elements.move":Md,"elements.delete":bd,"elements.distribute":_d,"elements.align":cd,"element.updateAttachment":Nd}},Ud.prototype.registerHandlers=function(e){k(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},Ud.prototype.moveShape=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=null);var o={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("shape.move",o)},Ud.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},Ud.prototype.moveElements=function(e,t,n,i){var r,o=(i=i||{}).attach,a=n;!0===o?(r=n,a=n.parent):!1===o&&(r=null);var s={shapes:e,delta:t,newParent:a,newHost:r,hints:i};this._commandStack.execute("elements.move",s)},Ud.prototype.moveConnection=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("connection.move",o)},Ud.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},Ud.prototype.createConnection=function(e,t,n,i,r,o){"object"==typeof n&&(o=r,r=i,i=n,n=void 0);var a={source:e,target:t,parent:r,parentIndex:n,connection:i=this._create("connection",i),hints:o};return this._commandStack.execute("connection.create",a),a.connection},Ud.prototype.createShape=function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=void 0);var o,a,s=(r=r||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var c={position:t,shape:e,parent:o,parentIndex:i,host:a,hints:r};return this._commandStack.execute("shape.create",c),c.shape},Ud.prototype.createElements=function(e,t,n,i,r){f(e)||(e=[e]),"number"!=typeof i&&(r=i,i=void 0);var o={position:t,elements:e,parent:n,parentIndex:i,hints:r=r||{}};return this._commandStack.execute("elements.create",o),o.elements},Ud.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);var r={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape},Ud.prototype.appendShape=function(e,t,n,i,r){r=r||{};var o={source:e,position:n,target:i,shape:t=this._create("shape",t),connection:r.connection,connectionParent:r.connectionParent,hints:r};return this._commandStack.execute("shape.append",o),o.shape},Ud.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},Ud.prototype.distributeElements=function(e,t,n){var i={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",i)},Ud.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},Ud.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},Ud.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape},Ud.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},Ud.prototype.resizeShape=function(e,t,n,i){var r={shape:e,newBounds:t,minBounds:n,hints:i};this._commandStack.execute("shape.resize",r)},Ud.prototype.createSpace=function(e,t,n,i,r){var o={delta:n,direction:i,movingShapes:e,resizingShapes:t,start:r};this._commandStack.execute("spaceTool",o)},Ud.prototype.updateWaypoints=function(e,t,n){var i={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)},Ud.prototype.reconnect=function(e,t,n,i,r){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:r||{}};this._commandStack.execute("connection.reconnect",o)},Ud.prototype.reconnectStart=function(e,t,n,i){i||(i={}),this.reconnect(e,t,e.target,n,H(i,{docking:"source"}))},Ud.prototype.reconnectEnd=function(e,t,n,i){i||(i={}),this.reconnect(e,e.source,t,n,H(i,{docking:"target"}))},Ud.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)},Ud.prototype._create=function(e,t){return t instanceof Hn?t:this._elementFactory.create(e,t)},Ud.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)},$d.$inject=["elementRegistry"],$d.prototype.execute=function(e){var t=e.element,n=e.moddleElement,i=e.properties;if(!n)throw new Error("<moddleElement> required");var r=e.changed||this._getVisualReferences(n).concat(t),o=e.oldProperties||function(e,t){return S(t,(function(t,n){return t[n]=e.get(n),t}),{})}(n,C(i));return Vd(n,i),e.oldProperties=o,e.changed=r,r},$d.prototype.revert=function(e){var t=e.oldProperties,n=e.moddleElement,i=e.changed;return Vd(n,t),i},$d.prototype._getVisualReferences=function(e){var t=this._elementRegistry;return kr(e,"bpmn:DataObject")?function(e,t){return t.filter((function(t){return kr(t,"bpmn:DataObjectReference")&&Sr(t).dataObjectRef===e}))}(e,t):[]};var Wd="id",Gd={width:0,height:0};function Kd(e,t,n,i,r){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=i,this._textRenderer=r}function Zd(e,t){return Wd in e&&e.id!==t.id}function Yd(e,t){var n=e.businessObject,i=jr(e);k(t,(function(e,t){"di"!==t?n.set(t,e):i&&function(e,t){k(t,(function(t,n){e.set(n,t)}))}(i,e)}))}Kd.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],Kd.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate;if(!t)throw new Error(i("element required"));var r=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,s=function(e){var t=H({},e);return Xd.forEach((function(n){n in e&&(t[n]=Sr(t[n]))})),t}(e.properties),c=e.oldProperties||function(e,t){var n=C(t),i=e.businessObject,r=jr(e);return S(n,(function(e,n){return e[n]="di"!==n?i.get(n):function(e,t){return S(t,(function(t,n){return t[n]=e&&e.get(n),t}),{})}(r,C(t.di)),e}),{})}(t,s);return Zd(s,a)&&(o.unclaim(a.id),r.updateId(t,s.id),o.claim(s.id,a)),"default"in s&&(s.default&&n.push(r.get(s.default.id)),a.default&&n.push(r.get(a.default.id))),Yd(t,s),e.oldProperties=c,e.changed=n,n},Kd.prototype.postExecute=function(e){var t=e.element.label,n=t&&Sr(t).name;if(n){var i=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,i,Gd)}},Kd.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,r=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return Yd(t,i),Zd(n,r)&&(a.unclaim(n.id),o.updateId(t,i.id),a.claim(i.id,r)),e.changed};var Xd=["default"];function Jd(e,t){this._canvas=e,this._modeling=t}function Qd(e,t){this._modeling=e,this._spaceTool=t}function em(e,t){this._modeling=e,this._translate=t}function tm(e,t){this._modeling=e,this._spaceTool=t}Jd.$inject=["canvas","modeling"],Jd.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=t.getRootElement(),o=r.businessObject,a=o.$parent,s=jr(r);return t.setRootElement(n),t.removeRootElement(r),Mt(a.rootElements,i),i.$parent=a,jt(a.rootElements,o),o.$parent=null,r.di=null,s.bpmnElement=i,n.di=s,e.oldRoot=r,[]},Jd.prototype.revert=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=e.oldRoot,o=r.businessObject,a=i.$parent,s=jr(n);return t.setRootElement(r),t.removeRootElement(n),jt(a.rootElements,i),i.$parent=null,Mt(a.rootElements,o),o.$parent=a,n.di=null,s.bpmnElement=o,r.di=s,[]},Qd.$inject=["modeling","spaceTool"],Qd.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,i=e.shape,r=e.location,o=Bl(i),a=o===i,s=a?i:i.parent,c=Rl(s),u=Hr(i);if(u?"left"===r?r="top":"right"===r&&(r="bottom"):"top"===r?r="left":"bottom"===r&&(r="right"),!c.length){var l=u?{x:i.x+30,y:i.y,width:i.width-30,height:i.height}:{x:i.x,y:i.y+30,width:i.width,height:i.height-30};n.createShape({type:"bpmn:Lane",isHorizontal:u},l,s)}var p,h,f,d,m,g=[];vt(o,(function(e){return g.push(e),e.label&&g.push(e.label),e===i?[]:x(e.children,(function(e){return e!==i}))})),"top"===r?(p=-120,f=(h=i.y)+10,d="n",m="y"):"left"===r?(p=-120,f=(h=i.x)+10,d="w",m="x"):"bottom"===r?(p=120,f=(h=i.y+i.height)-10,d="s",m="y"):"right"===r&&(p=120,f=(h=i.x+i.width)-10,d="e",m="x");var v=t.calculateAdjustments(g,m,p,f),y=u?{x:0,y:p}:{x:p,y:0};t.makeSpace(v.movingShapes,v.resizingShapes,y,d,f);var b=u?{x:i.x+(a?30:0),y:h-("top"===r?120:0),width:i.width-(a?30:0),height:120}:{x:h-("left"===r?120:0),y:i.y+(a?30:0),width:120,height:i.height-(a?30:0)};e.newLane=n.createShape({type:"bpmn:Lane",isHorizontal:u},b,s)},em.$inject=["modeling","translate"],em.prototype.preExecute=function(e){var t=this._modeling,n=this._translate,i=e.shape,r=e.count,o=Rl(i),a=o.length;if(a>r)throw new Error(n("more than {count} child lanes",{count:r}));var s,c,u,l,p=Hr(i),h=p?i.height:i.width,f=Math.round(h/r);for(l=0;l<r;l++)s=l===r-1?h-f*l:f,c=p?{x:i.x+30,y:i.y+l*f,width:i.width-30,height:s}:{x:i.x+l*f,y:i.y+30,width:s,height:i.height-30},l<a?t.resizeShape(o[l],c):(u={type:"bpmn:Lane",isHorizontal:p},t.createShape(u,c,i))},tm.$inject=["modeling","spaceTool"],tm.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds;!1!==e.balanced?this.resizeBalanced(t,n):this.resizeSpace(t,n)},tm.prototype.resizeBalanced=function(e,t){var n=this._modeling,i=Ol(e,t);n.resizeShape(e,t),i.forEach((function(e){n.resizeShape(e.shape,e.newBounds)}))},tm.prototype.resizeSpace=function(e,t){var n,i,r,o,a,s=this._spaceTool,c=bn(e),u=El(bn(t),c),l=Bl(e),p=[],h=[];vt(l,(function(e){return p.push(e),(kr(e,"bpmn:Lane")||kr(e,"bpmn:Participant"))&&h.push(e),e.children})),(u.bottom||u.top)&&(n=u.bottom||u.top,i=e.y+(u.bottom?e.height:0)+(u.bottom?-10:10),r=u.bottom?"s":"n",o=u.top>0||u.bottom<0?-n:n,a=s.calculateAdjustments(p,"y",o,i),s.makeSpace(a.movingShapes,a.resizingShapes,{x:0,y:n},r)),(u.left||u.right)&&(n=u.right||u.left,i=e.x+(u.right?e.width:0)+(u.right?-10:100),r=u.right?"e":"w",o=u.left>0||u.right<0?-n:n,a=s.calculateAdjustments(h,"x",o,i),s.makeSpace(a.movingShapes,a.resizingShapes,{x:n,y:0},r))};function nm(e){this._elementRegistry=e}function im(e){this._moddle=e}nm.$inject=["elementRegistry"],nm.prototype._computeUpdates=function(e,t){var n=[],i=[],r={},o=[];function a(e){-1===n.indexOf(e)&&(o.push(e),n.push(e))}function s(e){return e.parent?function(e){var t=Bl(e);return r[t.id]||(r[t.id]=Pl(t)),r[t.id]}(e).filter((function(t){return n=e,i=bn(t),r=n.x+n.width/2,o=n.y+n.height/2,r>i.left&&r<i.right&&o>i.top&&o<i.bottom;var n,i,r,o})).map((function(e){return e.businessObject})):[]}return t.forEach((function(e){var t=Bl(e);t&&-1===n.indexOf(t)&&(t.children.filter((function(e){return kr(e,"bpmn:FlowNode")})).forEach(a),n.push(t))})),e.forEach(a),o.forEach((function(e){var t=e.businessObject,n=t.get("lanes").slice(),r=s(e);i.push({flowNode:t,remove:n,add:r})})),t.forEach((function(e){var t=e.businessObject;e.parent||t.get("flowNodeRef").forEach((function(e){i.push({flowNode:e,remove:[t],add:[]})}))})),i},nm.prototype.execute=function(e){var t=e.updates;return t||(t=e.updates=this._computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach((function(e){var t=e.flowNode,n=t.get("lanes");e.remove.forEach((function(e){jt(n,e),jt(e.get("flowNodeRef"),t)})),e.add.forEach((function(e){Mt(n,e),Mt(e.get("flowNodeRef"),t)}))})),[]},nm.prototype.revert=function(e){return e.updates.forEach((function(e){var t=e.flowNode,n=t.get("lanes");e.add.forEach((function(e){jt(n,e),jt(e.get("flowNodeRef"),t)})),e.remove.forEach((function(e){Mt(n,e),Mt(e.get("flowNodeRef"),t)}))})),[]},im.$inject=["moddle"],im.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element;return e.claiming?t.claim(n,i):t.unclaim(n),[]},im.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element;return e.claiming?t.unclaim(n):t.claim(n,i),[]};var rm={fill:void 0,stroke:void 0};function om(e){this._commandStack=e,this._normalizeColor=function(e){if(e){if(v(e)){var t=function(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}(e);if(t)return t}throw new Error("invalid color value: "+e)}}}om.$inject=["commandStack"],om.prototype.postExecute=function(e){var t=e.elements,n=e.colors||rm,i=this,r={};"fill"in n&&H(r,{"background-color":this._normalizeColor(n.fill)}),"stroke"in n&&H(r,{"border-color":this._normalizeColor(n.stroke)}),k(t,(function(e){var t=mn(e)?U(r,["border-color"]):r,n=jr(e);if(function(e){"border-color"in e&&(e.stroke=e["border-color"]);"background-color"in e&&(e.fill=e["background-color"])}(t),gn(e))i._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:n.label,properties:{color:r["border-color"]}});else{if(!Er(n,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;i._commandStack.execute("element.updateProperties",{element:e,properties:{di:t}})}}))};var am={width:0,height:0};function sm(e,t,n){function i(e,t){var n=e.label||e,i=e.labelTarget||e;return function(e,t){var n=e.businessObject,i=Yr(n);i&&("categoryValueRef"===i?n.categoryValueRef.value=t:n[i]=t)}(n,t),[n,i]}this.preExecute=function(t){var n=t.element,i=n.businessObject,r=t.newLabel;if(!gn(n)&&Wr(n)&&!Gr(n)&&!cm(r)){var o=Zr(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:i.id+"_label",businessObject:i,di:n.di})}},this.execute=function(e){return e.oldLabel=Xr(e.element),i(e.element,e.newLabel)},this.revert=function(e){return i(e.element,e.oldLabel)},this.postExecute=function(n){var i=n.element,r=i.label||i,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(gn(r)||kr(r,"bpmn:TextAnnotation"))if(gn(r)&&cm(o))!1!==s.removeShape&&e.removeShape(r,{unsetLabel:!1});else{var c=Xr(i);void 0===a&&(a=t.getExternalLabelBounds(r,c)),a&&e.resizeShape(r,a,am)}}}function cm(e){return!e||!e.trim()}function um(e,t,n,i){Ud.call(this,e,t,n),this._bpmnRules=i}function lm(){}sm.$inject=["modeling","textRenderer","bpmnFactory"],i(um,Ud),um.$inject=["eventBus","elementFactory","commandStack","bpmnRules"],um.prototype.getHandlers=function(){var e=Ud.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=$d,e["element.updateProperties"]=Kd,e["canvas.updateRoot"]=Jd,e["lane.add"]=Qd,e["lane.resize"]=tm,e["lane.split"]=em,e["lane.updateRefs"]=nm,e["id.updateClaim"]=im,e["element.setColor"]=om,e["element.updateLabel"]=sm,e},um.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})},um.prototype.connect=function(e,t,n,i){var r=this._bpmnRules;if(n||(n=r.canConnect(e,t)),n)return this.createConnection(e,t,n,e.parent,i)},um.prototype.updateModdleProperties=function(e,t,n){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:n})},um.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},um.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})},um.prototype.addLane=function(e,t){var n={shape:e,location:t};return this._commandStack.execute("lane.add",n),n.newLane},um.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})},um.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e},um.prototype.makeProcess=function(){var e={newRoot:this._create("root",{type:"bpmn:Process"})};this._commandStack.execute("canvas.updateRoot",e)},um.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})},um.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},um.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},um.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})},lm.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||xn(t.source||e.source),t.connectionEnd||xn(t.target||e.target)]};var pm=Math.round,hm={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function fm(e,t,n){var i,r,o,a=kn(t,e,5),s=n.split(":")[0],c=pm((t.x-e.x)/2+e.x),u=pm((t.y-e.y)/2+e.y),l=(o=a,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[s].test(o)),p=/h|r|l/.test(s),h=!1;return l?(i=p?{x:c,y:e.y}:{x:e.x,y:u},r=p?"h:h":"v:v"):(r=p?"h:v":"v:h",function(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}(a,s)?p?(h=u===e.y,i={x:e.x+20*(/l/.test(s)?-1:1),y:h?u+20:u}):i={x:(h=c===e.x)?c+20:c,y:e.y+20*(/t/.test(s)?-1:1)}:i={x:c,y:u}),{waypoints:mm(e,i,r).concat(i),directions:r,turnNextDirections:h}}function dm(e){return e.split(":").reverse().join(":")}function mm(e,t,n){if(!function(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}(n=n||"h:h"))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(wm(n)){var i=function(e,t,n){return fm(e,t,n)}(e,t,n),r=function(e,t,n){var i=fm(t,e,dm(n));return{waypoints:i.waypoints.slice().reverse(),directions:dm(i.directions),turnNextDirections:i.turnNextDirections}}(e,t,n),o=function(e,t){var n=e.directions.split(":")[1],i=t.directions.split(":")[0];e.turnNextDirections&&(n="h"==n?"v":"h"),t.turnNextDirections&&(i="h"==i?"v":"h");var r=n+":"+i;return{waypoints:mm(e.waypoints[e.waypoints.length-1],t.waypoints[0],r),directions:r}}(i,r);return[].concat(i.waypoints,o.waypoints,r.waypoints)}return function(e,t,n){var i=pm((t.x-e.x)/2+e.x),r=pm((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:i,y:e.y},{x:i,y:t.y}];if("v:v"===n)return[{x:e.x,y:r},{x:t.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function gm(e,t,n,i,r){var o=E(r&&r.preferredLayouts||[],"straight")[0]||"h:h",a=kn(e,t,hm[o]||0),s=function(e,t){if(wm(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(a,o);n=n||xn(e),i=i||xn(t);var c=s.split(":");return function(e,t,n){var i=mm(e,t,n);return i.unshift(e),i.push(t),xm(i)}(_m(n,e,c[0],function(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}(a)),_m(i,t,c[1],a),s)}function vm(e,t,n,i,r,o){var a;return f(n)&&(r=n,o=i,n=xn(e),i=xn(t)),r=r||[],(a=-1!==(o=H({preferredLayouts:[]},o)).preferredLayouts.indexOf("straight")&&function(e,t,n,i,r){var o,a,s={};if(a=kn(e,t),!/^(top|bottom|left|right)$/.test(a))return null;/top|bottom/.test(a)&&(o="x");/left|right/.test(a)&&(o="y");return"target"===r.preserveDocking?ym(o,i,e)?(s[o]=i[o],[{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y,original:{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y}},{x:i.x,y:i.y}]):null:ym(o,n,t)?(s[o]=n[o],[{x:n.x,y:n.y},{x:void 0!==s.x?s.x:i.x,y:void 0!==s.y?s.y:i.y,original:{x:void 0!==s.x?s.x:i.x,y:void 0!==s.y?s.y:i.y}}]):null}(e,t,n,i,o))||(a=o.connectionEnd&&function(e,t,n,i){var r=i.slice().reverse();return(r=bm(e,t,n,r))?r.reverse():null}(t,e,i,r))?a:(a=o.connectionStart&&bm(e,t,n,r))||(!o.connectionStart&&!o.connectionEnd&&r&&r.length?r:gm(e,t,n,i,o))}function ym(e,t,n){return function(e,t,n){return e>=t&&e<=n}(t[e],n[e],n[e]+n[{x:"width",y:"height"}[e]])}function bm(e,t,n,i){if(function(e){return e.length<3||!(e.length>4)&&!!b(e,(function(t,n){var i=e[n-1];return i&&Ct(t,i)<3}))}(i))return null;var r,o=i[0],a=i.slice();return a[0]=n,a[1]=function(e,t,n){switch(Pt(t,e)){case"v":return{x:n.x,y:e.y};case"h":return{x:e.x,y:n.y}}return{x:e.x,y:e.y}}(a[1],o,n),(r=function(e,t,n){var i;for(i=e.length-2;0!==i;i--)if(Bt(e[i],t,20)||Bt(e[i],n,20))return e.slice(i);return e}(a,e,t))!==a&&(a=bm(e,t,n,r)),a&&Pt(a)?null:a}function wm(e){return e&&/t|r|b|l/.test(e)}function _m(e,t,n,i){if("h"===n&&(n=/left/.test(i)?"l":"r"),"v"===n&&(n=/top/.test(i)?"t":"b"),"t"===n)return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function xm(e){return e.reduce((function(t,n,i){return Tt(t[t.length-1],e[i+1],n,0)||t.push(n),t}),[])}var km={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Em={top:"t",right:"r",bottom:"b",left:"l"};function Sm(){}function jm(e,t){return kr(t,"bpmn:Participant")?"source":kr(e,"bpmn:Participant")?"target":Tm(t)?"source":Tm(e)||kr(t,"bpmn:Event")?"target":kr(e,"bpmn:Event")?"source":null}function Mm(e){return Tm(e)?"target":"source"}function Am(e,t){return e?e.original||e:xn(t)}function Cm(e,t){return kr(t,"bpmn:Activity")&&kr(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function Tm(e){return kr(e,"bpmn:SubProcess")&&qr(e)}function Pm(e,t){return e===t}function Rm(e){var t=/right|left/.exec(e);return t&&t[0]}function Bm(e){var t=/top|bottom/.exec(e);return t&&t[0]}function Om(e){return"right"===e||"left"===e}function Im(e,t){var n=t.waypoints,i=n&&n.length&&kn(n[0],e);return"top"===i?["t:r"]:"right"===i?["r:b"]:"left"===i?["l:t"]:["b:l"]}function Dm(e,t,n){var i,r,o=xn(e),a=xn(t),s=(r=(i=e).host,kn(xn(i),r,-10)),c=Pm(e.host,t),u=-1!==["top","right","bottom","left"].indexOf(s),l=kn(a,o,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return c?function(e,t,n,i,r){var o,a=t?e:Bm(e),s=Em[a];o=t?Om(e)?Fm("y",n,i,r)?"h":"b":Fm("x",n,i,r)?"v":"l":"v";return[s+":"+o]}(s,u,e,t,n):[function(e,t,n){if(n)return Em[e];if(Pm(Bm(e),Bm(t))||(i=Rm(e),r=Rm(t),km[i]===r))return Em[Bm(e)];var i,r;return Em[Rm(e)]}(s,l,u)+":"+function(e,t,n){if(n)return Om(e)?(i=t,r=Rm(e),o=km[r],-1!==i.indexOf(o)||Pm(e,t)?"h":"v"):function(e,t){var n=Bm(e),i=km[n];return-1!==t.indexOf(i)}(e,t)||Pm(e,t)?"v":"h";var i,r,o;return Om(t)||Pm(Bm(e),Bm(t))&&Rm(t)?"h":"v"}(s,l,u)]}function Fm(e,t,n,i){return!(zm(e,i,n,40)||zm(e,i,{x:n.x+n.width,y:n.y+n.height},40)||zm(e,i,xn(t),40))}function zm(e,t,n,i){return Math.abs(t[e]-n[e])<i}function Nm(e){return H({original:e.point.original||e.point},e.actual)}function Lm(e,t){this._elementRegistry=e,this._graphicsFactory=t}i(Sm,lm),Sm.prototype.layoutConnection=function(e,t){t||(t={});var n,i,r=t.source||e.source,o=t.target||e.target,a=t.waypoints||e.waypoints,s=t.connectionStart,c=t.connectionEnd;return s||(s=Am(a&&a[0],r)),c||(c=Am(a&&a[a.length-1],o)),(kr(e,"bpmn:Association")||kr(e,"bpmn:DataAssociation"))&&a&&!Cm(r,o)?[].concat([s],a.slice(1,-1),[c]):(kr(e,"bpmn:MessageFlow")?n=function(e,t){return{preferredLayouts:["straight","v:v"],preserveDocking:jm(e,t)}}(r,o):(kr(e,"bpmn:SequenceFlow")||Cm(r,o))&&(n=r===o?{preferredLayouts:Im(r,e)}:kr(r,"bpmn:BoundaryEvent")?{preferredLayouts:Dm(r,o,c)}:Tm(r)||Tm(o)?function(e){return{preferredLayouts:["straight","h:h"],preserveDocking:Mm(e)}}(r):kr(r,"bpmn:Gateway")?{preferredLayouts:["v:h"]}:kr(o,"bpmn:Gateway")?{preferredLayouts:["h:v"]}:{preferredLayouts:["h:h"]}),n&&(i=xm(vm(r,o,s,c,a,n=H(n,t)))),i||[s,c])},Lm.$inject=["elementRegistry","graphicsFactory"],Lm.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var i=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),o=e.waypoints.slice(i.idx+1,r.idx);return o.unshift(Nm(i)),o.push(Nm(r)),o},Lm.prototype.getDockingPoint=function(e,t,n){var i,r,o=e.waypoints;return{point:r=o[i=n?0:o.length-1],actual:this._getIntersection(t,e,n)||r,idx:i}},Lm.prototype._getIntersection=function(e,t,n){return En(this._getShapePath(e),this._getConnectionPath(t),n)},Lm.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},Lm.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},Lm.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var qm={__init__:["modeling","bpmnUpdater"],__depends__:[hh,Wh,Kh,Xh,Tf,Zf,Qf,nd,Vo,ea,Gf],bpmnFactory:["type",id],bpmnUpdater:["type",rd],elementFactory:["type",ad],modeling:["type",um],layouter:["type",Sm],connectionDocking:["type",Lm]};const Hm=Math.round;function Um(e,t,n,i,r,o){this._complexPreview=e,this._connectionDocking=t,this._elementFactory=n,this._eventBus=i,this._layouter=r,this._rules=o}Um.prototype.create=function(e,t,n){const i=this._complexPreview,r=this._connectionDocking,o=this._elementFactory,a=this._eventBus,s=this._layouter,c=this._rules,u=o.createShape(H({type:t},n)),l=a.fire("autoPlace",{source:e,shape:u});if(!l)return;H(u,{x:l.x-Hm(u.width/2),y:l.y-Hm(u.height/2)});const p=c.allowed("connection.create",{source:e,target:u,hints:{targetParent:e.parent}});let f=null;p&&(f=o.createConnection(p),f.waypoints=s.layoutConnection(f,{source:e,target:u}),f.waypoints=r.getCroppedWaypoints(f,e,u)),i.create({created:[u,f].filter(e=>!h(e))})},Um.prototype.cleanUp=function(){this._complexPreview.cleanUp()},Um.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];var $m={__depends__:[Vc,tl,qm],__init__:["appendPreview"],appendPreview:["type",Um]},Vm=Math.min,Wm=Math.max;function Gm(e){e.preventDefault()}function Km(e){e.stopPropagation()}function Zm(e){this.container=e.container,this.parent=ye('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=be("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=q(this.autoResize,this),this.handlePaste=q(this.handlePaste,this)}function Ym(e,t){this._eventBus=e,this._providers=[],this._textbox=new Zm({container:t.getContainer(),keyHandler:q(this._handleKey,this),resizeHandler:q(this._handleResize,this)})}Zm.prototype.create=function(e,t,n,i){var r=this.parent,o=this.content,a=this.container;i=this.options=i||{};var s=U(t=this.style=t||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);H(r.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var c=U(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return H(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),i.centerVertically&&H(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=n,pe.bind(o,"keydown",this.keyHandler),pe.bind(o,"mousedown",Km),pe.bind(o,"paste",this.handlePaste),i.autoResize&&pe.bind(o,"input",this.autoResize),i.resizable&&this.resizable(t),a.appendChild(r),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),r},Zm.prototype.handlePaste=function(e){var t,n=this.options,i=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var r=this.autoResize(i);r&&this.resizeHandler(r)}},Zm.prototype.insertText=function(e){e=e.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},Zm.prototype._insertTextIE=function(e){var t,n,i,r=this.getSelection(),o=r.startContainer,a=r.endContainer,s=r.startOffset,c=r.endOffset,u=r.commonAncestorContainer,l=(t=u.childNodes,[].slice.call(t));if(u.nodeType===Node.TEXT_NODE){var p=o.textContent;o.textContent=p.substring(0,s)+e+p.substring(c),n=o,i=s+e.length}else if(o===this.content&&a===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,l[s]),n=h,i=h.textContent.length}else{var f=l.indexOf(o),d=l.indexOf(a);l.forEach((function(t,n){n===f?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(c):n>f&&n<=d&&_e(t)})),n=o,i=s+e.length}n&&void 0!==i&&setTimeout((function(){self.setSelection(n,i)}))},Zm.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var i=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:r-i.height})}},Zm.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,r=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,c,u,l;n=this.resizeHandle=ye('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){Gm(n),Km(n);var p=Vm(Wm(u+n.clientX-s,i),o),h=Vm(Wm(l+n.clientY-c,r),a);t.style.width=p+"px",t.style.height=h+"px",e.resizeHandler({width:u,height:l,dx:n.clientX-s,dy:n.clientY-c})},h=function(e){Gm(e),Km(e),pe.unbind(document,"mousemove",p,!1),pe.unbind(document,"mouseup",h,!1)};pe.bind(n,"mousedown",(function(e){Gm(e),Km(e),s=e.clientX,c=e.clientY;var n=t.getBoundingClientRect();u=n.width,l=n.height,pe.bind(document,"mousemove",p),pe.bind(document,"mouseup",h)}))}H(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},Zm.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),pe.unbind(t,"keydown",this.keyHandler),pe.unbind(t,"mousedown",Km),pe.unbind(t,"input",this.autoResize),pe.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),_e(n)),_e(e)},Zm.prototype.getValue=function(){return this.content.innerText.trim()},Zm.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},Zm.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},Ym.$inject=["eventBus","canvas"],Ym.prototype.registerProvider=function(e){this._providers.push(e)},Ym.prototype.isActive=function(e){return!(!this._active||e&&this._active.element!==e)},Ym.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Ym.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},Ym.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Ym.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,i=this.$textbox.getBoundingClientRect(),r=this.getValue();r===e.context.text&&i.height===n.height&&i.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:i.left-t.left,y:i.top-t.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}},Ym.prototype.getValue=function(){return this._textbox.getValue()},Ym.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},Ym.prototype._handleResize=function(e){this._fire("resize",e)},Ym.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=b(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};var Xm={__depends__:[zo],__init__:["directEditing"],directEditing:["type",Ym]};function Jm(e){return function(t){var n=t.target,i=Sr(e),r=i.eventDefinitions&&i.eventDefinitions[0],o=i.$type===n.type,a=(r&&r.$type)===n.eventDefinitionType,s=!!n.triggeredByEvent==!!i.triggeredByEvent,c=void 0===n.isExpanded||n.isExpanded===qr(e);return!(o&&a&&s&&c)}}var Qm=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],eg=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],tg=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],ng=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],ig=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],rg=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],og=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],ag=og,sg=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}}],cg=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],ug=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],lg=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],pg=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],hg=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],fg=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty pool/participant";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],dg={"start-event-non-interrupting":'\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n    <g transform="translate(0 995.64)">\n      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>\n    </g>\n  </svg>',"intermediate-event-non-interrupting":'\n  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">\n     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">\n        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>\n        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>\n     </g>\n  </svg>'};function mg(e,t,n,i,r,o,a,s){this._bpmnFactory=e,this._popupMenu=t,this._modeling=n,this._moddle=i,this._bpmnReplace=r,this._rules=o,this._translate=a,this._moddleCopy=s,this._register()}mg.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"],mg.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)},mg.prototype.getPopupMenuEntries=function(e){var t=e.businessObject,n=this._rules,i=[];if(f(e)||!n.allowed("shape.replace",{element:e}))return{};var r=Jm(e);return kr(t,"bpmn:DataObjectReference")?this._createEntries(e,cg):kr(t,"bpmn:DataStoreReference")&&!kr(e.parent,"bpmn:Collaboration")?this._createEntries(e,ug):kr(t,"bpmn:StartEvent")&&!kr(t.$parent,"bpmn:SubProcess")?(i=x(Qm,r),this._createEntries(e,i)):kr(t,"bpmn:Participant")?(i=x(fg,(function(t){return qr(e)!==t.target.isExpanded})),this._createEntries(e,i)):kr(t,"bpmn:StartEvent")&&Ur(t.$parent)?(i=x(pg,(function(e){var n=!1!==e.target.isInterrupting,i=t.isInterrupting===n;return r(e)||!r(e)&&!i})),this._createEntries(e,i)):kr(t,"bpmn:StartEvent")&&!Ur(t.$parent)&&kr(t.$parent,"bpmn:SubProcess")?(i=x(eg,r),this._createEntries(e,i)):kr(t,"bpmn:EndEvent")?(i=x(ng,(function(e){return!("bpmn:CancelEventDefinition"==e.target.eventDefinitionType&&!kr(t.$parent,"bpmn:Transaction"))&&r(e)})),this._createEntries(e,i)):kr(t,"bpmn:BoundaryEvent")?(i=x(lg,(function(e){var n=e.target;if("bpmn:CancelEventDefinition"==n.eventDefinitionType&&!kr(t.attachedToRef,"bpmn:Transaction"))return!1;var i=!1!==n.cancelActivity,o=t.cancelActivity==i;return r(e)||!r(e)&&!o})),this._createEntries(e,i)):kr(t,"bpmn:IntermediateCatchEvent")||kr(t,"bpmn:IntermediateThrowEvent")?(i=x(tg,r),this._createEntries(e,i)):kr(t,"bpmn:Gateway")?(i=x(ig,r),this._createEntries(e,i)):kr(t,"bpmn:Transaction")?(i=x(og,r),this._createEntries(e,i)):Ur(t)&&qr(e)?(i=x(ag,r),this._createEntries(e,i)):kr(t,"bpmn:SubProcess")&&qr(e)?(i=x(rg,r),this._createEntries(e,i)):kr(t,"bpmn:AdHocSubProcess")&&!qr(e)?(i=x(sg,(function(e){var t=e.target,n="bpmn:SubProcess"===t.type,i=!0===t.isExpanded;return Jm(t)&&(!n||i)})),this._createEntries(e,i)):kr(t,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,hg):kr(t,"bpmn:FlowNode")?(i=x(sg,r),kr(t,"bpmn:SubProcess")&&!qr(e)&&(i=x(i,(function(e){return"Sub-process (collapsed)"!==e.label}))),this._createEntries(e,i)):{}},mg.prototype.getPopupMenuHeaderEntries=function(e){var t={};return kr(e,"bpmn:Activity")&&!Ur(e)&&(t={...t,...this._getLoopCharacteristicsHeaderEntries(e)}),kr(e,"bpmn:DataObjectReference")&&(t={...t,...this._getCollectionHeaderEntries(e)}),kr(e,"bpmn:Participant")&&(t={...t,...this._getParticipantMultiplicityHeaderEntries(e)}),!kr(e,"bpmn:SubProcess")||kr(e,"bpmn:Transaction")||Ur(e)||(t={...t,...this._getAdHocHeaderEntries(e)}),kp(e)&&(t={...t,...this._getNonInterruptingHeaderEntries(e)}),t},mg.prototype._createEntries=function(e,t){var n={},i=this;return k(t,(function(t){n[t.actionName]=i._createEntry(t,e)})),n},mg.prototype._createSequenceFlowEntries=function(e,t){var n=Sr(e),i={},r=this._modeling,o=this._moddle,a=this;return k(t,(function(t){switch(t.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&(kr(n.sourceRef,"bpmn:ExclusiveGateway")||kr(n.sourceRef,"bpmn:InclusiveGateway")||kr(n.sourceRef,"bpmn:ComplexGateway")||kr(n.sourceRef,"bpmn:Activity"))&&(i={...i,[t.actionName]:a._createEntry(t,e,(function(){r.updateProperties(e.source,{default:n})}))});break;case"replace-with-conditional-flow":!n.conditionExpression&&kr(n.sourceRef,"bpmn:Activity")&&(i={...i,[t.actionName]:a._createEntry(t,e,(function(){var t=o.create("bpmn:FormalExpression",{body:""});r.updateProperties(e,{conditionExpression:t})}))});break;default:kr(n.sourceRef,"bpmn:Activity")&&n.conditionExpression&&(i={...i,[t.actionName]:a._createEntry(t,e,(function(){r.updateProperties(e,{conditionExpression:void 0})}))}),(kr(n.sourceRef,"bpmn:ExclusiveGateway")||kr(n.sourceRef,"bpmn:InclusiveGateway")||kr(n.sourceRef,"bpmn:ComplexGateway")||kr(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n&&(i={...i,[t.actionName]:a._createEntry(t,e,(function(){r.updateProperties(e.source,{default:void 0})}))})}})),i},mg.prototype._createEntry=function(e,t,n){var i=this._translate,r=this._bpmnReplace.replaceElement,o=e.label;return o&&"function"==typeof o&&(o=o(t)),n=n||function(){return r(t,e.target)},{label:i(o),className:e.className,action:n}},mg.prototype._getLoopCharacteristicsHeaderEntries=function(e){var t=this,n=this._translate;function i(n,i){if(i.active)return void t._modeling.updateProperties(e,{loopCharacteristics:void 0});const r=e.businessObject.get("loopCharacteristics"),o=t._moddle.create(i.options.loopCharacteristics);r&&t._moddleCopy.copyElement(r,o),o.set("isSequential",i.options.isSequential),t._modeling.updateProperties(e,{loopCharacteristics:o})}var r,o,a,s=Sr(e).loopCharacteristics;return s&&(r=s.isSequential,o=void 0===s.isSequential,a=void 0!==s.isSequential&&!s.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:n("Parallel multi-instance"),active:a,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:n("Sequential multi-instance"),active:r,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:n("Loop"),active:o,action:i,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}},mg.prototype._getCollectionHeaderEntries=function(e){var t=this,n=this._translate,i=e.businessObject.dataObjectRef;if(!i)return{};var r=i.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:n("Collection"),active:r,action:function(n,r){t._modeling.updateModdleProperties(e,i,{isCollection:!r.active})}}}},mg.prototype._getParticipantMultiplicityHeaderEntries=function(e){var t=this,n=this._bpmnFactory,i=this._translate;var r=e.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:i("Participant multiplicity"),active:!!r,action:function(i,r){var o;r.active||(o=n.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(e,{participantMultiplicity:o})}}}},mg.prototype._getAdHocHeaderEntries=function(e){var t=this._translate,n=kr(Sr(e),"bpmn:AdHocSubProcess"),i=this._bpmnReplace.replaceElement;return{"toggle-adhoc":{className:"bpmn-icon-ad-hoc-marker",title:t("Ad-hoc"),active:n,action:function(t,r){return i(e,n?{type:"bpmn:SubProcess"}:{type:"bpmn:AdHocSubProcess"},{autoResize:!1,layoutConnection:!1})}}}},mg.prototype._getNonInterruptingHeaderEntries=function(e){const t=this._translate,n=Sr(e),i=this,r=Ep(e),o=kr(e,"bpmn:BoundaryEvent")?dg["intermediate-event-non-interrupting"]:dg["start-event-non-interrupting"],a=!n[r];return{"toggle-non-interrupting":{imageHtml:o,title:t("Toggle non-interrupting"),active:a,action:function(){i._modeling.updateProperties(e,{[r]:!!a})}}}};var gg={__depends__:[jc,Tf,Vc],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",mg]};function vg(e,t,n,i,r,o,a,s,c,u,l,p,h){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=r,this._elementFactory=o,this._connect=a,this._create=s,this._popupMenu=c,this._canvas=u,this._rules=l,this._translate=p,this._eventBus=n,this._appendPreview=h,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){var t=e.context.shape;if(Bo(e)&&i.isOpen(t)){var n=i.getEntries(t);n.replace&&n.replace.action.click(e,t)}}))}function yg(e,t,n){var i=e.$instanceOf(t),r=!1;return k(e.eventDefinitions||[],(function(e){e.$type===n&&(r=!0)})),i&&r}vg.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"],vg.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,n={};return this._isDeleteAllowed(e)&&H(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(e,n){t.removeElements(n.slice())}}}}),n},vg.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return f(t)?j(t,(function(e){return n=e,-1!==t.indexOf(n);var n})):t},vg.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,i=this._elementFactory,r=this._connect,o=this._create,a=this._popupMenu,s=this._rules,c=this._autoPlace,u=this._translate,l=this._appendPreview,p={};if("label"===e.type)return p;var h=e.businessObject;function d(e,t){r.start(e,t)}function m(e,t,n,r){function a(t,n){var a=i.createShape(H({type:e},r));o.start(t,a,{source:n}),l.cleanUp()}return{group:"model",className:t,title:n,action:{dragstart:a,click:c?function(t,n){var o=i.createShape(H({type:e},r));c.append(n,o),l.cleanUp()}:a,hover:c?function(t,n){return l.create(n,e,r),()=>{l.cleanUp()}}:null}}}function g(e){return function(i,r){n.splitLane(r,e),t.open(r,!0)}}if(Er(h,["bpmn:Lane","bpmn:Participant"])&&qr(e)){var v=Rl(e);H(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:u("Add lane above"),action:{click:function(e,t){n.addLane(t,"top")}}}}),v.length<2&&((Hr(e)?e.height>=120:e.width>=120)&&H(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:u("Divide into two lanes"),action:{click:g(2)}}}),(Hr(e)?e.height>=180:e.width>=180)&&H(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:u("Divide into three lanes"),action:{click:g(3)}}})),H(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:u("Add lane below"),action:{click:function(e,t){n.addLane(t,"bottom")}}}})}kr(h,"bpmn:FlowNode")&&(kr(h,"bpmn:EventBasedGateway")?H(p,{"append.receive-task":m("bpmn:ReceiveTask","bpmn-icon-receive-task",u("Append receive task")),"append.message-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",u("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",u("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",u("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":m("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",u("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):yg(h,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?H(p,{"append.compensation-activity":m("bpmn:Task","bpmn-icon-task",u("Append compensation activity"),{isForCompensation:!0})}):kr(h,"bpmn:EndEvent")||h.isForCompensation||yg(h,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")||Ur(h)||H(p,{"append.end-event":m("bpmn:EndEvent","bpmn-icon-end-event-none",u("Append end event")),"append.gateway":m("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",u("Append gateway")),"append.append-task":m("bpmn:Task","bpmn-icon-task",u("Append task")),"append.intermediate-event":m("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",u("Append intermediate/boundary event"))})),a.isEmpty(e,"bpmn-replace")||H(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:u("Change element"),action:{click:function(e,n){var i=H(function(e){var n=t.getPad(e).html.getBoundingClientRect();return{x:n.left,y:n.bottom+5}}(n),{cursor:{x:e.x,y:e.y}});a.open(n,"bpmn-replace",i,{title:u("Change element"),width:300,search:!0})}}}}),kr(h,"bpmn:SequenceFlow")&&H(p,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),Er(h,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&H(p,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect to other element"),action:{click:d,dragstart:d}}}),kr(h,"bpmn:TextAnnotation")&&H(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using association"),action:{click:d,dragstart:d}}}),Er(h,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&H(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using data input association"),action:{click:d,dragstart:d}}}),kr(h,"bpmn:Group")&&H(p,{"append.text-annotation":m("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))});var y=s.allowed("elements.delete",{elements:[e]});return f(y)&&(y=y[0]===e),y&&H(p,{delete:{group:"edit",className:"bpmn-icon-trash",title:u("Delete"),action:{click:function(e,t){n.removeElements([t])}}}}),p};var bg={__depends__:[$m,Xm,ps,Vo,Gu,uf,gg],__init__:["contextPadProvider"],contextPadProvider:["type",vg]},wg={horizontal:["x","width"],vertical:["y","height"]};function _g(e,t){this._modeling=e,this._filters=[],this.registerFilter((function(e){var n=t.allowed("elements.distribute",{elements:e});return f(n)?n:n?e:[]}))}_g.$inject=["modeling","rules"],_g.prototype.registerFilter=function(e){if("function"!=typeof e)throw new Error("the filter has to be a function");this._filters.push(e)},_g.prototype.trigger=function(e,t){var n,i,r=this._modeling;if(!(e.length<3||(this._setOrientation(t),i=this._filterElements(e),(n=this._createGroups(i)).length<=2)))return r.distributeElements(n,this._axis,this._dimension),n},_g.prototype._filterElements=function(e){var t=this._filters,n=this._axis,i=this._dimension,r=[].concat(e);return t.length?(k(t,(function(e){r=e(r,n,i)})),r):e},_g.prototype._createGroups=function(e){var t=[],n=this,i=this._axis,r=this._dimension;if(!i)throw new Error('must have a defined "axis" and "dimension"');return k(O(e,i),(function(e,o){var a,s=n._findRange(e,i,r),c=t[t.length-1];c&&n._hasIntersection(c.range,s)?t[t.length-1].elements.push(e):(a={range:s,elements:[e]},t.push(a))})),t},_g.prototype._setOrientation=function(e){var t=wg[e];this._axis=t[0],this._dimension=t[1]},_g.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)},_g.prototype._findRange=function(e){var t=e[this._axis];return{min:t+5,max:t+e[this._dimension]-5}};var xg={__init__:["distributeElements"],distributeElements:["type",_g]};function kg(e){Pc.call(this,e)}kg.$inject=["eventBus"],i(kg,Pc),kg.prototype.init=function(){this.addRule("elements.distribute",(function(e){var t=e.elements;return!((t=mt(t=x(t,(function(e){var t=Er(e,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(e.labelTarget||t)})))).length<3)&&t}))};var Eg={horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n              </svg>',vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">\n              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>\n              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>\n              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>\n            </svg>'};function Sg(e,t,n,i){this._distributeElements=t,this._translate=n,this._popupMenu=e,this._rules=i,e.registerProvider("align-elements",900,this)}Sg.$inject=["popupMenu","distributeElements","translate","rules"],Sg.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&H(t,this._getEntries(e)),t},Sg.prototype._isAllowed=function(e){return this._rules.allowed("elements.distribute",{elements:e})},Sg.prototype._getEntries=function(e){var t=this._distributeElements,n=this._translate,i=this._popupMenu;return{"distribute-elements-horizontal":{group:"distribute",title:n("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:Eg.horizontal,action:function(n,r){t.trigger(e,"horizontal"),i.close()}},"distribute-elements-vertical":{group:"distribute",title:n("Distribute elements vertically"),imageHtml:Eg.vertical,action:function(n,r){t.trigger(e,"vertical"),i.close()}}}};var jg={__depends__:[jc,xg],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",kg],distributeElementsMenuProvider:["type",Sg]};function Mg(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function Ag(e,t){return new Error(e+" "+t)}Mg.$inject=["eventBus","injector"],Mg.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),c=e.get("keyboardMove",!1),u=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&i&&this.register("copy",(function(){var e=i.get();if(e.length)return o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=f(r)?r:e).length&&n.removeElements(t.slice())}})),c&&this.register("moveCanvas",(function(e){c.moveCanvas(e)})),u&&this.register("moveSelection",(function(e){u.moveSelection(e.direction,e.accelerated)}))},Mg.prototype.trigger=function(e,t){if(!this._actions[e])throw Ag(e,"is not a registered action");return this._actions[e](t)},Mg.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);k(e,(function(e,t){n._registerAction(t,e)}))},Mg.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw Ag(e,"is already registered");this._actions[e]=t},Mg.prototype.unregister=function(e){if(!this.isRegistered(e))throw Ag(e,"is not a registered action");this._actions[e]=void 0},Mg.prototype.getActions=function(){return Object.keys(this._actions)},Mg.prototype.isRegistered=function(e){return!!this._actions[e]};var Cg={__init__:["editorActions"],editorActions:["type",Mg]};function Tg(e){e.invoke(Mg,this)}i(Tg,Mg),Tg.$inject=["injector"],Tg.prototype._registerDefaultActions=function(e){Mg.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),i=e.get("selection",!1),r=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("globalConnect",!1),c=e.get("distributeElements",!1),u=e.get("alignElements",!1),l=e.get("directEditing",!1),p=e.get("searchPad",!1),h=e.get("modeling",!1),f=e.get("contextPad",!1);t&&n&&i&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),r=n.filter((function(t){return t!==e}));return i.select(r),r})),r&&this._registerAction("spaceTool",(function(){r.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),s&&this._registerAction("globalConnectTool",(function(){s.toggle()})),i&&c&&this._registerAction("distributeElements",(function(e){var t=i.get(),n=e.type;t.length&&c.trigger(t,n)})),i&&u&&this._registerAction("alignElements",(function(e){var t=i.get(),n=[],r=e.type;t.length&&(n=x(t,(function(e){return!kr(e,"bpmn:Lane")})),u.trigger(n,r))})),i&&h&&this._registerAction("setColor",(function(e){var t=i.get();t.length&&h.setColor(t,e)})),i&&l&&this._registerAction("directEditing",(function(){var e=i.get();e.length&&l.activate(e[0])})),p&&this._registerAction("find",(function(){p.toggle()})),t&&h&&this._registerAction("moveToOrigin",(function(){var e,i,r=t.getRootElement();e=wt(i=kr(r,"bpmn:Collaboration")?n.filter((function(e){return kr(e.parent,"bpmn:Collaboration")})):n.filter((function(e){return e!==r&&!kr(e.parent,"bpmn:SubProcess")}))),h.moveElements(i,{x:-e.x,y:-e.y},r)})),i&&f&&this._registerAction("replaceElement",(function(e){f.triggerEntry("replace","click",e)}))};var Pg={__depends__:[Cg],editorActions:["type",Tg]};function Rg(e){e.on(["create.init","shape.move.init"],(function(e){var t=e.context;Er(e.shape,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(t.gridSnappingContext||(t.gridSnappingContext={}),t.gridSnappingContext.snapLocation="top-left")}))}Rg.$inject=["eventBus"];function Bg(e,t,n){return n||(n="round"),Math[n](e/t)*t}function Og(e,t,n){var i=!n||!1!==n.active;this._eventBus=t;var r=this;t.on("diagram.init",800,(function(){r.setActive(i)})),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,(function(t){var n=t.originalEvent;if(!(!r.active||n&&ja(n))){var i=t.context,o=i.gridSnappingContext;o||(o=i.gridSnappingContext={}),["x","y"].forEach((function(n){var i={},o=function(e,t,n){var i=e.context,r=e.shape,o=i.gridSnappingContext,a=o.snapLocation,s=o.snapOffset;if(s&&m(s[t]))return s[t];s||(s=o.snapOffset={});m(s[t])||(s[t]=0);if(!r)return s[t];n.get(r.id)||(Ig(t)?s[t]+=r[t]+r.width/2:s[t]+=r[t]+r.height/2);if(!a)return s[t];"x"===t?/left/.test(a)?s[t]-=r.width/2:/right/.test(a)&&(s[t]+=r.width/2):/top/.test(a)?s[t]-=r.height/2:/bottom/.test(a)&&(s[t]+=r.height/2);return s[t]}(t,n,e);o&&(i.offset=o);var a=function(e,t){var n=e.context,i=n.createConstraints,r=n.resizeConstraints||{},o=n.gridSnappingContext,a=o.snapConstraints;if(a&&a[t])return a[t];a||(a=o.snapConstraints={});a[t]||(a[t]={});var s=n.direction;i&&(Ig(t)?(a.x.min=i.left,a.x.max=i.right):(a.y.min=i.top,a.y.max=i.bottom));var c=r.min,u=r.max;c&&(Ig(t)?Fg(s)?a.x.max=c.left:a.x.min=c.right:Dg(s)?a.y.max=c.top:a.y.min=c.bottom);u&&(Ig(t)?Fg(s)?a.x.min=u.left:a.x.max=u.right:Dg(s)?a.y.min=u.top:a.y.max=u.bottom);return a[t]}(t,n);a&&H(i,a),Fu(t,n)||r.snapEvent(t,n,i)}))}}))}function Ig(e){return"x"===e}function Dg(e){return-1!==e.indexOf("n")}function Fg(e){return-1!==e.indexOf("w")}function zg(e,t){ta.call(this,e),this._gridSnapping=t;var n=this;this.preExecute("shape.resize",(function(e){var t=e.context,i=(t.hints||{}).autoResize;if(i){var r=t.shape,o=t.newBounds;v(i)?t.newBounds=n.snapComplex(o,i):t.newBounds=n.snapSimple(r,o)}}))}Og.prototype.snapEvent=function(e,t,n){zu(e,t,this.snapValue(e[t],n))},Og.prototype.getGridSpacing=function(){return 10},Og.prototype.snapValue=function(e,t){var n,i,r=0;return t&&t.offset&&(r=t.offset),e=Bg(e+=r,10),t&&t.min&&m(n=t.min)&&(n=Bg(n+r,10,"ceil"),e=Math.max(e,n)),t&&t.max&&m(i=t.max)&&(i=Bg(i+r,10,"floor"),e=Math.min(e,i)),e-=r},Og.prototype.isActive=function(){return this.active},Og.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},Og.prototype.toggleActive=function(){this.setActive(!this.active)},Og.$inject=["elementRegistry","eventBus","config.gridSnapping"],zg.$inject=["eventBus","gridSnapping","modeling"],i(zg,ta),zg.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t},zg.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e},zg.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,i=/w/.test(t),r=/e/.test(t),o={};return o.width=n.snapValue(e.width,{min:e.width}),r&&(i?(o.x=n.snapValue(e.x,{max:e.x}),o.width+=n.snapValue(e.x-o.x,{min:e.x-o.x})):e.x=e.x+e.width-o.width),H(e,o),e},zg.prototype.snapVertically=function(e,t){var n=this._gridSnapping,i=/n/.test(t),r=/s/.test(t),o={};return o.height=n.snapValue(e.height,{min:e.height}),i&&(r?(o.y=n.snapValue(e.y,{max:e.y}),o.height+=n.snapValue(e.y-o.y,{min:e.y-o.y})):e.y=e.y+e.height-o.height),H(e,o),e};function Ng(e,t){e.on(["spaceTool.move","spaceTool.end"],2e3,(function(e){var n,i=e.context;i.initialized&&("x"===i.axis?(n=t.snapValue(e.dx),e.x=e.x+n-e.dx,e.dx=n):(n=t.snapValue(e.dy),e.y=e.y+n-e.dy,e.dy=n))}))}Ng.$inject=["eventBus","gridSnapping"];var Lg={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",zg],gridSnappingSpaceToolBehavior:["type",Ng]}],__init__:["gridSnapping"],gridSnapping:["type",Og]};function qg(e,t){e.on("autoPlace",2e3,(function(e){var n=e.source,i=xn(n),r=e.shape,o=Hc(n,r);return["x","y"].forEach((function(e){var n={};o[e]!==i[e]&&(o[e]>i[e]?n.min=o[e]:n.max=o[e],kr(r,"bpmn:TextAnnotation")&&(!function(e){return"x"===e}(e)?n.offset=-r.height/2:n.offset=-r.width/2),o[e]=t.snapValue(o[e],n))})),o}))}qg.$inject=["eventBus","gridSnapping"];function Hg(e,t,n){t.on(["create.start","shape.move.start"],1750,(function(t){var i=t.context,r=i.shape,o=e.getRootElement();kr(r,"bpmn:Participant")&&kr(o,"bpmn:Process")&&o.children.length&&(i.createConstraints&&(r.width=n.snapValue(r.width,{min:r.width}),r.height=n.snapValue(r.height,{min:r.height})))}))}Hg.$inject=["canvas","eventBus","gridSnapping"];function Ug(e,t,n){ta.call(this,e),this._gridSnapping=t;var i=this;this.postExecuted(["connection.create","connection.layout"],3e3,(function(e){var t=e.context,r=t.connection,o=t.hints||{},a=r.waypoints;o.connectionStart||o.connectionEnd||!1===o.createElementsBehavior||function(e){return e.length>3}(a)&&n.updateWaypoints(r,i.snapMiddleSegments(a))}))}function $g(e,t,n){var i=Pt(t,n),r={};return function(e){return"h"===e}(i)&&(r.y=e.snapValue(t.y)),function(e){return"v"===e}(i)&&(r.x=e.snapValue(t.x)),("x"in r||"y"in r)&&(t=H({},t,r),n=H({},n,r)),[t,n]}Ug.$inject=["eventBus","gridSnapping","modeling"],i(Ug,ta),Ug.prototype.snapMiddleSegments=function(e){var t,n=this._gridSnapping;e=e.slice();for(var i=1;i<e.length-2;i++)t=$g(n,e[i],e[i+1]),e[i]=t[0],e[i+1]=t[1];return e};var Vg={__depends__:[Lg,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",qg],gridSnappingParticipantBehavior:["type",Hg],gridSnappingLayoutConnectionBehavior:["type",Ug]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",Rg]};function Wg(e,t){this._interactionEvents=t;var n=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],(function(e){var t=e.element,i=e.gfx;return kr(t,"bpmn:Lane")?n._createParticipantHit(t,i):kr(t,"bpmn:Participant")?qr(t)?n._createParticipantHit(t,i):n._createDefaultHit(t,i):kr(t,"bpmn:SubProcess")?qr(t)?n._createSubProcessHit(t,i):n._createDefaultHit(t,i):void 0}))}Wg.$inject=["eventBus","interactionEvents"],Wg.prototype._createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0},Wg.prototype._createParticipantHit=function(e,t){this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height});var n=Hr(e)?{width:30,height:e.height}:{width:e.width,height:30};return this._interactionEvents.createBoxHit(t,"all",n),!0},Wg.prototype._createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:30}),!0};var Gg={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Wg]};function Kg(e){e.invoke(Ta,this)}i(Kg,Ta),Kg.$inject=["injector"],Kg.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}Ta.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0})),n("find",(function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0})),n("spaceTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["s","S"],i)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["l","L"],i)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["h","H"],i)?(t.trigger("handTool"),!0):void 0})),n("globalConnectTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["c","C"],i)?(t.trigger("globalConnectTool"),!0):void 0})),n("directEditing",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["e","E"],i)?(t.trigger("directEditing"),!0):void 0})),n("replaceElement",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["r","R"],i)?(t.trigger("replaceElement",i),!0):void 0}))};var Zg={__depends__:[Pa],__init__:["keyboardBindings"],keyboardBindings:["type",Kg]},Yg={moveSpeed:1,moveSpeedAccelerated:10},Xg={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},Jg={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function Qg(e,t,n,i,r){var o=this;this._config=H({},Yg,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,i=Xg[n.key];if(i&&!t.isCmd(n)){var r=t.isShift(n);return o.moveSelection(i,r),!0}})),this.moveSelection=function(e,t){var o=r.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=Jg[e](a);i.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}Qg.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var ev={__depends__:[Pa,Vo],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",Qg]};function tv(e,t,n,i){this._dragging=i,this._rules=t;var r=this;function o(e,t){var n,i=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var i=n.x,r=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+r,o.height=e.height-r):-1!==t.indexOf("s")&&(o.height=e.height+r),-1!==t.indexOf("e")?o.width=e.width+i:-1!==t.indexOf("w")&&(o.x=e.x+i,o.width=e.width-i),o}(i,o,t),e.newBounds=function(e,t){if(!t)return e;var n=bn(e);return wn({top:Sl("top",n,t),right:Sl("right",n,t),bottom:Sl("bottom",n,t),left:Sl("left",n,t)})}(n,a),e.canExecute=r.canResize(e)}e.on("resize.start",(function(e){var t,n,i;t=e.context,n=t.resizeConstraints,i=t.minBounds,void 0===n&&(void 0===i&&(i=r.computeMinResizeBox(t)),t.resizeConstraints={min:bn(i)})})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};o(e.context,t)})),e.on("resize.end",(function(e){!function(e){var t=e.shape,i=e.canExecute,r=e.newBounds;if(i){if(!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(t,r=vn(r)))return;n.resizeShape(t,r)}}(e.context)}))}function nv(e,t){var n=xn(e),i=bn(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function iv(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}tv.prototype.canResize=function(e){var t=this._rules,n=U(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},tv.prototype.activate=function(e,t,n){var i,r,o=this._dragging;if("string"==typeof n&&(n={direction:n}),!(r=(i=H({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,nv(t,r),"resize",{autoActivate:!0,cursor:iv(r),data:{shape:t,context:i}})},tv.prototype.computeMinResizeBox=function(e){var t=e.shape;return function(e,t,n,i){var r=bn(t),o={top:/n/.test(e)?r.bottom-n.height:r.top,left:/w/.test(e)?r.right-n.width:r.left,bottom:/s/.test(e)?r.top+n.height:r.bottom,right:/e/.test(e)?r.left+n.width:r.right},a=i?bn(i):o;return wn({top:kl(o.top,a.top),left:kl(o.left,a.left),bottom:xl(o.bottom,a.bottom),right:xl(o.right,a.right)})}(e.direction,t,e.minDimensions||{width:10,height:10},Al(t,e.childrenBoxPadding))},tv.$inject=["eventBus","rules","modeling","dragging"];function rv(e,t,n){e.on("resize.move",500,(function(e){var i,r,o,a;i=e.context,r=i.shape,o=i.newBounds,(a=i.frame)||(a=i.frame=n.addFrame(r,t.getActiveLayer()),t.addMarker(r,"djs-resizing")),o.width>5&&Me(a,{x:o.x,width:o.width}),o.height>5&&Me(a,{y:o.y,height:o.height}),i.canExecute?Ce(a).remove("resize-not-ok"):Ce(a).add("resize-not-ok")})),e.on("resize.cleanup",(function(e){var n,i;n=e.context,i=n.shape,n.frame&&Pe(n.frame),t.removeMarker(i,"djs-resizing")}))}rv.$inject=["eventBus","canvas","previewSupport"];var ov=["n","w","s","e","nw","ne","se","sw"];function av(e,t,n,i){this._resize=i,this._canvas=t;var r=this;e.on("selection.changed",(function(e){var t=e.newSelection;r.removeResizers(),1===t.length&&k(t,q(r.addResizer,r))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(r.removeResizers(),r.addResizer(t))}))}av.prototype.makeDraggable=function(e,t,n){var i=this._resize;function r(t){Ro(t)&&i.activate(t,e,n)}pe.bind(t,"mousedown",r),pe.bind(t,"touchstart",r)},av.prototype._createResizer=function(e,t,n,i){var r=this._getResizersParent(),o=function(e){var t={x:0,y:0};-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=-6);-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=-6);return t}(i),a=Fe("g");Ce(a).add("djs-resizer"),Ce(a).add("djs-resizer-"+e.id),Ce(a).add("djs-resizer-"+i),Ee(r,a);var s=Fe("rect");Me(s,{x:-4+o.x,y:-4+o.y,width:8,height:8}),Ce(s).add("djs-resizer-visual"),Ee(a,s);var c=Fe("rect");return Me(c,{x:-10+o.x,y:-10+o.y,width:20,height:20}),Ce(c).add("djs-resizer-hit"),Ee(a,c),Qn(a,t,n),a},av.prototype.createResizer=function(e,t){var n=nv(e,t),i=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,i,t)},av.prototype.addResizer=function(e){var t=this;!mn(e)&&this._resize.canResize({shape:e})&&k(ov,(function(n){t.createResizer(e,n)}))},av.prototype.removeResizers=function(){Re(this._getResizersParent())},av.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},av.$inject=["eventBus","canvas","selection","resize"];var sv={__depends__:[su,nu,Qu],__init__:["resize","resizePreview","resizeHandles"],resize:["type",tv],resizePreview:["type",rv],resizeHandles:["type",av]};function cv(e,t,n,i,r,o,a){function s(e,t){(t||Er(e,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||uv(e))&&i.activate(e)}this._bpmnFactory=t,this._canvas=n,this._modeling=r,this._textRenderer=a,i.registerProvider(this),e.on("element.dblclick",(function(e){s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],(function(){i.isActive()&&i.complete()})),e.on(["shape.remove","connection.remove"],2e3,(function(e){i.isActive(e.element)&&i.cancel()})),e.on(["commandStack.changed"],(function(e){i.isActive()&&i.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,i=e.context.canExecute;e.isTouch||i&&(t.hints&&!1===t.hints.createElementsBehavior||s(n))})),e.on("autoPlace.end",500,(function(e){s(e.shape)}))}function uv(e){return kr(e,"bpmn:SubProcess")&&!qr(e)}cv.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],cv.prototype.activate=function(e){var t=Xr(e);if(void 0!==t){var n={text:t};H(n,this.getEditingBBox(e));var i={};return(Er(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||uv(e))&&H(i,{centerVertically:!0}),Wr(e)&&H(i,{autoResize:!0}),kr(e,"bpmn:TextAnnotation")&&H(i,{resizable:!0,autoResize:!0}),H(n,{options:i}),n}},cv.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),r=i.x+i.width/2,o=i.y+i.height/2,a={x:i.x,y:i.y},s=t.zoom(),c=this._textRenderer.getDefaultStyle(),u=this._textRenderer.getExternalStyle(),l=u.fontSize*s,p=u.lineHeight,h=c.fontSize*s,f=c.lineHeight,d={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(kr(e,"bpmn:Lane")||function(e){return kr(e,"bpmn:Participant")&&qr(e)}(e)){var m=Hr(e);H(a,m?{width:i.height,height:30*s,x:i.x-i.height/2+15*s,y:o-30*s/2}:{width:i.width,height:30*s}),H(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:m?"rotate(-90deg)":null})}if(function(e){return kr(e,"bpmn:Participant")&&!qr(e)}(e)){var g=Hr(e);H(a,g?{width:i.width,height:i.height}:{width:i.height,height:i.width,x:r-i.height/2,y:o-i.width/2}),H(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:g?null:"rotate(-90deg)"})}(Er(e,["bpmn:Task","bpmn:CallActivity"])||uv(e))&&(H(a,{width:i.width,height:i.height}),H(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),function(e){return kr(e,"bpmn:SubProcess")&&qr(e)}(e)&&(H(a,{width:i.width,x:i.x}),H(d,{fontSize:h+"px",lineHeight:f,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var v=90*s,y=7*s,b=4*s;if(n.labelTarget&&(H(a,{width:v,height:i.height+y+b,x:r-v/2,y:i.y-y}),H(d,{fontSize:l+"px",lineHeight:p,paddingTop:y+"px",paddingBottom:b+"px"})),Wr(n)&&!Gr(n)&&!gn(n)){var w=Zr(e),_=t.getAbsoluteBBox({x:w.x,y:w.y,width:0,height:0}),x=l+y+b;H(a,{width:v,height:x,x:_.x-v/2,y:_.y-x/2}),H(d,{fontSize:l+"px",lineHeight:p,paddingTop:y+"px",paddingBottom:b+"px"})}return kr(e,"bpmn:TextAnnotation")&&(H(a,{width:i.width,height:i.height,minWidth:30*s,minHeight:10*s}),H(d,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:h+"px",lineHeight:f})),{bounds:a,style:d}},cv.prototype.update=function(e,t,n,i){var r,o,a;kr(e,"bpmn:TextAnnotation")&&(o=this._canvas.getAbsoluteBBox(e),r={x:e.x,y:e.y,width:e.width/o.width*i.width,height:e.height/o.height*i.height}),(a=t)&&a.trim()||(t=null),this._modeling.updateLabel(e,t,r)};function lv(e,t,n){var i,r,o,a=this,s=t.getDefaultLayer();e.on("directEditing.activate",(function(e){var c=e.active;if(kr(i=c.element.label||c.element,"bpmn:TextAnnotation")){r=t.getAbsoluteBBox(i),o=Fe("g");var u=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:i.height,position:{mx:0,my:0}}),l=a.path=Fe("path");Me(l,{d:u,strokeWidth:2,stroke:pv(i)}),Ee(o,l),Ee(s,o),ei(o,i.x,i.y)}kr(i,"bpmn:TextAnnotation")||i.labelTarget?t.addMarker(i,"djs-element-hidden"):(kr(i,"bpmn:Task")||kr(i,"bpmn:CallActivity")||kr(i,"bpmn:SubProcess")||kr(i,"bpmn:Participant"))&&t.addMarker(i,"djs-label-hidden")})),e.on("directEditing.resize",(function(e){if(kr(i,"bpmn:TextAnnotation")){var t=e.height,o=e.dy,s=Math.max(i.height/r.height*(t+o),0),c=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:i.width,containerHeight:s,position:{mx:0,my:0}});Me(a.path,{d:c})}})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var n=e.active;n&&(t.removeMarker(n.element.label||n.element,"djs-element-hidden"),t.removeMarker(i,"djs-label-hidden")),i=void 0,r=void 0,o&&(Pe(o),o=void 0)}))}function pv(e,t){return jr(e).get("stroke")||t||"black"}lv.$inject=["eventBus","canvas","pathMap"];var hv={__depends__:[ea,sv,Xm],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",cv],labelEditingPreview:["type",lv]},fv=new Wo("tt");function dv(e,t){e.style.display=!1===t?"none":""}function mv(e,t){var n,i;this._eventBus=e,this._canvas=t,this._ids=fv,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=t.getContainer(),J(i=ye('<div class="djs-tooltip-container" />'),{position:"absolute",width:"0",height:"0"}),n.insertBefore(i,n.firstChild),i);var r=this;de.bind(this._tooltipRoot,".djs-tooltip","mousedown",(function(e){e.stopPropagation()})),de.bind(this._tooltipRoot,".djs-tooltip","mouseover",(function(e){r.trigger("mouseover",e)})),de.bind(this._tooltipRoot,".djs-tooltip","mouseout",(function(e){r.trigger("mouseout",e)})),this._init()}mv.$inject=["eventBus","canvas"],mv.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=H({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},mv.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(Q(n,"data-tooltip-id"));i&&("mouseover"===e&&i.timeout&&this.clearTimeout(i),"mouseout"===e&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},mv.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},mv.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},mv.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},mv.prototype.remove=function(e){var t=this.get(e);t&&(_e(t.html),_e(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},mv.prototype.show=function(){dv(this._tooltipRoot)},mv.prototype.hide=function(){dv(this._tooltipRoot,!1)},mv.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},mv.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,r=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),v(i)&&(i=ye(i)),J(t=ye('<div data-tooltip-id="'+n+'" class="djs-tooltip">'),{position:"absolute"}),t.appendChild(i),e.type&&te(t).add("djs-tooltip-"+e.type),e.className&&te(t).add(e.className),e.htmlContainer=t,r.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},mv.prototype._updateTooltip=function(e){var t,n,i,r=e.position,o=e.htmlContainer;t=o,n=r.x,i=r.y,J(t,{left:n+"px",top:i+"px"})},mv.prototype._updateTooltipVisibilty=function(e){k(this._tooltips,(function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),dv(i,r))}))},mv.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};var gv={__init__:["tooltips"],tooltips:["type",mv]};function vv(e,t,n){e.on(["shape.move.rejected","create.rejected"],(function(e){var i,r,o,a=e.context,s=a.shape;kr(a.target,"bpmn:Collaboration")&&kr(s,"bpmn:FlowNode")&&(i=e,r=n("flow elements must be children of pools/participants"),t.add({position:{x:i.x+5,y:i.y+5},type:"error",timeout:o||2e3,html:"<div>"+r+"</div>"}))}))}vv.$inject=["eventBus","tooltips","translate"];var yv={__depends__:[gv],__init__:["modelingFeedback"],modelingFeedback:["type",vv]},bv=Math.round;function wv(e,t,n,i,r){function o(e,t,n,i){return r.allowed("elements.move",{shapes:e,delta:t,position:n,target:i})}function a(e,n,i,r){if(d(i)&&(r=i,i=!1),!n.waypoints&&n.parent&&!Ce(e.target).has("djs-hit-no-move")){var o=function(e){return{x:e.x+bv(e.width/2),y:e.y+bv(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:i,data:{shape:n,context:r||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t,n,r=e.context,o=e.shape,a=i.get().slice();-1===a.indexOf(o)&&(a=[o]),n=P(t=a,"id"),H(r,{shapes:a=x(t,(function(e){for(;e=e.parent;)if(n[e.id])return!1;return!0})),validatedShapes:a,shape:o})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,i=n.validatedShapes,r=e.hover,a={x:e.dx,y:e.dy};t=o(i,a,{x:e.x,y:e.y},r),n.delta=a,n.canExecute=t,n.target=null!==t?r:null})),e.on("shape.move.end",(function(e){var t=e.context,i=t.delta,r=t.canExecute,o="attach"===r,a=t.shapes;if(!1===r)return!1;i.x=bv(i.x),i.y=bv(i.y),0===i.x&&0===i.y||n.moveElements(a,i,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){if(Ro(e)){var t=Mo(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}})),this.start=a}wv.$inject=["eventBus","dragging","modeling","selection","rules"];var _v="drop-ok",xv="drop-not-ok",kv="new-parent",Ev="attach-ok";function Sv(e,t,n,i){function r(e){return function(e){return x(e,(function(t){return!mn(t)||b(e,I({id:t.source.id}))&&b(e,I({id:t.target.id}))}))}(o(e))}function o(e){var t=bt(e,!0),n=A(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return s(t.concat(n))}function a(e,n){[Ev,_v,xv,kv].forEach((function(i){i===n?t.addMarker(e,i):t.removeMarker(e,i)}))}e.on("shape.move.start",499,(function(e){var a=e.context,c=a.shapes,u=a.allDraggedElements,l=r(c);if(!a.dragGroup){var p=Fe("g");Me(p,n.cls("djs-drag-group",["no-events"])),Ee(t.getActiveLayer(),p),a.dragGroup=p}l.forEach((function(e){i.addDragger(e,a.dragGroup)})),k(u=u?s([u,o(c)]):o(c),(function(e){t.addMarker(e,"djs-dragging")})),a.allDraggedElements=u,a.differentParents=1!==C(P(c,(function(e){return e.parent&&e.parent.id}))).length})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,i=t.target,r=t.shape.parent,o=t.canExecute;i&&("attach"===o?a(i,Ev):t.canExecute&&i&&i.id!==r.id?a(i,kv):a(i,t.canExecute?_v:xv)),ei(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&a(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,i=n.allDraggedElements,r=n.dragGroup;k(i,(function(e){t.removeMarker(e,"djs-dragging")})),r&&Pe(r)})),this.makeDraggable=function(e,n,r){i.addDragger(n,e.dragGroup),r&&t.addMarker(n,"djs-dragging"),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}Sv.$inject=["eventBus","canvas","styles","previewSupport"];var jv={__depends__:[zo,Vo,Lo,su,nu,Qu],__init__:["move","movePreview"],move:["type",wv],movePreview:["type",Sv]};const Mv={width:36,height:50},Av={width:50,height:50};function Cv(e,t,n){return Fe("path",{d:e,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...n})}function Tv(e,t){this._styles=t,e.registerProvider(this)}function Pv(e,t){var n;return"bpmn:DataObjectReference"===t?n=Mv:"bpmn:DataStoreReference"===t&&(n=Av),e.width===n.width&&e.height===n.height}Tv.$inject=["outline","styles"],Tv.prototype.getOutline=function(e){const t=this._styles.cls("djs-outline",["no-fill"]);var n;if(!gn(e))return kr(e,"bpmn:Gateway")?(H((n=Fe("rect")).style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),Me(n,H({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},t))):Er(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group"])?Me(n=Fe("rect"),H({x:-5,y:-5,rx:14,width:e.width+10,height:e.height+10},t)):kr(e,"bpmn:EndEvent")?Me(n=Fe("circle"),H({cx:e.width/2,cy:e.height/2,r:e.width/2+5+1},t)):kr(e,"bpmn:Event")?Me(n=Fe("circle"),H({cx:e.width/2,cy:e.height/2,r:e.width/2+5},t)):kr(e,"bpmn:DataObjectReference")&&Pv(e,"bpmn:DataObjectReference")?n=Cv("M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",{x:-6,y:-6},t):kr(e,"bpmn:DataStoreReference")&&Pv(e,"bpmn:DataStoreReference")&&(n=Cv("M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",{x:-6,y:-6},t)),n},Tv.prototype.updateOutline=function(e,t){if(!gn(e))return Er(e,["bpmn:SubProcess","bpmn:Group"])?(Me(t,{width:e.width+10,height:e.height+10}),!0):!!Er(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};var Rv={__depends__:[Lo],__init__:["outlineProvider"],outlineProvider:["type",Tv]};function Bv(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function Ov(e,t){var n=t.getPaletteEntries();return g(n)?n(e):(k(n,(function(t,n){e[n]=t})),e)}Bv.$inject=["eventBus","canvas"],Bv.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},Bv.prototype.getEntries=function(){return this._getProviders().reduce(Ov,{})},Bv.prototype._rebuild=function(){this._diagramInitialized&&(this._getProviders().length&&(this._container||this._init(),this._update()))},Bv.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),i=this._container=ye(Bv.HTML_MARKUP);n.appendChild(i),te(n).add("djs-palette-shown"),de.bind(i,".djs-palette-toggle, .entry","click",(function(t){if(re(t.delegateTarget,".djs-palette-toggle"))return e.toggle();e.trigger("click",t)})),pe.bind(i,"mousedown",(function(e){e.stopPropagation()})),de.bind(i,".entry","dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:i})},Bv.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},Bv.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),i=this._container,r=this._eventBus,o=te(i),a=te(n);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),a.toggle("djs-palette-two-column",t),"open"in e&&(o.toggle("open",e.open),a.toggle("djs-palette-open",e.open)),r.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},Bv.prototype._update=function(){var e=be(".djs-palette-entries",this._container),t=this._entries=this.getEntries();ie(e),k(t,(function(t,n){var i=t.group||"default",r=be("[data-group="+oa(i)+"]",e);r||(Q(r=ye('<div class="group"></div>'),"data-group",i),e.appendChild(r));var o,a,s,c=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),u=ye(c);if(r.appendChild(u),!t.separator&&(Q(u,"data-action",n),t.title&&Q(u,"title",t.title),t.className&&(o=u,a=t.className,s=te(o),(f(a)?a:a.split(/\s+/g)).forEach((function(e){s.add(e)}))),t.imageUrl)){var l=ye("<img>");Q(l,"src",t.imageUrl),u.appendChild(l)}})),this.open()},Bv.prototype.trigger=function(e,t,n){var i,r,o=t.delegateTarget||t.target;return o?(i=Q(o,"data-action"),r=t.originalEvent||t,this.triggerEntry(i,e,r,n)):t.preventDefault()},Bv.prototype.triggerEntry=function(e,t,n,i){var r,o;if((r=this._entries[e])&&(o=r.action,!1!==this._eventBus.fire("palette.trigger",{entry:r,event:n}))){if(g(o)){if("click"===t)return o(n,i)}else if(o[t])return o[t](n,i);n.preventDefault()}},Bv.prototype._layoutChanged=function(){this._toggleState({})},Bv.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},Bv.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},Bv.prototype.open=function(){this._toggleState({open:!0})},Bv.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Bv.prototype.isActiveTool=function(e){return e&&this._activeTool===e},Bv.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=be(".djs-palette-entries",this._container),this._toolsContainer=be("[data-group=tools]",t)),k(this._toolsContainer.children,(function(t){var n=t.getAttribute("data-action");if(n){var i=te(t);n=n.replace("-tool",""),i.contains("entry")&&n===e?i.add("highlighted-entry"):i.remove("highlighted-entry")}}))},Bv.prototype.isOpen=function(){return te(this._container).has("open")},Bv.prototype._getParentContainer=function(){return this._canvas.getContainer()},Bv.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var Iv={__init__:["palette"],palette:["type",Bv]};function Dv(e,t,n,i,r,o,a){this._selection=r,this._dragging=n,this._mouse=a;var s=this,c=function(e){var n,i=t.getActiveLayer();Me(n=e.frame=Fe("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Ee(i,n)},u=function(e){var t=e.frame,n=e.bbox;Me(t,{x:n.x,y:n.y,width:n.width,height:n.height})},l=function(e){e.frame&&Pe(e.frame)};o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){s.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",0,(function(e){var t=e.context,n=Fv(e),r=i.filter((function(e){return e})),o=Oo(e);s.select(r,n,o?t.selection:[])})),e.on("lasso.start",(function(e){var t=e.context;t.bbox=Fv(e),c(t),t.selection=r.get()})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=Fv(e),u(t)})),e.on("lasso.cleanup",(function(e){var t=e.context;l(t)})),e.on("element.mousedown",1500,(function(e){if(Oo(e))return s.activateLasso(e.originalEvent),!0}))}function Fv(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}Dv.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],Dv.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},Dv.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:"crosshair",data:{context:{}},keepSelection:!0})},Dv.prototype.select=function(e,t,n=[]){var i=function(e,t){var n={};return k(e,(function(e){var i=e;i.waypoints&&(i=wt(i)),!m(t.y)&&i.x>t.x&&(n[e.id]=e),!m(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(m(t.width)&&m(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:m(t.width)&&m(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select([...n,...T(i)])},Dv.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},Dv.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var zv={__depends__:[Rf,pf],__init__:["lassoTool"],lassoTool:["type",Dv]};function Nv(e,t,n,i,r,o){this._dragging=n,this._mouse=o;var a=this,s=i.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",1500,(function(e){if(Bo(e))return a.activateMove(e.originalEvent,!0),!1})),s&&s.addListener(1500,(function(e){if(Lv(e.keyEvent)&&!a.isActive()){var t=a._mouse.getLastMoveEvent();a.activateMove(t,!!t)}}),"keyboard.keydown"),s&&s.addListener(1500,(function(e){Lv(e.keyEvent)&&a.isActive()&&a.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!(t.hover||n instanceof SVGElement))return!1;e.once("hand.ended",(function(){a.activateMove(t.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!Bo(t)&&n&&e.once("hand.move.ended",(function(e){a.activateHand(e.originalEvent,!0,!0)})),!1}))}function Lv(e){return Ma("Space",e)}Nv.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],Nv.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:"grab",data:{context:n||{}}})},Nv.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:"grab",data:{context:{reactivate:n}}})},Nv.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},Nv.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};var qv={__depends__:[Rf,pf],__init__:["handTool"],handTool:["type",Nv]};function Hv(e,t,n,i,r,o,a){var s=this;this._dragging=t,this._rules=o,this._mouse=a,r.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",(function(e){var t=e.context,n=e.hover,r=t.canStartConnect=s.canStartConnect(n);null!==r&&(t.startTarget=n,i.addMarker(n,r?"connect-ok":"connect-not-ok"))})),e.on(["global-connect.out","global-connect.cleanup"],(function(e){var t=e.context.startTarget,n=e.context.canStartConnect;t&&i.removeMarker(t,n?"connect-ok":"connect-not-ok")})),e.on(["global-connect.ended"],(function(t){var i=t.context.startTarget,r={x:t.x,y:t.y};if(s.canStartConnect(i))return e.once("element.out",(function(){e.once(["connect.ended","connect.canceled"],(function(){e.fire("global-connect.drag.ended")})),n.start(null,i,r)})),!1}))}Hv.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],Hv.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})},Hv.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)},Hv.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},Hv.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var Uv={__depends__:[Gu,su,nu,Rf,pf],globalConnect:["type",Hv]};function $v(e,t,n,i,r,o,a,s){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}$v.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],$v.prototype.getPaletteEntries=function(){var e={},t=this._create,n=this._elementFactory,i=this._spaceTool,r=this._lassoTool,o=this._handTool,a=this._globalConnect,s=this._translate;function c(e,i,r,o,a){function s(i){var r=n.createShape(H({type:e},a));t.start(i,r)}return{group:i,className:r,title:o,action:{dragstart:s,click:s}}}function u(e){var i=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),r=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:i});t.start(e,[i,r],{hints:{autoSelect:[i]}})}function l(e){t.start(e,n.createParticipantShape())}return H(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:s("Activate hand tool"),action:{click:function(e){o.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:s("Activate lasso tool"),action:{click:function(e){r.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:s("Activate create/remove space tool"),action:{click:function(e){i.activateSelection(e)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:s("Activate global connect tool"),action:{click:function(e){a.start(e)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":c("bpmn:StartEvent","event","bpmn-icon-start-event-none",s("Create start event")),"create.intermediate-event":c("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",s("Create intermediate/boundary event")),"create.end-event":c("bpmn:EndEvent","event","bpmn-icon-end-event-none",s("Create end event")),"create.exclusive-gateway":c("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",s("Create gateway")),"create.task":c("bpmn:Task","activity","bpmn-icon-task",s("Create task")),"create.data-object":c("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",s("Create data object reference")),"create.data-store":c("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",s("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:s("Create expanded sub-process"),action:{dragstart:u,click:u}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:s("Create pool/participant"),action:{dragstart:l,click:l}},"create.group":c("bpmn:Group","artifact","bpmn-icon-group",s("Create group"))}),e};var Vv={__depends__:[Iv,uf,Gf,zv,qv,Uv,wo],__init__:["paletteProvider"],paletteProvider:["type",$v]};function Wv(e,t,n,i,r){ta.call(this,e),e.on("shape.move.move",250,(function(e){var o=e.context,a=o.canExecute;o.visualReplacements||(o.visualReplacements={}),a&&a.replacements?function(e){k(e.canExecute.replacements,(function(o){var a=o.oldElementId,s={type:o.newElementType};if(!e.visualReplacements[a]){var c=t.get(a);H(s,{x:c.x,y:c.y});var u=n.createShape(s);i.addShape(u,c.parent);var l=be('[data-element-id="'+oa(c.id)+'"]',e.dragGroup);l&&Me(l,{display:"none"});var p=r.addDragger(u,e.dragGroup);e.visualReplacements[a]=p,i.removeShape(u)}}))}(o):function(e){var t=e.visualReplacements;k(t,(function(n,i){var r=be('[data-element-id="'+oa(i)+'"]',e.dragGroup);r&&Me(r,{display:"inline"}),n.remove(),t[i]&&delete t[i]}))}(o)}))}Wv.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"],i(Wv,ta);var Gv={__depends__:[Qu],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",Wv]},Kv=["x","y"],Zv=Math.abs;function Yv(e){e.on(["connect.hover","connect.move","connect.end"],1250,(function(e){var t,n=e.context,i=n.canExecute,r=n.start,o=n.hover,a=n.source,s=n.target;e.originalEvent&&ja(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),i&&o&&function(e,t,n){Kv.forEach((function(i){var r=Qv(i,t);e[i]<t[i]+n?zu(e,i,t[i]+n):e[i]>t[i]+r-n&&zu(e,i,t[i]+r-n)}))}(e,o,function(e){return kr(e,"bpmn:Task")?10:20}(o)),o&&(t=i,M(["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"],(function(e){return Jv(t,e)})))?(n.connectionStart=Du(r),Er(o,["bpmn:Event","bpmn:Gateway"])&&Xv(e,Du(o)),Er(o,["bpmn:Task","bpmn:SubProcess"])&&function(e,t){var n=Du(t);Kv.forEach((function(i){(function(e,t,n){return e[n]>t[n]+20&&e[n]<t[n]+Qv(n,t)-20})(e,t,i)&&zu(e,i,n[i])}))}(e,o),kr(a,"bpmn:BoundaryEvent")&&s===a.host&&function(e){var t=e.context,n=t.source,i=t.target;if(function(e){var t=e.hover,n=e.source;return t&&n&&t===n}(t))return;var r=Du(n),o=kn(r,i,-10),a=[];/top|bottom/.test(o)&&a.push("x");/left|right/.test(o)&&a.push("y");a.forEach((function(t){var n,i=e[t];Zv(i-r[t])<40&&(n=i>r[t]?r[t]+40:r[t]-40,zu(e,t,n))}))}(e)):Jv(i,"bpmn:MessageFlow")?(kr(r,"bpmn:Event")&&(n.connectionStart=Du(r)),kr(o,"bpmn:Event")&&Xv(e,Du(o))):n.connectionStart=n.initialConnectionStart)}))}function Xv(e,t){zu(e,"x",t.x),zu(e,"y",t.y)}function Jv(e,t){return e&&e.type===t}function Qv(e,t){return"x"===e?t.width:t.height}function ey(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function ty(){this._snapValues={}}Yv.$inject=["eventBus"],ey.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},ey.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},ey.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},ey.prototype.getSnapLocations=function(){return this._snapLocations},ey.prototype.setSnapLocations=function(e){this._snapLocations=e},ey.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new ty).initDefaults(this._defaultSnaps),n},ty.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},ty.prototype.snap=function(e,t,n,i){var r=this._snapValues[t];return r&&function(e,t,n){var i,r;for(n=void 0===n?10:n,i=0;i<t.length;i++)if(r=t[i],Ru(r-e)<=n)return r}(e[n],r[n],i)},ty.prototype.initDefaults=function(e){var t=this;k(e||{},(function(e,n){k(e,(function(e){t.add(n,e)}))}))};function ny(e,t,n){var i=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){i.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,r=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!ja(e.originalEvent))&&!Fu(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=i.addSnapTargetPoints(s,r,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}ny.$inject=["elementRegistry","eventBus","snapping"],ny.prototype.initSnap=function(e){var t,n=this._elementRegistry,i=e.context,r=i.shape,o=i.snapContext;o||(o=i.snapContext=new ey);var a=(t=n.get(r.id)?Du(r,e):{x:e.x+Du(r).x,y:e.y+Du(r).y}).x-r.width/2,s=t.y-r.height/2,c=t.x+r.width/2,u=t.y+r.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),gn(r)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:c-e.x,y:u-e.y})),o},ny.prototype.addSnapTargetPoints=function(e,t,n){return k(this.getSnapTargets(t,n),(function(n){if(gn(n))gn(t)&&e.add("mid",Du(n));else if(mn(n)){if(n.waypoints.length<3)return;k(n.waypoints.slice(1,-1),(function(t){e.add("mid",t)}))}else e.add("mid",Du(n))})),m(t.x)&&m(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",Du(t)),e):e},ny.prototype.getSnapTargets=function(e,t){return Nu(t).filter((function(e){return!e.hidden}))};function iy(e,t){t.invoke(ny,this),e.on(["create.move","create.end"],1500,ry),e.on(["create.move","create.end","shape.move.move","shape.move.end"],1500,(function(e){var t=e.context,n=t.canExecute,i=t.target;n&&("attach"===n||n.attach)&&!Fu(e)&&function(e,t){var n,i=bn(t),r=fh(e,t),o=e.context.shape;n=o.parent?{x:0,y:0}:xn(o);/top/.test(r)?zu(e,"y",i.top-n.y):/bottom/.test(r)&&zu(e,"y",i.bottom-n.y);/left/.test(r)?zu(e,"x",i.left-n.x):/right/.test(r)&&zu(e,"x",i.right-n.x)}(e,i)}))}function ry(e){var t=e.context.createConstraints;if(t){var n=t.top,i=t.right,r=t.bottom,o=t.left;(o&&o>=e.x||i&&i<=e.x)&&zu(e,"x",e.x),(n&&n>=e.y||r&&r<=e.y)&&zu(e,"y",e.y)}}function oy(e,t){return-1!==e.indexOf(t)}function ay(e,t,n){return t?{x:e.x-n.x,y:e.y-n.y}:{x:e.x,y:e.y}}i(iy,ny),iy.$inject=["eventBus","injector"],iy.prototype.initSnap=function(e){var t=ny.prototype.initSnap.call(this,e),n=e.shape,i=!!this._elementRegistry.get(n.id);return k(n.outgoing,(function(n){var r=n.waypoints[0];r=r.original||r,t.setSnapOrigin(n.id+"-docking",ay(r,i,e))})),k(n.incoming,(function(n){var r=n.waypoints[n.waypoints.length-1];r=r.original||r,t.setSnapOrigin(n.id+"-docking",ay(r,i,e))})),kr(n,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t},iy.prototype.addSnapTargetPoints=function(e,t,n){ny.prototype.addSnapTargetPoints.call(this,e,t,n);var i=this.getSnapTargets(t,n);k(i,(function(n){var i;(function(e){if(kr(e,"bpmn:SubProcess")&&qr(e))return!0;return kr(e,"bpmn:Participant")}(n)||(i="bpmn:TextAnnotation",[t,n].every((function(e){return kr(e,i)}))))&&(e.add("top-left",Ou(n)),e.add("bottom-right",Iu(n)))}));var r=this._elementRegistry;return k(t.incoming,(function(n){if(r.get(t.id)){oy(i,n.source)||e.add("mid",xn(n.source));var o=n.waypoints[0];e.add(n.id+"-docking",o.original||o)}})),k(t.outgoing,(function(n){if(r.get(t.id)){oy(i,n.target)||e.add("mid",xn(n.target));var o=n.waypoints[n.waypoints.length-1];e.add(n.id+"-docking",o.original||o)}})),kr(n,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,n.parent)),e},iy.prototype.getSnapTargets=function(e,t){return ny.prototype.getSnapTargets.call(this,e,t).filter((function(e){return!kr(e,"bpmn:Lane")}))};function sy(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var i=e.context,r=i.shape,o=r.parent,a=i.direction,s=i.snapContext;if(!(e.originalEvent&&ja(e.originalEvent)||Fu(e))){var c=s.pointsForTarget(o);c.initialized||((c=n.addSnapTargetPoints(c,r,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&zu(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&zu(e,"y",e.y),t.snap(e,c)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function cy(e,t){var n=xn(e),i=bn(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}sy.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,r=t.snapContext;r||(r=t.snapContext=new ey);var o=cy(n,i);return r.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),r},sy.prototype.addSnapTargetPoints=function(e,t,n,i){return k(this.getSnapTargets(t,n),(function(t){e.add("corner",Iu(t)),e.add("corner",Ou(t))})),e.add("corner",cy(t,i)),e},sy.$inject=["eventBus","snapping"],sy.prototype.getSnapTargets=function(e,t){return Nu(t).filter((function(t){return!(n=t,i=e,n.host===i||mn(t)||function(e){return!!e.hidden}(t)||gn(t));var n,i}))};function uy(e){this._canvas=e,this._asyncHide=L(q(this.hide,this),1e3)}uy.$inject=["canvas"],uy.prototype.snap=function(e,t){var n=e.context.snapContext,i=n.getSnapLocations(),r={x:Fu(e,"x"),y:Fu(e,"y")};k(i,(function(i){var o=n.getSnapOrigin(i),a={x:e.x+o.x,y:e.y+o.y};if(k(["x","y"],(function(e){var n;r[e]||void 0!==(n=t.snap(a,i,e,7))&&(r[e]={value:n,originValue:n-o[e]})})),r.x&&r.y)return!1})),this.showSnapLine("vertical",r.x&&r.x.value),this.showSnapLine("horizontal",r.y&&r.y.value),k(["x","y"],(function(t){var n=r[t];d(n)&&zu(e,t,n.originValue)}))},uy.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=Fe("path");return Me(n,{d:"M0,0 L0,0"}),Ce(n).add("djs-snap-line"),Ee(t,n),{update:function(t){m(t)?Me(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):Me(n,{display:"none"})}}},uy.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},uy.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},uy.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},uy.prototype.hide=function(){k(this._snapLines,(function(e){e.update()}))};var ly={__depends__:[{__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",ny],resizeSnapping:["type",sy],snapping:["type",uy]}],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",Yv],createMoveSnapping:["type",iy]};function py(e,t,n,i,r){this._open=!1,this._results=[],this._eventMaps=[],this._canvas=e,this._eventBus=t,this._overlays=n,this._selection=i,this._translate=r,this._container=this._getBoxHtml(),this._searchInput=be(py.INPUT_SELECTOR,this._container),this._resultsContainer=be(py.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy"],this.close,this)}function hy(e,t,n){var i=function(e){var t="";return e.forEach((function(e){e.matched?t+='<strong class="'+py.RESULT_HIGHLIGHT_CLASS+'">'+sa(e.matched)+"</strong>":t+=sa(e.normal)})),""!==t?t:null}(t),r=ye(n);r.innerHTML=i,e.appendChild(r)}py.$inject=["canvas","eventBus","overlays","selection","translate"],py.prototype._bindEvents=function(){var e=this;function t(t,n,i,r){e._eventMaps.push({el:t,type:i,listener:de.bind(t,n,i,r)})}t(document,"html","click",(function(t){e.close()})),t(this._container,py.INPUT_SELECTOR,"click",(function(e){e.stopPropagation(),e.delegateTarget.focus()})),t(this._container,py.RESULT_SELECTOR,"mouseover",(function(t){t.stopPropagation(),e._scrollToNode(t.delegateTarget),e._preselect(t.delegateTarget)})),t(this._container,py.RESULT_SELECTOR,"click",(function(t){t.stopPropagation(),e._select(t.delegateTarget)})),t(this._container,py.INPUT_SELECTOR,"keydown",(function(e){Ma("ArrowUp",e)&&e.preventDefault(),Ma("ArrowDown",e)&&e.preventDefault()})),t(this._container,py.INPUT_SELECTOR,"keyup",(function(t){if(Ma("Escape",t))return e.close();if(Ma("Enter",t)){var n=e._getCurrentResult();return n?e._select(n):e.close()}return Ma("ArrowUp",t)?e._scrollToDirection(!0):Ma("ArrowDown",t)?e._scrollToDirection():void(Ma(["ArrowLeft","ArrowRight"],t)||e._search(t.delegateTarget.value))}))},py.prototype._unbindEvents=function(){this._eventMaps.forEach((function(e){de.unbind(e.el,e.type,e.listener)}))},py.prototype._search=function(e){var t=this;if(this._clearResults(),e&&""!==e){var n=this._searchProvider.find(e);if(n.length){n.forEach((function(e){var n=e.element.id,i=t._createResultNode(e,n);t._results[n]={element:e.element,node:i}}));var i=be(py.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(i),this._preselect(i)}}},py.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var n=e?t.previousElementSibling:t.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}},py.prototype._scrollToNode=function(e){if(e&&e!==this._getCurrentResult()){var t=e.offsetTop,n=this._resultsContainer.scrollTop,i=t-this._resultsContainer.clientHeight+e.clientHeight;t<n?this._resultsContainer.scrollTop=t:n<i&&(this._resultsContainer.scrollTop=i)}},py.prototype._clearResults=function(){ie(this._resultsContainer),this._results=[],this._resetOverlay(),this._eventBus.fire("searchPad.cleared")},py.prototype._getCurrentResult=function(){return be(py.RESULT_SELECTED_SELECTOR,this._resultsContainer)},py.prototype._createResultNode=function(e,t){var n=ye(py.RESULT_HTML);return e.primaryTokens.length>0&&hy(n,e.primaryTokens,py.RESULT_PRIMARY_HTML),hy(n,e.secondaryTokens,py.RESULT_SECONDARY_HTML),Q(n,py.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n},py.prototype.registerProvider=function(e){this._searchProvider=e},py.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._bindEvents(),this._open=!0,te(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))},py.prototype.close=function(){this.isOpen()&&(this._unbindEvents(),this._open=!1,te(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._resetOverlay(),this._eventBus.fire("searchPad.closed"))},py.prototype.toggle=function(){this.isOpen()?this.close():this.open()},py.prototype.isOpen=function(){return this._open},py.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&te(t).remove(py.RESULT_SELECTED_CLASS);var n=Q(e,py.RESULT_ID_ATTRIBUTE),i=this._results[n].element;te(e).add(py.RESULT_SELECTED_CLASS),this._resetOverlay(i),this._canvas.scrollToElement(i,{top:400}),this._selection.select(i),this._eventBus.fire("searchPad.preselected",i)}},py.prototype._select=function(e){var t=Q(e,py.RESULT_ID_ATTRIBUTE),n=this._results[t].element;this.close(),this._resetOverlay(),this._canvas.scrollToElement(n,{top:400}),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)},py.prototype._resetOverlay=function(e){if(this._overlayId&&this._overlays.remove(this._overlayId),e){var t=function(e){var t=e.width+12,n=e.height+12,i={width:t+"px",height:n+"px"},r=ye('<div class="'+py.OVERLAY_CLASS+'"></div>');return J(r,i),{position:{bottom:n-6,right:t-6},show:!0,html:r}}(wt(e));this._overlayId=this._overlays.add(e,t)}},py.prototype._getBoxHtml=function(){const e=ye(py.BOX_HTML),t=be(py.INPUT_SELECTOR,e);return t&&t.setAttribute("aria-label",this._translate("Search in diagram")),e},py.CONTAINER_SELECTOR=".djs-search-container",py.INPUT_SELECTOR=".djs-search-input input",py.RESULTS_CONTAINER_SELECTOR=".djs-search-results",py.RESULT_SELECTOR=".djs-search-result",py.RESULT_SELECTED_CLASS="djs-search-result-selected",py.RESULT_SELECTED_SELECTOR="."+py.RESULT_SELECTED_CLASS,py.RESULT_ID_ATTRIBUTE="data-result-id",py.RESULT_HIGHLIGHT_CLASS="djs-search-highlight",py.OVERLAY_CLASS="djs-search-overlay",py.BOX_HTML='<div class="djs-search-container djs-draggable djs-scrollable"><div class="djs-search-input"><input type="text"/></div><div class="djs-search-results"></div></div>',py.RESULT_HTML='<div class="djs-search-result"></div>',py.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>',py.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';var fy={__depends__:[wo,Jo,Vo],searchPad:["type",py]};function dy(e,t,n){this._elementRegistry=e,this._canvas=n,t.registerProvider(this)}function my(e){return x(e,(function(e){return!!e.matched})).length>0}function gy(e,t){var n=[],i=e;if(!e)return n;e=e.toLowerCase(),t=t.toLowerCase();var r=e.indexOf(t);return r>-1?(0!==r&&n.push({normal:i.substr(0,r)}),n.push({matched:i.substr(r,t.length)}),t.length+r<e.length&&n.push({normal:i.substr(t.length+r,e.length)})):n.push({normal:i}),n}dy.$inject=["elementRegistry","searchPad","canvas"],dy.prototype.find=function(e){var t=this._canvas.getRootElement(),n=this._elementRegistry.filter((function(e){return!e.labelTarget}));return n=x(n,(function(e){return e!==t})),n=O(n=x(n=A(n,(function(t){return{primaryTokens:gy(Xr(t),e),secondaryTokens:gy(t.id,e),element:t}})),(function(e){return my(e.primaryTokens)||my(e.secondaryTokens)})),(function(e){return Xr(e.element)+e.element.id}))};var vy={__depends__:[fy],__init__:["bpmnSearch"],bpmnSearch:["type",dy]};function yy(e){Lr.call(this,e)}i(yy,Lr),yy.Viewer=_a,yy.NavigatedViewer=Za,yy.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>')},yy.prototype._interactionModules=[Oa,Ha,Ka],yy.prototype._modelingModules=[Bc,Vc,ou,Yc,Uu,Gu,Zu,bg,_f,uf,jg,Pg,Vg,Gg,Zg,ev,hv,qm,yv,jv,Rv,Vv,Gv,sv,ly,vy],yy.prototype._modules=[].concat(_a.prototype._modules,yy.prototype._interactionModules,yy.prototype._modelingModules);const by="tokenSimulation.toggleMode",wy="tokenSimulation.resetSimulation",_y="tokenSimulation.simulator.destroyScope",xy="tokenSimulation.simulator.createScope";function ky(e){return function(t=""){return`<span class="bts-icon ${t}">${e}</span>`}}const Ey=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>'),Sy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg>'),jy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></svg>'),My=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 580.5 448">\n  <path fill="currentColor" d="M112 0C85 0 64 22 64 48v196l192-89V48c0-26-22-48-48-48zm256 0c-27 0-48 22-48 48v77l190-89c-5-21-24-36-46-36Zm144 105-192 89v70l192-89zM256 224 64 314v70l192-90zm256 21-192 89v66c0 27 21 48 48 48h96c26 0 48-21 48-48zM256 364 89 442c7 4 14 6 23 6h96c26 0 48-21 48-48z"/>\n  <rect fill="currentColor" width="63.3" height="618.2" x="311.5" y="-469.4" transform="rotate(65)" rx="10"/>\n</svg>\n'),Ay=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/></svg>'),Cy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/></svg>'),Ty=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/></svg>'),Py=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"/></svg>'),Ry=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!-- Adapted from Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"/></svg>'),By=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"/></svg>'),Oy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"/></svg>'),Iy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"/></svg>'),Dy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/></svg>'),Fy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"/></svg>'),zy=ky('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">\x3c!-- Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --\x3e<path fill="currentColor" d="M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"/></svg>');function Ny(e,t,n){this._eventBus=e,this._canvas=t,this._active=!1,e.on("import.parse.start",()=>{this._active&&(this.toggleMode(!1),e.once("import.done",()=>{this.toggleMode(!0)}))}),e.on("diagram.init",()=>{this._canvasParent=this._canvas.getContainer().parentNode,this._init()}),e.on("import.parse.start",()=>{this._active&&(this.toggleMode(!1),e.once("import.done",()=>{this.toggleMode(!0)}))})}Ny.prototype._init=function(){this._container=ye(`\n    <div class="bts-toggle-mode">\n      Token Simulation <span class="bts-toggle">${Fy()}</span>\n    </div>\n  `),pe.bind(this._container,"click",()=>this.toggleMode()),this._canvas.getContainer().appendChild(this._container)},Ny.prototype.toggleMode=function(e=!this._active){e!==this._active&&(e?(this._container.innerHTML=`Token Simulation <span class="bts-toggle">${zy()}</span>`,te(this._canvasParent).add("simulation")):(this._container.innerHTML=`Token Simulation <span class="bts-toggle">${Fy()}</span>`,te(this._canvasParent).remove("simulation")),this._eventBus.fire(by,{active:e}),this._active=e)},Ny.$inject=["eventBus","canvas"];var Ly={__init__:["toggleMode"],toggleMode:["type",Ny]};const qy=Object.freeze({ACTIVATED:1,RUNNING:2,ENDING:4,ENDED:8,DESTROYED:16,FAILED:32,TERMINATED:64,CANCELED:128,COMPLETED:256,COMPENSABLE:512,ACTIVE:7,NOT_DEAD:9}),Hy={};function Uy(e,t){throw new Error(`illegal transition: ${e.name} -> ${t}`)}function $y(e,t){return e===Hy?t:e}class Vy{constructor(e,t,{start:n,cancel:i,complete:r,destroy:o,fail:a,terminate:s,compensable:c}={}){this.name=e,this.traits=t,this._start=$y(n,this),this._compensable=$y(c,this),this._cancel=$y(i,this),this._complete=$y(r,this),this._destroy=$y(o,this),this._fail=$y(a,this),this._terminate=$y(s,this)}hasTrait(e){return 0!=(this.traits&e)}complete(){return this._complete||Uy(this,"complete")}destroy(){return this._destroy||Uy(this,"destroy")}cancel(){return this._cancel||Uy(this,"cancel")}fail(){return this._fail||Uy(this,"fail")}terminate(){return this._terminate||Uy(this,"terminate")}compensable(){return this._compensable||Uy(this,"compensable")}start(){return this._start||Uy(this,"start")}}const Wy=new Vy("failed",qy.DESTROYED|qy.FAILED),Gy=new Vy("terminated",qy.DESTROYED|qy.TERMINATED),Ky=new Vy("completed",qy.DESTROYED|qy.COMPLETED),Zy=new Vy("terminating",qy.ENDING|qy.TERMINATED,{destroy:Gy}),Yy=new Vy("canceling",qy.ENDING|qy.FAILED|qy.CANCELED,{destroy:Wy,complete:Hy,terminate:Zy}),Xy=new Vy("completing",qy.ENDING|qy.COMPLETED,{destroy:Ky,cancel:Yy,terminate:Zy}),Jy=new Vy("failing",qy.ENDING|qy.FAILED,{cancel:Yy,complete:Xy,destroy:Wy,terminate:Zy}),Qy=new Vy("compensable:failing",qy.ENDING|qy.FAILED,{complete:Hy,terminate:Zy,destroy:Wy}),eb=new Vy("compensable:completed",qy.ENDED|qy.COMPLETED,{cancel:Yy,fail:Qy,destroy:Ky,compensable:Hy}),tb=new Vy("compensable:completing",qy.ENDING|qy.COMPLETED,{destroy:eb,terminate:Zy,compensable:Hy}),nb=new Vy("compensable:running",qy.RUNNING|qy.COMPENSABLE,{cancel:Yy,complete:tb,compensable:Hy,destroy:eb,fail:Jy,terminate:Zy}),ib=new Vy("running",qy.RUNNING,{cancel:Yy,complete:Xy,compensable:nb,destroy:Gy,fail:Jy,terminate:Zy}),rb=new Vy("activated",qy.ACTIVATED,{start:ib,destroy:Gy}),ob=Object.freeze({ACTIVATED:rb,RUNNING:ib,CANCELING:Yy,COMPLETING:Xy,COMPLETED:Ky,FAILING:Jy,FAILED:Wy,TERMINATING:Zy,TERMINATED:Gy});class ab{constructor(e,t,n=null,i=null){this.id=e,this.element=t,this.parent=n,this.initiator=i,this.subscriptions=new Set,this.children=[],this.state=ob.ACTIVATED}get running(){return this.hasTrait(qy.RUNNING)}get destroyed(){return this.hasTrait(qy.DESTROYED)}get completed(){return this.hasTrait(qy.COMPLETED)}get canceled(){return this.hasTrait(qy.CANCELED)}get failed(){return this.hasTrait(qy.FAILED)}hasTrait(e){return this.state.hasTrait(e)}start(){return this.state=this.state.start(),this}compensable(){return this.state=this.state.compensable(),this}fail(e){return this.failed||(this.state=this.state.fail(),this.failInitiator=e),this}cancel(e){return this.canceled||(this.state=this.state.cancel(),this.cancelInitiator=e),this}terminate(e){return this.state=this.state.terminate(),this.terminateInitiator=e,this}complete(){return this.state=this.state.complete(),this}destroy(e){return this.state=this.state.destroy(),this.destroyInitiator=e,this}getTokens(){return this.children.filter(e=>!e.destroyed).length}getTokensByElement(e){return this.children.filter(t=>!t.destroyed&&t.element===e).length}}function sb(e,t){const n=[];for(const i of e)t(i)&&n.push(i);return n}function cb(e,t){for(const n of e)if(t(n))return n;return null}function ub(e,t){return["type","name","ref","iref"].every(n=>!(n in e)||e[n]===t[n])}function lb(e){return e.filter(e=>kr(e,"bpmn:SequenceFlow"))}function pb(e){return kr(e,"bpmn:MessageFlow")}function hb(e){return kr(e,"bpmn:SequenceFlow")}function fb(e){return gb(e)&&Sb(e,"bpmn:LinkEventDefinition")}function db(e){return gb(e)&&Sb(e,"bpmn:CompensateEventDefinition")}function mb(e){return kr(e,"bpmn:Activity")&&e.businessObject.isForCompensation}function gb(e){return(kr(e,"bpmn:CatchEvent")||kr(e,"bpmn:ReceiveTask"))&&!_b(e)}function vb(e){return kr(e,"bpmn:BoundaryEvent")&&!_b(e)}function yb(e){return wb(e)&&!Sb(e)}function bb(e){if(_b(e))return!1;if(!Eb(e,["bpmn:Activity","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:Gateway","bpmn:EndEvent"]))return!1;if(fb(e))return!1;return!e.incoming.find(hb)&&(!mb(e)&&!xb(e))}function wb(e){return kr(e,"bpmn:StartEvent")&&!_b(e)}function _b(e){return!!e.labelTarget}function xb(e){return Sr(e).triggeredByEvent}function kb(e){return kr(e,"bpmn:StartEvent")&&Sr(e).isInterrupting||kr(e,"bpmn:BoundaryEvent")&&Sr(e).cancelActivity}function Eb(e,t){return t.some(t=>kr(e,t))}function Sb(e,t){return M(Sr(e).eventDefinitions,e=>!t||kr(e,t))}function jb(e,t,n){const i=e.get("scopeIds",!1)||new a([32,36]),r={},o={},s=new Mb,c=new Set,u=[],l=new Set,p=new Set;function h(e,t){if(u.push([t,e]),1!==u.length)return;let n;for(;n=u[0];){const[e,t]=n;t.destroyed||e(),u.shift()}A("tick")}function f(e){return o[e.type]||s}function d(e){const{element:t,parentScope:n,initiator:i=null,scope:r=R({element:t,parent:n,initiator:i})}=e;return h(r,(function(){r.running||r.start(),S("signal",{...e,scope:r}),f(t).signal({...e,scope:r}),r.parent&&M(r.parent)})),r}function m(e){const{event:t,initiator:n,scope:i}=e,r=w(t),o=i.subscriptions,a=sb(o,e=>ub(r,e.event)),s=a.filter(e=>!e.event.interrupting),c=a.filter(e=>e.event.interrupting);if(!c.length)return s.map(e=>e.triggerFn(n)).flat();const u=c.find(e=>!e.event.boundary)||c[0],l=sb(o,e=>e.event.persistent||function(e,t){return e.type===t.type&&e.boundary&&!t.boundary}(e.event,u.event));return o.forEach(e=>{l.includes(e)||e.remove()}),[u.triggerFn(n)].flat().filter(e=>e)}function g(e,t,n){const i=(t=w(t)).element,r={scope:e,event:t,element:i,triggerFn:n,remove(){v(r)}};return p.add(r),e.subscriptions.add(r),i&&j(i),r}function v(e){const{scope:t,event:n}=e;p.delete(e),t.subscriptions.delete(e),n.element&&j(n.element)}function y(e){return kr(e,"bpmn:StartEvent")||kr(e,"bpmn:IntermediateCatchEvent")||kr(e,"bpmn:ReceiveTask")||function(e){if(!vb(e))return!1;const t=Cb(e);return!t[0]||Eb(t[0],["bpmn:ConditionalEventDefinition","bpmn:TimerEventDefinition"])}(e)?Sr(e).name||e.id:null}function b(e){return{element:e,interrupting:!1,boundary:!1,iref:e.id,type:"none"}}function w(e){if(!e.businessObject)return e;const t=kb(e),i=vb(e),r=y(e),o={element:e,interrupting:t,boundary:i,...r?{iref:r}:{}},a=Cb(e)[0];if(!a)return{...o,type:Ab(e)?"message":"none"};if(kr(a,"bpmn:LinkEventDefinition"))return{...o,type:"link",name:a.name};if(kr(a,"bpmn:SignalEventDefinition"))return{...o,type:"signal",ref:a.signalRef};if(kr(a,"bpmn:TimerEventDefinition"))return{...o,type:"timer"};if(kr(a,"bpmn:ConditionalEventDefinition"))return{...o,type:"condition"};if(kr(a,"bpmn:EscalationEventDefinition"))return{...o,type:"escalation",ref:a.escalationRef};if(kr(a,"bpmn:CancelEventDefinition"))return{...o,type:"cancel"};if(kr(a,"bpmn:ErrorEventDefinition"))return{...o,type:"error",ref:a.errorRef};if(kr(a,"bpmn:MessageEventDefinition"))return{...o,type:"message",ref:a.messageRef};if(kr(a,"bpmn:CompensateEventDefinition")){let t=a.activityRef&&n.get(a.activityRef.id);return t||(t=wb(e)&&xb(e.parent)?e.parent.parent:vb(e)?e.host:e.parent),{...o,type:"compensate",ref:t,persistent:!0}}throw new Error("unknown event definition",a)}function _(e,t=!0){const{element:n,parent:r,initiator:o}=e;t&&S("createScope",{element:n,scope:r});const a=new ab(i.next(),n,r,o);return r&&r.children.push(a),l.add(a),t&&A("createScope",{scope:a}),j(n),r&&j(r.element),a}function x(e){if("function"==typeof e)return e;const{event:t,element:n,scope:i}=e,r=e.elements||n&&[n],o=t&&w(t);return e=>(!o||ub(o,e.event))&&(!r||r.includes(e.element))&&(!i||i===e.scope)}function k(e){if("function"==typeof e)return e;const{element:t,waitsOnElement:n,parent:i,trait:r=qy.RUNNING,subscribedTo:o}=e,a=o?function(e){const t="function"===e?e:x(e);return e=>Array.from(e.subscriptions).some(t)}(o):()=>!0;return e=>(!t||e.element===t)&&(!i||e.parent===i)&&(!n||e.getTokensByElement(n)>0)&&e.hasTrait(r)&&a(e)}function E(e,t=null){if(!e.destroyed){e.destroy(t);for(const t of e.subscriptions){const n=t.event.traits||qy.ACTIVE;e.hasTrait(n)||v(t)}if(e.destroyed){for(const n of e.children)n.destroyed||E(n,t);S("destroyScope",{element:e.element,scope:e}),l.delete(e),A("destroyScope",{scope:e})}j(e.element),e.parent&&j(e.parent.element)}}function S(e,t){A("trace",{...t,action:e})}function j(e){c.add(e),u.length||A("tick")}function M(e){A("scopeChanged",{scope:e})}function A(e,n={}){return t.fire("tokenSimulation.simulator."+e,n)}function C(e,n){t.on("tokenSimulation.simulator."+e,n)}function T(e,n){t.off("tokenSimulation.simulator."+e,n)}function P(e,t){const n=B(e);r[e.id||e]={...n,...t},j(e)}function R(e){const{element:t}=e,n=_(e),{children:i=[],attachers:r=[]}=t;for(const e of i)if(xb(e)){const t=e.children.filter(e=>wb(e)&&!db(e));for(const i of t)g(n,i,t=>d({element:e,parentScope:n,startEvent:i,initiator:t}))}for(const e of r)vb(e)&&!db(e)&&g(n,e,t=>d({element:e,parentScope:n.parent,hostScope:n,initiator:t}));return n}function B(e){return r[e.id||e]||{}}C("tick",(function(){for(const e of c)A("elementChanged",{element:e});c.clear()})),this.createScope=_,this.destroyScope=E,this.findScope=function(e){return cb(l,k(e))},this.findScopes=function(e){return sb(l,k(e))},this.findSubscription=function(e){return cb(p,x(e))},this.findSubscriptions=function(e){return sb(p,x(e))},this.waitAtElement=function(e,t=!0){P(e,{wait:t})},this.waitForScopes=function(e,t){if(!t.length)return;const n={type:"all-completed",persistent:!1},i=new Set(t),r=t=>{i.delete(t.scope),0===i.size&&(T("destroyScope",r),m({scope:e,event:n}))};return C("destroyScope",r),n},this.setConfig=P,this.getConfig=B,this.signal=d,this.enter=function(e){const{element:t,scope:n,initiator:i=n}=e,r=R({element:t,parent:n,initiator:i});return h(r,(function(){r.running||r.start(),S("enter",e),f(t).enter({...e,initiator:i,scope:r}),r.parent&&M(r.parent)})),r},this.exit=function(e){const{element:t,scope:n,initiator:i=n}=e;h(n,(function(){S("exit",e),f(t).exit({...e,initiator:i}),n.running&&n.complete(),E(n,i),n.parent&&M(n.parent)}))},this.subscribe=g,this.trigger=m,this.reset=function(){for(const e of l)E(e);for(const e of function(){const e=[];return n.forEach(t=>{if(!Eb(t,["bpmn:Process","bpmn:Participant"]))return;const n=_({element:t},!1);e.push(n);const i=t.children.filter(wb),r=t.children.filter(bb);for(const e of i){g(n,{...w(e),interrupting:!1},n=>d({element:t,startEvent:e,initiator:n}))}if(!i.length)for(const e of r){g(n,b(e),e=>d({element:t,initiator:e}))}}),e}())l.add(e);A("tick"),A("reset")},this.on=C,this.off=T,this.registerBehavior=function(e,t){o[e]=t}}function Mb(){this.signal=function(e){console.log("ignored #exit",e.element)},this.exit=function(e){console.log("ignored #exit",e.element)},this.enter=function(e){console.log("ignored #enter",e.element)}}function Ab(e){return kr(e,"bpmn:ReceiveTask")||e.incoming.some(e=>kr(e,"bpmn:MessageFlow"))}function Cb(e){return e.businessObject.get("eventDefinitions")||[]}function Tb(e,t){this._simulator=e,this._activityBehavior=t,e.registerBehavior("bpmn:StartEvent",this)}function Pb(e,t,n){this._intermediateThrowEventBehavior=n,this._scopeBehavior=t,e.registerBehavior("bpmn:EndEvent",this)}function Rb(e,t,n){this._simulator=e,this._activityBehavior=t,this._scopeBehavior=n,e.registerBehavior("bpmn:BoundaryEvent",this)}function Bb(e,t){this._activityBehavior=t,this._simulator=e,e.registerBehavior("bpmn:IntermediateCatchEvent",this),e.registerBehavior("bpmn:ReceiveTask",this)}function Ob(e,t,n){this._simulator=e,this._activityBehavior=t,this._eventBehaviors=n,e.registerBehavior("bpmn:IntermediateThrowEvent",this),e.registerBehavior("bpmn:SendTask",this)}function Ib(e,t){this._scopeBehavior=t,this._simulator=e,e.registerBehavior("bpmn:ExclusiveGateway",this)}function Db(e,t){this._simulator=e,this._activityBehavior=t,e.registerBehavior("bpmn:ParallelGateway",this)}function Fb(e){this._simulator=e,e.registerBehavior("bpmn:EventBasedGateway",this)}function zb(e,t){this._simulator=e,this._activityBehavior=t,e.registerBehavior("bpmn:InclusiveGateway",this)}function Nb(e,t,n){this._simulator=e,this._scopeBehavior=t,this._transactionBehavior=n;const i=["bpmn:BusinessRuleTask","bpmn:CallActivity","bpmn:ManualTask","bpmn:ScriptTask","bpmn:ServiceTask","bpmn:Task","bpmn:UserTask"];for(const t of i)e.registerBehavior(t,this)}function Lb(e,t,n,i,r){this._simulator=e,this._activityBehavior=t,this._scopeBehavior=n,this._transactionBehavior=i,this._elementRegistry=r,e.registerBehavior("bpmn:SubProcess",this),e.registerBehavior("bpmn:Transaction",this),e.registerBehavior("bpmn:AdHocSubProcess",this)}jb.$inject=["injector","eventBus","elementRegistry"],Tb.prototype.signal=function(e){this._simulator.exit(e)},Tb.prototype.exit=function(e){this._activityBehavior.exit(e)},Tb.$inject=["simulator","activityBehavior"],Pb.$inject=["simulator","scopeBehavior","intermediateThrowEventBehavior"],Pb.prototype.enter=function(e){this._intermediateThrowEventBehavior.enter(e)},Pb.prototype.signal=function(e){this._intermediateThrowEventBehavior.signal(e)},Pb.prototype.exit=function(e){const{scope:t}=e;this._scopeBehavior.tryExit(t.parent,t)},Rb.prototype.signal=function(e){const{element:t,scope:n,hostScope:i=this._simulator.findScope({parent:n.parent,element:t.host})}=e;if(!i)throw new Error("host scope not found");if(Sr(t).cancelActivity){this._scopeBehavior.interrupt(i,n);const t=this._scopeBehavior.tryExit(i,n);if(t){const n=this._simulator.subscribe(i,t,t=>(n.remove(),this._simulator.exit(e)));return}}this._simulator.exit(e)},Rb.prototype.exit=function(e){this._activityBehavior.exit(e)},Rb.$inject=["simulator","activityBehavior","scopeBehavior"],Bb.$inject=["simulator","activityBehavior"],Bb.prototype.signal=function(e){return this._simulator.exit(e)},Bb.prototype.enter=function(e){const{element:t}=e;return this._activityBehavior.signalOnEvent(e,t)},Bb.prototype.exit=function(e){this._activityBehavior.exit(e)},Ob.prototype.enter=function(e){const{element:t}=e,n=this._eventBehaviors.get(t);if(n){const t=n(e);if(t)return this._activityBehavior.signalOnEvent(e,t)}this._activityBehavior.enter(e)},Ob.prototype.signal=function(e){this._activityBehavior.signal(e)},Ob.prototype.exit=function(e){this._activityBehavior.exit(e)},Ob.$inject=["simulator","activityBehavior","eventBehaviors"],Ib.prototype.enter=function(e){this._simulator.exit(e)},Ib.prototype.exit=function(e){const{element:t,scope:n}=e,i=lb(t.outgoing);if(1===i.length)return this._simulator.enter({element:i[0],scope:n.parent});const{activeOutgoing:r}=this._simulator.getConfig(t),o=i.find(e=>e===r);return o?this._simulator.enter({element:o,scope:n.parent}):this._scopeBehavior.tryExit(n.parent,n)},Ib.$inject=["simulator","scopeBehavior"],Db.prototype.enter=function(e){const{scope:t,element:n}=e,i=lb(n.incoming),{parent:r}=t,o=this._simulator.findScopes({parent:r,element:n});if(o.length===i.length){for(const e of o)e!==t&&this._simulator.destroyScope(e.complete(),t);this._simulator.exit(e)}},Db.prototype.exit=function(e){this._activityBehavior.exit(e)},Db.$inject=["simulator","activityBehavior"],Fb.$inject=["simulator"],Fb.prototype.enter=function(e){const{element:t,scope:n}=e,i=n.parent,r=function(e){return e.outgoing.map(e=>e.target).filter(e=>Eb(e,["bpmn:IntermediateCatchEvent","bpmn:ReceiveTask"]))}(t).map(e=>this._simulator.subscribe(i,e,t=>(r.forEach(e=>e.remove()),this._simulator.destroyScope(n,t),this._simulator.signal({element:e,parentScope:i,initiator:t}))))},zb.prototype.enter=function(e){this._tryJoin(e)},zb.prototype.exit=function(e){const{element:t,scope:n}=e;if(lb(t.outgoing).length>1){const{activeOutgoing:e=[]}=this._simulator.getConfig(t);if(!e.length)throw new Error("no outgoing configured");for(const t of e)this._simulator.enter({element:t,scope:n.parent})}else this._activityBehavior.exit(e)},zb.prototype._tryJoin=function(e){const t=this._getRemainingScopes(e),n=t.map(e=>e.element);if(!this._canReachAnyElement(n,e.element))return this._join(e);const i=this._getElementScopes(e),{scope:r}=e;if(i[0]!==r)return;const o=this._simulator.waitForScopes(r,t),a=this._simulator.subscribe(r,o,()=>{a.remove(),this._tryJoin(e)})},zb.prototype._getRemainingScopes=function(e){const{scope:t,element:n}=e,{parent:i}=t;return this._simulator.findScopes(e=>e.parent===i&&e.element!==n)},zb.prototype._join=function(e){const t=this._getElementScopes(e);for(const n of t)n!==e.scope&&this._simulator.destroyScope(n.complete(),e.scope);this._simulator.exit(e)},zb.prototype._getElementScopes=function(e){const{element:t,scope:n}=e;return this._simulator.findScopes({parent:n.parent,element:t})},zb.prototype._canReachAnyElement=function(e,t,n=new Set){if(!e.length)return!1;if(n.has(t))return!1;if(n.add(t),e.some(e=>e===t))return!0;if(hb(t))return this._canReachAnyElement(e,t.source,n);const i=lb(t.incoming);for(const t of i)if(this._canReachAnyElement(e,t,n))return!0;return!1},zb.$inject=["simulator","activityBehavior"],Nb.$inject=["simulator","scopeBehavior","transactionBehavior"],Nb.prototype.signal=function(e){const t=this._triggerMessages(e);if(t)return this.signalOnEvent(e,t);this._simulator.exit(e)},Nb.prototype.enter=function(e){const{element:t}=e,n=this.waitAtElement(t);if(n)return this.signalOnEvent(e,n);const i=this._triggerMessages(e);if(i)return this.signalOnEvent(e,i);this._simulator.exit(e)},Nb.prototype.exit=function(e){const{element:t,scope:n}=e,i=n.parent,r=!n.failed;r&&!xb(t)&&this._transactionBehavior.registerCompensation(n);const o=r?t.outgoing.filter(hb):[];o.forEach(e=>this._simulator.enter({element:e,scope:i})),0===o.length&&this._scopeBehavior.tryExit(i,n)},Nb.prototype.signalOnEvent=function(e,t){const{scope:n,element:i}=e,r=this._simulator.subscribe(n,t,e=>(r.remove(),this._simulator.signal({scope:n,element:i,initiator:e})))},Nb.prototype.waitAtElement=function(e){return this._simulator.getConfig(e).wait&&{element:e,type:"continue",interrupting:!1,boundary:!1}},Nb.prototype._getMessageContexts=function(e,t=null){const n=t?e=>e.referencePoint.x>t.x:()=>!0;return[...e.incoming.filter(pb).map(e=>{return{incoming:e,referencePoint:(t=e.waypoints,t&&t[t.length-1])};var t}),...e.outgoing.filter(pb).map(e=>{return{outgoing:e,referencePoint:(t=e.waypoints,t&&t[0])};var t})].sort((e,t)=>e.referencePoint.x-t.referencePoint.x).filter(n)},Nb.prototype._triggerMessages=function(e){const{element:t,initiator:n,scope:i}=e;let r=i.messageContexts;r||(r=i.messageContexts=this._getMessageContexts(t));const o=n&&n.element;if(pb(o)&&i.expectedIncoming!==o)console.debug("Simulator :: ActivityBehavior :: ignoring out-of-bounds message");else for(;r.length;){const{incoming:e,outgoing:o}=r.shift();if(e){if(!n)continue;return i.expectedIncoming=e,{element:t,type:"message",name:e.id,interrupting:!1,boundary:!1}}this._simulator.signal({element:o})}},Lb.$inject=["simulator","activityBehavior","scopeBehavior","transactionBehavior","elementRegistry"],Lb.prototype.signal=function(e){this._start(e)},Lb.prototype.enter=function(e){const{element:t}=e,n=this._activityBehavior.waitAtElement(t);if(n)return this._activityBehavior.signalOnEvent(e,n);this._start(e)},Lb.prototype.exit=function(e){const{scope:t}=e,n=t.parent;n.failInitiator===t&&n.complete(),this._activityBehavior.exit(e)},Lb.prototype._start=function(e){const{element:t,startEvent:n,scope:i}=e,r=i.parent;if(xb(t)){if(!n)throw new Error("missing <startEvent>: required for event sub-process")}else if(n)throw new Error("unexpected <startEvent>: not allowed for sub-process");if(r.destroyed)throw new Error(`target scope <${r.id}> destroyed`);(function(e){return kr(e,"bpmn:Transaction")})(t)&&this._transactionBehavior.setup(e),n&&kb(n)&&this._scopeBehavior.interrupt(r,i);const o=this._findStarts(t,n);for(const e of o)wb(e)?this._simulator.signal({element:e,parentScope:i,initiator:i}):this._simulator.enter({element:e,scope:i,initiator:i})},Lb.prototype._findStarts=function(e,t){e=this._elementRegistry.get(e.id+"_plane")||e;const n=t?e=>t===e:e=>yb(e);return e.children.filter(e=>n(e)||bb(e))};const qb={type:"cancel",interrupting:!0,boundary:!1,persistent:!0};function Hb(e,t){this._simulator=e,this._scopeBehavior=t}function Ub(e,t){this._simulator=e,this._scopeBehavior=t,e.registerBehavior("bpmn:SequenceFlow",this)}function $b(e){this._simulator=e,e.registerBehavior("bpmn:MessageFlow",this)}function Vb(e,t){return"label"!==e.type&&(Array.isArray(t)||(t=[t]),t.some((function(t){return kr(e,t)})))}function Wb(e,t,n){this._simulator=e,this._elementRegistry=t,this._scopeBehavior=n}function Gb(e){return t="bpmn:LinkEventDefinition",b(Sr(e).eventDefinitions,e=>Vb(e,t));var t}function Kb(e){for(;xb(e.parent.element);)e=e.parent;return e.parent}Hb.$inject=["simulator","scopeBehavior"],Hb.prototype.setup=function(e){const{scope:t}=e,n=this._simulator.subscribe(t,qb,e=>(n.remove(),this.cancel({scope:t,initiator:e}))),i={type:"compensate",ref:t.element,persistent:!0,traits:qy.NOT_DEAD},r=this._simulator.subscribe(t,i,e=>t.canceled?(r.remove(),this.compensate({scope:t,element:t.element,initiator:e})):this._simulator.trigger({event:qb,scope:t}))},Hb.prototype.cancel=function(e){const{scope:t,initiator:n}=e;if(!t.destroyed)return t.cancel(n),this._simulator.trigger({event:{type:"compensate",ref:t.element},initiator:n,scope:t}),this._simulator.trigger({scope:t,initiator:n,event:qb})},Hb.prototype.registerCompensation=function(e){const{element:t}=e,n=t.children.filter(xb).map(e=>e.children.find(e=>wb(e)&&db(e))).filter(e=>e),i=t.attachers.filter(db);if(!n.length&&!i.length)return;const r=this.findTransactionScope(e.parent);kr(r.element,"bpmn:Transaction")||this.makeCompensable(r);for(const i of n){const n={element:i,type:"compensate",persistent:!0,interrupting:!0,ref:t,traits:qy.NOT_DEAD},r=i.parent,o=this._simulator.subscribe(e,n,t=>(o.remove(),this._simulator.signal({initiator:t,element:r,startEvent:i,parentScope:e})))}for(const e of i){const n={element:e,type:"compensate",persistent:!0,ref:t,traits:qy.NOT_DEAD},i=e.outgoing.map(e=>e.target).find(mb);if(!i)continue;const o=this._simulator.subscribe(r,n,e=>(o.remove(),this._simulator.enter({initiator:e,element:i,scope:r})))}},Hb.prototype.makeCompensable=function(e){if(e.hasTrait(qy.COMPENSABLE)||!e.parent)return;const t={type:"compensate",ref:e.element,interrupting:!0,persistent:!0,traits:qy.NOT_DEAD};e.compensable();const n=this._simulator.subscribe(e,t,t=>(n.remove(),e.fail(t),this.compensate({scope:e,element:e.element,initiator:t}),this._scopeBehavior.tryExit(e,t),e)),i=e.parent;if(!i)return;const r=this._simulator.subscribe(i,t,n=>(r.remove(),this._simulator.trigger({scope:e,event:t,initiator:n})));this.makeCompensable(i)},Hb.prototype.findTransactionScope=function(e){let t=e;for(;t;){const e=t.element;if(kr(e,"bpmn:SubProcess")&&!xb(e))return t;if(Eb(e,["bpmn:Transaction","bpmn:Process","bpmn:Participant"]))return t;t=t.parent}throw function(e){throw new Error(`no transaction context for <${e.id}>`)}(e)},Hb.prototype.compensate=function(e){const{scope:t,element:n}=e,i=sb(t.subscriptions,e=>ub({type:"compensate"},e.event)),r=i.filter(e=>e.event.ref===n),o=i.filter(e=>e.event.ref!==n);for(const e of r)this._scopeBehavior.preExit(t,t=>this._simulator.trigger(e));for(const e of o.reverse())this._scopeBehavior.preExit(t,t=>this._simulator.trigger(e))},Ub.prototype.enter=function(e){this._simulator.exit(e)},Ub.prototype.exit=function(e){const{element:t,scope:n}=e;this._simulator.enter({element:t.target,scope:n.parent})},Ub.$inject=["simulator","scopeBehavior"],$b.$inject=["simulator"],$b.prototype.signal=function(e){this._simulator.exit(e)},$b.prototype.exit=function(e){const{element:t,scope:n}=e,i=t.target,r=gb(i)?i:{type:"message",element:t,name:t.id},o=this._simulator.findSubscription({event:r,elements:[i,i.parent]});o&&this._simulator.trigger({event:r,initiator:n,scope:o.scope})},Wb.$inject=["simulator","elementRegistry","scopeBehavior"],Wb.prototype.get=function(e){const t={"bpmn:LinkEventDefinition":e=>{const{element:t,scope:n}=e,i=Gb(t),r=n.parent,o=r.element.children.filter(e=>fb(e)&&Gb(e).name===i.name);for(const e of o)this._simulator.signal({element:e,parentScope:r,initiator:n})},"bpmn:SignalEventDefinition":e=>{const{element:t,scope:n}=e,i=this._simulator.findSubscriptions({event:t}),r=new Set;for(const e of i){const i=e.scope;r.has(i)||(r.add(i),this._simulator.trigger({event:t,scope:i,initiator:n}))}},"bpmn:EscalationEventDefinition":e=>{const{element:t,scope:n}=e,i=this._simulator.findScopes({subscribedTo:{event:t},trait:qy.ACTIVE});let r=n;for(;r=r.parent;)if(i.includes(r)){this._simulator.trigger({event:t,scope:r,initiator:n});break}},"bpmn:ErrorEventDefinition":e=>{const{element:t,scope:n}=e;this._simulator.trigger({event:t,initiator:n,scope:Kb(n)})},"bpmn:TerminateEventDefinition":e=>{const{scope:t}=e;this._scopeBehavior.terminate(t.parent,t)},"bpmn:CancelEventDefinition":e=>{const{scope:t,element:n}=e;this._simulator.trigger({event:n,initiator:t,scope:Kb(t)})},"bpmn:CompensateEventDefinition":e=>{const{scope:t,element:n}=e;return this._simulator.waitForScopes(t,this._simulator.trigger({event:n,scope:Kb(t)}))}},n=Object.entries(t).find(t=>{return n=e,i=t[0],M(Sr(n).eventDefinitions,e=>Vb(e,i));var n,i});return n&&n[1]};const Zb={type:"pre-exit",persistent:!0,interrupting:!0,boundary:!1},Yb={type:"exit",interrupting:!0,boundary:!1,persistent:!0};function Xb(e){this._simulator=e}function Jb(e){return"function"==typeof e?e:t=>t===e}function Qb(e,t){this._simulator=e,this._scopeBehavior=t,e.registerBehavior("bpmn:Process",this),e.registerBehavior("bpmn:Participant",this)}Xb.$inject=["simulator"],Xb.prototype.isFinished=function(e,t=null){return t=Jb(t),e.children.every(e=>e.destroyed||e.completed||t(e))},Xb.prototype.destroyChildren=function(e,t,n=null){n=Jb(n),e.children.filter(e=>!e.destroyed&&!n(e)).map(e=>{this._simulator.destroyScope(e,t)})},Xb.prototype.terminate=function(e,t){this.destroyChildren(e,t),e.terminate(t),this.tryExit(e,t)},Xb.prototype.interrupt=function(e,t){this.destroyChildren(e,t,t),e.fail(t)},Xb.prototype.tryExit=function(e,t){if(!e)throw new Error("missing <scope>");if(t||(t=e),!this.isFinished(e,t))return Yb;const n=this._simulator.findSubscriptions({event:Zb,scope:e});for(const e of n){const{event:n,scope:i}=e;if(this._simulator.trigger({event:n,scope:i,initiator:t}).length)return Yb}this._simulator.trigger({event:Yb,scope:e,initiator:t}),this.exit({scope:e,initiator:t})},Xb.prototype.exit=function(e){const{scope:t,initiator:n}=e;if(!n)throw new Error("missing <initiator>");this._simulator.exit({element:t.element,scope:t,initiator:n})},Xb.prototype.preExit=function(e,t){const n=this._simulator.subscribe(e,Zb,e=>(n.remove(),t(e)));return n},Qb.prototype.signal=function(e){const{element:t,startEvent:n,startNodes:i=this._findStarts(t,n),scope:r}=e;if(!i.length)throw new Error("missing <startNodes> or <startEvent>");for(const e of i)wb(e)?this._simulator.signal({element:e,parentScope:r}):this._simulator.enter({element:e,scope:r})},Qb.prototype.exit=function(e){const{scope:t,initiator:n}=e;this._scopeBehavior.destroyChildren(t,n)},Qb.prototype._findStarts=function(e,t){const n=t?e=>t===e:e=>yb(e);return e.children.filter(e=>n(e)||bb(e))},Qb.$inject=["simulator","scopeBehavior"];var ew={__depends__:[{__init__:["startEventBehavior","endEventBehavior","boundaryEventBehavior","intermediateCatchEventBehavior","intermediateThrowEventBehavior","exclusiveGatewayBehavior","parallelGatewayBehavior","eventBasedGatewayBehavior","inclusiveGatewayBehavior","subProcessBehavior","sequenceFlowBehavior","messageFlowBehavior","processBehavior"],startEventBehavior:["type",Tb],endEventBehavior:["type",Pb],boundaryEventBehavior:["type",Rb],intermediateCatchEventBehavior:["type",Bb],intermediateThrowEventBehavior:["type",Ob],exclusiveGatewayBehavior:["type",Ib],parallelGatewayBehavior:["type",Db],eventBasedGatewayBehavior:["type",Fb],inclusiveGatewayBehavior:["type",zb],activityBehavior:["type",Nb],subProcessBehavior:["type",Lb],sequenceFlowBehavior:["type",Ub],messageFlowBehavior:["type",$b],eventBehaviors:["type",Wb],scopeBehavior:["type",Xb],processBehavior:["type",Qb],transactionBehavior:["type",Hb]}],__init__:[["eventBus","simulator",function(e,t){e.on(["tokenSimulation.toggleMode","tokenSimulation.resetSimulation"],5e3,e=>{t.reset()})}]],simulator:["type",jb]};function tw(e,t){e.invoke($b,this),this._animation=t}function nw(e,t){e.invoke(Ub,this),this._animation=t}i(tw,$b),tw.$inject=["injector","animation"],tw.prototype.signal=function(e){const{element:t,scope:n}=e;this._animation.animate(t,n,()=>{$b.prototype.signal.call(this,e)})},i(nw,Ub),nw.$inject=["injector","animation"],nw.prototype.enter=function(e){const{element:t,scope:n}=e;this._animation.animate(t,n,()=>{Ub.prototype.enter.call(this,e)})};var iw={sequenceFlowBehavior:["type",nw],messageFlowBehavior:["type",tw]};const rw=e=>!0;function ow(e,t){this._eventBus=e,this._simulator=t,this._filter=rw,e.on([by,wy],()=>{this._filter=rw}),e.on(_y,e=>{const{scope:t}=e;this._scope===t&&t.parent&&this.toggle(t.parent)}),e.on(xy,e=>{const{scope:t}=e;t.parent||!this._scope||aw(this._scope,t)||this.toggle(null)})}function aw(e,t){do{if(e===t)return!0}while(t=t.parent);return!1}ow.prototype.toggle=function(e){const t=this._scope!==e;this._scope=t?e:null,this._filter=this._scope?e=>aw(this._scope,e):e=>!0,this._eventBus.fire("tokenSimulation.scopeFilterChanged",{filter:this._filter,scope:this._scope})},ow.prototype.isShown=function(e){return"string"==typeof e&&(e=this._simulator.findScope(t=>t.id===e)),e&&this._filter(e)},ow.prototype.findScope=function(e){return this._simulator.findScopes(e).filter(e=>this.isShown(e))[0]},ow.$inject=["eventBus","simulator"];var sw={scopeFilter:["type",ow]};const cw=getComputedStyle(document.documentElement),uw=cw.getPropertyValue("--token-simulation-green-base-44"),lw=cw.getPropertyValue("--token-simulation-white");function pw(){}function hw(e,t){return 2===t.length?gw:1===e?dw:e===t.length-1?mw:fw}const fw=function(e){return e},dw=function(e){return 1-Math.cos(e*Math.PI/2)},mw=function(e){return Math.sin(e*Math.PI/2)},gw=function(e){return-Math.cos(e*Math.PI)/2+.5};function vw(e,t,n,i){this._eventBus=n,this._scopeFilter=i,this._canvas=t,this._randomize=e&&!1!==e.randomize,this._animations=new Set,this._speed=1,n.on(wy,()=>{this.clearAnimations()}),n.on("tokenSimulation.pauseSimulation",()=>{this.pause()}),n.on("tokenSimulation.playSimulation",()=>{this.play()}),n.on("tokenSimulation.scopeFilterChanged",e=>{this.each(e=>{this._scopeFilter.isShown(e.scope)?e.show():e.hide()})}),n.on(_y,e=>{const{scope:t}=e;this.clearAnimations(t)})}function yw(e,t,n,i){this.gfx=e,this.waypoints=t,this.done=i,this.randomize=n,this._paused=!0,this._t=0,this._parts=[],this.create()}vw.prototype.animate=function(e,t,n){this.createAnimation(e,t,n)},vw.prototype.pause=function(){this.each(e=>e.pause())},vw.prototype.play=function(){this.each(e=>e.play())},vw.prototype.each=function(e){this._animations.forEach(e)},vw.prototype.createAnimation=function(e,t,n=pw){const i=this._getGroup(t);if(!i)return;const r=new yw(this._createTokenGfx(i,t),e.waypoints,this._randomize,()=>{this._animations.delete(r),n()});return r.setSpeed(this.getAnimationSpeed()),this._scopeFilter.isShown(t)||r.hide(),r.scope=t,r.element=e,this._animations.add(r),this._eventBus.fire("tokenSimulation.animationCreated",{animation:r}),r.play(),r},vw.prototype.setAnimationSpeed=function(e){this._speed=e,this.each(t=>t.setSpeed(e)),this._eventBus.fire("tokenSimulation.animationSpeedChanged",{speed:e})},vw.prototype.getAnimationSpeed=function(){return this._speed},vw.prototype.clearAnimations=function(e){this.each(t=>{e&&t.scope!==e||t.remove()})},vw.prototype._createTokenGfx=function(e,t){return ke(Fe(this._getTokenSVG(t).trim()),e)},vw.prototype._getTokenSVG=function(e){const t=e.colors||{primary:uw,auxiliary:lw};return`\n    <g class="bts-token">\n      <circle\n        class="bts-circle"\n        r="10"\n        cx="10"\n        cy="10"\n        fill="${t.primary}"\n      />\n      <text\n        class="bts-text"\n        transform="translate(10, 14)"\n        text-anchor="middle"\n        fill="${t.auxiliary}"\n      >1</text>\n    </g>\n  `},vw.prototype._getGroup=function(e){var t,n,i=this._canvas;"findRoot"in i?(n=i.findRoot(e.element),t=i._findPlaneForRoot(n).layer):t=be(".viewport",i._svg);var r=be(".bts-animation-tokens",t);return r||ke(r=Fe('<g class="bts-animation-tokens" />'),t),r},vw.$inject=["config.animation","canvas","eventBus","scopeFilter"],yw.prototype.pause=function(){this._paused=!0},yw.prototype.play=function(){this._paused&&(this._paused=!1,this.tick(0)),this.schedule()},yw.prototype.schedule=function(){if(this._paused)return;if(this._scheduled)return;const e=Date.now();this._scheduled=!0,requestAnimationFrame(()=>{this._scheduled=!1,this._paused||(this.tick((Date.now()-e)*this._speed),this.schedule())})},yw.prototype.tick=function(e){const t=this._t=this._t+e,n=this._parts.find(e=>e.startTime<=t&&e.endTime>t);if(!n)return this.remove();const i=t-n.startTime,r=n.length*n.easing(i/n.duration),o=n.startLength+r,a=this._path.getPointAtLength(o);this.move(a.x,a.y)},yw.prototype.move=function(e,t){Me(this.gfx,"transform",`translate(${e}, ${t})`)},yw.prototype.create=function(){const e=this.waypoints,t=e.reduce((t,n,i)=>{const r=e[i-1];if(r){const s=t[t.length-1],c=s&&s.endLength||0,u=(o=r,a=n,Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)));t.push({startLength:c,endLength:c+u,length:u,easing:hw(i,e)})}var o,a;return t},[]),n=t.reduce((function(e,t){return e+t.length}),0),i=e.reduce((e,t,n)=>{const i=t.x-10,r=t.y-10;return e.push([n>0?"L":"M",i,r]),e},[]).flat().join(" "),r=function(e,t=!1){return Math.log(e)*(t?(n=250,i=300,n+Math.floor(Math.random()*(i-n))):250);var n,i}(n,this._randomize);this._parts=t.reduce((e,t,i)=>{const o=r/n*t.length,a=i>0?e[i-1].endTime:0,s=a+o;return[...e,{...t,startTime:a,endTime:s,duration:o}]},[]),this._path=Fe(`<path d="${i}" />`),this._t=0},yw.prototype.show=function(){Me(this.gfx,"display","")},yw.prototype.hide=function(){Me(this.gfx,"display","none")},yw.prototype.remove=function(){this.pause(),Pe(this.gfx),this.done()},yw.prototype.setSpeed=function(e){this._speed=e};var bw={__depends__:[ew,iw,sw],animation:["type",vw]},ww=n(400),_w=n.n(ww);function xw(e){const t=_w()({count:60}).filter(e=>n(e.substring(1))<200);function n(e){return(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3}let i=0;e.on(xy,1500,e=>{const{scope:r}=e;r.colors=function(e){const{element:r}=e;if(r&&"bpmn:MessageFlow"===r.type)return{primary:"#999",auxiliary:"#FFF"};if(e.parent)return e.parent.colors;const o=t[i++%t.length];return{primary:o,auxiliary:n(o)>=128?"#111":"#fff"}}(r)})}xw.$inject=["eventBus"];var kw={__init__:["coloredScopes"],coloredScopes:["type",xw]};function Ew(e){this._exclusiveGatewaySettings=e}function Sw(e){this._inclusiveGatewaySettings=e}function jw(e){this._simulator=e}function Mw(e){this._simulator=e}Ew.prototype.createContextPads=function(e){if(e.outgoing.filter((function(e){return Vb(e,"bpmn:SequenceFlow")})).length<2)return;const t=`\n    <div class="bts-context-pad" title="Set Sequence Flow">\n      ${Ay()}\n    </div>\n  `;return[{action:()=>{this._exclusiveGatewaySettings.setSequenceFlow(e)},element:e,html:t}]},Ew.$inject=["exclusiveGatewaySettings"],Sw.prototype.createContextPads=function(e){const t=e.outgoing.filter(hb);if(t.length<2)return;const n=t.filter(t=>{const n=Sr(t);return Sr(e).default!==n}),i=`\n    <div class="bts-context-pad" title="Set Sequence Flow">\n      ${Ay()}\n    </div>\n  `;return n.map(t=>({action:()=>{this._inclusiveGatewaySettings.toggleSequenceFlow(e,t)},element:t,html:i}))},Sw.$inject=["inclusiveGatewaySettings"],jw.prototype.createContextPads=function(e){return Vb(e,"bpmn:ReceiveTask")||Vb(e,"bpmn:SubProcess")&&Sr(e).triggeredByEvent?[]:[this.createPauseContextPad(e)]},jw.prototype.createPauseContextPad=function(e){const t=this._isPaused(e),n=`\n    <div class="bts-context-pad ${t?"":"show-hover"}" title="${t?"Remove":"Add"} pause point">\n      ${(t?My:Py)("show-hover")}\n      ${Py("hide-hover")}\n    </div>\n  `;return{action:()=>{this._togglePaused(e)},element:e,hideContexts:()=>this._findSubscriptions({element:e}),html:n}},jw.prototype._isPaused=function(e){const{wait:t}=this._simulator.getConfig(e);return t},jw.prototype._togglePaused=function(e){const t=!this._isPaused(e);this._simulator.waitAtElement(e,t)},jw.prototype._findSubscriptions=function(e){return this._simulator.findSubscriptions(e)},jw.$inject=["simulator"],Mw.$inject=["simulator"],Mw.prototype.createContextPads=function(e){return[this.createTriggerContextPad(e)]},Mw.prototype.createTriggerContextPad=function(e){const t=`\n    <div class="bts-context-pad" title="Trigger Event">\n      ${Ry()}\n    </div>\n  `;return{action:e=>{const{event:t,scope:n}=e[0];return this._simulator.trigger({event:t,scope:n})},element:e,html:t,contexts:()=>this._findSubscriptions({element:e}).slice().sort((e,t)=>"none"===e.event.type?1:-1)}},Mw.prototype._findSubscriptions=function(e){return this._simulator.findSubscriptions(e)};function Aw(e,t,n,i,r,o){this._elementRegistry=t,this._overlays=n,this._injector=i,this._canvas=r,this._scopeFilter=o,this._overlayCache=new Map,this._handlerIdx=0,this._handlers=[],this.registerHandler("bpmn:ExclusiveGateway",Ew),this.registerHandler("bpmn:InclusiveGateway",Sw),this.registerHandler("bpmn:Activity",jw),this.registerHandler("bpmn:Event",Mw),this.registerHandler("bpmn:Gateway",Mw),this.registerHandler("bpmn:Activity",Mw),e.on(by,500,e=>{e.active?this.openContextPads():this.closeContextPads()}),e.on(wy,500,()=>{this.closeContextPads(),this.openContextPads()}),e.on("tokenSimulation.scopeFilterChanged",e=>{const t=we(".djs-overlay-ts-context-menu [data-scope-ids]",n._overlayRoot);for(const e of t){const t=e.dataset.scopeIds.split(",").some(e=>o.isShown(e));te(e).toggle("hidden",!t)}const i=we(".djs-overlay-ts-context-menu [data-hide-scope-ids]",n._overlayRoot);for(const e of i){const t=e.dataset.hideScopeIds.split(",").some(e=>o.isShown(e));te(e).toggle("hidden",t)}}),e.on("tokenSimulation.simulator.elementChanged",500,e=>{const{element:t}=e;this.updateElementContextPads(t)})}Aw.prototype.registerHandler=function(e,t){const n=this._injector.instantiate(t);n.hash=String(this._handlerIdx++),this._handlers.push({handler:n,type:e})},Aw.prototype.getHandlers=function(e){return this._handlers.filter(({type:t})=>Vb(e,t)).map(({handler:e})=>e)},Aw.prototype.openContextPads=function(e){e||(e=this._canvas.getRootElement()),this._elementRegistry.forEach(t=>{(function(e,t){do{if(e===t)return!0;t=t.parent}while(t);return!1})(e,t)&&this.updateElementContextPads(t)})},Aw.prototype._getOverlays=function(e){return this._overlayCache.get(e)||[]},Aw.prototype._addOverlay=function(e,t){const{handlerHash:n}=t;if(!n)throw new Error("<handlerHash> required");const i=this._overlays.add(e,"bts-context-menu",{...t,position:{top:-15,left:-15},show:{minZoom:.5}}),r=this._overlays.get(i),o=this._overlayCache;o.has(n)||o.set(n,[]),o.get(n).push(r)},Aw.prototype._removeOverlay=function(e){const{id:t,handlerHash:n}=e;this._overlays.remove(t);const i=this._overlayCache.get(n)||[],r=i.indexOf(e);-1!==r&&i.splice(r,1)},Aw.prototype.updateElementContextPads=function(e){for(const t of this.getHandlers(e))this._updateElementContextPads(e,t)},Aw.prototype._updateElementContextPads=function(e,t){const n=(t.createContextPads(e)||[]).filter(e=>e),i=`${e.id}------${t.hash}`,r=this._getOverlays(i),o=[];for(const e of n){const{element:t,contexts:n,hideContexts:a,action:s,html:c}=e,u=`${e.element.id}-------${c}`;let l=r.find(e=>e.hash===u);const p=l&&l.html||ye(c);if(n){const e=n();p.dataset.scopeIds=e.map(e=>e.scope.id).join(",");const t=e.filter(e=>this._scopeFilter.isShown(e.scope));te(p).toggle("hidden",0===t.length)}if(a){const e=a();p.dataset.hideScopeIds=e.map(e=>e.scope.id).join(",");const t=e.filter(e=>this._scopeFilter.isShown(e.scope));te(p).toggle("hidden",t.length>0)}l?o.push(l):(s&&pe.bind(p,"click",e=>{e.preventDefault();const t=n?n().filter(e=>this._scopeFilter.isShown(e.scope)):null;s(t)}),this._addOverlay(t,{hash:u,handlerHash:i,html:p}))}for(const e of r)o.includes(e)||this._removeOverlay(e)},Aw.prototype.closeContextPads=function(){for(const e of this._overlayCache.values())for(const t of e)this._closeOverlay(t);this._overlayCache.clear()},Aw.prototype._closeOverlay=function(e){this._overlays.remove(e.id)},Aw.$inject=["eventBus","elementRegistry","overlays","injector","canvas","scopeFilter"];var Cw={__depends__:[sw],__init__:["contextPads"],contextPads:["type",Aw]};function Tw(e,t,n){e.on(_y,e=>{const{scope:t}=e,{destroyInitiator:i,element:r}=t;if(!t.completed||!i)return;["bpmn:Process","bpmn:Participant"].includes(r.type)&&n.addElementNotification(i.element,{type:"success",icon:jy(),text:"Finished",scope:t})})}Tw.$inject=["eventBus","simulator","elementNotifications"];function Pw(e,t){this._overlays=e,t.on([wy,xy,by],()=>{this.clear()})}Pw.prototype.addElementNotification=function(e,t){const n={top:-15,right:15},{type:i,icon:r,text:o,scope:a={}}=t,s=a.colors,c=s?`style="color: ${s.auxiliary}; background: ${s.primary}"`:"",u=ye(`\n    <div class="bts-element-notification ${i||""}" ${c}>\n      ${r||""}\n      <span class="bts-text">${o}</span>\n    </div>\n  `);this._overlays.add(e,"bts-element-notification",{position:n,html:u,show:{minZoom:.5}})},Pw.prototype.clear=function(){this._overlays.remove({type:"bts-element-notification"})},Pw.prototype.removeElementNotification=function(e){this._overlays.remove({element:e})},Pw.$inject=["overlays","eventBus"];var Rw={elementNotifications:["type",Pw]};const Bw=2e3,Ow=Ty();function Iw(e,t,n){this._eventBus=e,this._canvas=t,this._scopeFilter=n,this._init(),e.on([by,wy],e=>{this.clear()})}Iw.prototype._init=function(){this.container=ye('<div class="bts-notifications"></div>'),this._canvas.getContainer().appendChild(this.container)},Iw.prototype.showNotification=function(e){const{text:t,type:n="info",icon:i=Ow,scope:r,ttl:o=Bw}=e;if(r&&!this._scopeFilter.isShown(r))return;const a=i.startsWith("<")?i:`<i class="${i}"></i>`,s=r&&r.colors,c=s?`style="color: ${s.auxiliary}; background: ${s.primary}"`:"",u=ye(`\n    <div class="bts-notification ${n}">\n      <span class="bts-icon">${a}</span>\n      <span class="bts-text" title="${t}">${t}</span>\n      ${r?`<span class="bts-scope" ${c}>${r.id}</span>`:""}\n    </div>\n  `);for(this.container.appendChild(u);this.container.children.length>5;)this.container.children[0].remove();setTimeout((function(){u.remove()}),o)},Iw.prototype.clear=function(){for(;this.container.children.length;)this.container.children[0].remove()},Iw.$inject=["eventBus","canvas","scopeFilter"];var Dw={__depends__:[sw],notifications:["type",Iw]},Fw={__depends__:[Rw,Dw],__init__:["simulationState"],simulationState:["type",Tw]};function zw(e,t,n,i,r){this._eventBus=e,this._canvas=t,this._scopeFilter=n,this._elementColors=i,this._simulationStyles=r,this._highlight=null,this._init(),e.on(by,e=>{e.active?te(this._container).remove("hidden"):(te(this._container).add("hidden"),ie(this._container),this.unhighlightScope())}),e.on("tokenSimulation.scopeFilterChanged",e=>{const t=this.getScopeElements();for(const e of t){const t=e.dataset.scopeId;te(e).toggle("inactive",!this._scopeFilter.isShown(t))}}),e.on(xy,e=>{this.addScope(e.scope)}),e.on(_y,e=>{this.removeScope(e.scope)}),e.on("tokenSimulation.simulator.scopeChanged",e=>{this.updateScope(e.scope)}),e.on(wy,()=>{this.removeAllInstances()})}function Nw(){this._cache={}}function Lw(){return{getPropertyValue:()=>""}}zw.prototype._init=function(){this._container=ye('<div class="bts-scopes hidden"></div>'),this._canvas.getContainer().appendChild(this._container)},zw.prototype.addScope=function(e){const{element:t}=e;if(!["bpmn:Process","bpmn:SubProcess","bpmn:Participant"].includes(t.type))return;const n=e.colors,i=n?`style="color: ${n.auxiliary}; background: ${n.primary}"`:"",r=ye(`\n    <div data-scope-id="${e.id}" class="bts-scope"\n         title="View Process Instance ${e.id}" ${i}>\n      ${e.getTokens()}\n    </div>\n  `);pe.bind(r,"click",()=>{this._scopeFilter.toggle(e)}),pe.bind(r,"mouseenter",()=>{this.highlightScope(t)}),pe.bind(r,"mouseleave",()=>{this.unhighlightScope()}),this._scopeFilter.isShown(e)||te(r).add("inactive"),this._container.appendChild(r)},zw.prototype.getScopeElements=function(){return we("[data-scope-id]",this._container)},zw.prototype.getScopeElement=function(e){return be(`[data-scope-id="${e.id}"]`,this._container)},zw.prototype.updateScope=function(e){const t=this.getScopeElement(e);t&&(t.textContent=e.getTokens())},zw.prototype.removeScope=function(e){const t=this.getScopeElement(e);t&&t.remove()},zw.prototype.removeAllInstances=function(){this._container.innerHTML=""},zw.prototype.highlightScope=function(e){this.unhighlightScope(),this._highlight=e,this._elementColors.add(e,"show-scopes",this._getHighlightColors(),3e3),e.parent||te(this._canvas.getContainer()).add("highlight")},zw.prototype.unhighlightScope=function(){if(!this._highlight)return;const e=this._highlight;this._elementColors.remove(e,"show-scopes"),e.parent||te(this._canvas.getContainer()).remove("highlight"),this._highlight=null},zw.prototype._getHighlightColors=function(){return{fill:this._simulationStyles.get("--token-simulation-silver-base-97"),stroke:this._simulationStyles.get("--token-simulation-green-base-44")}},zw.$inject=["eventBus","canvas","scopeFilter","elementColors","simulationStyles"],Nw.$inject=[],Nw.prototype.get=function(e){const t=this._cache[e];return t||(this._computedStyle||(this._computedStyle=this._getComputedStyle()),this._cache[e]=this._computedStyle.getPropertyValue(e).trim())},Nw.prototype._getComputedStyle=function(){return("function"==typeof getComputedStyle?getComputedStyle:Lw)("undefined"!=typeof document?document.documentElement:{})};var qw={simulationStyles:["type",Nw]},Hw={__depends__:[sw,qw],__init__:["showScopes"],showScopes:["type",zw]};const Uw=Ty();function $w(e){const t=e&&e.businessObject.name;return t&&sa(t)}function Vw(e,t){const n=Ww(e);return"none"===n?"bpmn-icon-intermediate-event-none":`bpmn-icon-intermediate-event-${t}-${n}`}function Ww(e){const t=Sr(e);if(0===t.eventDefinitions.length)return"none";const n=t.eventDefinitions[0];return Vb(n,"bpmn:MessageEventDefinition")?"message":Vb(n,"bpmn:TimerEventDefinition")?"timer":Vb(n,"bpmn:SignalEventDefinition")?"signal":Vb(n,"bpmn:ErrorEventDefinition")?"error":Vb(n,"bpmn:EscalationEventDefinition")?"escalation":Vb(n,"bpmn:CompensateEventDefinition")?"compensation":Vb(n,"bpmn:ConditionalEventDefinition")?"condition":Vb(n,"bpmn:LinkEventDefinition")?"link":Vb(n,"bpmn:CancelEventDefinition")?"cancel":Vb(n,"bpmn:TerminateEventDefinition")?"terminate":"none"}function Gw(e,t,n,i,r,o){this._notifications=t,this._tokenSimulationPalette=n,this._canvas=i,this._scopeFilter=r,this._init(),e.on("tokenSimulation.scopeFilterChanged",e=>{const t=we(".bts-entry[data-scope-id]",this._container);for(const e of t){const t=e.dataset.scopeId;te(e).toggle("inactive",!this._scopeFilter.isShown(t))}}),e.on(_y,e=>{const{scope:t}=e,{element:n}=t,i=t.completed;if(!["bpmn:Process","bpmn:Participant","bpmn:SubProcess"].includes(n.type))return;const r=`${Vb(n,"bpmn:SubProcess")?$w(n)||"SubProcess":"Process"} ${i?"finished":"canceled"}`;this.log({text:r,icon:i?jy():Iy(),scope:t})}),e.on(xy,e=>{const{scope:t}=e,{element:n}=t;if(!["bpmn:Process","bpmn:Participant","bpmn:SubProcess"].includes(n.type))return;const i=(Vb(n,"bpmn:SubProcess")?$w(n)||"SubProcess":"Process")+" started";this.log({text:i,icon:jy(),scope:t})}),e.on("tokenSimulation.simulator.trace",e=>{const{action:t,scope:n,element:i}=e;if("exit"!==t)return;const r=n.parent,o=$w(i);return Vb(i,"bpmn:ServiceTask")?this.log({text:o||"Service Task",icon:"bpmn-icon-service",scope:r}):Vb(i,"bpmn:UserTask")?this.log({text:o||"User Task",icon:"bpmn-icon-user",scope:r}):Vb(i,"bpmn:CallActivity")?this.log({text:o||"Call Activity",icon:"bpmn-icon-call-activity",scope:r}):Vb(i,"bpmn:ScriptTask")?this.log({text:o||"Script Task",icon:"bpmn-icon-script",scope:r}):Vb(i,"bpmn:BusinessRuleTask")?this.log({text:o||"Business Rule Task",icon:"bpmn-icon-business-rule",scope:r}):Vb(i,"bpmn:ManualTask")?this.log({text:o||"Manual Task",icon:"bpmn-icon-manual-task",scope:r}):Vb(i,"bpmn:ReceiveTask")?this.log({text:o||"Receive Task",icon:"bpmn-icon-receive",scope:r}):Vb(i,"bpmn:SendTask")?this.log({text:o||"Send Task",icon:"bpmn-icon-send",scope:r}):Vb(i,"bpmn:Task")?this.log({text:o||"Task",icon:"bpmn-icon-task",scope:r}):Vb(i,"bpmn:ExclusiveGateway")?this.log({text:o||"Exclusive Gateway",icon:"bpmn-icon-gateway-xor",scope:r}):Vb(i,"bpmn:ParallelGateway")?this.log({text:o||"Parallel Gateway",icon:"bpmn-icon-gateway-parallel",scope:r}):Vb(i,"bpmn:InclusiveGateway")?this.log({text:o||"Inclusive Gateway",icon:"bpmn-icon-gateway-or",scope:r}):Vb(i,"bpmn:StartEvent")?this.log({text:o||"Start Event",icon:"bpmn-icon-start-event-"+Ww(i),scope:r}):Vb(i,"bpmn:IntermediateCatchEvent")?this.log({text:o||"Intermediate Event",icon:Vw(i,"catch"),scope:r}):Vb(i,"bpmn:IntermediateThrowEvent")?this.log({text:o||"Intermediate Event",icon:Vw(i,"throw"),scope:r}):Vb(i,"bpmn:BoundaryEvent")?this.log({text:o||"Boundary Event",icon:Vw(i,"catch"),scope:r}):Vb(i,"bpmn:EndEvent")?this.log({text:o||"End Event",icon:"bpmn-icon-end-event-"+Ww(i),scope:r}):void 0}),e.on([by,wy],e=>{this.clear(),this.toggle(!1)})}Gw.prototype._init=function(){this._container=ye(`\n    <div class="bts-log hidden djs-scrollable">\n      <div class="bts-header">\n        ${Ey("bts-log-icon")}\n        Simulation Log\n        <button class="bts-close">\n          ${Dy()}\n        </button>\n      </div>\n      <div class="bts-content">\n        <p class="bts-entry placeholder">No Entries</p>\n      </div>\n    </div>\n  `),this._placeholder=be(".bts-placeholder",this._container),this._content=be(".bts-content",this._container),pe.bind(this._content,"mousedown",e=>{e.stopPropagation()}),this._close=be(".bts-close",this._container),pe.bind(this._close,"click",()=>{this.toggle(!1)}),this._icon=be(".bts-log-icon",this._container),pe.bind(this._icon,"click",()=>{this.toggle()}),this._canvas.getContainer().appendChild(this._container),this.paletteEntry=ye(`\n    <div class="bts-entry" title="Toggle Simulation Log">\n      ${Ey()}\n    </div>\n  `),pe.bind(this.paletteEntry,"click",()=>{this.toggle()}),this._tokenSimulationPalette.addEntry(this.paletteEntry,3)},Gw.prototype.isShown=function(){return!te(this._container).has("hidden")},Gw.prototype.toggle=function(e=!this.isShown()){const t=this._container;e?te(t).remove("hidden"):te(t).add("hidden")},Gw.prototype.log=function(e){const{text:t,type:n="info",icon:i=Uw,scope:r}=e,o=this._content;te(this._placeholder).add("hidden"),this.isShown()||this._notifications.showNotification(e);const a=i.startsWith("<")?i:`<i class="${i}"></i>`,s=r&&r.colors,c=s?`style="background: ${s.primary}; color: ${s.auxiliary}"`:"",u=ye(`\n    <p class="bts-entry ${n} ${r&&this._scopeFilter.isShown(r)?"":"inactive"}" ${r?`data-scope-id="${r.id}"`:""}>\n      <span class="bts-icon">${a}</span>\n      <span class="bts-text" title="${t}">${t}</span>\n      ${r?`<span class="bts-scope" data-scope-id="${r.id}" ${c}>${r.id}</span>`:""}\n    </p>\n  `);de.bind(u,".bts-scope[data-scope-id]","click",e=>{this._scopeFilter.toggle(r)});const l=Math.abs(o.clientHeight+o.scrollTop-o.scrollHeight)<2;o.appendChild(u),l&&(o.scrollTop=o.scrollHeight)},Gw.prototype.clear=function(){for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._placeholder=ye('<p class="bts-entry placeholder">No Entries</p>'),this._content.appendChild(this._placeholder)},Gw.$inject=["eventBus","notifications","tokenSimulationPalette","canvas","scopeFilter","simulator"];var Kw={__depends__:[Dw,sw],__init__:["log"],log:["type",Gw]};const Zw=["bpmn:ComplexGateway"];function Yw(e,t,n,i,r){this._eventBus=e,this._elementRegistry=t,this._elementNotifications=r,this._notifications=i,this._canvasParent=n.getContainer().parentNode,e.on(by,e=>{e.active?this.enable():this.clear()})}Yw.prototype.getUnsupportedElements=function(){return this._unsupportedElements},Yw.prototype.enable=function(){const e=[];this._elementRegistry.forEach(t=>{(function(e){return e.labelTarget})(t)||Vb(t,Zw)&&(this.showWarning(t),e.push(t))}),e.length&&this._notifications.showNotification({text:"Found unsupported elements",icon:Cy(),type:"warning",ttl:5e3}),this._unsupportedElements=e},Yw.prototype.clear=function(){te(this._canvasParent).remove("warning")},Yw.prototype.showWarning=function(e){this._elementNotifications.addElementNotification(e,{type:"warning",icon:Cy(),text:"Not supported"})},Yw.$inject=["eventBus","elementRegistry","canvas","notifications","elementNotifications"];var Xw={__depends__:[Rw,Dw],__init__:["elementSupport"],elementSupport:["type",Yw]};const Jw=Ry(),Qw=Py();function e_(e,t,n,i){this._eventBus=e,this._tokenSimulationPalette=t,this._notifications=n,this.canvasParent=i.getContainer().parentNode,this.isActive=!1,this.isPaused=!0,this._init(),e.on(xy,1500,e=>{this.activate(),this.unpause()}),e.on([wy,by],()=>{this.deactivate(),this.pause()}),e.on("tokenSimulation.simulator.trace",1500,e=>{this.unpause()})}e_.prototype._init=function(){this.paletteEntry=ye(`\n    <div class="bts-entry disabled" title="Play/Pause Simulation">\n      ${Jw}\n    </div>\n  `),pe.bind(this.paletteEntry,"click",this.toggle.bind(this)),this._tokenSimulationPalette.addEntry(this.paletteEntry,1)},e_.prototype.toggle=function(){this.isPaused?this.unpause():this.pause()},e_.prototype.pause=function(){this.isActive&&(te(this.paletteEntry).remove("active"),te(this.canvasParent).add("paused"),this.paletteEntry.innerHTML=Jw,this._eventBus.fire("tokenSimulation.pauseSimulation"),this._notifications.showNotification({text:"Pause Simulation"}),this.isPaused=!0)},e_.prototype.unpause=function(){this.isActive&&this.isPaused&&(te(this.paletteEntry).add("active"),te(this.canvasParent).remove("paused"),this.paletteEntry.innerHTML=Qw,this._eventBus.fire("tokenSimulation.playSimulation"),this._notifications.showNotification({text:"Play Simulation"}),this.isPaused=!1)},e_.prototype.activate=function(){this.isActive=!0,te(this.paletteEntry).remove("disabled")},e_.prototype.deactivate=function(){this.isActive=!1,te(this.paletteEntry).remove("active"),te(this.paletteEntry).add("disabled")},e_.$inject=["eventBus","tokenSimulationPalette","notifications","canvas"];var t_={__depends__:[Dw],__init__:["pauseSimulation"],pauseSimulation:["type",e_]};function n_(e,t,n){this._eventBus=e,this._tokenSimulationPalette=t,this._notifications=n,this._init(),e.on(xy,()=>{te(this._paletteEntry).remove("disabled")}),e.on(by,e=>{(this._active=e.active)||this.resetSimulation()})}n_.prototype._init=function(){this._paletteEntry=ye(`\n    <div class="bts-entry disabled" title="Reset Simulation">\n      ${By()}\n    </div>\n  `),pe.bind(this._paletteEntry,"click",()=>{this.resetSimulation(),this._notifications.showNotification({text:"Reset Simulation",type:"info"})}),this._tokenSimulationPalette.addEntry(this._paletteEntry,2)},n_.prototype.resetSimulation=function(){te(this._paletteEntry).add("disabled"),this._eventBus.fire(wy)},n_.$inject=["eventBus","tokenSimulationPalette","notifications"];var i_={__depends__:[Dw],__init__:["resetSimulation"],resetSimulation:["type",n_]};function r_(e,t,n,i,r){this._overlays=t,this._scopeFilter=i,this._simulator=n,this._simulationStyles=r,this.overlayIds={},e.on("tokenSimulation.simulator.elementChanged",500,e=>{const{element:t}=e;this.removeTokenCounts(t),this.addTokenCounts(t)}),e.on("tokenSimulation.scopeFilterChanged",e=>{const n=we(".bts-token-count[data-scope-id]",t._overlayRoot);for(const e of n){const t=e.dataset.scopeId;te(e).toggle("inactive",!this._scopeFilter.isShown(t))}})}r_.prototype.addTokenCounts=function(e){if(Vb(e,"bpmn:MessageFlow")||Vb(e,"bpmn:SequenceFlow"))return;const t=this._simulator.findScopes(t=>!t.destroyed&&t.children.some(t=>!t.destroyed&&t.element===e&&!t.children.length));this.addTokenCount(e,t)},r_.prototype.addTokenCount=function(e,t){if(!t.length)return;const n=t.map(t=>this._getTokenHTML(e,t)).join(""),i=ye(`\n    <div class="bts-token-count-parent">\n      ${n}\n    </div>\n  `),r={bottom:10,left:-15},o=this._overlays.add(e,"bts-token-count",{position:r,html:i,show:{minZoom:.5}});this.overlayIds[e.id]=o},r_.prototype.removeTokenCounts=function(e){this.removeTokenCount(e)},r_.prototype.removeTokenCount=function(e){const t=this.overlayIds[e.id];t&&(this._overlays.remove(t),delete this.overlayIds[e.id])},r_.prototype._getTokenHTML=function(e,t){const n=t.colors||this._getDefaultColors();return`\n    <div data-scope-id="${t.id}" class="bts-token-count waiting ${this._scopeFilter.isShown(t)?"":"inactive"}"\n         style="color: ${n.auxiliary}; background: ${n.primary}">\n      ${t.getTokensByElement(e)}\n    </div>\n  `},r_.prototype._getDefaultColors=function(){return{primary:this._simulationStyles.get("--token-simulation-green-base-44"),auxiliary:this._simuationStyles.get("--token-simulation-white")}},r_.$inject=["eventBus","overlays","simulator","scopeFilter","simulationStyles"];var o_={__depends__:[sw,qw],__init__:["tokenCount"],tokenCount:["type",r_]};const a_=[["Slow",.5],["Normal",1],["Fast",2]];function s_(e,t,n){this._canvas=e,this._animation=t,this._eventBus=n,this._init(t.getAnimationSpeed()),n.on(by,e=>{e.active?te(this._container).remove("hidden"):te(this._container).add("hidden")}),n.on("tokenSimulation.animationSpeedChanged",e=>{this.setActive(e.speed)})}s_.prototype.getToggleSpeed=function(e){return parseFloat(e.dataset.speed)},s_.prototype._init=function(e){this._container=ye(`\n    <div class="bts-set-animation-speed hidden">\n      ${Oy()}\n      <div class="bts-animation-speed-buttons">\n        ${a_.map(([t,n],i)=>`\n            <button title="Set animation speed = ${t}" data-speed="${n}" class="bts-animation-speed-button ${n===e?"active":""}">\n              ${Array.from({length:i+1}).map(()=>Sy()).join("")}\n            </button>\n          `).join("")}\n      </div>\n    </div>\n  `),de.bind(this._container,"[data-speed]","click",e=>{const t=e.delegateTarget,n=this.getToggleSpeed(t);this._animation.setAnimationSpeed(n)}),this._canvas.getContainer().appendChild(this._container)},s_.prototype.setActive=function(e){we("[data-speed]",this._container).forEach(t=>{const n=this.getToggleSpeed(t)===e;te(t)[n?"add":"remove"]("active")})},s_.$inject=["canvas","animation","eventBus"];var c_={__init__:["setAnimationSpeed"],setAnimationSpeed:["type",s_]};function u_(e){return Vb(e,"bpmn:SequenceFlow")}function l_(e,t,n,i,r){this._elementRegistry=t,this._elementColors=n,this._simulator=i,this._simulationStyles=r,e.on(by,e=>{e.active?this.setSequenceFlowsDefault():this.resetSequenceFlows()})}l_.prototype.setSequenceFlowsDefault=function(){const e=this._elementRegistry.filter(e=>Vb(e,"bpmn:ExclusiveGateway"));for(const t of e)this.setSequenceFlow(t)},l_.prototype.resetSequenceFlows=function(){this._elementRegistry.filter(e=>Vb(e,"bpmn:ExclusiveGateway")).forEach(e=>{e.outgoing.filter(u_).length&&this.resetSequenceFlow(e)})},l_.prototype.resetSequenceFlow=function(e){this._simulator.setConfig(e,{activeOutgoing:void 0})},l_.prototype.setSequenceFlow=function(e){const t=e.outgoing.filter(u_);if(t.length<2)return;const{activeOutgoing:n}=this._simulator.getConfig(e);let i;i=n?function(e,t){var n=e.outgoing.filter(u_),i=n.indexOf(t||e.sequenceFlow);return n[i+1]?n[i+1]:n[0]}(e,n):t[0],this._simulator.setConfig(e,{activeOutgoing:i}),e.outgoing.forEach(e=>{const t=e===i?"--token-simulation-grey-darken-30":"--token-simulation-grey-lighten-56",n=this._simulationStyles.get(t);this._elementColors.add(e,"exclusive-gateway-settings",{stroke:n},2e3)})},l_.$inject=["eventBus","elementRegistry","elementColors","simulator","simulationStyles"];function p_(e,t,n){this._elementRegistry=e,this._eventBus=t,this._graphicsFactory=n,this._originalColors={},this._customColors={},t.on(by,5e4,e=>{e.active?this._saveOriginalColors():(this._applyOriginalColors(),this._originalColors={},this._customColors={})}),t.on("saveXML.start",5e4,()=>{this._applyOriginalColors(),t.once("saveXML.done",()=>this._applyCustomColors())})}function h_(e){return"labelTarget"in e}function f_(e={}){const t=Object.values(e).reduce((e,t)=>{const{priority:n=1e3}=t;return!e||n>e.priority?t:e},void 0);if(t){const{priority:e,...n}=t;return n}}p_.$inject=["elementRegistry","eventBus","graphicsFactory"],p_.prototype.add=function(e,t,n,i=1e3){let r=this._customColors[e.id];r||(r=this._customColors[e.id]={}),r[t]={...n,priority:i},this._applyHighestPriorityColor(e)},p_.prototype.remove=function(e,t){const n=this._customColors[e.id];n&&(delete n[t],Object.keys(n)||delete this._customColors[e.id]),this._applyHighestPriorityColor(e)},p_.prototype._get=function(e){const t=jr(e);if(t)return h_(e)?{stroke:t.label&&t.label.get("color")}:Er(t,["bpmndi:BPMNEdge","bpmndi:BPMNShape"])?{fill:t.get("background-color"),stroke:t.get("border-color")}:void 0},p_.prototype._set=function(e,t={}){const{fill:n,stroke:i}=t,r=jr(e);r&&(h_(e)?r.label&&r.label.set("color",i):Er(r,["bpmndi:BPMNEdge","bpmndi:BPMNShape"])&&(r.set("background-color",n),r.set("border-color",i)),this._forceRedraw(e))},p_.prototype._saveOriginalColors=function(){this._originalColors={},this._elementRegistry.forEach(e=>{this._originalColors[e.id]=this._get(e)})},p_.prototype._applyOriginalColors=function(){this._elementRegistry.forEach(e=>{const t=this._originalColors[e.id];t&&this._set(e,t)})},p_.prototype._applyCustomColors=function(){this._elementRegistry.forEach(e=>{const t=this._customColors[e.id];t&&this._set(e,f_(t))})},p_.prototype._applyHighestPriorityColor=function(e){const t=this._customColors[e.id];t?this._set(e,f_(t)):this._set(e,this._originalColors[e.id])},p_.prototype._forceRedraw=function(e){const t=this._elementRegistry.getGraphics(e),n=e.waypoints?"connection":"shape";this._graphicsFactory.update(n,e,t)};var d_={elementColors:["type",p_]},m_={__depends__:[d_,qw],exclusiveGatewaySettings:["type",l_]};function g_(e,t,n){this._elementRegistry=t,this._elementColors=n,e.on(by,e=>{const{active:t}=e;t&&this._setNeutralColors()})}g_.prototype._setNeutralColors=function(){this._elementRegistry.forEach(e=>{this._elementColors.add(e,"neutral-element-colors",{stroke:"#212121",fill:"#fff"})})},g_.$inject=["eventBus","elementRegistry","elementColors"];var v_={__depends__:[d_],__init__:["neutralElementColors"],neutralElementColors:["type",g_]};function y_(e,t,n,i,r){this._elementRegistry=t,this._elementColors=n,this._simulator=i,this._simulationStyles=r,e.on(by,e=>{e.active?this.setDefaults():this.reset()})}function b_(e){const t=Sr(e).default;if(t)return e.outgoing.find(e=>Sr(e)===t)}function w_(e,t){return e.filter(e=>e!==t)}y_.prototype.setDefaults=function(){this._elementRegistry.filter(e=>kr(e,"bpmn:InclusiveGateway")).forEach(e=>{e.outgoing.filter(hb).length>1&&this._setGatewayDefaults(e)})},y_.prototype.reset=function(){this._elementRegistry.filter(e=>kr(e,"bpmn:InclusiveGateway")).forEach(e=>{e.outgoing.filter(hb).length>1&&this._resetGateway(e)})},y_.prototype.toggleSequenceFlow=function(e,t){const n=this._getActiveOutgoing(e),i=b_(e),r=function(e){const t=b_(e);return e.outgoing.filter(e=>Sr(e)!==t)}(e);let o;o=n.includes(t)?w_(n,t):w_(n,i).concat(t),o.length||(o=i?[i]:[r.find(e=>e!==t)]),this._setActiveOutgoing(e,o)},y_.prototype._getActiveOutgoing=function(e){const{activeOutgoing:t}=this._simulator.getConfig(e);return t},y_.prototype._setActiveOutgoing=function(e,t){this._simulator.setConfig(e,{activeOutgoing:t});e.outgoing.filter(hb).forEach(e=>{const n=!t||t.includes(e)?"--token-simulation-grey-darken-30":"--token-simulation-grey-lighten-56",i=this._simulationStyles.get(n);this._elementColors.add(e,"inclusive-gateway-settings",{stroke:i})})},y_.prototype._setGatewayDefaults=function(e){const t=w_(e.outgoing.filter(hb),b_(e));this._setActiveOutgoing(e,t)},y_.prototype._resetGateway=function(e){this._setActiveOutgoing(e,void 0)},y_.$inject=["eventBus","elementRegistry","elementColors","simulator","simulationStyles"];var __={__depends__:[d_,qw],inclusiveGatewaySettings:["type",y_]};function x_(e,t){var n=this;this._canvas=t,this.entries=[],this._init(),e.on(by,(function(e){e.active?te(n.container).remove("hidden"):te(n.container).add("hidden")}))}x_.prototype._init=function(){this.container=ye('<div class="bts-palette hidden"></div>'),this._canvas.getContainer().appendChild(this.container)},x_.prototype.addEntry=function(e,t){var n=0;this.entries.forEach((function(e){t>=e.index&&n++})),this.container.insertBefore(e,this.container.childNodes[n]),this.entries.push({entry:e,index:t})},x_.$inject=["eventBus","canvas"];var k_={__depends__:[{__depends__:[ew,bw,kw,Cw,Fw,Hw,Kw,Xw,t_,i_,o_,c_,m_,v_,__,{__init__:["tokenSimulationPalette"],tokenSimulationPalette:["type",x_]}]},Ly]},E_=n(1),S_=n.n(E_);var j_=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=e.exports=function(e,n){if(n||(n=16),void 0===e&&(e=128),e<=0)return"0";for(var i=Math.log(Math.pow(2,e))/Math.log(n),r=2;i===1/0;r*=2)i=Math.log(Math.pow(2,e/r))/Math.log(n)*r;var o=i-Math.floor(i),a="";for(r=0;r<Math.floor(i);r++){a=Math.floor(Math.random()*n).toString(n)+a}if(o){var s=Math.pow(n,o);a=Math.floor(Math.random()*s).toString(n)+a}var c=parseInt(a,n);return c!==1/0&&c>=Math.pow(2,e)?t(e,n):a};t.rack=function(e,n,i){var r=function(r){var a=0;do{if(a++>10){if(!i)throw new Error("too many ID collisions, use more bits");e+=i}var s=t(e,n)}while(Object.hasOwnProperty.call(o,s));return o[s]=r,s},o=r.hats={};return r.get=function(e){return r.hats[e]},r.set=function(e,t){return r.hats[e]=t,r},r.bits=e||128,r.base=n||16,r}}));function M_(e){if(!(this instanceof M_))return new M_(e);e=e||[128,36,1],this._seed=e.length?j_.rack(e[0],e[1],e[2]):e}M_.prototype.next=function(e){return this._seed(e||!0)},M_.prototype.nextPrefixed=function(e,t){var n;do{n=e+this.next(!0)}while(this.assigned(n));return this.claim(n,t),n},M_.prototype.claim=function(e,t){this._seed.set(e,t||!0)},M_.prototype.assigned=function(e){return this._seed.get(e)||!1},M_.prototype.unclaim=function(e){delete this._seed.hats[e]},M_.prototype.clear=function(){var e,t=this._seed.hats;for(e in t)this.unclaim(e)};var A_=M_;function C_(e){return Array.prototype.concat.apply([],e)}var T_=Object.prototype.toString,P_=Object.prototype.hasOwnProperty;function R_(e){return void 0===e}function B_(e){return void 0!==e}function O_(e){return null==e}function I_(e){return"[object Array]"===T_.call(e)}function D_(e){return"[object Object]"===T_.call(e)}function F_(e){return"[object Number]"===T_.call(e)}function z_(e){var t=T_.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function N_(e){return"[object String]"===T_.call(e)}function L_(e,t){return P_.call(e,t)}function q_(e,t){var n;return t=ix(t),U_(e,(function(e,i){if(t(e,i))return n=e,!1})),n}function H_(e,t){var n=[];return U_(e,(function(e,i){t(e,i)&&n.push(e)})),n}function U_(e,t){var n;if(!R_(e)){var i=I_(e)?ox:rx;for(var r in e)if(L_(e,r)&&!1===t(n=e[r],i(r)))return n}}function $_(e,t){return R_(e)?[]:(function(e){if(!I_(e))throw new Error("must supply array")}(e),t=ix(t),e.filter((function(e,n){return!t(e,n)})))}function V_(e,t,n){return U_(e,(function(e,i){n=t(n,e,i)})),n}function W_(e,t){return!!V_(e,(function(e,n,i){return e&&t(n,i)}),!0)}function G_(e,t){return!!q_(e,t)}function K_(e,t){var n=[];return U_(e,(function(e,i){n.push(t(e,i))})),n}function Z_(e){return e&&Object.keys(e)||[]}function Y_(e){return K_(e,(function(e){return e}))}function X_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=nx(t),U_(e,(function(e){var i=t(e)||"_",r=n[i];r||(r=n[i]=[]),r.push(e)})),n}function J_(e){e=nx(e);for(var t={},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];U_(i,(function(n){return X_(n,e,t)}));var o=K_(t,(function(e,t){return e[0]}));return o}var Q_=J_;function ex(e,t){t=nx(t);var n=[];return U_(e,(function(e,i){for(var r=t(e,i),o={d:r,v:e},a=0;a<n.length;a++){if(r<n[a].d)return void n.splice(a,0,o)}n.push(o)})),K_(n,(function(e){return e.v}))}function tx(e){return function(t){return W_(e,(function(e,n){return t[n]===e}))}}function nx(e){return z_(e)?e:function(t){return t[e]}}function ix(e){return z_(e)?e:function(t){return t===e}}function rx(e){return e}function ox(e){return Number(e)}function ax(e,t){var n,i,r,o;function a(n){var a=Date.now(),u=n?0:o+t-a;if(u>0)return s(u);e.apply(r,i),c()}function s(e){n=setTimeout(a,e)}function c(){n&&clearTimeout(n),n=o=i=r=void 0}function u(){o=Date.now();for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];i=a,r=this,n||s(t)}return u.flush=function(){n&&a(!0),c()},u.cancel=c,u}function sx(e,t){return e.bind(t)}function cx(){return(cx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ux(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return cx.apply(void 0,[e].concat(n))}function lx(e,t){var n={},i=Object(e);return U_(t,(function(t){t in i&&(n[t]=e[t])})),n}function px(e,t){var n={};return U_(Object(e),(function(e,i){-1===t.indexOf(i)&&(n[i]=e)})),n}function hx(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}var fx=[].indexOf,dx=function(e,t){if(fx)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1},mx=/\s+/,gx=Object.prototype.toString;function vx(e){return new yx(e)}function yx(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function bx(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}yx.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~dx(t,e)||t.push(e),this.el.className=t.join(" "),this},yx.prototype.remove=function(e){if("[object RegExp]"==gx.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=dx(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},yx.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},yx.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},yx.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(mx);return""===e[0]&&e.shift(),e},yx.prototype.has=yx.prototype.contains=function(e){return this.list?this.list.contains(e):!!~dx(this.array(),e)};var wx="undefined"!=typeof Element?Element.prototype:{},_x=wx.matches||wx.matchesSelector||wx.webkitMatchesSelector||wx.mozMatchesSelector||wx.msMatchesSelector||wx.oMatchesSelector,xx=function(e,t){if(!e||1!==e.nodeType)return!1;if(_x)return _x.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1};function kx(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(xx(i,t))return i;i=i.parentNode}return xx(i,t)?i:null}var Ex=window.addEventListener?"addEventListener":"attachEvent",Sx=window.removeEventListener?"removeEventListener":"detachEvent",jx="addEventListener"!==Ex?"on":"",Mx={bind:function(e,t,n,i){return e[Ex](jx+t,n,i||!1),n},unbind:function(e,t,n,i){return e[Sx](jx+t,n,i||!1),n}},Ax=["focus","blur"];var Cx,Tx={bind:function(e,t,n,i,r){return-1!==Ax.indexOf(n)&&(r=!0),Mx.bind(e,n,(function(n){var r=n.target||n.srcElement;n.delegateTarget=kx(r,t,!0),n.delegateTarget&&i.call(e,n)}),r)},unbind:function(e,t,n,i){return-1!==Ax.indexOf(t)&&(i=!0),Mx.unbind(e,t,n,i)}},Px=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){return(r=t.createElement("html")).innerHTML=e,r.removeChild(r.lastChild)}var r,o=Bx[i]||Bx._default,a=o[0],s=o[1],c=o[2];(r=t.createElement("div")).innerHTML=s+e+c;for(;a--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);var u=t.createDocumentFragment();for(;r.firstChild;)u.appendChild(r.removeChild(r.firstChild));return u},Rx=!1;"undefined"!=typeof document&&((Cx=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Rx=!Cx.getElementsByTagName("link").length,Cx=void 0);var Bx={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Rx?[1,"X<div>","</div>"]:[0,"",""]};function Ox(e,t){return(t=t||document).querySelector(e)}function Ix(e,t){return(t=t||document).querySelectorAll(e)}function Dx(e){e.parentNode&&e.parentNode.removeChild(e)}function Fx(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}function zx(e,t){return t.appendChild(Fx(e,t))}function Nx(e,t){return zx(t,e),e}Bx.td=Bx.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Bx.option=Bx.optgroup=[1,'<select multiple="multiple">',"</select>"],Bx.thead=Bx.tbody=Bx.colgroup=Bx.caption=Bx.tfoot=[1,"<table>","</table>"],Bx.polyline=Bx.ellipse=Bx.polygon=Bx.circle=Bx.text=Bx.line=Bx.path=Bx.rect=Bx.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Lx={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function qx(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=Lx[i];r?(2===r&&"number"==typeof n&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function Hx(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return Lx[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);qx(e,t,n)}else!function(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)qx(e,i,t[i])}(e,t);return e}function Ux(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var $x=/\s+/,Vx=Object.prototype.toString;function Wx(e){return void 0!==e}function Gx(e){return new Kx(e)}function Kx(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function Zx(e){var t=e.parentNode;return t&&t.removeChild(e),e}function Yx(e){for(var t;t=e.firstChild;)Zx(t);return e}function Xx(e){return e.cloneNode(!0)}Kx.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Ux(t,e)||t.push(e),Wx(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},Kx.prototype.remove=function(e){if("[object RegExp]"===Vx.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Ux(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},Kx.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},Kx.prototype.toggle=function(e,t){return this.list?(Wx(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(Wx(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},Kx.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split($x);return""===e[0]&&e.shift(),e},Kx.prototype.has=Kx.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Ux(this.array(),e)};var Jx="http://www.w3.org/2000/svg",Qx='<svg xmlns="'+Jx+'"';function ek(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(Jx)&&(e=Qx+e.substring(4)):(e=Qx+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function tk(e,t){var n;return"<"===e.charAt(0)?(n=ek(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Jx,e),t&&Hx(n,t),n}var nk=tk("svg");function ik(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function rk(e){return e?nk.createSVGTransformFromMatrix(e):nk.createSVGTransform()}var ok=/([&<>]{1})/g,ak=/([\n\r"]{1})/g,sk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function ck(e,t){return e.replace(t,(function(e,t){return sk[t]||t}))}function uk(e,t){var n,i,r,o,a;switch(e.nodeType){case 3:t.push(ck(e.textContent,ok));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,i=(r=e.attributes).length;n<i;++n)o=r.item(n),t.push(" ",o.name,'="',ck(o.value,ak),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,i=(a=e.childNodes).length;n<i;++n)uk(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",ck(e.nodeValue,ok),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function lk(e,t){var n=ek(t);if(Yx(e),t){"#document-fragment"!==n.nodeName&&(n=n.documentElement);for(var i,r=(i=n.childNodes,Array.prototype.slice.call(i)),o=0;o<r.length;o++)zx(r[o],e)}}function pk(e,t){if(void 0!==t){try{lk(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}return function(e){for(var t=e.firstChild,n=[];t;)uk(t,n),t=t.nextSibling;return n.join("")}(e)}function hk(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function fk(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(hk(e,i))}(n,t)),n.consolidate()}var dk=/^class /;function mk(e){return"[object Array]"===Object.prototype.toString.call(e)}function gk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vk(){var e=Array.prototype.slice.call(arguments);1===e.length&&mk(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var yk=/constructor\s*[^(]*\(\s*([^)]*)\)/m,bk=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,wk=/\/\*([^*]*)\*\//m;function _k(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return dk.test(e.toString())}(e)?yk:bk);return t&&t[1]&&t[1].split(",").map((function(e){return(t=e.match(wk))?t[1].trim():e.trim()}))||[]}function xk(){var e=[];this.factory=function(t,n){return e.push([t,"factory",n]),this},this.value=function(t,n){return e.push([t,"value",n]),this},this.type=function(t,n){return e.push([t,"type",n]),this},this.forEach=function(t){e.forEach(t)}}function kk(e,t){t=t||{get:function(e,t){if(n.push(e),!1===t)return null;throw a('No provider for "'+e+'"!')}};var n=[],i=this._providers=Object.create(t._providers||null),r=this._instances=Object.create(null),o=r.injector=this,a=function(e){var t=n.join(" -> ");return n.length=0,new Error(t?e+" (Resolving: "+t+")":e)},s=function(e,o){if(!i[e]&&-1!==e.indexOf(".")){for(var c=e.split("."),u=s(c.shift());c.length;)u=u[c.shift()];return u}if(gk(r,e))return r[e];if(gk(i,e)){if(-1!==n.indexOf(e))throw n.push(e),a("Cannot resolve circular dependency!");return n.push(e),r[e]=i[e][0](i[e][1]),n.pop(),r[e]}return t.get(e,o)},c=function(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!mk(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=vk(e.slice())}return{fn:e,dependencies:(e.$inject||_k(e)).map((function(e){return gk(t,e)?t[e]:s(e)}))}},u=function(e){var t=c(e),n=t.fn,i=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(i)))},l=function(e,t,n){var i=c(e,n),r=i.fn,o=i.dependencies;return r.apply(t,o)},p=function(e){return vk((function(t){return e.get(t)}))},h={factory:l,type:u,value:function(e){return e}};e.forEach((function(e){function t(e,t){return"value"!==e&&mk(t)&&(t=vk(t.slice())),t}if(e instanceof xk)e.forEach((function(e){var n=e[0],r=e[1],o=e[2];i[n]=[h[r],t(r,o),r]}));else if("object"==typeof e)if(e.__exports__){var n=Object.keys(e).reduce((function(t,n){return"__"!==n.substring(0,2)&&(t[n]=e[n]),t}),Object.create(null)),r=new kk((e.__modules__||[]).concat([n]),o),a=vk((function(e){return r.get(e)}));e.__exports__.forEach((function(e){i[e]=[a,e,"private",r]}))}else Object.keys(e).forEach((function(n){if("private"!==e[n][2]){var r=e[n][0],o=e[n][1];i[n]=[h[r],t(r,o),r]}else i[n]=e[n]}))})),this.get=s,this.invoke=l,this.instantiate=u,this.createChild=function(e,t){if(t&&t.length){var n,r,a,s,c=Object.create(null),u=Object.create(null),l=[],h=[],f=[];for(var d in i)n=i[d],-1!==t.indexOf(d)&&("private"===n[2]?-1===(r=l.indexOf(n[3]))?(a=n[3].createChild([],t),s=p(a),l.push(n[3]),h.push(a),f.push(s),c[d]=[s,d,"private",a]):c[d]=[f[r],d,"private",h[r]]:c[d]=[n[2],n[1]],u[d]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach((function(e){-1!==n[1].$scope.indexOf(e)&&(c[d]=[n[2],n[1]],u[e]=!0)}));t.forEach((function(e){if(!u[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')})),e.unshift(c)}return new kk(e,o)}}function Ek(e,t){var n=this;t=t||1e3,e.on(["render.shape","render.connection"],t,(function(e,t){var i=e.type,r=t.element,o=t.gfx,a=t.attrs;if(n.canRender(r))return"render.shape"===i?n.drawShape(o,r,a):n.drawConnection(o,r,a)})),e.on(["render.getShapePath","render.getConnectionPath"],t,(function(e,t){if(n.canRender(t))return"render.getShapePath"===e.type?n.getShapePath(t):n.getConnectionPath(t)}))}function Sk(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function jk(e){for(var t,n="",i=0;t=e[i];i++)n+=t.x+","+t.y+" ";return n}function Mk(e,t){var n=tk("polyline");return Hx(n,{points:jk(e)}),t&&Hx(n,t),n}function Ak(e){return H_(e,(function(t){return!q_(e,(function(e){return e!==t&&function e(t,n){if(!n)return;if(t===n)return n;if(!t.parent)return;return e(t.parent,n)}(t,e)}))}))}function Ck(e,t,n){var i=!n||-1===e.indexOf(t);return i&&e.push(t),i}function Tk(e,t,n){n=n||0,I_(e)||(e=[e]),U_(e,(function(e,i){var r=t(e,i,n);I_(r)&&r.length&&Tk(r,t,n+1)}))}function Pk(e,t,n){var i=[],r=[];return Tk(e,(function(e,o,a){Ck(i,e,t);var s=e.children;if((-1===n||a<n)&&s&&Ck(r,s,t))return s})),i}function Rk(e,t){return Pk(e,!t,-1)}function Bk(e,t){var n,i,r,o;return t=!!t,I_(e)||(e=[e]),U_(e,(function(e){var a=e;e.waypoints&&!t&&(a=Bk(e.waypoints,!0));var s=a.x,c=a.y,u=a.height||0,l=a.width||0;(s<n||void 0===n)&&(n=s),(c<i||void 0===i)&&(i=c),(s+l>r||void 0===r)&&(r=s+l),(c+u>o||void 0===o)&&(o=c+u)})),{x:n,y:i,height:o-i,width:r-n}}function Ok(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function Ik(e){return!(!e||!e.isFrame)}function Dk(e,t){return ux({},e||{},t||{})}Ek.prototype.canRender=function(){},Ek.prototype.drawShape=function(){},Ek.prototype.drawConnection=function(){},Ek.prototype.getShapePath=function(){},Ek.prototype.getConnectionPath=function(){};function Fk(e,t){Ek.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}S_()(Fk,Ek),Fk.prototype.canRender=function(){return!0},Fk.prototype.drawShape=function(e,t,n){var i=tk("rect");return Hx(i,{x:0,y:0,width:t.width||0,height:t.height||0}),Ik(t)?Hx(i,ux({},this.FRAME_STYLE,n||{})):Hx(i,ux({},this.SHAPE_STYLE,n||{})),Nx(e,i),i},Fk.prototype.drawConnection=function(e,t,n){var i=Mk(t.waypoints,ux({},this.CONNECTION_STYLE,n||{}));return Nx(e,i),i},Fk.prototype.getShapePath=function(e){var t=e.x,n=e.y,i=e.width;return Sk([["M",t,n],["l",i,0],["l",0,e.height],["l",-i,0],["z"]])},Fk.prototype.getConnectionPath=function(e){var t,n,i=e.waypoints,r=[];for(t=0;n=i[t];t++)n=n.original||n,r.push([0===t?"M":"L",n.x,n.y]);return Sk(r)},Fk.$inject=["eventBus","styles"];var zk={__init__:["defaultRenderer"],defaultRenderer:["type",Fk],styles:["type",function(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(e,t,n){return ux(this.style(t,n),{class:e})},this.style=function(t,n){I_(t)||n||(n=t,t=[]);var i=V_(t,(function(t,n){return ux(t,e[n]||{})}),{});return n?ux(i,n):i},this.computeStyle=function(e,n,i){return I_(n)||(i=n,n=[]),t.style(n||[],ux({},i,e||{}))}}]};function Nk(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return-1!==n&&e.splice(n,1),n}function Lk(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var i=e.indexOf(t);if(-1!==i){if(i===n)return;if(-1===n)return;e.splice(i,1)}-1!==n?e.splice(n,0,t):e.push(t)}}function qk(e,t){return e&&t?e.indexOf(t):-1}function Hk(e,t){return e&&t?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):-1}function Uk(e,t,n,i){if(void 0===i&&(i=5),!e||!t||!n)return!1;var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),o=Hk(e,t);return Math.abs(r/o)<=i}function $k(e,t){var n;return function(e,t){var n;n=I_(e)?e:[e,t];var i=n.slice().shift();return W_(n,(function(e){return Math.abs(i.y-e.y)<=2}))}(n=I_(e)?e:[e,t])?"h":!!function(e,t){var n;n=I_(e)?e:[e,t];var i=n.slice().shift();return W_(n,(function(e){return Math.abs(i.x-e.x)<=2}))}(n)&&"v"}function Vk(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function Wk(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var Gk=n(166),Kk=n.n(Gk);function Zk(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function Yk(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function Xk(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function Jk(e){return Zk({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function Qk(e,t,n){D_(n=n||0)||(n={x:n,y:n});var i=Yk(e),r=Yk(t),o=i.bottom+n.y<=r.top,a=i.left-n.x>=r.right,s=i.top-n.y>=r.bottom,c=o?"top":s?"bottom":null,u=i.right+n.x<=r.left?"left":a?"right":null;return u&&c?c+"-"+u:u||c||"intersect"}function eE(e,t,n){var i,r,o=(i=e,r=t,Kk()(i,r));return 1===o.length||2===o.length&&Hk(o[0],o[1])<1?Zk(o[0]):o.length>1?Zk((o=ex(o,(function(e){var t=Math.floor(100*e.t2)||1;return t=((t=100-t)<10?"0":"")+t,e.segment2+"#"+t})))[n?0:o.length-1]):null}function tE(e,t){return Math.round(e*t)/t}function nE(e){return F_(e)?e+"px":e}function iE(e,t,n){var i=tk("g");Gx(i).add(t);var r=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}var rE={shape:["x","y","width","height"],connection:["waypoints"]};function oE(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._init(e||{})}function aE(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}oE.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],oE.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=ux({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),ux(n.style,{position:"relative",overflow:"hidden",width:nE(e.width),height:nE(e.height)}),t.appendChild(n),n}(e),i=this._svg=tk("svg");Hx(i,{width:"100%",height:"100%"}),Nx(n,i);var r=this._viewport=iE(i,"viewport");this._layers={},this._planes={},!1!==e.deferUpdate&&(this._viewboxChanged=ax(sx(this._viewboxChanged,this),300)),t.on("diagram.init",(function(){t.fire("canvas.init",{svg:i,viewport:r})}),this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","plane.set"],(function(){delete this._cachedViewbox}),this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},oE.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._activePlane,delete this._viewport},oE.prototype._clear=function(){var e=this;this._elementRegistry.getAll().forEach((function(t){var n=Ok(t);"root"===n?e.setRootElementForPlane(null,e.findPlane(t),!0):e._removeElement(t,n)})),this._activePlane=null,this._planes={},delete this._cachedViewbox},oE.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},oE.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},oE.prototype._createLayer=function(e,t){void 0===t&&(t=1);var n=V_(this._layers,(function(e,n){return t>=n.index&&e++,e}),0);return{group:iE(this._viewport,"layer-"+e,n),index:t}},oE.prototype.getPlane=function(e){if(!e)throw new Error("must specify a name");return this._planes[e]},oE.prototype.createPlane=function(e,t){if(!e)throw new Error("must specify a name");if(this._planes[e])throw new Error("plane "+e+" already exists");t||(t={id:"__implicitroot"+e,children:[],isImplicit:!0});var n=this.getLayer(e,0);Gx(n).add("djs-element-hidden");var i=this._planes[e]={layer:n,name:e,rootElement:null};return this.setRootElementForPlane(t,i),i},oE.prototype.setActivePlane=function(e){if(!e)throw new Error("must specify a plane");return"string"==typeof e&&(e=this.getPlane(e)),this._activePlane&&Gx(this._activePlane.layer).add("djs-element-hidden"),this._activePlane=e,Gx(e.layer).remove("djs-element-hidden"),e.rootElement&&this._elementRegistry.updateGraphics(e.rootElement,this._svg,!0),this._eventBus.fire("plane.set",{plane:e}),e},oE.prototype.getActiveLayer=function(){return this.getActivePlane().layer},oE.prototype.getActivePlane=function(){var e=this._activePlane;return e||(e=this.createPlane("base"),this.setActivePlane("base")),e},oE.prototype.findPlane=function(e){"string"==typeof e&&(e=this._elementRegistry.get(e));var t=function(e){for(;e.parent;)e=e.parent;return e}(e);return q_(this._planes,(function(e){return e.rootElement===t}))},oE.prototype.getContainer=function(){return this._container},oE.prototype._updateMarker=function(e,t,n){var i;e.id||(e=this._elementRegistry.get(e)),(i=this._elementRegistry._elements[e.id])&&(U_([i.gfx,i.secondaryGfx],(function(e){e&&(n?Gx(e).add(t):Gx(e).remove(t))})),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))},oE.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},oE.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},oE.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),Gx(this.getGraphics(e)).has(t)},oE.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},oE.prototype.getRootElement=function(){return this.getActivePlane().rootElement},oE.prototype.setRootElement=function(e,t){var n=this._activePlane;if(n)return this.setRootElementForPlane(e,n,t);var i=this.createPlane("base",e);return this.setActivePlane(i),i.rootElement},oE.prototype.setRootElementForPlane=function(e,t,n){"string"==typeof t&&(t=this.getPlane(t)),e&&this._ensureValid("root",e);var i=t.rootElement,r=this._elementRegistry,o=this._eventBus;if(i){if(!n)throw new Error("rootElement already set, need to specify override");o.fire("root.remove",{element:i}),o.fire("root.removed",{element:i}),r.remove(i)}if(e){var a=t.layer;o.fire("root.add",{element:e}),r.add(e,a),o.fire("root.added",{element:e,gfx:a}),t===this._activePlane&&this._elementRegistry.updateGraphics(e,this._svg,!0)}return t.rootElement=e,e},oE.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=rE[e];if(!W_(n,(function(e){return void 0!==t[e]})))throw new Error("must supply { "+n.join(", ")+" } with "+e)},oE.prototype._setParent=function(e,t,n){Lk(t.children,e,n),e.parent=t},oE.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();var r=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);var a=o.create(e,t,i);return this._elementRegistry.add(t,a),o.update(e,t,a),r.fire(e+".added",{element:t,gfx:a}),t},oE.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},oE.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},oE.prototype._removeElement=function(e,t){var n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e))return r.fire(t+".remove",{element:e}),i.remove(e),Nk(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e},oE.prototype.removeShape=function(e){return this._removeElement(e,"shape")},oE.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},oE.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},oE.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},oE.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},oE.prototype.viewbox=function(e){if(void 0===e&&this._cachedViewbox)return this._cachedViewbox;var t,n,i,r,o,a,s=this._viewport,c=this.getSize();return e?(this._changeViewbox((function(){r=Math.min(c.width/e.width,c.height/e.height);var t=this._svg.createSVGMatrix().scale(r).translate(-e.x,-e.y);fk(s,t)})),e):(t=this._activePlane&&this._activePlane.layer.getBBox()||{},n=(i=fk(s))?i.matrix:function(e,t,n,i,r,o){var a=nk.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return ik(a,e);case 6:return ik(a,{a:e,b:t,c:n,d:i,e:r,f:o})}}(),r=tE(n.a,1e3),o=tE(-n.e||0,1e3),a=tE(-n.f||0,1e3),e=this._cachedViewbox={x:o?o/r:0,y:a?a/r:0,width:c.width/r,height:c.height/r,scale:r,inner:{width:t.width||0,height:t.height||0,x:t.x||0,y:t.y||0},outer:c})},oE.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox((function(){e=ux({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),aE(t,n)})),{x:n.e,y:n.f}},oE.prototype.scrollToElement=function(e,t){var n=100;"string"==typeof e&&(e=this._elementRegistry.get(e));var i=this.findPlane(e);i!==this._activePlane&&this.setActivePlane(i),t||(t={}),"number"==typeof t&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};var r,o,a=Bk(e),s=Yk(a),c=this.viewbox(),u=this.zoom();c.y+=t.top/u,c.x+=t.left/u,c.width-=(t.right+t.left)/u,c.height-=(t.bottom+t.top)/u;var l=Yk(c);if(a.width<c.width&&a.height<c.height){var p=Math.max(0,s.right-l.right),h=Math.min(0,s.left-l.left),f=Math.max(0,s.bottom-l.bottom),d=Math.min(0,s.top-l.top);r=p||h,o=f||d}else r=a.x-c.x,o=a.y-c.y;this.scroll({dx:-r*u,dy:-o*u})},oE.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox((function(){"object"!=typeof t&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)})),tE(i.a,1e3)):this.viewbox(e).scale;var n,i},oE.prototype._fitViewport=function(e){var t,n,i=this.viewbox(),r=i.outer,o=i.inner;return o.x>=0&&o.y>=0&&o.x+o.width<=r.width&&o.y+o.height<=r.height&&!e?n={x:0,y:0,width:Math.max(o.width+o.x,r.width),height:Math.max(o.height+o.y,r.height)}:(t=Math.min(1,r.width/o.width,r.height/o.height),n={x:o.x+(e?o.width/2-r.width/t/2:0),y:o.y+(e?o.height/2-r.height/t/2:0),width:r.width/t,height:r.height/t}),this.viewbox(n),this.viewbox(!1).scale},oE.prototype._setZoom=function(e,t){var n,i,r,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),u=a.createSVGPoint(),l=(i=s.getCTM()).a;return t?(n=ux(u,t).matrixTransform(i.inverse()),r=c.translate(n.x,n.y).scale(1/l*e).translate(-n.x,-n.y),o=i.multiply(r)):o=c.scale(e),aE(this._viewport,o),o},oE.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},oE.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},oE.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};function sE(e){this._elements={},this._eventBus=e}sE.$inject=["eventBus"],sE.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),Hx(t,"data-element-id",i),n&&Hx(n,"data-element-id",i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}},sE.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(Hx(i.gfx,"data-element-id",""),i.secondaryGfx&&Hx(i.secondaryGfx,"data-element-id",""),delete t[n])},sE.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)},sE.prototype.updateGraphics=function(e,t,n){var i=e.id||e,r=this._elements[i];return n?r.secondaryGfx=t:r.gfx=t,Hx(t,"data-element-id",i),t},sE.prototype.get=function(e){var t;t="string"==typeof e?e:e&&Hx(e,"data-element-id");var n=this._elements[t];return n&&n.element},sE.prototype.filter=function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(n)})),t},sE.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=t[n[i]],o=r.element;if(e(o,r.gfx))return o}},sE.prototype.getAll=function(){return this.filter((function(e){return e}))},sE.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach((function(n){var i=t[n],r=i.element,o=i.gfx;return e(r,o)}))},sE.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)},sE.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var cE=n(64),uE=n.n(cE),lE=new uE.a({name:"children",enumerable:!0,collection:!0},{name:"parent"}),pE=new uE.a({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),hE=new uE.a({name:"attachers",collection:!0},{name:"host"}),fE=new uE.a({name:"outgoing",collection:!0},{name:"source"}),dE=new uE.a({name:"incoming",collection:!0},{name:"target"});function mE(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),lE.bind(this,"parent"),pE.bind(this,"labels"),fE.bind(this,"outgoing"),dE.bind(this,"incoming")}function gE(){mE.call(this),lE.bind(this,"children"),hE.bind(this,"host"),hE.bind(this,"attachers")}function vE(){gE.call(this)}function yE(){gE.call(this),pE.bind(this,"labelTarget")}function bE(){mE.call(this),fE.bind(this,"source"),dE.bind(this,"target")}S_()(gE,mE),S_()(vE,gE),S_()(yE,gE),S_()(bE,mE);var wE={connection:bE,shape:gE,label:yE,root:vE};function _E(){this._uid=12}_E.prototype.createRoot=function(e){return this.create("root",e)},_E.prototype.createLabel=function(e){return this.create("label",e)},_E.prototype.createShape=function(e){return this.create("shape",e)},_E.prototype.createConnection=function(e){return this.create("connection",e)},_E.prototype.create=function(e,t){return(t=ux({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=wE[e];if(!n)throw new Error("unknown type: <"+e+">");return ux(new n,t)}(e,t)};var xE=Array.prototype.slice;function kE(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function EE(){}function SE(e){return e.childNodes[0]}function jE(e,t,n){var i=rk();i.setTranslate(t,n),fk(e,i)}function ME(e,t){this._eventBus=e,this._elementRegistry=t}function AE(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}kE.prototype.on=function(e,t,n,i){if(e=I_(e)?e:[e],z_(t)&&(i=n,n=t,t=1e3),!F_(t))throw new Error("priority must be a number");var r=n;i&&((r=sx(n,i)).__fn=n.__fn||n);var o=this;e.forEach((function(e){o._addListener(e,{priority:t,callback:r,next:null})}))},kE.prototype.once=function(e,t,n,i){var r=this;if(z_(t)&&(i=n,n=t,t=1e3),!F_(t))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var t=n.apply(i,arguments);return r.off(e,o),t}o.__fn=n,this.on(e,t,o)},kE.prototype.off=function(e,t){e=I_(e)?e:[e];var n=this;e.forEach((function(e){n._removeListener(e,t)}))},kE.prototype.createEvent=function(e){var t=new EE;return t.init(e),t},kE.prototype.fire=function(e,t){var n,i,r,o;if(o=xE.call(arguments),"object"==typeof e&&(e=(t=e).type),!e)throw new Error("no event type specified");if(i=this._listeners[e]){n=t instanceof EE?t:this.createEvent(t),o[0]=n;var a=n.type;e!==a&&(n.type=e);try{r=this._invokeListeners(n,o,i)}finally{e!==a&&(n.type=a)}return void 0===r&&n.defaultPrevented&&(r=!1),r}},kE.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},kE.prototype._destroy=function(){this._listeners={}},kE.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i},kE.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{void 0!==(i=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=i,e.stopPropagation()),!1===i&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener",e),e}return i},kE.prototype._addListener=function(e,t){var n,i=this._getListeners(e);if(i){for(;i;){if(i.priority<t.priority)return t.next=i,void(n?n.next=t:this._setListeners(e,t));n=i,i=i.next}n.next=t}else this._setListeners(e,t)},kE.prototype._getListeners=function(e){return this._listeners[e]},kE.prototype._setListeners=function(e,t){this._listeners[e]=t},kE.prototype._removeListener=function(e,t){var n,i,r,o=this._getListeners(e);if(t)for(;o;)n=o.next,(r=o.callback)!==t&&r.__fn!==t||(i?i.next=n:this._setListeners(e,n)),i=o,o=n;else this._setListeners(e,null)},EE.prototype.stopPropagation=function(){this.cancelBubble=!0},EE.prototype.preventDefault=function(){this.defaultPrevented=!0},EE.prototype.init=function(e){ux(this,e||{})},ME.$inject=["eventBus","elementRegistry"],ME.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(Gx(t=tk("g")).add("djs-children"),Nx(n.parentNode,t)):t=n,t},ME.prototype._clear=function(e){var t=SE(e);return bx(t),t},ME.prototype._createContainer=function(e,t,n,i){var r=tk("g");Gx(r).add("djs-group"),void 0!==n?AE(r,t,t.childNodes[n]):Nx(t,r);var o=tk("g");Gx(o).add("djs-element"),Gx(o).add("djs-"+e),i&&Gx(o).add("djs-frame"),Nx(r,o);var a=tk("g");return Gx(a).add("djs-visual"),Nx(o,a),o},ME.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,Ik(t))},ME.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry;U_(V_(e,(function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e}),{}),(function(e){var i=e.children;if(i){var r=t._getChildrenContainer(e);U_(i.slice().reverse(),(function(e){AE(n.getGraphics(e).parentNode,r)}))}}))},ME.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},ME.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},ME.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},ME.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},ME.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if("shape"===e)this.drawShape(i,t),jE(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(i,t)}t.hidden?Hx(n,"display","none"):Hx(n,"display","block")}},ME.prototype.remove=function(e){Zx(this._elementRegistry.getGraphics(e).parentNode)};var CE={__depends__:[zk],__init__:["canvas"],canvas:["type",oE],elementRegistry:["type",sE],elementFactory:["type",_E],eventBus:["type",kE],graphicsFactory:["type",ME]};function TE(e){var t=[],n=[];function i(e){return t.indexOf(e)>=0}e.forEach((function e(r){i(r)||((r.__depends__||[]).forEach(e),i(r)||(!function(e){t.push(e)}(r),(r.__init__||[]).forEach((function(e){n.push(e)}))))}));var r=new kk(t);return n.forEach((function(e){try{r["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}})),r}function PE(e,t){this.injector=t=t||function(e){return TE([{config:["value",e=e||{}]},CE].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function RE(){}function BE(e,t){this.model=e,this.properties=t}PE.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},PE.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")},RE.prototype.get=function(e){return this.$model.properties.get(this,e)},RE.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},BE.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(RE.prototype);U_(e.properties,(function(e){e.isMany||void 0===e.default||(i[e.name]=e.default)})),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function o(e){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),U_(e,sx((function(e,t){this.set(t,e)}),this))}return o.prototype=i,o.hasType=i.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var OE={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},IE={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function DE(e,t){var n=IE[e];return n?n(t):t}function FE(e){return!!OE[e]}function zE(e){return!!IE[e]}function NE(e,t){var n,i,r=e.split(/:/);if(1===r.length)n=e,i=t;else{if(2!==r.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=r[1],i=r[0]}return{name:e=(i?i+":":"")+n,prefix:i,localName:n}}function LE(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function qE(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,U_(e,sx(this.registerPackage,this))}function HE(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function UE(e){this.model=e}function $E(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function VE(e){this.properties=new UE(this),this.factory=new BE(this,this.properties),this.registry=new qE(e,this.properties),this.typeCache={}}LE.prototype.build=function(){return lx(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},LE.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},LE.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=r.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");r.splice(s,1),this.addProperty(t,n?void 0:s,a),o[i.name]=o[i.localName]=t},LE.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),o=NE(r[0],i),a=NE(r[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},LE.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e},LE.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},LE.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},LE.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},LE.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},LE.prototype.hasProperty=function(e){return this.propertiesByName[e]},LE.prototype.addTrait=function(e,t){var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(U_(e.properties,sx((function(n){n=ux({},n,{name:n.ns.localName,inherited:t}),Object.defineProperty(n,"definedBy",{value:e});var i=n.replaces,r=n.redefines;i||r?this.redefineProperty(n,i||r,i):(n.isBody&&this.setBodyProperty(n),n.isId&&this.setIdProperty(n),this.addProperty(n))}),this)),i.push(e),n[r]=e)},qE.prototype.getPackage=function(e){return this.packageMap[e]},qE.prototype.getPackages=function(){return this.packages},qE.prototype.registerPackage=function(e){e=ux({},e);var t=this.packageMap;HE(t,e,"prefix"),HE(t,e,"uri"),U_(e.types,sx((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},qE.prototype.registerType=function(e,t){var n=NE((e=ux({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:ux(e.meta||{})})).name,t.prefix),i=n.name,r={};U_(e.properties,sx((function(e){var t=NE(e.name,n.prefix),i=t.name;FE(e.type)||(e.type=NE(e.type,t.prefix).name),ux(e,{ns:t,name:i}),r[i]=e}),this)),ux(e,{ns:n,name:i,propertiesByName:r}),U_(e.extends,sx((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(i)}),this)),this.definePackage(e,t),this.typeMap[i]=e},qE.prototype.mapTypes=function(e,t,n){var i=FE(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function o(e){return a(e,!0)}function a(n,i){var o=NE(n,FE(n)?"":e.prefix);r.mapTypes(o,t,i)}if(!i)throw new Error("unknown type <"+e.name+">");U_(i.superClass,n?o:a),t(i,!n),U_(i.traits,o)},qE.prototype.getEffectiveDescriptor=function(e){var t=NE(e),n=new LE(t);this.mapTypes(t,(function(e,t){n.addTrait(e,t)}));var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},qE.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},UE.prototype.set=function(e,t,n){var i=this.model.getPropertyDescriptor(e,t),r=i&&i.name;void 0===n?i?delete e[r]:delete e.$attrs[t]:i?r in e?e[r]=n:$E(e,i,n):e.$attrs[t]=n},UE.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var i=n.name;return!e[i]&&n.isMany&&$E(e,n,[]),e[i]},UE.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;delete(n=ux({},n,{get:function(){return i}})).value}Object.defineProperty(e,t,n)},UE.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},UE.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},VE.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},VE.prototype.getType=function(e){var t=this.typeCache,n=N_(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i},VE.prototype.createAny=function(e,t,n){var i=NE(e),r={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,o),this.properties.defineModel(r,this),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),this.properties.define(r,"$instanceOf",{enumerable:!1,writable:!0}),U_(n,(function(e,t){D_(e)&&void 0!==e.value?r[e.name]=e.value:r[t]=e})),r},VE.prototype.getPackage=function(e){return this.registry.getPackage(e)},VE.prototype.getPackages=function(){return this.registry.getPackages()},VE.prototype.getElementDescriptor=function(e){return e.$descriptor},VE.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},VE.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},VE.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var WE=String.fromCharCode,GE=Object.prototype.hasOwnProperty,KE=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,ZE={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function YE(e,t,n,i){return i?GE.call(ZE,i)?ZE[i]:"&"+i+";":WE(t||parseInt(n,16))}function XE(e){return e.length>3&&-1!==e.indexOf("&")?e.replace(KE,YE):e}Object.keys(ZE).forEach((function(e){ZE[e.toUpperCase()]=ZE[e]}));function JE(e){return new Error(e)}function QE(e){return"missing namespace for prefix <"+e+">"}function eS(e){return{get:e,enumerable:!0}}function tS(e){var t,n={};for(t in e)n[t]=e[t];return n}function nS(e){return e+"$uri"}function iS(){return{line:0,column:0}}function rS(e){throw e}function oS(e){if(!this)return new oS(e);var t,n,i,r,o,a,s,c,u,l=e&&e.proxy,p=rS,h=iS,f=!1,d=!1,m=null,g=!1;function v(e){e instanceof Error||(e=JE(e)),m=e,p(e,h)}function y(e){o&&(e instanceof Error||(e=JE(e)),o(e,h))}this.on=function(e,u){if("function"!=typeof u)throw JE("required args <name, cb>");switch(e){case"openTag":n=u;break;case"text":t=u;break;case"closeTag":i=u;break;case"error":p=u;break;case"warn":o=u;break;case"cdata":r=u;break;case"attention":c=u;break;case"question":s=u;break;case"comment":a=u;break;default:throw JE("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!=typeof e)throw JE("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n["http://www.w3.org/2001/XMLSchema-instance"]="xsi",d=!0,u=n,this},this.parse=function(e){if("string"!=typeof e)throw JE("required args <xml=string>");return m=null,function(e){var o,p,m,b,w,_,x,k,E,S,j,M=d?[]:null,A=d?function(e){var t,n,i={};for(t in e)i[n=e[t]]=n,i[nS(n)]=t;return i}(u):null,C=[],T=0,P=!1,R=!1,B=0,O=0,I="",D=0;function F(){if(null!==j)return j;var e,t,n,i,r,o,a,s,c,l,p,h=d&&A.xmlns,m=d&&f?[]:null,g=D,v=I,b=v.length,w={},_={};e:for(;g<b;g++)if(c=!1,!(32===(l=v.charCodeAt(g))||l<14&&l>8)){for((l<65||l>122||l>90&&l<97)&&95!==l&&58!==l&&(y("illegal first char attribute name"),c=!0),p=g+1;p<b;p++)if(!((l=v.charCodeAt(p))>96&&l<123||l>64&&l<91||l>47&&l<59||46===l||45===l||95===l)){if(32===l||l<14&&l>8){y("missing attribute value"),g=p;continue e}if(61===l)break;y("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=v.substring(g,p))&&(y("illegal declaration of xmlns"),c=!0),34===(l=v.charCodeAt(p+1)))-1===(p=v.indexOf('"',g=p+2))&&-1!==(p=v.indexOf("'",g))&&(y("attribute value quote missmatch"),c=!0);else if(39===l)-1===(p=v.indexOf("'",g=p+2))&&-1!==(p=v.indexOf('"',g))&&(y("attribute value quote missmatch"),c=!0);else for(y("missing attribute value quotes"),c=!0,p+=1;p<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++);for(-1===p&&(y("missing closing quotes"),p=b,c=!0),c||(o=v.substring(g,p)),g=p;p+1<b&&!(32===(l=v.charCodeAt(p+1))||l<14&&l>8);p++)g===p&&(y("illegal character after attribute end"),c=!0);if(g=p+1,!c)if(s in _)y("attribute <"+s+"> already defined");else if(_[s]=!0,d)if(f){if(null!==(r="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=XE(o),t=nS(r),!(a=u[e])){if("xmlns"===r||t in A&&A[t]!==e)do{a="ns"+T++}while(void 0!==A[a]);else a=r;u[e]=a}A[r]!==a&&(i||(A=tS(A),i=!0),A[r]=a,"xmlns"===r&&(A[nS(a)]=e,h=a),A[t]=e),w[s]=o;continue}m.push(s,o)}else-1!==(l=s.indexOf(":"))?(n=A[s.substring(0,l)])?("xsi:type"===(s=h===n?s.substr(l+1):n+s.substr(l))&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=A[n]||n)+o.substring(l)):o=h+":"+o),w[s]=o):y(QE(s.substring(0,l))):w[s]=o;else w[s]=o}if(f)for(g=0,b=m.length;g<b;g++){if(s=m[g++],o=m[g],-1!==(l=s.indexOf(":"))){if(!(n=A[s.substring(0,l)])){y(QE(s.substring(0,l)));continue}"xsi:type"===(s=h===n?s.substr(l+1):n+s.substr(l))&&(-1!==(l=o.indexOf(":"))?(n=o.substring(0,l),o=(n=A[n]||n)+o.substring(l)):o=h+":"+o)}w[s]=o}return j=w}function z(){for(var t,n,i=/(\r\n|\r|\n)/g,r=0,o=0,a=0,s=O;B>=a&&(t=i.exec(e))&&!((s=t[0].length+t.index)>B);)r+=1,a=s;return-1==B?(o=s,n=e.substring(O)):0===O?n=e.substring(O,B):(o=B-a,n=-1==O?e.substring(B):e.substring(B,O+1)),{data:n,line:r,column:o}}h=z,l&&(S=Object.create({},{name:eS((function(){return k})),originalName:eS((function(){return E})),attrs:eS(F),ns:eS((function(){return A}))}));for(;-1!==O;){if(-1===(B=60===e.charCodeAt(O)?O:e.indexOf("<",O)))return C.length?v("unexpected end of file"):0===O?v("missing start tag"):void(O<e.length&&e.substring(O).trim()&&y("non-whitespace outside of root node"));if(O!==B)if(C.length){if(t&&(t(e.substring(O,B),XE,h),g))return}else if(e.substring(O,B).trim()&&(y("non-whitespace outside of root node"),g))return;if(33===(w=e.charCodeAt(B+1))){if(91===(b=e.charCodeAt(B+2))&&"CDATA["===e.substr(B+3,6)){if(-1===(O=e.indexOf("]]>",B)))return v("unclosed cdata");if(r&&(r(e.substring(B+9,O),h),g))return;O+=3;continue}if(45===b&&45===e.charCodeAt(B+3)){if(-1===(O=e.indexOf("--\x3e",B)))return v("unclosed comment");if(a&&(a(e.substring(B+4,O),XE,h),g))return;O+=3;continue}}if(63!==w){for(p=B+1;;p++){if(_=e.charCodeAt(p),isNaN(_))return O=-1,v("unclosed tag");if(34===_)b=e.indexOf('"',p+1),p=-1!==b?b:p;else if(39===_)b=e.indexOf("'",p+1),p=-1!==b?b:p;else if(62===_){O=p;break}}if(33!==w){if(j={},47===w){if(P=!1,R=!0,!C.length)return v("missing open tag");if(p=k=C.pop(),b=B+2+p.length,e.substring(B+2,b)!==p)return v("closing tag mismatch");for(;b<O;b++)if(!(32===(w=e.charCodeAt(b))||w>8&&w<14))return v("close tag")}else{if(47===e.charCodeAt(O-1)?(p=k=e.substring(B+1,O-1),P=!0,R=!0):(p=k=e.substring(B+1,O),P=!0,R=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return v("illegal first char nodeName");for(b=1,m=p.length;b<m;b++)if(!((w=p.charCodeAt(b))>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){k=p.substring(0,b),j=null;break}return v("invalid nodeName")}R||C.push(k)}if(d){if(o=A,P&&(R||M.push(o),null===j&&(f=-1!==p.indexOf("xmlns",b))&&(D=b,I=p,F(),f=!1)),E=k,-1!==(w=k.indexOf(":"))){if(!(x=A[k.substring(0,w)]))return v("missing namespace on <"+E+">");k=k.substr(w+1)}else x=A.xmlns;x&&(k=x+":"+k)}if(P&&(D=b,I=p,n&&(l?n(S,XE,R,h):n(k,F,XE,R,h),g)))return;if(R){if(i&&(i(l?S:k,XE,P,h),g))return;d&&(A=P?o:M.pop())}O+=1}else{if(c&&(c(e.substring(B,O+1),XE,h),g))return;O+=1}}else{if(-1===(O=e.indexOf("?>",B)))return v("unclosed question");if(s&&(s(e.substring(B,O+2),h),g))return;O+=2}}}(e),h=iS,g=!1,m},this.stop=function(){g=!0}}function aS(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var sS={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"};function cS(e){return e.xml&&e.xml.serialize}function uS(e){return"xsi:type"===cS(e)}function lS(e,t){return aS(t)?e.prefix+":"+((n=e.localName).charAt(0).toUpperCase()+n.slice(1)):e.name;var n}function pS(e){return new Error(e)}function hS(e){return e.$descriptor}function fS(e){ux(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw pS("expected element");var t,n=this.elementsById,i=hS(e).idProperty;if(i&&(t=e.get(i.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw pS("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function dS(){}function mS(){}function gS(){}function vS(e,t){this.property=e,this.context=t}function yS(e,t){this.element=t,this.propertyDesc=e}function bS(){}function wS(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function _S(e,t,n){wS.call(this,e,t,n)}function xS(e,t,n){this.model=e,this.context=n}function kS(e){e instanceof VE&&(e={model:e}),ux(this,{lax:!1},e)}dS.prototype.handleEnd=function(){},dS.prototype.handleText=function(){},dS.prototype.handleNode=function(){},mS.prototype=Object.create(dS.prototype),mS.prototype.handleNode=function(){return this},gS.prototype=Object.create(dS.prototype),gS.prototype.handleText=function(e){this.body=(this.body||"")+e},vS.prototype=Object.create(gS.prototype),vS.prototype.handleNode=function(e){if(this.element)throw pS("expected no sub nodes");return this.element=this.createReference(e),this},vS.prototype.handleEnd=function(){this.element.id=this.body},vS.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},yS.prototype=Object.create(gS.prototype),yS.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=DE(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},bS.prototype=Object.create(gS.prototype),bS.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},wS.prototype=Object.create(bS.prototype),wS.prototype.addReference=function(e){this.context.addReference(e)},wS.prototype.handleText=function(e){if(!hS(this.element).bodyProperty)throw pS("unexpected body text <"+e+">");gS.prototype.handleText.call(this,e)},wS.prototype.handleEnd=function(){var e=this.body,t=this.element,n=hS(t).bodyProperty;n&&void 0!==e&&(e=DE(n.type,e),t.set(n.name,e))},wS.prototype.createElement=function(e){var t,n=e.attributes,i=this.type,r=hS(i),o=this.context,a=new i({}),s=this.model;return U_(n,(function(e,n){var i=r.propertiesByName[n];i&&i.isReference?i.isMany?U_(e.split(" "),(function(e){o.addReference({element:a,property:i.ns.name,id:e})})):o.addReference({element:a,property:i.ns.name,id:e}):(i?e=DE(i.type,e):"xmlns"!==n&&(t=NE(n,r.ns.prefix),s.getPackage(t.prefix)&&o.addWarning({message:"unknown attribute <"+n+">",element:a,property:n,value:e})),a.set(n,e))})),a},wS.prototype.getPropertyForNode=function(e){var t,n,i=NE(e.name),r=this.type,o=this.model,a=hS(r),s=i.name,c=a.propertiesByName[s];if(c&&!c.isAttr)return uS(c)&&(t=e.attributes["xsi:type"])?(t=function(e,t){var n=NE(e);return function(e,t){var n=e.name,i=e.localName,r=t.xml&&t.xml.typePrefix;return r&&0===i.indexOf(r)?e.prefix+":"+i.slice(r.length):n}(n,t.getPackage(n.prefix))}(t,o),ux({},c,{effectiveType:hS(n=o.getType(t)).name})):c;var u=o.getPackage(i.prefix);if(u){if(t=lS(i,u),n=o.getType(t),c=q_(a.properties,(function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)})))return ux({},c,{effectiveType:hS(n).name})}else if(c=q_(a.properties,(function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type})))return c;throw pS("unrecognized element <"+i.name+">")},wS.prototype.toString=function(){return"ElementDescriptor["+hS(this.type).name+"]"},wS.prototype.valueHandler=function(e,t){return new yS(e,t)},wS.prototype.referenceHandler=function(e){return new vS(e,this.context)},wS.prototype.handler=function(e){return"Element"===e?new xS(this.model,e,this.context):new wS(this.model,e,this.context)},wS.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,zE(n=t.effectiveType||t.type))return this.valueHandler(t,i);var o=(r=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?i.get(t.name).push(o):i.set(t.name,o),t.isReference?(ux(o,{element:i}),this.context.addReference(o)):o.$parent=i),r},_S.prototype=Object.create(wS.prototype),_S.prototype.createElement=function(e){var t=e.name,n=NE(t),i=this.model,r=this.type,o=i.getPackage(n.prefix),a=o&&lS(n,o)||t;if(!r.hasType(a))throw pS("unexpected element <"+e.originalName+">");return wS.prototype.createElement.call(this,e)},xS.prototype=Object.create(bS.prototype),xS.prototype.createElement=function(e){var t=e.name,n=NE(t).prefix,i=e.ns[n+"$uri"],r=e.attributes;return this.model.createAny(t,i,r)},xS.prototype.handleChild=function(e){var t=new xS(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element;return void 0!==i&&((n.$children=n.$children||[]).push(i),i.$parent=n),t},xS.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},kS.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof wS?(i=t,t={}):"string"==typeof t?(i=this.handler(t),t={}):"string"==typeof i&&(i=this.handler(i));var r=this.model,o=this.lax,a=new fS(ux({},t,{rootHandler:i})),s=new oS({proxy:!0}),c=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function u(e,t,n){var i=t(),r=i.line,o=i.column,s=i.data;"<"===s.charAt(0)&&-1!==s.indexOf(" ")&&(s=s.slice(0,s.indexOf(" "))+">");var c="unparsable content "+(s?s+" ":"")+"detected\n\tline: "+r+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return a.addWarning({message:c,error:e}),!0;throw pS(c)}function l(e,t){return u(e,t,!0)}i.context=a,c.push(i);var p=/^<\?xml /i,h=/ encoding="([^"]+)"/i,f=/^utf-8$/i;function d(e,t){try{c.peek().handleText(e)}catch(e){l(e,t)}}var m=r.getPackages().reduce((function(e,t){return e[t.uri]=t.prefix,e}),{"http://www.w3.org/XML/1998/namespace":"xml"});return s.ns(m).on("openTag",(function(e,t,n,i){var r=e.attrs||{},a=Object.keys(r).reduce((function(e,n){var i=t(r[n]);return e[n]=i,e}),{});!function(e,t){var n=c.peek();try{c.push(n.handleNode(e))}catch(e){u(e,t,o)&&c.push(new mS)}}({name:e.name,originalName:e.originalName,attributes:a,ns:e.ns},i)})).on("question",(function(e){if(p.test(e)){var t=h.exec(e),n=t&&t[1];n&&!f.test(n)&&a.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}})).on("closeTag",(function(){c.pop().handleEnd()})).on("cdata",d).on("text",(function(e,t,n){!function(e,t){e.trim()&&d(e,t)}(t(e),n)})).on("error",u).on("warn",l),new Promise((function(t,n){var r;try{s.parse(e),function(){var e,t,n=a.elementsById,i=a.references;for(e=0;t=i[e];e++){var r=t.element,o=n[t.id],s=hS(r).propertiesByName[t.property];if(o||a.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),s.isMany){var c=r.get(s.name),u=c.indexOf(t);-1===u&&(u=c.length),o?c[u]=o:c.splice(u,1)}else r.set(s.name,o)}}()}catch(e){r=e}var o=i.element;r||o||(r=pS("failed to parse document as <"+i.type.$descriptor.name+">"));var c=a.warnings,u=a.references,l=a.elementsById;return r?(r.warnings=c,n(r)):t({rootElement:o,elementsById:l,references:u,warnings:c})}))},kS.prototype.handler=function(e){return new _S(this.model,e)};var ES=/<|>|'|"|&|\n\r|\n/g,SS=/<|>|&/g;function jS(e){var t={},n={},i={},r=[],o=[];this.byUri=function(t){return n[t]||e&&e.byUri(t)},this.add=function(e,t){n[e.uri]=e,t?r.push(e):o.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return t[e||"xmlns"]},this.mapPrefix=function(e,n){t[e||"xmlns"]=n},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(t){var n=t.uri,r=this.getNSKey(t);i[r]=this.byUri(n),e&&e.logUsed(t)},this.getUsed=function(e){var t=this;return[].concat(r,o).filter((function(e){var n=t.getNSKey(e);return i[n]}))}}function MS(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function AS(e){return N_(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var CS={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},TS={"<":"lt",">":"gt","&":"amp"};function PS(e,t,n){return(e=N_(e)?e:""+e).replace(t,(function(e){return"&"+n[e]+";"}))}function RS(e){this.tagName=e}function BS(){}function OS(e){this.tagName=e}function IS(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function DS(e,t){IS.call(this,e,t)}function FS(){this.value="",this.write=function(e){this.value+=e}}function zS(e,t){var n=[""];this.append=function(t){return e.write(t),this},this.appendNewLine=function(){return t&&e.write("\n"),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function NS(e){return e=ux({format:!1,preamble:!0},e||{}),{toXML:function(t,n){var i=n||new FS,r=new zS(i,e.format);if(e.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new IS).build(t).serializeTo(r),!n)return i.value}}}function LS(e,t){VE.call(this,e,t)}RS.prototype.build=function(e){return this.element=e,this},RS.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},BS.prototype.serializeValue=BS.prototype.serializeTo=function(e){e.append(this.escape?PS(this.value,SS,TS):this.value)},BS.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(SS)&&(this.escape=!0),this},MS(OS,BS),OS.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},IS.prototype.build=function(e){this.element=e;var t,n,i=e.$descriptor,r=this.propertyDescriptor,o=i.isGeneric;return t=o?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=r?this.nsPropertyTagName(r):this.nsTagName(i),this.tagName=this.addTagName(this.ns),o||(n=function(e){return H_(e.$descriptor.properties,(function(t){var n=t.name;if(t.isVirtual)return!1;if(!L_(e,n))return!1;var i=e[n];return i!==t.default&&(null!==i&&(!t.isMany||i.length))}))}(e),this.parseAttributes(H_(n,(function(e){return e.isAttr}))),this.parseContainments(function(e){return H_(e,(function(e){return!e.isAttr}))}(n))),this.parseGenericAttributes(e,t),this},IS.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?ux({localName:t.ns.localName},e):ux({localName:(n=t.ns.localName,i=t.$pkg,aS(i)?(r=n).charAt(0).toLowerCase()+r.slice(1):n)},e);var n,i,r}(this.logNamespaceUsed(e.ns),e)},IS.prototype.nsPropertyTagName=function(e){return function(e,t){return ux({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},IS.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},IS.prototype.nsAttributeName=function(e){var t;if(t=N_(e)?NE(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:ux({localName:t.localName},n)},IS.prototype.parseGeneric=function(e){var t=this,n=this.body,i=[];return U_(e,(function(r,o){"$body"===o?n.push((new BS).build({type:"String"},r)):"$children"===o?U_(r,(function(e){n.push(new IS(t).build(e))})):0!==o.indexOf("$")&&t.parseNsAttribute(e,o,r)&&i.push({name:o,value:r})})),i},IS.prototype.parseNsAttribute=function(e,t,n){var i,r=e.$model,o=NE(t);if("xmlns"===o.prefix&&(i={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(i={uri:n}),!i)return{name:t,value:n};if(r&&r.getPackage(n))this.logNamespace(i,!0,!0);else{var a=this.logNamespaceUsed(i,!0);this.getNamespaces().logUsed(a)}},IS.prototype.parseNsAttributes=function(e,t){var n=this,i=e.$attrs,r=[];return U_(i,(function(t,i){var o=n.parseNsAttribute(e,i,t);o&&r.push(o)})),r},IS.prototype.parseGenericAttributes=function(e,t){var n=this;U_(t,(function(t){if("xsi:type"!==t.name)try{n.addAttribute(n.nsAttributeName(t.name),t.value)}catch(n){console.warn("missing namespace information for ",t.name,"=",t.value,"on",e,n)}}))},IS.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;U_(e,(function(e){var r=i.get(e.name),o=e.isReference;if(e.isMany||(r=[r]),e.isBody)n.push((new BS).build(e,r[0]));else if(zE(e.type))U_(r,(function(i){n.push(new OS(t.addTagName(t.nsPropertyTagName(e))).build(e,i))}));else if(o)U_(r,(function(i){n.push(new RS(t.addTagName(t.nsPropertyTagName(e))).build(i))}));else{var a=uS(e),s=function(e){return"property"===cS(e)}(e);U_(r,(function(i){var r;r=a?new DS(t,e):s?new IS(t,e):new IS(t),n.push(r.build(i))}))}}))},IS.prototype.getNamespaces=function(e){var t,n=this.namespaces,i=this.parent;return n||(t=i&&i.getNamespaces(),e||!t?this.namespaces=n=new jS(t):n=t),n},IS.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,o=e.prefix;return i.byUri(r)&&!n||i.add(e,t),i.mapPrefix(o,r),e},IS.prototype.logNamespaceUsed=function(e,t){var n,i,r,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(r=sS[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||r||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,i=1;a.uriByPrefix(n);)n=s+"_"+i++;e=this.logNamespace({prefix:n,uri:c},r===c)}return s&&a.mapPrefix(s,c),e},IS.prototype.parseAttributes=function(e){var t=this,n=this.element;U_(e,(function(e){var i=n.get(e.name);if(e.isReference)if(e.isMany){var r=[];U_(i,(function(e){r.push(e.id)})),i=r.join(" ")}else i=i.id;t.addAttribute(t.nsAttributeName(e),i)}))},IS.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),AS(e)},IS.prototype.addAttribute=function(e,t){var n=this.attrs;N_(t)&&(t=PS(t,ES,CS)),n.push({name:e,value:t})},IS.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=function(e){return e.getUsed().filter((function(e){return"xml"!==e.prefix})).map((function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}}))}(n).concat(t)),U_(t,(function(t){e.append(" ").append(AS(t.name)).append('="').append(t.value).append('"')}))},IS.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==BS;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),U_(this.body,(function(t){t.serializeTo(e)})),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()},MS(DS,IS),DS.prototype.parseNsAttributes=function(e){var t=IS.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),o=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName("xsi:type"),(i.prefix?i.prefix+":":"")+o+n.ns.localName),t},DS.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},LS.prototype=Object.create(VE.prototype),LS.prototype.fromXML=function(e,t,n){N_(t)||(n=t,t="od:Definitions");var i=new kS(ux({model:this,lax:!1},n)),r=i.handler(t);return i.fromXML(e,r)},LS.prototype.toXML=function(e,t){var n=new NS(t);return new Promise((function(t,i){try{return t({xml:n.toXML(e)})}catch(e){return i(e)}}))};var qS={od:n(397),odDi:n(398),dc:n(399)},HS=function(e,t){return new LS(ux({},qS,e),t)};function US(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var $S=new uE.a({name:"boardElement",enumerable:!0},{name:"di",configurable:!0});function VS(e,t){return e.$instanceOf(t)}function WS(e,t){var n={},i=[];function r(n,i){try{var r=n.di&&function(n,i){if(n.gfx)throw new Error(t("already rendered {element}",{element:US(n)}));return e.element(n,i)}(n,i);return a(n),r}catch(e){o(e.message,{element:n,error:e}),console.error(t("failed to import {element}",{element:US(n)})),console.error(e)}}function o(t,n){e.error(t,n)}function a(e){n[e.id]=e}function s(e){var n=e.boardElement;n?n.di?o(t("multiple DI elements defined for {element}",{element:US(n)}),{element:n}):($S.bind(n,"di"),n.di=e):o(t("no boardElement referenced in {element}",{element:US(e)}),{element:e})}function c(e){var t;s(t=e.plane),U_(t.planeElement,u)}function u(e){s(e)}function l(){for(;i.length;)i.shift()()}return{handleDeferred:l,handleDefinitions:function(n,u){var p=n.rootBoards;if(u&&-1===p.indexOf(u))throw new Error(t("rootBoard not part of od:Definitions"));if(!u&&p&&p.length&&(u=p[0]),!u)throw new Error(t("no rootBoard to display"));c(u);var h=u.plane;if(!h)throw new Error(t("no plane for {element}",{element:US(u)}));var f=h.boardElement;if(!f){if(!(f=function(e){return q_(e.rootElements,(function(e){return VS(e,"od:OdBoard")}))}(n)))throw new Error(t("no board to display"));o(t("correcting missing boardElement on {plane} to {rootElement}",{plane:US(h),rootElement:US(f)})),h.boardElement=f,s(h)}var d,m,g,v,y=(d=f,m=h,e.root(d,m));VS(f,"od:OdBoard")&&(v=y,function(e,t){U_(e,(function(e){VS(e,"od:Link")?i.push((function(){!function(e,t){r(e,t)}(e,t)})):r(e,t)}))}((g=f).boardElements,v),a(g)),l()},registerDi:s}}function GS(e,t,n){var i,r,o,a=[];return new Promise((function(s,c){try{return i=e.get("odImporter"),r=e.get("eventBus"),o=e.get("translate"),r.fire("import.render.start",{definitions:t}),function(e,t){new WS({root:function(e){return i.add(e)},element:function(e,t){return i.add(e,t)},error:function(e,t){a.push({message:e,context:t})}},o).handleDefinitions(e,t)}(t,n),r.fire("import.render.complete",{error:void 0,warnings:a}),s({warnings:a})}catch(e){return c(e)}}))}var KS='<img width="52" height="52" src="'+("data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 58 23"><path fill="currentColor" d="M7.75 3.8v.58c0 1.7-.52 2.78-1.67 3.32C7.46 8.24 8 9.5 8 11.24v1.34c0 2.54-1.35 3.9-3.93 3.9H0V0h3.91c2.68 0 3.84 1.25 3.84 3.8zM2.59 2.35V6.7H3.6c.97 0 1.56-.42 1.56-1.74v-.92c0-1.18-.4-1.7-1.32-1.7zm0 6.7v5.07h1.48c.87 0 1.34-.4 1.34-1.63v-1.43c0-1.53-.5-2-1.67-2H2.6zm14.65-4.98v2.14c0 2.64-1.27 4.08-3.87 4.08h-1.22v6.2H9.56V0h3.82c2.59 0 3.86 1.44 3.86 4.07zm-5.09-1.71v5.57h1.22c.83 0 1.28-.37 1.28-1.55V3.91c0-1.18-.45-1.56-1.28-1.56h-1.22zm11.89 9.34L25.81 0h3.6v16.48h-2.44V4.66l-1.8 11.82h-2.45L20.8 4.83v11.65h-2.26V0h3.6zm9.56-7.15v11.93h-2.33V0h3.25l2.66 9.87V0h2.31v16.48h-2.66zm10.25 9.44v2.5h-2.5v-2.5zM50 4.16C50 1.52 51.38.02 53.93.02c2.54 0 3.93 1.5 3.93 4.14v8.37c0 2.64-1.4 4.14-3.93 4.14-2.55 0-3.93-1.5-3.93-4.14zm2.58 8.53c0 1.18.52 1.63 1.35 1.63.82 0 1.34-.45 1.34-1.63V4c0-1.17-.52-1.62-1.34-1.62-.83 0-1.35.45-1.35 1.62zM0 18.7h57.86V23H0zM45.73 0h2.6v2.58h-2.6zm2.59 16.48V4.16h-2.59v12.32z"></path></svg>'))+'" />';function ZS(e){return e.join(";")}var YS,XS='<div class="bjs-powered-by-lightbox" style="'+ZS(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+ZS(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"])+'"></div><div class="notice" style="'+ZS(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"])+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+KS+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';function JS(e){var t,n;e=ux({},ej,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),t=this._container,n=Px('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+KS+"</a>"),t.appendChild(n),Mx.bind(n,"click",(function(e){YS||(YS=Px(XS),Tx.bind(YS,".backdrop","click",(function(e){document.body.removeChild(YS)}))),document.body.appendChild(YS),e.preventDefault()})),this._init(this._container,this._moddle,e)}function QS(e,t){return e.warnings=t,e}S_()(JS,PE),JS.prototype.importXML=function(e,t){var n=this;return new Promise((function(i,r){e=n._emit("import.parse.start",{xml:e})||e,n._moddle.fromXML(e,"od:Definitions").then((function(e){var o=e.rootElement,a=e.references,s=e.warnings,c={references:a,elementsById:e.elementsById,warnings:s};o=n._emit("import.parse.complete",{definitions:o,context:c})||o,n.importDefinitions(o,t).then((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:null,warnings:t}),i({warnings:t})})).catch((function(e){var t=[].concat(s,e.warnings||[]);return n._emit("import.done",{error:e,warnings:t}),r(QS(e,t))}))})).catch((function(e){return n._emit("import.parse.complete",{error:e}),e=function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);t&&(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid Od board file"+t[2]);return e}(e),n._emit("import.done",{error:e,warnings:e.warnings}),r(e)}))}))},JS.prototype.importDefinitions=function(e,t){var n=this;return new Promise((function(i,r){n._setDefinitions(e),n.open(t).then((function(e){var t=e.warnings;return i({warnings:t})})).catch((function(e){return r(e)}))}))},JS.prototype.open=function(e){var t=this._definitions,n=e,i=this;return new Promise((function(r,o){if(!t){var a=new Error("no XML imported");return o(QS(a,[]))}if("string"==typeof e&&!(n=function(e,t){if(!t)return null;return q_(e.rootBoards,(function(e){return e.id===t}))||null}(t,e))){var s=new Error("OdRootBoard <"+e+"> not found");return o(QS(s,[]))}try{i.clear()}catch(e){return o(QS(e,[]))}GS(i,t,n).then((function(e){var t=e.warnings;return r({warnings:t})})).catch((function(e){return o(e)}))}))},JS.prototype.saveXML=function(e){e=e||{};var t=this,n=this._definitions;return new Promise((function(i,r){if(!n){var o=new Error("no definitions loaded");return r(o)}n=t._emit("saveXML.start",{definitions:n})||n,t._moddle.toXML(n,e).then((function(e){var n=e.xml;try{n=t._emit("saveXML.serialized",{error:null,xml:n})||n,t._emit("saveXML.done",{error:null,xml:n})}catch(e){console.error("error in saveXML life-cycle listener",e)}return i({xml:n})})).catch((function(e){return r(e)}))}))},JS.prototype.saveSVG=function(e){var t=this;return new Promise((function(e,n){var i,r;t._emit("saveSVG.start");try{var o=t.get("canvas"),a=o.getDefaultLayer(),s=Ox("defs",o._svg),c=pk(a),u=s?"<defs>"+pk(s)+"</defs>":"",l=a.getBBox();i='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with diagram-js --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+l.width+'" height="'+l.height+'" viewBox="'+l.x+" "+l.y+" "+l.width+" "+l.height+'" version="1.1">'+u+c+"</svg>"}catch(e){r=e}return t._emit("saveSVG.done",{error:r,svg:i}),r?n(r):e({svg:i})}))},JS.prototype._setDefinitions=function(e){this._definitions=e},JS.prototype.getModules=function(){return this._modules},JS.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach((function(e){var t=e.businessObject;t&&t.di&&delete t.di})),PE.prototype.clear.call(this))},JS.prototype.destroy=function(){PE.prototype.destroy.call(this),Dx(this._container)},JS.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)},JS.prototype.off=function(e,t){this.get("eventBus").off(e,t)},JS.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=Ox(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},JS.prototype.getDefinitions=function(){return this._definitions},JS.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},JS.prototype._init=function(e,t,n){var i=n.modules||this.getModules(),r=n.additionalModules||[],o=[].concat([{odm:["value",this],moddle:["value",t]}],i,r),a=ux(px(n,["additionalModules"]),{canvas:ux({},n.canvas,{container:e}),modules:o});PE.call(this,a),n&&n.container&&this.attachTo(n.container)},JS.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},JS.prototype._createContainer=function(e){var t=Px('<div class="pjs-container"></div>');return ux(t.style,{width:tj(e.width),height:tj(e.height),position:e.position}),t},JS.prototype._createModdle=function(e){var t=ux({},this._moddleExtensions,e.moddleExtensions);return new HS(t)},JS.prototype._modules=[],JS.prototype._moddleExtensions={};var ej={width:"100%",height:"100%",position:"relative"};function tj(e){return e+(F_(e)?"px":"")}function nj(e){JS.call(this,e),this.on("import.parse.complete",(function(e){e.error||this._collectIds(e.definitions,e.context)}),this),this.on("diagram.destroy",(function(){this.get("moddle").ids.clear()}),this)}function ij(e,t){var n=rj(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function rj(e){return e&&e.businessObject||e}function oj(e,t){return G_(t,(function(t){return ij(e,t)}))}function aj(e){return e.labelAttribute?e.labelAttribute:oj(e,["od:TextBox","od:Link","od:Object"])?"name":void 0}function sj(e){var t=e.businessObject,n=aj(t);if(n)return t[n]||""}function cj(e){return e.businessObject.di}function uj(e){return e.businessObject}function lj(e,t){return hj(e)||cj(e).get("bioc:fill")||t||"white"}function pj(e,t){return hj(e)||cj(e).get("bioc:stroke")||t||"black"}function hj(e){return rj(e).color||e.color}S_()(nj,JS),nj.prototype._createModdle=function(e){var t=JS.prototype._createModdle.call(this,e);return t.ids=new A_([32,36,1]),t},nj.prototype._collectIds=function(e,t){var n,i=e.$model.ids;for(n in i.clear(),t.elementsById)i.claim(n,t.elementsById[n])};var fj=new A_,dj={};function mj(e,t,n,i,r,o){Ek.call(this,t,o);var a=e&&e.defaultFillColor,s=e&&e.defaultStrokeColor,c=fj.next(),u=n.computeStyle;function l(e,t,n,i,r,o){D_(r)&&(o=r,r=0),r=r||0,o=u(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=tk("rect");return Hx(a,{x:r,y:r,width:t-2*r,height:n-2*r,rx:i,ry:i}),Hx(a,o),Nx(e,a),a}function p(e,t,n){n=ux({size:{width:100}},n);var i=r.createText(t||"",n);return Gx(i).add("djs-label"),Nx(e,i),i}function h(e,t){!function(e,t,n){n=u(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var i=Mk(t,n);Nx(e,i)}(e,[{x:0,y:30},{x:t.width,y:30}],{stroke:pj(t,s)})}function f(e,t){var n="-"+d(e)+"-"+d(t)+"-"+c;return dj[n]||function(e,t,n,r){var o=tk("path");Hx(o,{d:"M 1 5 L 11 10 L 1 15 Z"}),function(e,t){var n=ux({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},o=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var a=tk("marker");Hx(t.element,n),Nx(a,t.element),Hx(a,{id:e,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*o,markerHeight:20*o,orient:"auto"});var s=Ox("defs",i._svg);s||(s=tk("defs"),Nx(i._svg,s));Nx(s,a),dj[e]=a}(e,{element:o,ref:{x:11,y:10},scale:.5,attrs:{fill:r,stroke:r}})}(n),"url(#"+n+")"}function d(e){return e.replace(/[^0-9a-zA-z]+/g,"_")}this.handlers={"od:Object":function(e,t,n){var i=l(e,t.width,t.height,0,ux({fill:lj(t,a),fillOpacity:.35,stroke:pj(t,s)},n));return h(e,t),function(e,t){let n=uj(t),i="";n.name&&(i=n.name),p(e,i,{box:{height:30,width:t.width},padding:5,align:"center-middle",style:{fill:s}})}(e,t),function(e,t){var n=uj(t);n.attributeValues&&p(e,n.attributeValues,{box:{height:t.height+30,width:t.width},padding:5,align:"center-middle",style:{fill:s}})}(e,t),i},"od:Link":function(e,t){return function(e,t,n){n=u(n,["no-fill"],{strokeWidth:2,stroke:"black"});var i=tk("path");return Hx(i,{d:t}),Hx(i,n),Nx(e,i),i}(e,function(e){for(var t=e.waypoints,n="m  "+t[0].x+","+t[0].y,i=1;i<t.length;i++)n+="L"+t[i].x+","+t[i].y+" ";return n}(t),{strokeLinejoin:"round",markerEnd:f(lj(t,a),pj(t,s)),stroke:pj(t,s)})},"od:TextBox":function(e,t){var n=t.textSize||16,i=l(e,t.width,t.height,0,{fill:"none",stroke:"none"});return function(e,t,n,i){p(e,uj(t).name,{box:t,align:n,padding:5,style:{fill:"black"===gj(t)?"white":"black",fontSize:i||16}})}(e,t,"center-middle",n),i},label:function(e,t){return function(e,t){var n={width:90,height:30,x:t.width/2+t.x,y:t.height/2+t.y};return p(e,sj(t),{box:n,fitBox:!0,style:ux({},r.getExternalStyle(),{fill:"black"})})}(e,t)}}}function gj(e){return rj(e).color||e.color}S_()(mj,Ek),mj.$inject=["config.odm","eventBus","styles","canvas","textRenderer"],mj.prototype.canRender=function(e){return ij(e,"od:BoardElement")},mj.prototype.drawShape=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},mj.prototype.drawConnection=function(e,t){var n=t.type;return(0,this.handlers[n])(e,t)},mj.prototype.getShapePath=function(e){return n=(t=e).x,i=t.y,r=t.width,Sk([["M",n,i],["l",r,0],["l",0,t.height],["l",-r,0],["z"]]);var t,n,i,r};var vj={width:150,height:50};function yj(e,t){var n;t.textContent=e;try{var i,r=""===e;return t.textContent=r?"dummy":e,i={width:(n=t.getBBox()).width+2*n.x,height:n.height},r&&(i.width=0),i}catch(e){return{width:0,height:0}}}function bj(e,t,n){for(var i,r=e.shift(),o=r;;){if((i=yj(o,n)).width=o?i.width:0," "===o||""===o||i.width<Math.round(t)||o.length<2)return wj(e,o,r,i);o=_j(o,i.width,t)}}function wj(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}function _j(e,t,n){var i=Math.max(e.length*(n/t),1),r=function(e,t){var n,i=e.split(/(\s|-|\u00AD)/g),r=[],o=0;if(i.length>1)for(;n=i.shift();){if(!(n.length+o<t)){"-"!==n&&"­"!==n||r.pop();break}r.push(n),o+=n.length}var a=r[r.length-1];return a&&"­"===a&&(r[r.length-1]="-"),r.join("")}(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function xj(e){this._config=ux({},{size:vj,padding:0,style:{},align:"center-top"},e||{})}xj.prototype.createText=function(e,t){return this.layoutText(e,t).element},xj.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},xj.prototype.layoutText=function(e,t){var n=ux({},this._config.size,t.box),i=ux({},this._config.style,t.style),r=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return D_(e)?ux({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(i),c=e.split(/\u00AD?\r?\n/),u=[],l=n.width-o.left-o.right,p=tk("text");for(Hx(p,{x:0,y:0}),Hx(p,i),Nx(function(){var e=document.getElementById("helper-svg");return e||(Hx(e=tk("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}(),p);c.length;)u.push(bj(c,l,p));"middle"===r.vertical&&(o.top=o.bottom=0);var h=V_(u,(function(e,t,n){return e+(s||t.height)}),0)+o.top+o.bottom,f=V_(u,(function(e,t,n){return t.width>e?t.width:e}),0),d=o.top;"middle"===r.vertical&&(d+=(n.height-h)/2),d-=(s||u[0].height)/4;var m=tk("text");return Hx(m,i),U_(u,(function(e){var t;switch(d+=s||e.height,r.horizontal){case"left":t=o.left;break;case"right":t=(a?f:l)-o.right-e.width;break;default:t=Math.max(((a?f:l)-e.width)/2+o.left,0)}var n=tk("tspan");Hx(n,{x:t,y:d}),n.textContent=e.text,Nx(m,n)})),Zx(p),{dimensions:{width:f,height:h},element:m}};function kj(e){var t=ux({fontFamily:"IBM Plex, sans-serif",fontSize:16,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=ux({},t,{fontSize:n},e&&e.externalStyle||{}),r=new xj({style:t});this.getExternalLabelBounds=function(e,t){var n=r.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.createText=function(e,t){return r.createText(e,t||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}kj.$inject=["config.textRenderer"];var Ej={__init__:["odRenderer"],odRenderer:["type",mj],textRenderer:["type",kj]};var Sj={translate:["value",function(e,t){return t=t||{},e.replace(/{([^}]+)}/g,(function(e,n){return t[n]||"{"+n+"}"}))}]},jj={width:90,height:20};function Mj(e){return ij(e,"od:Link")}function Aj(e){return Pj(e.label)}function Cj(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],r=function(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}(e),o=Math.atan((i.y-n.y)/(i.x-n.x)),a=r.x,s=r.y;return Math.abs(o)<Math.PI/2?s-=15:a+=15,{x:a,y:s}}function Tj(e){return e.waypoints?Cj(e.waypoints):{x:e.x+e.width/2,y:e.y+e.height+jj.height/2}}function Pj(e){return e&&!!e.labelTarget}function Rj(e,t){return ux({id:e.id,type:e.$type,businessObject:e},t)}function Bj(e,t,n,i){return new Error(e("element {element} referenced by {referenced}#{property} not yet drawn",{element:US(n),referenced:US(t),property:i}))}function Oj(e,t,n,i,r,o){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._translate=r,this._textRenderer=o}function Ij(e,t,n){var i=e.di.waypoint;return!i||i.length<2?[Jk(t),Jk(n)]:i.map((function(e){return{x:e.x,y:e.y}}))}Oj.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],Oj.prototype.add=function(e,t){var n,i,r=e.di,o=this._translate;if(ij(r,"odDi:OdPlane"))n=this._elementFactory.createRoot(Rj(e)),this._canvas.setRootElement(n);else if(ij(r,"odDi:OdShape")){var a=function(e){return ij(e,"od:Group")}(e);i=t&&(t.hidden||t.collapsed);var s=e.di.bounds;n=this._elementFactory.createShape(Rj(e,{hidden:i,x:Math.round(s.x),y:Math.round(s.y),width:Math.round(s.width),height:Math.round(s.height),isFrame:a})),this._canvas.addShape(n,t,void 0)}else{if(!ij(r,"odDi:Link"))throw new Error(o("unknown di {di} for element {semantic}",{di:US(r),semantic:US(e)}));var c=this._getSource(e),u=this._getTarget(e);i=t&&(t.hidden||t.collapsed),n=this._elementFactory.createConnection(Rj(e,{hidden:i,source:c,target:u,waypoints:Ij(e,c,u)})),this._canvas.addConnection(n,t,0)}return Mj(e)&&sj(n)&&this.addLabel(e,n),this._eventBus.fire("boardElement.added",{element:n}),n},Oj.prototype._attachBoundary=function(e,t){var n=this._translate,i=e.attachedToRef;if(!i)throw new Error(n("missing {semantic}#attachedToRef",{semantic:US(e)}));var r=this._elementRegistry.get(i.id),o=r&&r.attachers;if(!r)throw Bj(n,e,i,"attachedToRef");t.host=r,o||(r.attachers=o=[]),-1===o.indexOf(t)&&o.push(t)},Oj.prototype.addLabel=function(e,t){var n,i,r;return n=function(e,t){var n,i,r,o=e.di.label;return o&&o.bounds?(r=o.bounds,i={width:Math.max(jj.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Tj(t),i=jj),ux({x:n.x-i.width/2,y:n.y-i.height/2},i)}(e,t),(i=sj(t))&&(n=this._textRenderer.getExternalLabelBounds(n,i)),r=this._elementFactory.createLabel(Rj(e,{id:e.id+"_label",labelTarget:t,type:"label",hidden:t.hidden||!sj(t),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(r,t.parent)},Oj.prototype._getEnd=function(e,t){var n,i,r=this._translate;if(n=(i=e[t+"Ref"])&&this._getElement(i))return n;throw i?Bj(r,e,i,t+"Ref"):new Error(r("{semantic}#{side} Ref not specified",{semantic:US(e),side:t}))},Oj.prototype._getSource=function(e){return this._getEnd(e,"source")},Oj.prototype._getTarget=function(e){return this._getEnd(e,"target")},Oj.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};var Dj={__depends__:[Ej,{__depends__:[Sj],odImporter:["type",Oj]}]};function Fj(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation()}function zj(e){return e.originalEvent||e.srcEvent}function Nj(e,t){Fj(e),Fj(zj(e))}function Lj(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function qj(e,t){return(zj(e)||e).button===t}function Hj(e){return qj(e,0)}function Uj(e){var t=zj(e)||e;return!!Hj(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function $j(e){var t=zj(e)||e;return Hj(e)&&t.shiftKey}function Vj(e){return!0}function Wj(e){return Hj(e)||function(e){return qj(e,1)}(e)}function Gj(e,t,n){var i=this;function r(n,i,r){var o,a;(function(e,t){return!(c[e]||Hj)(t)})(n,i)||(r?a=t.getGraphics(r):(o=i.delegateTarget||i.target)&&(a=o,r=t.get(a)),a&&r&&!1===e.fire(n,{element:r,gfx:a,originalEvent:i})&&(i.stopPropagation(),i.preventDefault()))}var o={};function a(e){return o[e]}var s={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},c={"element.contextmenu":Vj,"element.mousedown":Wj,"element.mouseup":Wj,"element.click":Wj,"element.dblclick":Wj};function u(e,t,n,i){var a=o[n]=function(e){r(n,e)};i&&(c[n]=i),a.$delegate=Tx.bind(e,"svg, .djs-element",t,a)}function l(e,t,n){var i=a(n);i&&Tx.unbind(e,t,i.$delegate)}e.on("canvas.destroy",(function(e){var t;t=e.svg,U_(s,(function(e,n){l(t,n,e)}))})),e.on("canvas.init",(function(e){var t;t=e.svg,U_(s,(function(e,n){u(t,n,e)}))})),e.on(["shape.added","connection.added"],(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.createHit",{element:n,gfx:i})})),e.on(["shape.changed","connection.changed"],500,(function(t){var n=t.element,i=t.gfx;e.fire("interactionEvents.updateHit",{element:n,gfx:i})})),e.on("interactionEvents.createHit",500,(function(e){var t=e.element,n=e.gfx;i.createDefaultHit(t,n)})),e.on("interactionEvents.updateHit",(function(e){var t=e.element,n=e.gfx;i.updateDefaultHit(t,n)}));var p=d("djs-hit djs-hit-stroke"),h=d("djs-hit djs-hit-click-stroke"),f={all:d("djs-hit djs-hit-all"),"click-stroke":h,stroke:p};function d(e,t){return t=ux({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function m(e,t){var n=f[t];if(!n)throw new Error("invalid hit type <"+t+">");return Hx(e,n),e}function g(e,t){Nx(e,t)}this.removeHits=function(e){U_(Ix(".djs-hit",e),Zx)},this.createDefaultHit=function(e,t){var n,i=e.waypoints,r=e.isFrame;return i?this.createWaypointsHit(t,i):(n=r?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=Mk(t);return m(n,"stroke"),g(e,n),n},this.createBoxHit=function(e,t,n){n=ux({x:0,y:0},n);var i=tk("rect");return m(i,t),Hx(i,n),g(e,i),i},this.updateDefaultHit=function(e,t){var n=Ox(".djs-hit",t);if(n)return e.waypoints?function(e,t){Hx(e,{points:jk(t)})}(n,e.waypoints):Hx(n,{width:e.width,height:e.height}),n},this.fire=r,this.triggerMouseEvent=function(e,t,n){var i=s[e];if(!i)throw new Error("unmapped DOM event name <"+e+">");return r(i,t,n)},this.mouseHandler=a,this.registerEvent=u,this.unregisterEvent=l}Gj.$inject=["eventBus","elementRegistry","styles"];var Kj={__init__:["interactionEvents"],interactionEvents:["type",Gj]};function Zj(e,t,n){this.offset=6;var i=t.cls("djs-outline",["no-fill"]),r=this;function o(e,t){var n=tk("rect");return Hx(n,ux({x:10,y:10,width:100,height:100},i)),Nx(e,n),n}e.on(["shape.added","shape.changed"],500,(function(e){var t=e.element,n=e.gfx,i=Ox(".djs-outline",n);i||(i=o(n)),r.updateShapeOutline(i,t)})),e.on(["connection.added","connection.changed"],(function(e){var t=e.element,n=e.gfx,i=Ox(".djs-outline",n);i||(i=o(n)),r.updateConnectionOutline(i,t)}))}Zj.prototype.updateShapeOutline=function(e,t){Hx(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},Zj.prototype.updateConnectionOutline=function(e,t){var n=Bk(t);Hx(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},Zj.$inject=["eventBus","styles","elementRegistry"];var Yj={__init__:["outline"],outline:["type",Zj]};function Xj(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],(function(e){var t=e.element;n.deselect(t)})),e.on(["diagram.clear","plane.set"],(function(e){n.select(null)}))}Xj.$inject=["eventBus","canvas"],Xj.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}},Xj.prototype.get=function(){return this._selectedElements},Xj.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},Xj.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();I_(e)||(e=e?[e]:[]);var r=this._canvas;e=e.filter((function(e){return r.findPlane(e)===r.getActivePlane()})),t?U_(e,(function(e){-1===n.indexOf(e)&&n.push(e)})):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};function Jj(e,t,n,i){function r(e,n){t.addMarker(e,n)}function o(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,e.on("element.hover",(function(e){r(e.element,"hover")})),e.on("element.out",(function(e){o(e.element,"hover")})),e.on("selection.changed",(function(e){var t=e.oldSelection,n=e.newSelection;U_(t,(function(e){-1===n.indexOf(e)&&o(e,"selected")})),U_(n,(function(e){-1===t.indexOf(e)&&r(e,"selected")}))}))}function Qj(e,t,n,i){e.on("create.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.elements,o=(n.hints||{}).autoSelect;if(i){if(!1===o)return;I_(o)?t.select(o):t.select(r.filter(eM))}})),e.on("connect.end",500,(function(e){var n=e.context,i=n.canExecute,r=n.hover;i&&r&&t.select(r)})),e.on("shape.move.end",500,(function(e){var n=e.previousSelection||[],r=i.get(e.context.shape.id);q_(n,(function(e){return r.id===e.id}))||t.select(r)})),e.on("element.click",(function(e){if(Hj(e)){var i=e.element;i===n.getRootElement()&&(i=null);var r=t.isSelected(i),o=t.get().length>1,a=Uj(e)||$j(e);if(r&&o)return a?t.deselect(i):t.select(i);r?t.deselect(i):t.select(i,a)}}))}function eM(e){return!e.hidden}Jj.$inject=["eventBus","canvas","selection","styles"],Qj.$inject=["eventBus","selection","canvas","elementRegistry"];var tM={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Kj,Yj],selection:["type",Xj],selectionVisuals:["type",Jj],selectionBehavior:["type",Qj]};function nM(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}nM.prototype.next=function(){return this._prefix+ ++this._counter};var iM=new nM("ov");function rM(e,t,n,i){var r,o;this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=iM,this._overlayDefaults=ux({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=(r=n.getContainer(),o=Px('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'),r.insertBefore(o,r.firstChild),o),this._init()}function oM(e,t,n){ux(e.style,{left:t+"px",top:n+"px"})}function aM(e,t){e.style.display=!1===t?"none":""}function sM(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach((function(n){e.style[n+"transform"]=t}))}rM.$inject=["config.overlays","eventBus","canvas","elementRegistry"],rM.prototype.get=function(e){if(N_(e)&&(e={id:e}),N_(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?H_(t.overlays,tx({type:e.type})):t.overlays.slice():[]}return e.type?H_(this._overlays,tx({type:e.type})):e.id?this._overlays[e.id]:null},rM.prototype.add=function(e,t,n){if(D_(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=ux({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i},rM.prototype.remove=function(e){var t=this.get(e)||[];I_(t)||(t=[t]);var n=this;U_(t,(function(e){var t=n._getOverlayContainer(e.element,!0);if(e&&(Dx(e.html),Dx(e.htmlContainer),delete e.htmlContainer,delete e.element,delete n._overlays[e.id]),t){var i=t.overlays.indexOf(e);-1!==i&&t.overlays.splice(i,1)}}))},rM.prototype.show=function(){aM(this._overlayRoot)},rM.prototype.hide=function(){aM(this._overlayRoot,!1)},rM.prototype.clear=function(){this._overlays={},this._overlayContainers=[],bx(this._overlayRoot)},rM.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var o=Bk(t);i=o.x,r=o.y}oM(n,i,r),hx(e.html,"data-container-id",t.id)},rM.prototype._updateOverlay=function(e){var t,n,i=e.position,r=e.htmlContainer,o=e.element,a=i.left,s=i.top;void 0!==i.right&&(t=o.waypoints?Bk(o).width:o.width,a=-1*i.right+t);void 0!==i.bottom&&(n=o.waypoints?Bk(o).height:o.height,s=-1*i.bottom+n);oM(r,a||0,s||0)},rM.prototype._createOverlayContainer=function(e){var t=Px('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},rM.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";sM(this._overlayRoot,n)},rM.prototype._getOverlayContainer=function(e,t){var n=q_(this._overlayContainers,(function(t){return t.element===e}));return n||t?n:this._createOverlayContainer(e)},rM.prototype._addOverlay=function(e){var t,n,i=e.id,r=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),N_(o)&&(o=Px(o)),n=this._getOverlayContainer(r),(t=Px('<div class="djs-overlay" data-overlay-id="'+i+'" style="position: absolute">')).appendChild(o),e.type&&vx(t).add("djs-overlay-"+e.type);var a=this._canvas.findPlane(r),s=this._canvas.getActivePlane();e.plane=a,a!==s&&aM(t,!1),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[i]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},rM.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=e.plane,r=n&&n.minZoom,o=n&&n.maxZoom,a=e.htmlContainer,s=!0;(i!==this._canvas.getActivePlane()||n&&(B_(r)&&r>t.scale||B_(o)&&o<t.scale))&&(s=!1),aM(a,s),this._updateOverlayScale(e,t)},rM.prototype._updateOverlayScale=function(e,t){var n,i,r,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(!1===o?(n=1,i=1):(n=o.min,i=o.max),B_(n)&&t.scale<n&&(r=(1/t.scale||1)*n),B_(i)&&t.scale>i&&(r=(1/t.scale||1)*i)),B_(r)&&(s="scale("+r+","+r+")"),sM(a,s)},rM.prototype._updateOverlaysVisibilty=function(e){var t=this;U_(this._overlays,(function(n){t._updateOverlayVisibilty(n,e)}))},rM.prototype._init=function(){var e=this._eventBus,t=this;e.on("canvas.viewbox.changing",(function(e){t.hide()})),e.on("canvas.viewbox.changed",(function(e){var n;n=e.viewbox,t._updateRoot(n),t._updateOverlaysVisibilty(n),t.show()})),e.on(["shape.remove","connection.remove"],(function(e){var n=e.element;U_(t.get({element:n}),(function(e){t.remove(e.id)}));var i=t._getOverlayContainer(n);if(i){Dx(i.html);var r=t._overlayContainers.indexOf(i);-1!==r&&t._overlayContainers.splice(r,1)}})),e.on("element.changed",500,(function(e){var n=e.element,i=t._getOverlayContainer(n,!0);i&&(U_(i.overlays,(function(e){t._updateOverlay(e)})),t._updateOverlayContainer(i))})),e.on("element.marker.update",(function(e){var n=t._getOverlayContainer(e.element,!0);n&&vx(n.html)[e.add?"add":"remove"](e.marker)})),e.on("plane.set",(function(e){U_(t._overlays,(function(t){aM(t.htmlContainer,t.plane===e.plane)}))})),e.on("diagram.clear",this.clear,this)};var cM={__init__:["overlays"],overlays:["type",rM]};function uM(e){JS.call(this,e)}function lM(e){return!e.altKey&&(e.ctrlKey||e.metaKey)}function pM(e,t){return-1!==(e=I_(e)?e:[e]).indexOf(t.key)||-1!==e.indexOf(t.keyCode)}function hM(e){return e.shiftKey}S_()(uM,JS),uM.prototype._modules=[Dj,Sj,tM,cM],uM.prototype._moddleExtensions={};function fM(e,t){var n=this;this._config=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",(function(){n._fire("destroy"),n.unbind()})),t.on("diagram.init",(function(){n._fire("init")})),t.on("attach",(function(){e&&e.bindTo&&n.bind(e.bindTo)})),t.on("detach",(function(){n.unbind()}))}fM.$inject=["config.keyboard","eventBus"],fM.prototype._keydownHandler=function(e){this._keyHandler(e,"keyboard.keydown")},fM.prototype._keyupHandler=function(e){this._keyHandler(e,"keyboard.keyup")},fM.prototype._keyHandler=function(e,t){if(!this._isEventIgnored(e)){var n={keyEvent:e};this._eventBus.fire(t||"keyboard.keydown",n)&&e.preventDefault()}},fM.prototype._isEventIgnored=function(e){return(t=e.target)&&(xx(t,"input, textarea")||"true"===t.contentEditable)&&this._isModifiedKeyIgnored(e);var t},fM.prototype._isModifiedKeyIgnored=function(e){return!lM(e)||!this._getAllowedModifiers(e.target).includes(e.key)},fM.prototype._getAllowedModifiers=function(e){var t=kx(e,"[input-handle-modified-keys]",!0);return!t||this._node&&!this._node.contains(t)?[]:t.getAttribute("input-handle-modified-keys").split(",")},fM.prototype.bind=function(e){this.unbind(),this._node=e,Mx.bind(e,"keydown",this._keydownHandler,!0),Mx.bind(e,"keyup",this._keyupHandler,!0),this._fire("bind")},fM.prototype.getBinding=function(){return this._node},fM.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),Mx.unbind(e,"keydown",this._keydownHandler,!0),Mx.unbind(e,"keyup",this._keyupHandler,!0)),this._node=null},fM.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})},fM.prototype.addListener=function(e,t,n){z_(e)&&(n=t,t=e,e=1e3),this._eventBus.on(n||"keyboard.keydown",e,t)},fM.prototype.removeListener=function(e,t){this._eventBus.off(t||"keyboard.keydown",e)},fM.prototype.hasModifier=function(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey},fM.prototype.isCmd=lM,fM.prototype.isShift=hM,fM.prototype.isKey=pM;var dM=["c","C",67],mM=["v","V",86],gM=["y","Y",89],vM=["z","Z",90];function yM(e,t){var n=this;e.on("editorActions.init",500,(function(e){var i=e.editorActions;n.registerBindings(t,i)}))}yM.$inject=["eventBus","keyboard"],yM.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}n("undo",(function(e){var n=e.keyEvent;if(lM(n)&&!hM(n)&&pM(vM,n))return t.trigger("undo"),!0})),n("redo",(function(e){var n=e.keyEvent;if(lM(n)&&(pM(gM,n)||pM(vM,n)&&hM(n)))return t.trigger("redo"),!0})),n("copy",(function(e){var n=e.keyEvent;if(lM(n)&&pM(dM,n))return t.trigger("copy"),!0})),n("paste",(function(e){var n=e.keyEvent;if(lM(n)&&pM(mM,n))return t.trigger("paste"),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(pM(["+","Add","="],n)&&lM(n))return t.trigger("stepZoom",{value:1}),!0})),n("stepZoom",(function(e){var n=e.keyEvent;if(pM(["-","Subtract"],n)&&lM(n))return t.trigger("stepZoom",{value:-1}),!0})),n("zoom",(function(e){var n=e.keyEvent;if(pM("0",n)&&lM(n))return t.trigger("zoom",{value:1}),!0})),n("removeSelection",(function(e){if(pM(["Backspace","Delete","Del"],e.keyEvent))return t.trigger("removeSelection"),!0}))};var bM={__init__:["keyboard","keyboardBindings"],keyboard:["type",fM],keyboardBindings:["type",yM]},wM={moveSpeed:50,moveSpeedAccelerated:200};function _M(e,t,n){var i=this;this._config=ux({},wM,e||{}),t.addListener((function(e){var n=e.keyEvent,r=i._config;if(!t.isCmd(n))return;if(t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],n)){var o,a=t.isShift(n)?r.moveSpeedAccelerated:r.moveSpeed;switch(n.key){case"ArrowLeft":case"Left":o="left";break;case"ArrowUp":case"Up":o="up";break;case"ArrowRight":case"Right":o="right";break;case"ArrowDown":case"Down":o="down"}return i.moveCanvas({speed:a,direction:o}),!0}})),this.moveCanvas=function(e){var t=0,i=0,r=e.speed/Math.min(Math.sqrt(n.viewbox().scale),1);switch(e.direction){case"left":t=r;break;case"up":i=r;break;case"right":t=-r;break;case"down":i=-r}n.scroll({dx:t,dy:i})}}_M.$inject=["config.keyboardMove","keyboard","canvas"];var xM={__depends__:[bM],__init__:["keyboardMove"],keyboardMove:["type",_M]},kM=/^djs-cursor-.*$/;function EM(e){var t=vx(document.body);t.removeMatching(kM),e&&t.add("djs-cursor-"+e)}function SM(){EM(null)}function jM(e,t){function n(){return!1}return t=t||"element.click",e.once(t,5e3,n),function(){e.off(t,n)}}function MM(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function AM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CM(e,t){var n;function i(i){var r,o=n.start,a=n.button,s=Lj(i),c=AM(s,o);(!n.dragging&&(r=c,Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))>15)&&(n.dragging=!0,0===a&&jM(e),EM("grab")),n.dragging)&&(c=AM(s,n.last||n.start),t.scroll({dx:c.x,dy:c.y}),n.last=s);i.preventDefault()}function r(e){Mx.unbind(document,"mousemove",i),Mx.unbind(document,"mouseup",r),n=null,SM()}e.on("element.mousedown",500,(function(e){return function(e){if(kx(e.target,".djs-draggable"))return;var t=e.button;if(t>=2||e.ctrlKey||e.shiftKey||e.altKey)return;return n={button:t,start:Lj(e)},Mx.bind(document,"mousemove",i),Mx.bind(document,"mouseup",r),!0}(e.originalEvent)})),this.isActive=function(){return!!n}}CM.$inject=["eventBus","canvas"];var TM={__init__:["moveCanvas"],moveCanvas:["type",CM]};function PM(e){return Math.log(e)/Math.log(10)}function RM(e,t){var n=PM(e.min),i=PM(e.max);return(Math.abs(n)+Math.abs(i))/t}var BM=Math.sign||function(e){return e>=0?1:-1},OM={min:.2,max:4};function IM(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=sx(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||.75;var i=this;t.on("canvas.init",(function(t){i._init(!1!==e.enabled)}))}IM.$inject=["config.zoomScroll","eventBus","canvas"],IM.prototype.scroll=function(e){this._canvas.scroll(e)},IM.prototype.reset=function(){this._canvas.zoom("fit-viewport")},IM.prototype.zoom=function(e,t){var n=RM(OM,20);this._totalDelta+=e,Math.abs(this._totalDelta)>.1&&(this._zoom(e,t,n),this._totalDelta=0)},IM.prototype._handleWheel=function(e){if(!kx(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,i=e.ctrlKey,r=e.shiftKey,o=-1*this._scale;if(o*=i?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,i){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*BM(e.deltaY)*o,this.zoom(n,s)}else n=r?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},IM.prototype.stepZoom=function(e,t){var n=RM(OM,10);this._zoom(e,t,n)},IM.prototype._zoom=function(e,t,n){var i=this._canvas,r=e>0?1:-1,o=PM(i.zoom()),a=Math.round(o/n)*n;a+=n*r;var s,c,u=Math.pow(10,a);i.zoom((s=OM,c=u,Math.max(s.min,Math.min(s.max,c))),t)},IM.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,i=this._enabled;return void 0===e&&(e=!i),i!==e&&Mx[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e,e},IM.prototype._init=function(e){this.toggle(e)};var DM={__init__:["zoomScroll"],zoomScroll:["type",IM]};function FM(e){uM.call(this,e)}S_()(FM,uM),FM.prototype._navigationModules=[xM,TM,DM],FM.prototype._modules=[].concat(uM.prototype._modules,FM.prototype._navigationModules);var zM=n(65),NM=n.n(zM),LM=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function qM(e,t){return t.get(e,!1)}function HM(e){e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"==typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function UM(e){function t(t){setTimeout((function(){U_(LM,(function(t){Mx.unbind(e,t,HM,!0)}))}),500)}Mx.bind(e,"touchstart",(function(t){U_(LM,(function(t){Mx.bind(e,t,HM,!0)}))}),!0),Mx.bind(e,"touchend",t,!0),Mx.bind(e,"touchcancel",t,!0);var n=new NM.a.Manager(e,{inputClass:NM.a.TouchInput,recognizers:[],domEvents:!0}),i=new NM.a.Tap,r=new NM.a.Pan({threshold:10}),o=new NM.a.Press,a=new NM.a.Pinch,s=new NM.a.Tap({event:"doubletap",taps:2});return a.requireFailure(r),a.requireFailure(o),n.add([r,o,a,s,i]),n.reset=function(e){var t=this.recognizers,i=this.session;i.stopped||(n.stop(e),setTimeout((function(){var e,n;for(e=0;n=t[e];e++)n.reset(),n.state=8;i.curRecognizer=null}),0))},n.on("hammer.input",(function(e){e.srcEvent.defaultPrevented&&n.reset(!0)})),n}function $M(e,t,n,i,r){var o,a=qM("dragging",e),s=qM("move",e),c=qM("contextPad",e),u=qM("palette",e);function l(e,t){return function(n){var o=p(n.target),a=o&&i.get(o);return t&&(n.srcEvent.button=t),r.fire(e,n,a)}}function p(e){return kx(e,"svg, .djs-element",!0)}function h(e){function n(e){var n=p(e.target),r=n&&i.get(n);if(s&&t.getRootElement()!==r)return s.start(e,r,!0);!function(e){var n=0,i=0;function r(e){var r=e.deltaX-n,o=e.deltaY-i;t.scroll({dx:r,dy:o}),n=e.deltaX,i=e.deltaY}function a(e){o.off("panmove",r),o.off("panend",a),o.off("pancancel",a)}o.on("panmove",r),o.on("panend",a),o.on("pancancel",a)}()}(o=UM(e)).on("tap",l("element.click")),o.on("doubletap",l("element.dblclick",1)),o.on("panstart",n),o.on("press",n),o.on("pinchstart",(function(e){var n=t.zoom(),i=e.center;function r(e){var r=1-(1-e.scale)/1.5,o=Math.max(.2,Math.min(4,r*n));t.zoom(o,i),HM(e)}function a(e){o.off("pinchmove",r),o.off("pinchend",a),o.off("pinchcancel",a),o.reset(!0)}o.on("pinchmove",r),o.on("pinchend",a),o.on("pinchcancel",a)}))}a&&n.on("drag.move",(function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=Lj(t),r=p(document.elementFromPoint(n.x,n.y)),o=r&&i.get(r);o!==e.hover&&(e.hover&&a.out(e),o&&(a.hover({element:o,gfx:r}),e.hover=o,e.hoverGfx=r))}})),c&&n.on("contextPad.create",(function(e){var t=UM(e.pad.html);t.on("panstart",(function(e){c.trigger("dragstart",e,!0)})),t.on("press",(function(e){c.trigger("dragstart",e,!0)})),t.on("tap",(function(e){c.trigger("click",e)}))})),u&&n.on("palette.create",(function(e){var t=UM(e.container);t.on("panstart",(function(e){u.trigger("dragstart",e,!0)})),t.on("press",(function(e){u.trigger("dragstart",e,!0)})),t.on("tap",(function(e){u.trigger("click",e)}))})),n.on("canvas.init",(function(e){h(e.svg)}))}function VM(e,t){var n=this;t.on("canvas.init",(function(e){n.addBBoxMarker(e.svg)}))}$M.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],VM.$inject=["canvas","eventBus"],VM.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=tk("rect");Hx(n,{x:-1e4,y:1e4,width:10,height:10}),Hx(n,t),Nx(e,n);var i=tk("rect");Hx(i,{x:1e4,y:1e4,width:10,height:10}),Hx(i,t),Nx(e,i)};var WM={__depends__:[{__depends__:[Kj],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",$M],touchFix:["type",VM]}]};function GM(e){return e&&e[e.length-1]}function KM(e){return e.y}function ZM(e){return e.x}var YM={left:ZM,center:ZM,right:function(e){return e.x+e.width},top:KM,middle:KM,bottom:function(e){return e.y+e.height}};function XM(e){this._modeling=e}XM.$inject=["modeling"],XM.prototype._getOrientationDetails=function(e){var t="x",n="width";return-1!==["top","bottom","middle"].indexOf(e)&&(t="y",n="height"),{axis:t,dimension:n}},XM.prototype._isType=function(e,t){return-1!==t.indexOf(e)},XM.prototype._alignmentPosition=function(e,t){var n,i,r,o=this._getOrientationDetails(e),a=o.axis,s=o.dimension,c={},u={},l=!1;if(this._isType(e,["left","top"]))c[e]=t[0][a];else if(this._isType(e,["right","bottom"]))r=GM(t),c[e]=r[a]+r[s];else if(this._isType(e,["center","middle"])){if(U_(t,(function(e){var t=e[a]+Math.round(e[s]/2);u[t]?u[t].elements.push(e):u[t]={elements:[e],center:t}})),n=ex(u,(function(e){return e.elements.length>1&&(l=!0),e.elements.length})),l)return c[e]=GM(n).center,c;i=t[0],r=GM(t=ex(t,(function(e){return e[a]+e[s]}))),c[e]=function(e,t){return Math.round((e[a]+t[a]+t[s])/2)}(i,r)}return c},XM.prototype.trigger=function(e,t){var n=this._modeling,i=H_(e,(function(e){return!(e.waypoints||e.host||e.labelTarget)}));if(!(i.length<2)){var r=ex(i,YM[t]),o=this._alignmentPosition(t,r);n.alignElements(r,o)}};var JM={__init__:["alignElements"],alignElements:["type",XM]};function QM(e,t,n){var i,r,o=this,a=n.get("dragging",!1);a&&t.on("drag.start",(function(n){t.once("drag.move",1500,(function(t){!function(t){if(!t.hover){var n=t.originalEvent,i=o._findTargetGfx(n),r=i&&e.get(i);i&&r&&(t.stopPropagation(),a.hover({element:r,gfx:i}),a.move(n))}}(t)}))})),t.on("element.hover",(function(e){i=e.gfx,r=e.element})),t.on("element.hover",1500,(function(e){r&&t.fire("element.out",{element:r,gfx:i})})),t.on("element.out",(function(){i=null,r=null})),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=Lj(e),function(e){return kx(e,"svg, .djs-element",!0)}(document.elementFromPoint(t.x,t.y))}}QM.$inject=["elementRegistry","eventBus","injector"];var eA={__init__:["hoverFix"],hoverFix:["type",QM]},tA=Math.round;function nA(e){e.preventDefault()}function iA(e,t,n,i){var r,o={threshold:5,trapClick:!0};function a(e){var n=t.viewbox(),i=t._container.getBoundingClientRect();return{x:n.x+(e.x-i.left)/n.scale,y:n.y+(e.y-i.top)/n.scale}}function s(t,n){n=n||r;var i=e.createEvent(ux({},n.payload,n.data,{isTouch:n.isTouch}));return!1!==e.fire("drag."+t,i)&&e.fire(n.prefix+"."+t,i)}function c(e,i){var o,c=r.payload,u=r.displacement,l=r.globalStart,p=Lj(e),h=AM(p,l),f=r.localStart,d=a(p),g=AM(d,f);if(!r.active&&(i||(o=h,Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))>r.threshold))){if(ux(c,{x:tA(f.x+u.x),y:tA(f.y+u.y),dx:0,dy:0},{originalEvent:e}),!1===s("start"))return m();r.active=!0,r.keepSelection||(c.previousSelection=n.get(),n.select(null)),r.cursor&&EM(r.cursor),t.addMarker(t.getRootElement(),"djs-drag-active")}Nj(e),r.active&&(ux(c,{x:tA(d.x+u.x),y:tA(d.y+u.y),dx:tA(g.x),dy:tA(g.y)},{originalEvent:e}),s("move"))}function u(e){var t=!0;r.active&&(e&&(r.payload.originalEvent=e,Nj(e)),t=s("end")),!1===t&&s("rejected"),s("ended",g(!0!==t))}function l(e){27===e.which&&(nA(e),m())}function p(t){var n;r.active&&(n=jM(e),setTimeout(n,400),nA(t)),u(t)}function h(e){c(e)}function f(e){var t=r.payload;t.hoverGfx=e.gfx,t.hover=e.element,s("hover")}function d(e){s("out");var t=r.payload;t.hoverGfx=null,t.hover=null}function m(e){var t;if(r){var n=r.active;n&&s("cancel"),t=g(e),n&&s("canceled",t)}}function g(o){var a,g;s("cleanup"),SM(),g=r.trapClick?p:u,Mx.unbind(document,"mousemove",c),Mx.unbind(document,"dragstart",nA),Mx.unbind(document,"selectstart",nA),Mx.unbind(document,"mousedown",g,!0),Mx.unbind(document,"mouseup",g,!0),Mx.unbind(document,"keyup",l),Mx.unbind(document,"touchstart",h,!0),Mx.unbind(document,"touchcancel",m,!0),Mx.unbind(document,"touchmove",c,!0),Mx.unbind(document,"touchend",u,!0),e.off("element.hover",f),e.off("element.out",d),t.removeMarker(t.getRootElement(),"djs-drag-active");var v=r.payload.previousSelection;return!1!==o&&v&&!n.get().length&&function(e){var t=e.filter((function(e){return i.get(e.id)}));t.length&&n.select(t)}(v),a=r,r=null,a}e.on("diagram.destroy",m),this.init=function(t,n,i,g){r&&m(!1),"string"==typeof n&&(g=i,i=n,n=null);var v,y,b,w,_,x=(g=ux({},o,g||{})).data||{};w=g.trapClick?p:u,t?(v=zj(t)||t,y=Lj(t),Nj(t),"dragstart"===v.type&&nA(v)):(v=null,y={x:0,y:0}),b=a(y),n||(n=b),_=function(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}(v),r=ux({prefix:i,data:x,payload:{},globalStart:y,displacement:AM(n,b),localStart:b,isTouch:_},g),g.manual||(_?(Mx.bind(document,"touchstart",h,!0),Mx.bind(document,"touchcancel",m,!0),Mx.bind(document,"touchmove",c,!0),Mx.bind(document,"touchend",u,!0)):(Mx.bind(document,"mousemove",c),Mx.bind(document,"dragstart",nA),Mx.bind(document,"selectstart",nA),Mx.bind(document,"mousedown",w,!0),Mx.bind(document,"mouseup",w,!0)),Mx.bind(document,"keyup",l),e.on("element.hover",f),e.on("element.out",d)),s("init"),g.autoActivate&&c(t,!0)},this.move=c,this.hover=f,this.out=d,this.end=u,this.cancel=m,this.context=function(){return r},this.setOptions=function(e){ux(o,e)}}iA.$inject=["eventBus","canvas","selection","elementRegistry"];var rA={__depends__:[eA,tM],dragging:["type",iA]};function oA(e,t,n){this._canvas=n,this._opts=ux({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",(function(e){var t=i._toBorderPoint(e);i.startScroll(t)})),t.on(["drag.cleanup"],(function(){i.stopScroll()}))}function aA(e,t,n){return t<e&&e<n}oA.$inject=["config.autoScroll","eventBus","canvas"],oA.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,i=this,r=t.getContainer().getBoundingClientRect(),o=[e.x,e.y,r.width-e.x,r.height-e.y];this.stopScroll();for(var a=0,s=0,c=0;c<4;c++)aA(o[c],n.scrollThresholdOut[c],n.scrollThresholdIn[c])&&(0===c?a=n.scrollStep:1==c?s=n.scrollStep:2==c?a=-n.scrollStep:3==c&&(s=-n.scrollStep));0===a&&0===s||(t.scroll({dx:a,dy:s}),this._scrolling=setTimeout((function(){i.startScroll(e)}),n.scrollRepeatTimeout))},oA.prototype.stopScroll=function(){clearTimeout(this._scrolling)},oA.prototype.setOptions=function(e){this._opts=ux({},this._opts,e)},oA.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=Lj(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};var sA={__depends__:[rA],__init__:["autoScroll"],autoScroll:["type",oA]};function cA(e){this._commandStack=e.get("commandStack",!1)}cA.$inject=["injector"],cA.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(e,t)),void 0===n||n};var uA={__init__:["rules"],rules:["type",cA]},lA=Math.round,pA=Math.max;function hA(e,t){return function(e,t){var n,i;for(n=0;i=e[n];n++)if(Hk(i,t)<=10)return{point:e[n],bendpoint:!0,index:n};return null}(e,t)||function(e,t){var n,i,r,o,a=Kk()((r=10,[["M",(i=t).x,i.y],["m",0,-r],["a",r,r,0,1,1,0,2*r],["a",r,r,0,1,1,0,-2*r],["z"]]),(n=[],e.forEach((function(e,t){n.push([0===t?"M":"L",e.x,e.y])})),n)),s=a[0],c=a[a.length-1];return s?s!==c?s.segment2!==c.segment2?{point:e[o=pA(s.segment2,c.segment2)-1],bendpoint:!0,index:o}:{point:{x:lA(s.x+c.x)/2,y:lA(s.y+c.y)/2},index:s.segment2}:{point:{x:lA(s.x),y:lA(s.y)},index:s.segment2}:null}(e,t)}function fA(e,t,n){return hA(t,function(e,t){var n,i=Lj(t),r=e._container.getBoundingClientRect();n={x:r.left,y:r.top};var o=e.viewbox();return{x:o.x+(i.x-n.x)/o.scale,y:o.y+(i.y-n.y)/o.scale}}(e,n))}function dA(e,t){var n=tk("g");Gx(n).add("djs-bendpoint"),Nx(e,n);var i=tk("circle");Hx(i,{cx:0,cy:0,r:4}),Gx(i).add("djs-visual"),Nx(n,i);var r=tk("circle");return Hx(r,{cx:0,cy:0,r:10}),Gx(r).add("djs-hit"),Nx(n,r),t&&Gx(n).add(t),n}function mA(e,t,n,i){var r=tk("g");Nx(e,r);var o=function(e,t,n){var i=t.x-e.x,r=t.y-e.y;return vA("h"===n?i:r)}(t,n,i),a=tk("rect");Hx(a,{x:-7,y:-1.5,width:14,height:3}),Gx(a).add("djs-visual"),Nx(r,a);var s,c,u,l=tk("rect");return Hx(l,{x:-o/2,y:-7,width:o,height:14}),Gx(l).add("djs-hit"),Nx(r,l),s=r,c="v"===i?90:0,(u=rk()).setRotate(c,0,0),fk(s,u),r}function gA(e,t,n){var i=tk("g"),r=Wk(t,n),o=$k(t,n);return Nx(e,i),mA(i,t,n,o),Gx(i).add("djs-segment-dragger"),Gx(i).add("h"===o?"horizontal":"vertical"),jE(i,r.x,r.y),i}function vA(e){return Math.abs(Math.round(2*e/3))}var yA=n(740),bA=n.n(yA);function wA(e,t,n,i,r){function o(e,n){var o=n.waypoints,a=fA(t,o,e);if(a)return!function(e,t,n){var i,r,o,a,s,c,u=e.index,l=e.point;return!(u<=0||e.bendpoint)&&(o=Wk(i=t[u-1],r=t[u]),a=$k(i,r),s=Math.abs(l.x-o.x),c=Math.abs(l.y-o.y),a&&s<=n&&c<=n)}(a,o,function(e,t){var n,i,r=e.waypoints;return t.index<=0||t.bendpoint?null:(i=$k((n={start:r[t.index-1],end:r[t.index]}).start,n.end))?vA("h"===i?n.end.x-n.start.x:n.end.y-n.start.y)/2:null}(n,a))?i.start(e,n,a.index,!a.bendpoint):r.start(e,n,a.index),!0}function a(e,t,i){Mx.bind(e,t,(function(e){n.triggerMouseEvent(t,e,i),e.stopPropagation()}))}function s(e,n){var i=t.getLayer("overlays"),r=Ox('.djs-bendpoints[data-element-id="'+bA()(e.id)+'"]',i);return!r&&n&&(Hx(r=tk("g"),{"data-element-id":e.id}),Gx(r).add("djs-bendpoints"),Nx(i,r),a(r,"mousedown",e),a(r,"click",e),a(r,"dblclick",e)),r}function c(e,t){return Ox('.djs-segment-dragger[data-segment-idx="'+e+'"]',t)}function u(e,t){t.waypoints.forEach((function(t,n){var i=dA(e);Nx(e,i),jE(i,t.x,t.y)})),dA(e,"floating")}function l(e,t){for(var n,i,r,o=t.waypoints,s=1;s<o.length;s++)$k(n=o[s-1],i=o[s])&&(Hx(r=gA(e,n,i),{"data-segment-idx":s}),a(r,"mousemove",t))}function p(e){var t=s(e);return t||(u(t=s(e,!0),e),l(t,e)),t}function h(e){var t=s(e);t&&(!function(e){U_(Ix(".djs-segment-dragger",e),(function(e){Zx(e)}))}(t),function(e){U_(Ix(".djs-bendpoint",e),(function(e){Zx(e)}))}(t),l(t,e),u(t,e))}function f(e,t,n){var i,r,o=c(t.index,e),a=n[t.index-1],s=n[t.index],u=t.point,l=Wk(a,s),p=$k(a,s);o&&(i=function(e){return Ox(".djs-visual",e)}(o),r={x:u.x-l.x,y:u.y-l.y},"v"===p&&(r={x:r.y,y:r.x}),jE(i,r.x,r.y))}e.on("connection.changed",(function(e){h(e.element)})),e.on("connection.remove",(function(e){var t=s(e.element);t&&Zx(t)})),e.on("element.marker.update",(function(e){var t,n=e.element;n.waypoints&&(t=p(n),e.add?Gx(t).add(e.marker):Gx(t).remove(e.marker))})),e.on("element.mousemove",(function(e){var n,i,r=e.element,o=r.waypoints;if(o){if(n=s(r,!0),!(i=fA(t,o,e.originalEvent)))return;!function(e,t){var n=Ox(".floating",e),i=t.point;n&&jE(n,i.x,i.y)}(n,i),i.bendpoint||f(n,i,o)}})),e.on("element.mousedown",(function(e){if(Hj(e)){var t=e.originalEvent,n=e.element;if(n.waypoints)return o(t,n)}})),e.on("selection.changed",(function(e){var t=e.newSelection[0];t&&t.waypoints&&p(t)})),e.on("element.hover",(function(e){var t=e.element;t.waypoints&&(p(t),n.registerEvent(e.gfx,"mousemove","element.mousemove"))})),e.on("element.out",(function(e){n.unregisterEvent(e.gfx,"mousemove","element.mousemove")})),e.on("element.updateId",(function(e){var t=e.element,n=e.newId;if(t.waypoints){var i=s(t);i&&Hx(i,{"data-element-id":n})}})),this.addHandles=p,this.updateHandles=h,this.getBendpointsContainer=s,this.getSegmentDragger=c}wA.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var _A=Math.round;function xA(e,t,n,i,r,o){this._injector=e,this.start=function(e,t,o,a){var s,c=n.getGraphics(t),u=t.source,l=t.target,p=t.waypoints,h="updateWaypoints"===(s=a||0!==o?a||o!==p.length-1?"updateWaypoints":"reconnectEnd":"reconnectStart")?"connection.updateWaypoints":"connection.reconnect",f=r.allowed(h,{connection:t,source:u,target:l});!1===f&&(f=r.allowed(h,{connection:t,source:l,target:u})),!1!==f&&i.init(e,"bendpoint.move",{data:{connection:t,connectionGfx:c,context:{allowed:f,bendpointIndex:o,connection:t,source:u,target:l,insert:a,type:s}}})},t.on("bendpoint.move.hover",(function(e){var t,n=e.context,i=n.connection,o=i.source,a=i.target,s=e.hover,c=n.type;if(n.hover=s,s){var u="updateWaypoints"===c?"connection.updateWaypoints":"connection.reconnect";if(t=n.allowed=r.allowed(u,{connection:i,source:"reconnectStart"===c?s:o,target:"reconnectEnd"===c?s:a}))return n.source="reconnectStart"===c?s:o,void(n.target="reconnectEnd"===c?s:a);!1===t&&(t=n.allowed=r.allowed(u,{connection:i,source:"reconnectEnd"===c?s:a,target:"reconnectStart"===c?s:o})),t&&(n.source="reconnectEnd"===c?s:a,n.target="reconnectStart"===c?s:o)}})),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],(function(e){var t=e.context,n=t.type;t.hover=null,t.source=null,t.target=null,"updateWaypoints"!==n&&(t.allowed=!1)})),t.on("bendpoint.move.end",(function(e){var t=e.context,n=t.allowed,i=t.bendpointIndex,r=t.connection,a=t.insert,s=r.waypoints.slice(),c=t.source,u=t.target,l=t.type,p=t.hints||{},h={x:_A(e.x),y:_A(e.y)};if(!n)return!1;"updateWaypoints"===l?(a?s.splice(i,0,h):s[i]=h,p.bendpointMove={insert:a,bendpointIndex:i},s=this.cropWaypoints(r,s),o.updateWaypoints(r,function(e){e=e.slice();for(var t,n,i,r=0;e[r];)t=e[r],n=e[r-1],0===Hk(t,i=e[r+1])||Uk(n,i,t)?e.splice(r,1):r++;return e}(s),p)):("reconnectStart"===l?(p.docking="source",kA(t)&&(p.docking="target",p.newWaypoints=s.reverse())):"reconnectEnd"===l&&(p.docking="target",kA(t)&&(p.docking="source",p.newWaypoints=s.reverse())),o.reconnect(r,c,u,h,p))}),this)}function kA(e){var t=e.hover,n=e.source,i=e.target,r=e.type;return"reconnectStart"===r?t&&i&&t===i&&n!==i:"reconnectEnd"===r?t&&n&&t===n&&n!==i:void 0}xA.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],xA.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t};function EA(e,t,n,i){this._injector=t;var r=t.get("connectionPreview",!1);n.on("bendpoint.move.start",(function(e){var t=e.context,n=t.bendpointIndex,r=t.connection,o=t.insert,a=r.waypoints,s=a.slice();t.waypoints=a,o&&s.splice(n,0,{x:e.x,y:e.y}),r.waypoints=s,Gx(t.draggerGfx=dA(i.getLayer("overlays"))).add("djs-dragging"),i.addMarker(r,"djs-element-hidden"),i.addMarker(r,"djs-updating")})),n.on("bendpoint.move.hover",(function(e){var t=e.context,n=t.allowed,r=t.hover,o=t.type;if(r){if(i.addMarker(r,"connect-hover"),"updateWaypoints"===o)return;n?(i.removeMarker(r,"connect-not-ok"),i.addMarker(r,"connect-ok")):!1===n&&(i.removeMarker(r,"connect-ok"),i.addMarker(r,"connect-not-ok"))}})),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],1100,(function(e){var t=e.context,n=t.hover,r=t.target;n&&(i.removeMarker(n,"connect-hover"),i.removeMarker(n,r?"connect-ok":"connect-not-ok"))})),n.on("bendpoint.move.move",(function(t){var n=t.context,i=n.allowed,o=n.bendpointIndex,a=n.draggerGfx,s=n.hover,c=n.type,u=n.connection,l=u.source,p=u.target,h=u.waypoints.slice(),f={x:t.x,y:t.y},d=n.hints||{},m={};r&&(d.connectionStart&&(m.connectionStart=d.connectionStart),d.connectionEnd&&(m.connectionEnd=d.connectionEnd),"reconnectStart"===c?kA(n)?(m.connectionEnd=m.connectionEnd||f,m.source=p,m.target=s||l,h=h.reverse()):(m.connectionStart=m.connectionStart||f,m.source=s||l,m.target=p):"reconnectEnd"===c?kA(n)?(m.connectionStart=m.connectionStart||f,m.source=s||p,m.target=l,h=h.reverse()):(m.connectionEnd=m.connectionEnd||f,m.source=l,m.target=s||p):(m.noCropping=!0,m.noLayout=!0,h[o]=f),"updateWaypoints"===c&&(h=e.cropWaypoints(u,h)),m.waypoints=h,r.drawPreview(n,i,m)),jE(a,t.x,t.y)}),this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],1100,(function(e){var t=e.context,n=t.connection,o=t.draggerGfx,a=t.hover,s=t.target,c=t.waypoints;n.waypoints=c,Zx(o),i.removeMarker(n,"djs-updating"),i.removeMarker(n,"djs-element-hidden"),a&&(i.removeMarker(a,"connect-ok"),i.removeMarker(a,s?"connect-ok":"connect-not-ok")),r&&r.cleanUp(t)}))}EA.$inject=["bendpointMove","injector","eventBus","canvas"];function SA(e,t,n){return jA(e,t,e[t]+n)}function jA(e,t,n){return{x:"x"===t?n:e.x,y:"y"===t?n:e.y}}function MA(e){return"x"===e?"y":"x"}function AA(e,t,n){var i,r;return e.original?e.original:(i=Jk(t),jA(e,r=MA(n),i[r]))}function CA(e,t,n,i,r,o){var a=e.get("connectionDocking",!1);function s(e,t){if(!a)return t;var n,i=e.waypoints;return e.waypoints=t,n=a.getCroppedWaypoints(e),e.waypoints=i,n}function c(e){r.update("connection",e.connection,e.connectionGfx)}function u(e,t,n){var i=e.newWaypoints,r=function(e,t,n,i){var r=Math.max(t[i],n[i]),o=Math.min(t[i],n[i]);return jA(t,i,Math.min(Math.max(o+20,e[i]),r-20))}(n,i[e.segmentStartIndex+t],i[e.segmentEndIndex+t],MA(e.axis));jE(e.draggerGfx,r.x,r.y)}this.start=function(e,t,r){var o,a,s,c,u=n.getGraphics(t),l=r-1,p=r,h=t.waypoints,f=h[l],d=h[p],m=fA(n,h,e);(a=$k(f,d))&&(s="v"===a?"x":"y",0===l&&(f=AA(f,t.source,s)),p===h.length-1&&(d=AA(d,t.target,s)),o={connection:t,segmentStartIndex:l,segmentEndIndex:p,segmentStart:f,segmentEnd:d,axis:s,dragPosition:c=m?m.point:{x:(f.x+d.x)/2,y:(f.y+d.y)/2}},i.init(e,c,"connectionSegment.move",{cursor:"x"===s?"resize-ew":"resize-ns",data:{connection:t,connectionGfx:u,context:o}}))},t.on("connectionSegment.move.start",(function(e){var t=e.context,i=e.connection,r=n.getLayer("overlays");t.originalWaypoints=i.waypoints.slice(),t.draggerGfx=gA(r,t.segmentStart,t.segmentEnd),Gx(t.draggerGfx).add("djs-dragging"),n.addMarker(i,"djs-updating")})),t.on("connectionSegment.move.move",(function(e){var t,n,i=e.context,r=i.connection,o=i.segmentStartIndex,a=i.segmentEndIndex,l=i.segmentStart,p=i.segmentEnd,h=i.axis,f=i.originalWaypoints.slice(),d=SA(l,h,e["d"+h]),m=SA(p,h,e["d"+h]),g=f.length,v=0;f[o]=d,f[a]=m,o<2&&(t=Qk(r.source,d),1===o?"intersect"===t&&(f.shift(),f[0]=d,v--):"intersect"!==t&&(f.unshift(l),v++)),a>g-3&&(n=Qk(r.target,m),a===g-2?"intersect"===n&&(f.pop(),f[f.length-1]=m):"intersect"!==n&&f.push(p)),i.newWaypoints=r.waypoints=s(r,f),u(i,v,e),i.newSegmentStartIndex=o+v,c(e)})),t.on("connectionSegment.move.hover",(function(e){e.context.hover=e.hover,n.addMarker(e.hover,"connect-hover")})),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],(function(e){var t=e.context.hover;t&&n.removeMarker(t,"connect-hover")})),t.on("connectionSegment.move.cleanup",(function(e){var t=e.context,i=t.connection;t.draggerGfx&&Zx(t.draggerGfx),n.removeMarker(i,"djs-updating")})),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],(function(e){var t=e.context;t.connection.waypoints=t.originalWaypoints,c(e)})),t.on("connectionSegment.move.end",(function(e){var t=e.context,n=t.connection,i=t.newWaypoints,r=t.newSegmentStartIndex,a=function(e,t){var n=0;return{waypoints:e.filter((function(i,r){return!Uk(e[r-1],e[r+1],i)||(n=r<=t?n-1:n,!1)})),segmentOffset:n}}(i=i.map((function(e){return{original:e.original,x:Math.round(e.x),y:Math.round(e.y)}})),r),c=s(n,a.waypoints),u=a.segmentOffset,l={segmentMove:{segmentStartIndex:t.segmentStartIndex,newSegmentStartIndex:r+u}};o.updateWaypoints(n,c,l)}))}CA.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var TA=Math.abs,PA=Math.round;function RA(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:PA(e.x+e.width/2),y:PA(e.y+e.height/2)}}function BA(e,t){var n=e.snapped;return!!n&&("string"==typeof t?n[t]:n.x&&n.y)}function OA(e,t,n){if("string"!=typeof t)throw new Error("axis must be in [x, y]");if("number"!=typeof n&&!1!==n)throw new Error("value must be Number or false");var i,r=e[t],o=e.snapped=e.snapped||{};return!1===n?o[t]=!1:(o[t]=!0,i=n-r,e[t]+=i,e["d"+t]+=i),r}function IA(e){return e.children||[]}var DA=Math.abs,FA=Math.round;function zA(e){function t(e,t){if(I_(e)){for(var n=e.length;n--;)if(DA(e[n]-t)<=10)return e[n]}else{var i=t%(e=+e);if(i<10)return t-i;if(i>e-10)return t-i+e}return t}function n(e){if(e.width)return{x:FA(e.width/2+e.x),y:FA(e.height/2+e.y)}}e.on("connectionSegment.move.move",1500,(function(e){var i,r,o=function(e){var t=e.snapPoints,i=e.connection,r=i.waypoints,o=e.segmentStart,a=e.segmentStartIndex,s=e.segmentEnd,c=e.segmentEndIndex,u=e.axis;if(t)return t;var l=[r[a-1],o,s,r[c+1]];return a<2&&l.unshift(n(i.source)),c>r.length-3&&l.unshift(n(i.target)),e.snapPoints=t={horizontal:[],vertical:[]},U_(l,(function(e){e&&(e=e.original||e,"y"===u&&t.horizontal.push(e.y),"x"===u&&t.vertical.push(e.x))})),t}(e.context),a=e.x,s=e.y;if(o){var c=a-(i=t(o.vertical,a)),u=s-(r=t(o.horizontal,s));ux(e,{dx:e.dx-c,dy:e.dy-u,x:i,y:r}),(c||-1!==o.vertical.indexOf(a))&&OA(e,"x",i),(u||-1!==o.horizontal.indexOf(s))&&OA(e,"y",r)}})),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,(function(e){var i,r,o=e.context,a=function(e){var t=e.snapPoints,n=e.connection.waypoints,i=e.bendpointIndex;if(t)return t;var r=[n[i-1],n[i+1]];return e.snapPoints=t={horizontal:[],vertical:[]},U_(r,(function(e){e&&(e=e.original||e,t.horizontal.push(e.y),t.vertical.push(e.x))})),t}(o),s=o.hover,c=s&&n(s),u=e.x,l=e.y;if(a){var p=u-(i=t(c?a.vertical.concat([c.x]):a.vertical,u)),h=l-(r=t(c?a.horizontal.concat([c.y]):a.horizontal,l));ux(e,{dx:e.dx-p,dy:e.dy-h,x:e.x-p,y:e.y-h}),(p||-1!==a.vertical.indexOf(u))&&OA(e,"x",i),(h||-1!==a.horizontal.indexOf(l))&&OA(e,"y",r)}}))}zA.$inject=["eventBus"];var NA={__depends__:[rA,uA],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",wA],bendpointMove:["type",xA],bendpointMovePreview:["type",EA],connectionSegmentMove:["type",CA],bendpointSnapping:["type",zA]};function LA(e,t,n,i){function r(e,t){return i.allowed("connection.create",{source:e,target:t})}e.on("connect.hover",(function(e){var t,n=e.context,i=n.start,o=e.hover;if(n.hover=o,!O_(t=n.canExecute=r(i,o))){if(!1!==t)return n.source=i,void(n.target=o);O_(t=n.canExecute=r(o,i))||!1!==t&&(n.source=o,n.target=i)}})),e.on(["connect.out","connect.cleanup"],(function(e){var t=e.context;t.hover=null,t.source=null,t.target=null,t.canExecute=!1})),e.on("connect.end",(function(e){var t=e.context,i=t.canExecute,r=t.connectionStart,o={x:e.x,y:e.y},a=t.source,s=t.target;if(!i)return!1;var c=null,u={connectionStart:qA(t)?o:r,connectionEnd:qA(t)?r:o};D_(i)&&(c=i),n.connect(a,s,c,u)})),this.start=function(e,n,i,r){D_(i)||(r=i,i=Jk(n)),t.init(e,"connect",{autoActivate:r,data:{shape:n,context:{start:n,connectionStart:i}}})}}function qA(e){var t=e.hover,n=e.source,i=e.target;return t&&n&&t===n&&n!==i}LA.$inject=["eventBus","dragging","modeling","rules"];function HA(e,t,n){var i=e.get("connectionPreview",!1);i&&t.on("connect.move",(function(e){var t=e.context,n=t.canExecute,r=t.hover,o=t.source,a=t.start,s=t.startPosition,c=t.target,u=t.connectionStart||s,l=t.connectionEnd||{x:e.x,y:e.y},p=u,h=l;qA(t)&&(p=l,h=u),i.drawPreview(t,n,{source:o||a,target:c||r,connectionStart:p,connectionEnd:h})})),t.on("connect.hover",900,(function(e){var t=e.context,i=e.hover,r=t.canExecute;null!==r&&n.addMarker(i,r?"connect-ok":"connect-not-ok")})),t.on(["connect.out","connect.cleanup"],1100,(function(e){var t=e.hover;t&&(n.removeMarker(t,"connect-ok"),n.removeMarker(t,"connect-not-ok"))})),i&&t.on("connect.cleanup",(function(e){i.cleanUp(e.context)}))}HA.$inject=["injector","eventBus","canvas"];var UA={__depends__:[tM,uA,rA],__init__:["connectPreview"],connect:["type",LA],connectPreview:["type",HA]};function $A(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}$A.$inject=["injector","canvas","graphicsFactory","elementFactory"],$A.prototype.drawPreview=function(e,t,n){n=n||{};var i,r,o,a=e.connectionPreviewGfx,s=e.getConnection,c=n.source,u=n.target,l=n.waypoints,p=n.connectionStart,h=n.connectionEnd,f=n.noLayout,d=n.noCropping,m=n.noNoop,g=this;a||(a=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),Yx(a),s||(s=e.getConnection=(r=function(e,t,n){return g.getConnection(e,t,n)},o={},function(e){var t=JSON.stringify(e),n=o[t];return n||(n=o[t]=r.apply(null,arguments)),n})),t&&(i=s(t,c,u)),i?(i.waypoints=l||[],this._layouter&&!f&&(i.waypoints=this._layouter.layoutConnection(i,{source:c,target:u,connectionStart:p,connectionEnd:h,waypoints:n.waypoints||i.waypoints})),i.waypoints&&i.waypoints.length||(i.waypoints=[c?Jk(c):p,u?Jk(u):h]),this._connectionDocking&&(c||u)&&!d&&(i.waypoints=this._connectionDocking.getCroppedWaypoints(i,c,u)),this._graphicsFactory.drawConnection(a,i)):!m&&this.drawNoopPreview(a,n)},$A.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,r=t.connectionStart||Jk(n),o=t.connectionEnd||Jk(i),a=this.cropWaypoints(r,o,n,i);Nx(e,this.createNoopConnection(a[0],a[1]))},$A.prototype.cropWaypoints=function(e,t,n,i){var r=this._graphicsFactory,o=n&&r.getShapePath(n),a=i&&r.getShapePath(i),s=r.getConnectionPath({waypoints:[e,t]});return[e=n&&eE(o,s,!0)||e,t=i&&eE(a,s,!1)||t]},$A.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Zx(e.connectionPreviewGfx)},$A.prototype.getConnection=function(e){var t=function(e){return D_(e)?e:{}}(e);return this._elementFactory.createConnection(t)},$A.prototype.createConnectionPreviewGfx=function(){var e=tk("g");return Hx(e,{pointerEvents:"none"}),Gx(e).add("djs-connection-preview"),Nx(this._canvas.getActiveLayer(),e),e},$A.prototype.createNoopConnection=function(e,t){var n=tk("polyline");return Hx(n,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),Hx(n,{points:[e.x,e.y,t.x,t.y]}),n};var VA={__init__:["connectionPreview"],connectionPreview:["type",$A]},WA=Math.min,GA=Math.max;function KA(e){e.preventDefault()}function ZA(e){e.stopPropagation()}function YA(e){this.container=e.container,this.parent=Px('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Ox("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=sx(this.autoResize,this),this.handlePaste=sx(this.handlePaste,this)}function XA(e,t){this._eventBus=e,this._providers=[],this._textbox=new YA({container:t.getContainer(),keyHandler:sx(this._handleKey,this),resizeHandler:sx(this._handleResize,this)})}YA.prototype.create=function(e,t,n,i){var r=this.parent,o=this.content,a=this.container;i=this.options=i||{};var s=lx(t=this.style=t||{},["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ux(r.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},s);var c=lx(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ux(o.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},c),i.centerVertically&&ux(o.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},c),o.innerText=n,Mx.bind(o,"keydown",this.keyHandler),Mx.bind(o,"mousedown",ZA),Mx.bind(o,"paste",this.handlePaste),i.autoResize&&Mx.bind(o,"input",this.autoResize),i.resizable&&this.resizable(t),a.appendChild(r),this.setSelection(o.lastChild,o.lastChild&&o.lastChild.length),r},YA.prototype.handlePaste=function(e){var t,n=this.options,i=this.style;if(e.preventDefault(),t=e.clipboardData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(t),n.autoResize){var r=this.autoResize(i);r&&this.resizeHandler(r)}},YA.prototype.insertText=function(e){e=e.replace(/\r\n|\r|\n/g,"\n"),document.execCommand("insertText",!1,e)||this._insertTextIE(e)},YA.prototype._insertTextIE=function(e){var t,n,i,r=this.getSelection(),o=r.startContainer,a=r.endContainer,s=r.startOffset,c=r.endOffset,u=r.commonAncestorContainer,l=(t=u.childNodes,[].slice.call(t));if(u.nodeType===Node.TEXT_NODE){var p=o.textContent;o.textContent=p.substring(0,s)+e+p.substring(c),n=o,i=s+e.length}else if(o===this.content&&a===this.content){var h=document.createTextNode(e);this.content.insertBefore(h,l[s]),n=h,i=h.textContent.length}else{var f=l.indexOf(o),d=l.indexOf(a);l.forEach((function(t,n){n===f?t.textContent=o.textContent.substring(0,s)+e+a.textContent.substring(c):n>f&&n<=d&&Dx(t)})),n=o,i=s+e.length}n&&void 0!==i&&setTimeout((function(){self.setSelection(n,i)}))},YA.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var i=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:r-i.height})}},YA.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,r=parseInt(this.style.minHeight)||0,o=parseInt(this.style.maxWidth)||1/0,a=parseInt(this.style.maxHeight)||1/0;if(!n){var s,c,u,l;n=this.resizeHandle=Px('<div class="djs-direct-editing-resize-handle"></div>');var p=function(n){KA(n),ZA(n);var p=WA(GA(u+n.clientX-s,i),o),h=WA(GA(l+n.clientY-c,r),a);t.style.width=p+"px",t.style.height=h+"px",e.resizeHandler({width:u,height:l,dx:n.clientX-s,dy:n.clientY-c})},h=function(e){KA(e),ZA(e),Mx.unbind(document,"mousemove",p,!1),Mx.unbind(document,"mouseup",h,!1)};Mx.bind(n,"mousedown",(function(e){KA(e),ZA(e),s=e.clientX,c=e.clientY;var n=t.getBoundingClientRect();u=n.width,l=n.height,Mx.bind(document,"mousemove",p),Mx.bind(document,"mouseup",h)}))}ux(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)},YA.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),Mx.unbind(t,"keydown",this.keyHandler),Mx.unbind(t,"mousedown",ZA),Mx.unbind(t,"input",this.autoResize),Mx.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Dx(n)),Dx(e)},YA.prototype.getValue=function(){return this.content.innerText.trim()},YA.prototype.getSelection=function(){return window.getSelection().getRangeAt(0)},YA.prototype.setSelection=function(e,t){var n=document.createRange();null===e?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},XA.$inject=["eventBus","canvas"],XA.prototype.registerProvider=function(e){this._providers.push(e)},XA.prototype.isActive=function(){return!!this._active},XA.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},XA.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})},XA.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},XA.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,i=this.$textbox.getBoundingClientRect(),r=this.getValue();r===e.context.text&&i.height===n.height&&i.width===n.width||(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:i.left-t.left,y:i.top-t.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}},XA.prototype.getValue=function(){return this._textbox.getValue()},XA.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;return 27===t?(e.preventDefault(),this.cancel()):13!==t||e.shiftKey?void 0:(e.preventDefault(),this.complete())},XA.prototype._handleResize=function(e){this._fire("resize",e)},XA.prototype.activate=function(e){var t;this.isActive()&&this.cancel();var n=q_(this._providers,(function(n){return(t=n.activate(e))?n:null}));return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};var JA={__depends__:[Kj],__init__:["directEditing"],directEditing:["type",XA]};function QA(e,t,n){this._eventBus=t,this._overlays=n;var i=B_(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:i},this._current=null,this._init()}QA.$inject=["config.contextPad","eventBus","overlays"],QA.prototype._init=function(){var e=this._eventBus,t=this;e.on("selection.changed",(function(e){var n=e.newSelection;1===n.length?t.open(n[0]):t.close()})),e.on("elements.delete",(function(e){U_(e.elements,(function(e){t.isOpen(e)&&t.close()}))})),e.on("element.changed",(function(e){var n=e.element,i=t._current;i&&i.element===n&&t.open(n,!0)}))},QA.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("contextPad.getProviders",e,(function(e){e.providers.push(t)}))},QA.prototype.getEntries=function(e){var t=this._getProviders(),n={};return U_(t,(function(t){var i=t.getContextPadEntries(e);z_(i)?n=i(n):U_(i,(function(e,t){n[t]=e}))})),n},QA.prototype.trigger=function(e,t,n){var i,r,o=this._current.element,a=this._current.entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(i=a[hx(s,"data-action")].action,r=t.originalEvent||t,z_(i)){if("click"===e)return i(r,o,n)}else if(i[e])return i[e](r,o,n);t.preventDefault()},QA.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))},QA.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers},QA.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this.getPad(e),i=n.html;U_(t,(function(e,t){var n,r=e.group||"default",o=Px(e.html||'<div class="entry" draggable="true"></div>');hx(o,"data-action",t),(n=Ox("[data-group="+r+"]",i))||(n=Px('<div class="group" data-group="'+r+'"></div>'),i.appendChild(n)),n.appendChild(o),e.className&&function(e,t){var n=vx(e);(I_(t)?t:t.split(/\s+/g)).forEach((function(e){n.add(e)}))}(o,e.className),e.title&&hx(o,"title",e.title),e.imageUrl&&o.appendChild(Px('<img src="'+e.imageUrl+'">'))})),vx(i).add("open"),this._current={element:e,pad:n,entries:t},this._eventBus.fire("contextPad.open",{current:this._current})},QA.prototype.getPad=function(e){if(this.isOpen())return this._current.pad;var t=this,n=this._overlays,i=Px('<div class="djs-context-pad"></div>'),r=ux({html:i},this._overlaysConfig);Tx.bind(i,".entry","click",(function(e){t.trigger("click",e)})),Tx.bind(i,".entry","dragstart",(function(e){t.trigger("dragstart",e)})),Mx.bind(i,"mousedown",(function(e){e.stopPropagation()})),this._overlayId=n.add(e,"context-pad",r);var o=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:e,pad:o}),o},QA.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},QA.prototype.isOpen=function(e){return!(!this._current||e&&this._current.element!==e)};var eC={__depends__:[Kj,cM],contextPad:["type",QA]},tC=["marker-start","marker-mid","marker-end"],nC=["circle","ellipse","line","path","polygon","polyline","rect"];function iC(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i,this._clonedMarkers={};var r=this;t.on("drag.cleanup",(function(){U_(r._clonedMarkers,(function(e){Zx(e)})),r._clonedMarkers={}}))}iC.$inject=["elementRegistry","eventBus","canvas","styles"],iC.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)},iC.prototype.addDragger=function(e,t,n){var i=Xx(n=n||this.getGfx(e)),r=n.getBoundingClientRect();return this._cloneMarkers(SE(i)),Hx(i,this._styles.cls("djs-dragger",[],{x:r.top,y:r.left})),Nx(t,i),i},iC.prototype.addFrame=function(e,t){var n=tk("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return Nx(t,n),n},iC.prototype._cloneMarkers=function(e){var t,n=this;if(e.childNodes)for(var i=0;i<e.childNodes.length;i++)n._cloneMarkers(e.childNodes[i]);(t=e,-1!==nC.indexOf(t.nodeName))&&tC.forEach((function(t){if(Hx(e,t)){var i=function(e,t,n){return Ox("marker#"+(i=Hx(e,t),i.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]),n||document);var i}(e,t,n._canvas.getContainer());n._cloneMarker(e,i,t)}}))},iC.prototype._cloneMarker=function(e,t,n){var i=t.id,r=this._clonedMarkers[i];if(!r){var o=i+"-clone";(r=Xx(t)).id=o,Gx(r).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[i]=r;var a=Ox("defs",this._canvas._svg);a||(a=tk("defs"),Nx(this._canvas._svg,a)),Nx(a,r)}Hx(e,n,"url(#"+this._clonedMarkers[i].id+")")};var rC={__init__:["previewSupport"],previewSupport:["type",iC]},oC="drop-ok",aC="drop-not-ok",sC="attach-ok",cC="new-parent";function uC(e,t,n,i,r){function o(t,n){[sC,oC,aC,cC].forEach((function(i){i===n?e.addMarker(t,i):e.removeMarker(t,i)}))}function a(){var e=t.context();e&&"create"===e.prefix&&t.cancel()}n.on(["create.move","create.hover"],(function(e){var t=e.context,n=t.elements,i=e.hover,a=t.source,s=t.hints||{};if(!i)return t.canExecute=!1,void(t.target=null);lC(e);var c={x:e.x,y:e.y},u=t.canExecute=i&&function(e,t,n,i,o){if(!t)return!1;var a=q_(e=H_(e,(function(t){var n=t.labelTarget;return!(t.parent||function(e){return!!e.labelTarget}(t)&&-1!==e.indexOf(n))})),(function(e){return!pC(e)})),s=!1,c=!1,u=!1;hC(e)&&(s=r.allowed("shape.attach",{position:n,shape:a,target:t})),s||(u=hC(e)?r.allowed("shape.create",{position:n,shape:a,source:i,target:t}):r.allowed("elements.create",{elements:e,position:n,target:t}));var l=o.connectionTarget;return u||s?(a&&i&&(c=r.allowed("connection.create",{source:l===i?a:i,target:l===i?i:a,hints:{targetParent:t,targetAttach:s}})),{attach:s,connect:c}):(null===u||null===s)&&null}(n,i,c,a,s);i&&null!==u&&(t.target=i,u&&u.attach?o(i,sC):o(i,u?cC:aC))})),n.on(["create.end","create.out","create.cleanup"],(function(e){var t=e.hover;t&&o(t,null)})),n.on("create.end",(function(e){var t=e.context,n=t.source,r=t.shape,o=t.elements,a=t.target,s=t.canExecute,c=s&&s.attach,u=s&&s.connect,l=t.hints||{};if(!1===s||!a)return!1;lC(e);var p={x:e.x,y:e.y};r=u?i.appendShape(n,r,p,a,{attach:c,connection:!0===u?{}:u,connectionTarget:l.connectionTarget}):q_(o=i.createElements(o,p,a,ux({},l,{attach:c})),(function(e){return!pC(e)})),ux(t,{elements:o,shape:r}),ux(e,{elements:o,shape:r})})),n.on("create.init",(function(){n.on("elements.changed",a),n.once(["create.cancel","create.end"],2e3,(function(){n.off("elements.changed",a)}))})),this.start=function(e,n,i){I_(n)||(n=[n]);var r=q_(n,(function(e){return!pC(e)}));if(r){i=ux({elements:n,hints:{},shape:r},i||{}),U_(n,(function(e){F_(e.x)||(e.x=0),F_(e.y)||(e.y=0)}));var o=Bk(n);U_(n,(function(e){pC(e)&&(e.waypoints=K_(e.waypoints,(function(e){return{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2}}))),ux(e,{x:e.x-o.x-o.width/2,y:e.y-o.y-o.height/2})})),t.init(e,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:r,elements:n,context:i}})}}}function lC(e){var t=e.context.createConstraints;t&&(t.left&&(e.x=Math.max(e.x,t.left)),t.right&&(e.x=Math.min(e.x,t.right)),t.top&&(e.y=Math.max(e.y,t.top)),t.bottom&&(e.y=Math.min(e.y,t.bottom)))}function pC(e){return!!e.waypoints}function hC(e){return e&&1===e.length&&!pC(e[0])}uC.$inject=["canvas","dragging","eventBus","modeling","rules"];function fC(e,t,n,i,r){t.on("create.move",750,(function(t){var o=t.hover,a=t.context,s=a.elements,c=a.dragGroup;c||(c=a.dragGroup=function(e){var t=tk("g");Hx(t,r.cls("djs-drag-group",["no-events"]));var o=tk("g");return e.forEach((function(e){var r;e.hidden||(e.waypoints?(r=n._createContainer("connection",o),n.drawConnection(SE(r),e)):(r=n._createContainer("shape",o),n.drawShape(SE(r),e),jE(r,e.x,e.y)),i.addDragger(e,t,r))})),t}(s)),o?(c.parentNode||Nx(e.getActiveLayer(),c),jE(c,t.x,t.y)):Zx(c)})),t.on("create.cleanup",(function(e){var t=e.context.dragGroup;t&&Zx(t)}))}fC.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];var dC={__depends__:[rA,rC,uA,tM],__init__:["create","createPreview"],create:["type",uC],createPreview:["type",fC]};function mC(e,t,n,i,r,o,a,s,c,u){e=e||{},a.registerProvider(this),this._connect=i,this._create=r,this._elementFactory=o,this._contextPad=a,this._modeling=s,this._rules=c,this._translate=u,!1!==e.autoPlace&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,(function(e){let t=e.context.shape;if(!Uj(e)||!a.isOpen(t))return;let n=a.getEntries(t);n.replace&&n.replace.action.click(e,t)}))}mC.$inject=["config.contextPad","injector","eventBus","connect","create","elementFactory","contextPad","modeling","rules","translate"],mC.prototype.getContextPadEntries=function(e){const{_rules:t,_modeling:n,_translate:i,_connect:r,_elementFactory:o,_autoPlace:a,_create:s}=this;let c={};return"label"===e.type||(function(n){let r=t.allowed("elements.delete",{elements:[e]});I_(r)&&(r=r[0]===e);r&&ux(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:i("Remove"),action:{click:u}}})}(c),"od:Object"===e.type&&(function(e){ux(e,{connect:{group:"connect",className:"bpmn-icon-connection",title:"Link object to other objects",action:{click:l,dragstart:l}}})}(c),function(e){ux(e,{"append.append-task":p("od:Object","od-no-font-icon-object",i("Link with new object"))})}(c))),c;function u(){n.removeElements([e])}function l(e,t){r.start(e,t)}function p(e,t,n,r){function c(t,n){var i=o.createShape(ux({type:e},r));s.start(t,i,{source:n})}return"string"!=typeof n&&(r=n,n=i("Append {type}",{type:e.replace(/^bpmn:/,"")})),{group:"model",className:t,title:n,action:{dragstart:c,click:a?function(t,n){var i=o.createShape(ux({type:e},r));a.append(n,i)}:c}}}};var gC={__depends__:[JA,eC,tM,UA,dC],__init__:["contextPadProvider"],contextPadProvider:["type",mC]};function vC(){}vC.prototype.get=function(){return this._data},vC.prototype.set=function(e){this._data=e},vC.prototype.clear=function(){var e=this._data;return delete this._data,e},vC.prototype.isEmpty=function(){return!this._data};var yC={clipboard:["type",vC]};function bC(e){var t=this;function n(e){t._lastMoveEvent=e}this._lastMoveEvent=null,e.on("canvas.init",(function(e){(t._svg=e.svg).addEventListener("mousemove",n)})),e.on("canvas.destroy",(function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)}))}bC.$inject=["eventBus"],bC.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||function(e,t){var n=document.createEvent("MouseEvent"),i=e,r=t,o=e,a=t;n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,i,r,o,a,!1,!1,!1,!1,0,null);return n}(0,0)};var wC={__init__:["mouse"],mouse:["type",bC]};function _C(e,t,n,i,r,o,a,s){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=r,this._modeling=o,this._mouse=a,this._rules=s,r.on("copyPaste.copyElement",(function(e){var t=e.descriptor,n=e.element,i=e.elements;t.priority=1,t.id=n.id,q_(i,(function(e){return e===n.parent}))&&(t.parent=n.parent.id),function(e){return!!e.host}(n)&&(t.priority=2,t.host=n.host.id),xC(n)&&(t.priority=3,t.source=n.source.id,t.target=n.target.id,t.waypoints=function(e){return K_(e.waypoints,(function(e){return(e=EC(e)).original&&(e.original=EC(e.original)),e}))}(n)),kC(n)&&(t.priority=4,t.labelTarget=n.labelTarget.id),U_(["x","y","width","height"],(function(e){F_(n[e])&&(t[e]=n[e])})),t.hidden=n.hidden,t.collapsed=n.collapsed})),r.on("copyPaste.pasteElements",(function(e){ux(e.hints,{createElementsBehavior:!1})}))}function xC(e){return!!e.waypoints}function kC(e){return!!e.labelTarget}function EC(e){return ux({},e)}function SC(e,t){var n=t.indexOf(e);return-1===n?t:t.splice(n,1)}_C.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],_C.prototype.copy=function(e){var t,n;return I_(e)||(e=e?[e]:[]),n=!1===(t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}))?{}:this.createTree(I_(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},_C.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(t);if(e&&e.element&&e.point)return this._paste(i,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}},_C.prototype._paste=function(e,t,n,i){U_(e,(function(e){F_(e.x)||(e.x=0),F_(e.y)||(e.y=0)}));var r=Bk(e);return U_(e,(function(e){xC(e)&&(e.waypoints=K_(e.waypoints,(function(e){return{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2}}))),ux(e,{x:e.x-r.x-r.width/2,y:e.y-r.y-r.height/2})})),this._modeling.createElements(e,n,t,ux({},i))},_C.prototype._createElements=function(e){var t=this,n=this._eventBus,i={},r=[];return U_(e,(function(e,o){o=parseInt(o,10),U_(e=ex(e,"priority"),(function(e){var o,a=ux({},px(e,["priority"]));return i[e.parent]?a.parent=i[e.parent]:delete a.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:a}),xC(a)?(a.source=i[e.source],a.target=i[e.target],o=i[e.id]=t.createConnection(a),void r.push(o)):kC(a)?(a.labelTarget=i[a.labelTarget],o=i[e.id]=t.createLabel(a),void r.push(o)):(a.host&&(a.host=i[a.host]),o=i[e.id]=t.createShape(a),void r.push(o))}))})),r},_C.prototype.createConnection=function(e){return this._elementFactory.createConnection(px(e,["id"]))},_C.prototype.createLabel=function(e){return this._elementFactory.createLabel(px(e,["id"]))},_C.prototype.createShape=function(e){return this._elementFactory.createShape(px(e,["id"]))},_C.prototype.hasRelations=function(e,t){var n,i;return!(xC(e)&&(n=q_(t,tx({id:e.source.id})),i=q_(t,tx({id:e.target.id})),!n||!i))&&!(kC(e)&&!q_(t,tx({id:e.labelTarget.id})))},_C.prototype.createTree=function(e){var t=this._rules,n=this,i={},r=[];function o(e,t){var n=q_(r,(function(t){return e===t.element}));n?n.depth<t&&(r=function(e,t){var n=t.indexOf(e);-1!==n&&t.splice(n,1);return t}(n,r)).push({element:n.element,depth:t}):r.push({element:e,depth:t})}return Tk(Ak(e),(function(e,t,n){if(!kC(e))return U_(e.labels,(function(e){o(e,n)})),U_([e.attachers,e.incoming,e.outgoing],(function(e){e&&e.length&&U_(e,(function(e){U_(e.labels,(function(e){o(e,n)})),o(e,n)}))})),o(e,n),e.children})),e=K_(r,(function(e){return e.element})),r=ex(r=K_(r,(function(t){return t.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:t.descriptor,element:t.element,elements:e}),t})),(function(e){return e.descriptor.priority})),e=K_(r,(function(e){return e.element})),U_(r,(function(r){var o=r.depth;n.hasRelations(r.element,e)?!function(e,n){return t.allowed("element.copy",{element:e,elements:n})}(r.element,e)?SC(r.element,e):(i[o]||(i[o]=[]),i[o].push(r.descriptor)):SC(r.element,e)})),i};var jC={__depends__:[yC,dC,wC,uA],__init__:["copyPaste"],copyPaste:["type",_C]};function MC(e,t,n){I_(n)||(n=[n]),U_(n,(function(n){R_(e[n])||(t[n]=e[n])}))}function AC(e,t,n){var i;t.on("copyPaste.copyElement",750,(function(e){var t=e.descriptor,n=e.element,i=t.oldBusinessObject=rj(n);if(t.type=n.type,MC(i,t,"name"),t.di={},MC(i.di,t.di,["fill","stroke"]),CC(t))return t})),t.on("copyPaste.pasteElements",(function(){i={}})),t.on("copyPaste.pasteElement",(function(t){var r,o,a,s=t.cache,c=t.descriptor,u=c.oldBusinessObject;CC(c)?c.businessObject=rj(s[c.labelTarget]):(r=e.create(u.$type),c.businessObject=n.copyElement(u,r),function(e,t){var n=rj(e);e.default&&(i[e.default]={element:n,property:"default"}),i=px(i,V_(i,(function(t,i,r){var o=i.element,a=i.property;return r===e.id&&(o[a]=n,t.push(e.id)),t}),[]))}(c),MC(c,r,["color","name"]),o=c,I_(a="oldBusinessObject")||(a=[a]),U_(a,(function(e){o[e]&&delete o[e]})))}))}function CC(e){return!!e.labelTarget}AC.$inject=["odFactory","eventBus","moddleCopy"];var TC=["boardElements"];function PC(e,t,n){this._odFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",(function(e){var t=e.propertyNames;if(t&&t.length)return ex(t,(function(e){return"extensionElements"===e}))})),e.on("moddleCopy.canCopyProperty",(function(e){var t=e.parent,n=D_(t)&&t.$descriptor,i=e.propertyName;return(!i||-1===TC.indexOf(i))&&(!(i&&n&&!q_(n.properties,tx({name:i})))&&void 0)}))}PC.$inject=["eventBus","odFactory","moddle"],PC.prototype.copyElement=function(e,t,n){var i,r=this;n&&!I_(n)&&(n=[n]),n=n||V_(e.$descriptor.properties,(function(e,t){return i&&t.default?e:e.concat(t.name)}),[]);var o=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t});return!1===o||(I_(o)&&(n=o),U_(n,(function(n){var i;L_(e,n)&&(i=e.get(n));var o=r.copyProperty(i,t,n);!1!==r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:o,propertyName:n})&&B_(o)&&t.set(n,o)}))),t},PC.prototype.copyProperty=function(e,t,n){var i=this,r=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n});if(!1!==r){if(r)return D_(r)&&r.$type&&!r.$parent&&(r.$parent=t),r;var o=this._moddle.getPropertyDescriptor(t,n);if(!o.isId&&!o.isReference){if(I_(e))return V_(e,(function(e,o){return(r=i.copyProperty(o,t,n))?(r.$parent=t,e.concat(r)):e}),[]);if(D_(e)&&e.$type){if(this._moddle.getElementDescriptor(e).isGeneric)return;return(r=i._odFactory.create(e.$type)).$parent=t,r=i.copyElement(e,r)}return e}}};var RC={__depends__:[jC],__init__:["odCopyPaste","moddleCopy"],odCopyPaste:["type",AC],moddleCopy:["type",PC]};function BC(e,t){this._actions={};var n=this;e.on("diagram.init",(function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})}))}function OC(e,t){return new Error(e+" "+t)}BC.$inject=["eventBus","injector"],BC.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),o=e.get("copyPaste",!1),a=e.get("canvas",!1),s=e.get("rules",!1),c=e.get("keyboardMove",!1),u=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",(function(){t.undo()})),this.register("redo",(function(){t.redo()}))),o&&i&&this.register("copy",(function(){var e=i.get();o.copy(e)})),o&&this.register("paste",(function(){o.paste()})),r&&this.register("stepZoom",(function(e){r.stepZoom(e.value)})),a&&this.register("zoom",(function(e){a.zoom(e.value)})),n&&i&&s&&this.register("removeSelection",(function(){var e=i.get();if(e.length){var t,r=s.allowed("elements.delete",{elements:e});!1!==r&&(t=I_(r)?r:e).length&&n.removeElements(t.slice())}})),c&&this.register("moveCanvas",(function(e){c.moveCanvas(e)})),u&&this.register("moveSelection",(function(e){u.moveSelection(e.direction,e.accelerated)}))},BC.prototype.trigger=function(e,t){if(!this._actions[e])throw OC(e,"is not a registered action");return this._actions[e](t)},BC.prototype.register=function(e,t){var n=this;if("string"==typeof e)return this._registerAction(e,t);U_(e,(function(e,t){n._registerAction(t,e)}))},BC.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw OC(e,"is already registered");this._actions[e]=t},BC.prototype.unregister=function(e){if(!this.isRegistered(e))throw OC(e,"is not a registered action");this._actions[e]=void 0},BC.prototype.getActions=function(){return Object.keys(this._actions)},BC.prototype.isRegistered=function(e){return!!this._actions[e]};var IC={__init__:["editorActions"],editorActions:["type",BC]};function DC(e){e.invoke(BC,this)}S_()(DC,BC),DC.$inject=["injector"],DC.prototype._registerDefaultActions=function(e){BC.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),i=e.get("selection",!1),r=e.get("spaceTool",!1),o=e.get("lassoTool",!1),a=e.get("handTool",!1),s=e.get("globalConnect",!1),c=e.get("distributeElements",!1),u=e.get("alignElements",!1),l=e.get("directEditing",!1),p=e.get("searchPad",!1),h=e.get("modeling",!1);t&&n&&i&&this._registerAction("selectElements",(function(){var e=t.getRootElement(),r=n.filter((function(t){return t!==e}));return i.select(r),r})),r&&this._registerAction("spaceTool",(function(){r.toggle()})),o&&this._registerAction("lassoTool",(function(){o.toggle()})),a&&this._registerAction("handTool",(function(){a.toggle()})),s&&this._registerAction("globalConnectTool",(function(){s.toggle()})),i&&c&&this._registerAction("distributeElements",(function(e){var t=i.get(),n=e.type;t.length&&c.trigger(t,n)})),i&&u&&this._registerAction("alignElements",(function(e){var t=i.get(),n=e.type;t.length&&u.trigger(t,n)})),i&&l&&this._registerAction("directEditing",(function(){var e=i.get();e.length&&l.activate(e[0])})),p&&this._registerAction("find",(function(){p.toggle()})),t&&h&&this._registerAction("moveToOrigin",(function(){var e,i=t.getRootElement(),r=n.filter((function(e){return e!==i}));e=Bk(r),h.moveElements(r,{x:-e.x,y:-e.y},i)}))};var FC={__depends__:[IC],editorActions:["type",DC]};function zC(e){e.on(["create.init","shape.move.init"],(function(e){var t=e.context;t.gridSnappingContext||(t.gridSnappingContext={}),t.gridSnappingContext.snapLocation="top-left"}))}zC.$inject=["eventBus"];function NC(e,t,n){return n||(n="round"),Math[n](e/t)*t}function LC(e,t,n){var i=!n||!1!==n.active;this._eventBus=t;var r=this;t.on("diagram.init",800,(function(){r.setActive(i)})),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],1200,(function(t){var n=t.originalEvent;if(!(!r.active||n&&lM(n))){var i=t.context,o=i.gridSnappingContext;o||(o=i.gridSnappingContext={}),["x","y"].forEach((function(n){var i={},o=function(e,t,n){var i=e.context,r=e.shape,o=i.gridSnappingContext,a=o.snapLocation,s=o.snapOffset;if(s&&F_(s[t]))return s[t];s||(s=o.snapOffset={});F_(s[t])||(s[t]=0);if(!r)return s[t];n.get(r.id)||(qC(t)?s[t]+=r[t]+r.width/2:s[t]+=r[t]+r.height/2);if(!a)return s[t];"x"===t?/left/.test(a)?s[t]-=r.width/2:/right/.test(a)&&(s[t]+=r.width/2):/top/.test(a)?s[t]-=r.height/2:/bottom/.test(a)&&(s[t]+=r.height/2);return s[t]}(t,n,e);o&&(i.offset=o);var a=function(e,t){var n=e.context,i=n.createConstraints,r=n.resizeConstraints||{},o=n.gridSnappingContext,a=o.snapConstraints;if(a&&a[t])return a[t];a||(a=o.snapConstraints={});a[t]||(a[t]={});var s=n.direction;i&&(qC(t)?(a.x.min=i.left,a.x.max=i.right):(a.y.min=i.top,a.y.max=i.bottom));var c=r.min,u=r.max;c&&(qC(t)?UC(s)?a.x.max=c.left:a.x.min=c.right:HC(s)?a.y.max=c.top:a.y.min=c.bottom);u&&(qC(t)?UC(s)?a.x.min=u.left:a.x.max=u.right:HC(s)?a.y.min=u.top:a.y.max=u.bottom);return a[t]}(t,n);a&&ux(i,a),BA(t,n)||r.snapEvent(t,n,i)}))}}))}function qC(e){return"x"===e}function HC(e){return-1!==e.indexOf("n")}function UC(e){return-1!==e.indexOf("w")}LC.prototype.snapEvent=function(e,t,n){OA(e,t,this.snapValue(e[t],n))},LC.prototype.getGridSpacing=function(){return 10},LC.prototype.snapValue=function(e,t){var n,i,r=0;return t&&t.offset&&(r=t.offset),e=NC(e+=r,10),t&&t.min&&F_(n=t.min)&&(n=NC(n+r,10,"ceil"),e=Math.max(e,n)),t&&t.max&&F_(i=t.max)&&(i=NC(i+r,10,"floor"),e=Math.min(e,i)),e-=r},LC.prototype.isActive=function(){return this.active},LC.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})},LC.prototype.toggleActive=function(){this.setActive(!this.active)},LC.$inject=["elementRegistry","eventBus","config.gridSnapping"];function $C(e){this._eventBus=e}$C.$inject=["eventBus"],$C.prototype.on=function(e,t,n,i,r,o){if((z_(t)||F_(t))&&(o=r,r=i,i=n,n=t,t=null),z_(n)&&(o=r,r=i,i=n,n=1e3),D_(r)&&(o=r,r=!1),!z_(i))throw new Error("handlerFn must be a function");I_(e)||(e=[e]);var a=this._eventBus;U_(e,(function(e){var s=["commandStack",e,t].filter((function(e){return e})).join(".");a.on(s,n,r?function(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}(i,o):i,o)}))};function VC(e,t){$C.call(this,e),this._gridSnapping=t;var n=this;this.preExecute("shape.resize",(function(e){var t=e.context,i=(t.hints||{}).autoResize;if(i){var r=t.shape,o=t.newBounds;N_(i)?t.newBounds=n.snapComplex(o,i):t.newBounds=n.snapSimple(r,o)}}))}U_(["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"],(function(e){$C.prototype[e]=function(t,n,i,r,o){(z_(t)||F_(t))&&(o=r,r=i,i=n,n=t,t=null),this.on(t,e,n,i,r,o)}})),VC.$inject=["eventBus","gridSnapping","modeling"],S_()(VC,$C),VC.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t},VC.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e},VC.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,i=/w/.test(t),r=/e/.test(t),o={};return o.width=n.snapValue(e.width,{min:e.width}),r&&(i?(o.x=n.snapValue(e.x,{max:e.x}),o.width+=n.snapValue(e.x-o.x,{min:e.x-o.x})):e.x=e.x+e.width-o.width),ux(e,o),e},VC.prototype.snapVertically=function(e,t){var n=this._gridSnapping,i=/n/.test(t),r=/s/.test(t),o={};return o.height=n.snapValue(e.height,{min:e.height}),i&&(r?(o.y=n.snapValue(e.y,{max:e.y}),o.height+=n.snapValue(e.y-o.y,{min:e.y-o.y})):e.y=e.y+e.height-o.height),ux(e,o),e};function WC(e,t){e.on(["spaceTool.move","spaceTool.end"],2e3,(function(e){var n,i=e.context;i.initialized&&("x"===i.axis?(n=t.snapValue(e.dx),e.x=e.x+n-e.dx,e.dx=n):(n=t.snapValue(e.dy),e.y=e.y+n-e.dy,e.dy=n))}))}WC.$inject=["eventBus","gridSnapping"];var GC={__depends__:[{__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",VC],gridSnappingSpaceToolBehavior:["type",WC]}],__init__:["gridSnapping"],gridSnapping:["type",LC]};function KC(e,t,n){var i={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height};return q_(function(e){var t=ZC(e);e.host&&(t=t.concat(ZC(e.host)));e.attachers&&(t=t.concat(e.attachers.reduce((function(e,t){return e.concat(ZC(t))}),[])));return t}(e),(function(e){return e!==n&&"intersect"===Qk(e,i,10)}))}function ZC(e){return(t=e,t.outgoing.map((function(e){return e.target}))).concat(function(e){return e.incoming.map((function(e){return e.source}))}(e));var t}function YC(){return!0}function XC(e,t){if(ij(t,"od:Object"))return function(e,t){var n=Yk(e),i=Jk(e),r=function(e,t){t||(t={});var n=t.defaultDistance||50,i=t.direction||"e",r=t.filter,o=t.getWeight||function(t){return t.source===e?1:-1},a=t.maxDistance||250,s=t.reference||"start";function c(e,t){return"n"===i?"start"===s?Yk(e).top-Yk(t).bottom:"center"===s?Yk(e).top-Jk(t).y:Yk(e).top-Yk(t).top:"w"===i?"start"===s?Yk(e).left-Yk(t).right:"center"===s?Yk(e).left-Jk(t).x:Yk(e).left-Yk(t).left:"s"===i?"start"===s?Yk(t).top-Yk(e).bottom:"center"===s?Jk(t).y-Yk(e).bottom:Yk(t).bottom-Yk(e).bottom:"start"===s?Yk(t).left-Yk(e).right:"center"===s?Jk(t).x-Yk(e).right:Yk(t).right-Yk(e).right}r||(r=YC);var u=e.incoming.filter(r).map((function(t){var n=o(t),i=n<0?c(t.source,e):c(e,t.source);return{id:t.source.id,distance:i,weight:n}})),l=e.outgoing.filter(r).map((function(t){var n=o(t),i=n>0?c(e,t.target):c(t.target,e);return{id:t.target.id,distance:i,weight:n}}));return V_(u.concat(l).reduce((function(e,t){return e[t.id+"__weight_"+t.weight]=t,e}),{}),(function(e,t){var n=t.distance,i=t.weight;return n<0||n>a||(e[String(n)]||(e[String(n)]=0),e[String(n)]+=1*i,(!e.distance||e[e.distance]<e[String(n)])&&(e.distance=n)),e}),{}).distance||n}(e,{filter:function(e){return ij(e,"od:Link")}}),o={x:n.right+r+t.width/2,y:i.y+JC("left",80)};return function(e,t,n,i){for(var r;r=KC(e,n,t);)n=i(t,n,r);return n}(e,t,o,function(e){return function(t,n,i){var r={x:n.x,y:n.y};return["x","y"].forEach((function(o){var a=e[o];if(a){var s="x"===o?"width":"height",c=a.margin,u=a.minDistance;r[o]=c<0?Math.min(i[o]+c-t[s]/2,n[o]-u+c):Math.max(i[o]+i[s]+c+t[s]/2,n[o]+u+c)}})),r}}({y:{margin:30,minDistance:80}}))}(e,t)}function JC(e,t){return-1!=e.indexOf("top")?-1*t:-1!=e.indexOf("bottom")?t:0}function QC(e,t){e.on("autoPlace",2e3,(function(e){var n=e.source,i=Jk(n),r=XC(n,e.shape);return["x","y"].forEach((function(e){var n={};r[e]!==i[e]&&(r[e]>i[e]?n.min=r[e]:n.max=r[e],r[e]=t.snapValue(r[e],n))})),r}))}QC.$inject=["eventBus","gridSnapping"];function eT(e,t,n){$C.call(this,e),this._gridSnapping=t;var i=this;this.postExecuted(["connection.create","connection.layout"],3e3,(function(e){var t=e.context,r=t.connection,o=t.hints||{},a=r.waypoints;o.connectionStart||o.connectionEnd||!1===o.createElementsBehavior||function(e){return e.length>3}(a)&&n.updateWaypoints(r,i.snapMiddleSegments(a))}))}function tT(e,t,n){var i=$k(t,n),r={};return function(e){return"h"===e}(i)&&(r.y=e.snapValue(t.y)),function(e){return"v"===e}(i)&&(r.x=e.snapValue(t.x)),("x"in r||"y"in r)&&(t=ux({},t,r),n=ux({},n,r)),[t,n]}eT.$inject=["eventBus","gridSnapping","modeling"],S_()(eT,$C),eT.prototype.snapMiddleSegments=function(e){var t,n=this._gridSnapping;e=e.slice();for(var i=1;i<e.length-2;i++)t=tT(n,e[i],e[i+1]),e[i]=t[0],e[i+1]=t[1];return e};var nT={__depends__:[GC,{__init__:["gridSnappingAutoPlaceBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",QC],gridSnappingLayoutConnectionBehavior:["type",eT]}],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",zC]};function iT(e){e.invoke(yM,this)}S_()(iT,yM),iT.$inject=["injector"],iT.prototype.registerBindings=function(e,t){function n(n,i){t.isRegistered(n)&&e.addListener(i)}yM.prototype.registerBindings.call(this,e,t),n("selectElements",(function(n){var i=n.keyEvent;if(e.isKey(["a","A"],i)&&e.isCmd(i))return t.trigger("selectElements"),!0})),n("find",(function(n){var i=n.keyEvent;if(e.isKey(["f","F"],i)&&e.isCmd(i))return t.trigger("find"),!0})),n("spaceTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["s","S"],i)?(t.trigger("spaceTool"),!0):void 0})),n("lassoTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["l","L"],i)?(t.trigger("lassoTool"),!0):void 0})),n("handTool",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["h","H"],i)?(t.trigger("handTool"),!0):void 0})),n("directEditing",(function(n){var i=n.keyEvent;if(!e.hasModifier(i))return e.isKey(["e","E"],i)?(t.trigger("directEditing"),!0):void 0}))};var rT={__depends__:[bM],__init__:["keyboardBindings"],keyboardBindings:["type",iT]};function oT(e,t,n){e.on("autoPlace",100,(function(e){var t=e.shape;return function(e,t,n){n||(n={});var i=n.defaultDistance||50,r=Jk(e);return{x:Yk(e).right+i+t.width/2,y:r.y}}(e.source,t)})),e.on("autoPlace.end",(function(e){n.scrollToElement(e.shape)})),this.append=function(n,i,r){e.fire("autoPlace.start",{source:n,shape:i});var o=e.fire("autoPlace",{source:n,shape:i}),a=t.appendShape(n,i,o,n.parent,r);return e.fire("autoPlace.end",{source:n,shape:a}),a}}function aT(e,t){e.on("autoPlace.end",500,(function(e){t.select(e.shape)}))}oT.$inject=["eventBus","modeling","canvas"],aT.$inject=["eventBus","selection"];var sT={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",oT],autoPlaceSelectionBehavior:["type",aT]};function cT(e){e.on("autoPlace",(function(e){var t=e.shape;return XC(e.source,t)}))}cT.$inject=["eventBus"];var uT={__depends__:[sT],__init__:["odAutoPlace"],odAutoPlace:["type",cT]},lT={moveSpeed:1,moveSpeedAccelerated:10},pT={ArrowLeft:"left",Left:"left",ArrowUp:"up",Up:"up",ArrowRight:"right",Right:"right",ArrowDown:"down",Down:"down"},hT={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function fT(e,t,n,i,r){var o=this;this._config=ux({},lT,e||{}),t.addListener(1500,(function(e){var n=e.keyEvent,i=pT[n.key];if(i&&!t.isCmd(n)){var r=t.isShift(n);return o.moveSelection(i,r),!0}})),this.moveSelection=function(e,t){var o=r.get();if(o.length){var a=this._config[t?"moveSpeedAccelerated":"moveSpeed"],s=hT[e](a);i.allowed("elements.move",{shapes:o})&&n.moveElements(o,s)}}}fT.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];var dT={__depends__:[bM,tM],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",fT]};function mT(e,t,n,i){e.on("element.changed",(function(i){var r=i.element;(r.parent||r===t.getRootElement())&&(i.gfx=n.getGraphics(r)),i.gfx&&e.fire(Ok(r)+".changed",i)})),e.on("elements.changed",(function(t){var n=t.elements;n.forEach((function(t){e.fire("element.changed",{element:t})})),i.updateContainments(n)})),e.on("shape.changed",(function(e){i.update("shape",e.element,e.gfx)})),e.on("connection.changed",(function(e){i.update("connection",e.element,e.gfx)}))}mT.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var gT={__init__:["changeSupport"],changeSupport:["type",mT]},vT=Math.max,yT=Math.min;function bT(e,t,n){var i=t[e],r=n.min&&n.min[e],o=n.max&&n.max[e];return F_(r)&&(i=(/top|left/.test(e)?yT:vT)(i,r)),F_(o)&&(i=(/top|left/.test(e)?vT:yT)(i,o)),i}function wT(e,t){return void 0!==e?e:20}function _T(e){return!e.waypoints&&"label"!==e.type}function xT(e,t){var n;if((n=void 0===e.length?H_(e.children,_T):e).length)return function(e,t){var n,i,r,o;return"object"==typeof t?(n=wT(t.left),i=wT(t.right),r=wT(t.top),o=wT(t.bottom)):n=i=r=o=wT(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+o}}(Bk(n),t)}function kT(e,t,n,i){this._dragging=i,this._rules=t;var r=this;function o(e,t){var n,i=e.shape,o=e.direction,a=e.resizeConstraints;e.delta=t,n=function(e,t,n){var i=n.x,r=n.y,o={x:e.x,y:e.y,width:e.width,height:e.height};return-1!==t.indexOf("n")?(o.y=e.y+r,o.height=e.height-r):-1!==t.indexOf("s")&&(o.height=e.height+r),-1!==t.indexOf("e")?o.width=e.width+i:-1!==t.indexOf("w")&&(o.x=e.x+i,o.width=e.width-i),o}(i,o,t),e.newBounds=function(e,t){if(!t)return e;var n=Yk(e);return Xk({top:bT("top",n,t),right:bT("right",n,t),bottom:bT("bottom",n,t),left:bT("left",n,t)})}(n,a),e.canExecute=r.canResize(e)}function a(e){var t,i=e.shape,r=e.canExecute,o=e.newBounds;if(r){if(t=o,!function(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}(i,o={x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}))return;n.resizeShape(i,o)}}e.on("resize.start",(function(e){var t,n,i;t=e.context,n=t.resizeConstraints,i=t.minBounds,void 0===n&&(void 0===i&&(i=r.computeMinResizeBox(t)),t.resizeConstraints={min:Yk(i)})})),e.on("resize.move",(function(e){var t={x:e.dx,y:e.dy};o(e.context,t)})),e.on("resize.end",(function(e){a(e.context)}))}function ET(e,t){var n=Jk(e),i=Yk(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}function ST(e){return"n"===e||"s"===e?"resize-ns":"e"===e||"w"===e?"resize-ew":"nw"===e||"se"===e?"resize-nwse":"resize-nesw"}kT.prototype.canResize=function(e){var t=this._rules,n=lx(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)},kT.prototype.activate=function(e,t,n){var i,r,o=this._dragging;if("string"==typeof n&&(n={direction:n}),!(r=(i=ux({shape:t},n)).direction))throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");o.init(e,ET(t,r),"resize",{autoActivate:!0,cursor:ST(r),data:{shape:t,context:i}})},kT.prototype.computeMinResizeBox=function(e){var t=e.shape;return function(e,t,n,i){var r=Yk(t),o={top:/n/.test(e)?r.bottom-n.height:r.top,left:/w/.test(e)?r.right-n.width:r.left,bottom:/s/.test(e)?r.top+n.height:r.bottom,right:/e/.test(e)?r.left+n.width:r.right},a=i?Yk(i):o;return Xk({top:yT(o.top,a.top),left:yT(o.left,a.left),bottom:vT(o.bottom,a.bottom),right:vT(o.right,a.right)})}(e.direction,t,e.minDimensions||{width:10,height:10},xT(t,e.childrenBoxPadding))},kT.$inject=["eventBus","rules","modeling","dragging"];function jT(e,t,n){e.on("resize.move",500,(function(e){var i,r,o,a;i=e.context,r=i.shape,o=i.newBounds,(a=i.frame)||(a=i.frame=n.addFrame(r,t.getActiveLayer()),t.addMarker(r,"djs-resizing")),o.width>5&&Hx(a,{x:o.x,width:o.width}),o.height>5&&Hx(a,{y:o.y,height:o.height}),i.canExecute?Gx(a).remove("resize-not-ok"):Gx(a).add("resize-not-ok")})),e.on("resize.cleanup",(function(e){var n,i;n=e.context,i=n.shape,n.frame&&Zx(n.frame),t.removeMarker(i,"djs-resizing")}))}jT.$inject=["eventBus","canvas","previewSupport"];var MT=["n","w","s","e","nw","ne","se","sw"];function AT(e,t,n,i){this._resize=i,this._canvas=t;var r=this;e.on("selection.changed",(function(e){var t=e.newSelection;r.removeResizers(),1===t.length&&U_(t,sx(r.addResizer,r))})),e.on("shape.changed",(function(e){var t=e.element;n.isSelected(t)&&(r.removeResizers(),r.addResizer(t))}))}AT.prototype.makeDraggable=function(e,t,n){var i=this._resize;function r(t){Hj(t)&&i.activate(t,e,n)}Mx.bind(t,"mousedown",r),Mx.bind(t,"touchstart",r)},AT.prototype._createResizer=function(e,t,n,i){var r=this._getResizersParent(),o=function(e){var t={x:0,y:0};-1!==e.indexOf("e")?t.x=6:-1!==e.indexOf("w")&&(t.x=-6);-1!==e.indexOf("s")?t.y=6:-1!==e.indexOf("n")&&(t.y=-6);return t}(i),a=tk("g");Gx(a).add("djs-resizer"),Gx(a).add("djs-resizer-"+e.id),Gx(a).add("djs-resizer-"+i),Nx(r,a);var s=tk("rect");Hx(s,{x:-2+o.x,y:-2+o.y,width:4,height:4}),Gx(s).add("djs-resizer-visual"),Nx(a,s);var c=tk("rect");return Hx(c,{x:-10+o.x,y:-10+o.y,width:20,height:20}),Gx(c).add("djs-resizer-hit"),Nx(a,c),function(e,t,n,i,r){var o=rk();o.setTranslate(t,n);var a=rk();a.setRotate(i||0,0,0);var s=rk();s.setScale(r||1,r||1),fk(e,[o,a,s])}(a,t,n),a},AT.prototype.createResizer=function(e,t){var n=ET(e,t),i=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,i,t)},AT.prototype.addResizer=function(e){var t=this;this._resize.canResize({shape:e})&&U_(MT,(function(n){t.createResizer(e,n)}))},AT.prototype.removeResizers=function(){Yx(this._getResizersParent())},AT.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},AT.$inject=["eventBus","canvas","selection","resize"];var CT={__depends__:[uA,rA,rC],__init__:["resize","resizePreview","resizeHandles"],resize:["type",kT],resizePreview:["type",jT],resizeHandles:["type",AT]};function TT(e,t,n,i,r,o,a){function s(e,t){(t||oj(e,["od:TextBox","od:Object"]))&&i.activate(e)}this._odFactory=t,this._canvas=n,this._modeling=r,this._textRenderer=a,i.registerProvider(this),e.on("element.dblclick",(function(e){!function(e){var t=n.zoom(),i=(e.element.y+30-n._cachedViewbox.y)*t,r=e.originalEvent.offsetY;e.element.businessObject.labelAttribute=r>=i?"attributeValues":"name"}(e),s(e.element,!0)})),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],(function(e){i.isActive()&&i.complete()})),e.on(["commandStack.changed"],(function(e){i.isActive()&&i.cancel()})),e.on("directEditing.activate",(function(e){o.removeResizers()})),e.on("create.end",500,(function(e){var t=e.context,n=t.shape,i=e.context.canExecute;e.isTouch||i&&(t.hints&&!1===t.hints.createElementsBehavior||s(n,!1))})),e.on("autoPlace.end",500,(function(e){s(e.shape,!1)}))}TT.$inject=["eventBus","odFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"],TT.prototype.activate=function(e){var t=sj(e);if(void 0!==t){var n={text:t};ux(n,this.getEditingBBox(e));var i={};return oj(e,["od:TextBox"])&&ux(i,{centerVertically:!0}),Mj(e)&&ux(i,{autoResize:!0}),ux(n,{options:i}),n}},TT.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),r=i.x+i.width/2,o=(i.y,i.height,{x:i.x,y:i.y}),a=t.zoom(),s=this._textRenderer.getDefaultStyle(),c=this._textRenderer.getExternalStyle(),u=c.fontSize*a,l=c.lineHeight,p=s.fontSize*a,h=s.lineHeight,f={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};oj(e,["od:TextBox","od:Object"])&&(ux(o,{width:i.width,height:i.height}),ux(f,{fontSize:p+"px",lineHeight:h,paddingTop:7*a+"px",paddingBottom:7*a+"px",paddingLeft:5*a+"px",paddingRight:5*a+"px"}),oj(e,["od:Object"])&&("attributeValues"===e.businessObject.labelAttribute?ux(o,{y:i.y+30*a,height:i.height-30*a}):ux(o,{height:30*a})));var d=90*a,m=7*a,g=4*a;if(n.labelTarget&&(ux(o,{width:d,height:i.height+m+g,x:r-d/2,y:i.y-m}),ux(f,{fontSize:u+"px",lineHeight:l,paddingTop:m+"px",paddingBottom:g+"px"})),Mj(n)&&!Aj(n)&&!Pj(n)){var v=Tj(e),y=t.getAbsoluteBBox({x:v.x,y:v.y,width:0,height:0}),b=u+m+g;ux(o,{width:d,height:b,x:y.x-d/2,y:y.y-b/2}),ux(f,{fontSize:u+"px",lineHeight:l,paddingTop:m+"px",paddingBottom:g+"px"})}return{bounds:o,style:f}},TT.prototype.update=function(e,t){var n;(n=t)&&n.trim()||(t=null),this._modeling.updateLabel(e,t)};function PT(e,t){var n,i;e.on("directEditing.activate",(function(e){var i=e.active;(n=i.element.label||i.element).labelTarget&&t.addMarker(n,"djs-element-hidden")})),e.on(["directEditing.complete","directEditing.cancel"],(function(e){var r=e.active;r&&t.removeMarker(r.element.label||r.element,"djs-element-hidden"),n=void 0,i&&(Zx(i),i=void 0)}))}PT.$inject=["eventBus","canvas"];var RT={__depends__:[gT,CT,JA],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",TT],labelEditingPreview:["type",PT]},BT=["top","bottom","left","right"];function OT(e,t){function n(e){if(Aj(e)){var n=function(e){var t=Jk(e.label),n=IT(Jk(e),t);if(i=n,-1===BT.indexOf(i))return;var i;var r=function(e){var t=Jk(e);return[].concat(e.incoming.map((function(e){return e.waypoints[e.waypoints.length-2]})),e.outgoing.map((function(e){return e.waypoints[1]}))).map((function(e){return IT(t,e)}))}(e);if(e.host){var o=function(e){var t,n=e.host,i=Qk(Jk(e),n);t=i.indexOf("-")>=0?i.split("-"):[i];return BT.filter((function(e){return-1===t.indexOf(e)}))}(e);r=r.concat(o)}var a=BT.filter((function(e){return-1===r.indexOf(e)}));if(-1!==a.indexOf(n))return;return a[0]}(e);n&&function(e,n){var i=Jk(e),r=e.label,o=Jk(r);if(!r.parent)return;var a,s=Yk(e);switch(n){case"top":a={x:i.x,y:s.top-10-r.height/2};break;case"left":a={x:s.left-10-r.width/2,y:i.y};break;case"bottom":a={x:i.x,y:s.bottom+10+r.height/2};break;case"right":a={x:s.right+10+r.width/2,y:i.y}}var c=AM(a,o);t.moveShape(r,c)}(e,n)}}$C.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],(function(e){var t=e.context,i=t.connection,r=i.source,o=i.target;!1!==(t.hints||{}).createElementsBehavior&&(n(r),n(o))})),this.postExecuted(["label.create"],(function(e){var t=e.context,i=t.shape;!1!==(t.hints||{}).createElementsBehavior&&n(i.labelTarget)})),this.postExecuted(["elements.create"],(function(e){var t=e.context,i=t.elements;!1!==(t.hints||{}).createElementsBehavior&&i.forEach((function(e){n(e)}))}))}function IT(e,t){return Qk(t,e,5)}function DT(e){$C.call(this,e),this.preExecute("shape.append",(function(e){var t=e.source,n=e.shape;e.position||(e.position={x:t.x+t.width+80+n.width/2,y:t.y+t.height/2})}),!0)}S_()(OT,$C),OT.$inject=["eventBus","modeling"],S_()(DT,$C),DT.$inject=["eventBus"];function FT(e,t,n){t.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],1500,(function(t){var i=t.context.shape||t.shape,r=t.hover,o=n.getRootElement();r!==o&&i.labelTarget&&(t.hover=o,t.hoverGfx=e.getGraphics(t.hover))}))}function zT(e,t,n,i){var r,o,a,s;return 0==(r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y))?null:(o=e.y-n.y,a=e.x-n.x,s=((i.x-n.x)*o-(i.y-n.y)*a)/r,{x:Math.round(e.x+s*(t.x-e.x)),y:Math.round(e.y+s*(t.y-e.y))})}function NT(e){function t(e,t,n){var i,r={x:n.x,y:n.y-50},o={x:n.x-50,y:n.y},a=zT(e,t,n,r),s=zT(e,t,n,o);i=a&&s?LT(a,n)>LT(s,n)?s:a:a||s,e.original=i}e.on("boardElement.added",(function(e){var n,i,r=e.element;r.waypoints&&(t((i=(n=r).waypoints)[0],i[1],Jk(n.source)),t(i[i.length-1],i[i.length-2],Jk(n.target)))}))}function LT(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qT(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function HT(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function UT(e,t){var n=t[0],i=t[1],r={x:i.x-n.x,y:i.y-n.y},o=function(e,t,n){var i=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}];return-(i[0].n*t[0]+i[1].n*t[1])/(i[0].lambda*t[0]+i[1].lambda*t[1])}([n.x,n.y],[r.x,r.y],[e.x,e.y]);return{x:n.x+o*r.x,y:n.y+o*r.y}}function $T(e,t){var n=UT(e,t);return qT({x:n.x-e.x,y:n.y-e.y})}function VT(e,t){return qT({x:e.x-t.x,y:e.y-t.y})}FT.$inject=["elementRegistry","eventBus","canvas"],NT.$inject=["eventBus"];var WT=Math.sqrt,GT=Math.min,KT=Math.max,ZT=Math.abs;function YT(e){return Math.pow(e,2)}function XT(e,t){return WT(YT(e.x-t.x)+YT(e.y-t.y))}function JT(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,a=n.x-e.x,s=n.y-e.y,c=r*r+o*o,u=(r*a+o*s)/c,l=u*u-(a*a+s*s-i*i)/c;if(l<0&&l>-1e-6&&(l=0),l<0)return[];var p=WT(l),h=-u+p,f=-u-p,d={x:e.x-r*h,y:e.y-o*h};return 0===l?[d]:[d,{x:e.x-r*f,y:e.y-o*f}].filter((function(n){return function(e,t,n){return QT(e.x,t.x,n.x)&&QT(e.y,t.y,n.y)}(n,e,t)}))}function QT(e,t,n){return e>=GT(t,n)-eP&&e<=KT(t,n)+eP}var eP=.1;function tP(e,t){return ZT(e.x-t.x)<=eP&&ZT(e.y-t.y)<=eP}function nP(e,t,n,i){var r=0,o=0,a=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}(e),s=function(e,t){var n,i,r,o,a,s,c,u,l,p,h,f,d=0;for(d=0;d<t.length-1;d++){if(tP(n=t[d],i=t[d+1])?s=[n]:(r=XT(e,n),o=XT(e,i),s=JT(n,i,e,GT(r,o))),s.length<1)throw new Error("expected between [1, 2] circle -> line intersections");1===s.length&&(c={type:"bendpoint",position:s[0],segmentIndex:d,bendpointIndex:tP(n,s[0])?d:d+1}),2===s.length&&(h=s[0],f=s[1],c={type:"segment",position:a={x:(h.x+f.x)/2,y:(h.y+f.y)/2},segmentIndex:d,relativeLocation:XT(n,a)/XT(n,i)}),u=XT(c.position,e),(!p||l>u)&&(p=c,l=u)}return p}(a,n),c=s.segmentIndex,u=function(e,t,n,i){var r=n.segmentIndex,o=t.length-e.length;if(i.segmentMove){var a=i.segmentMove.segmentStartIndex,s=i.segmentMove.newSegmentStartIndex;return r===a?s:r>=s?r+o<s?s:r+o:r}if(i.bendpointMove){var c,u=i.bendpointMove.insert,l=i.bendpointMove.bendpointIndex;if(0===o)return r;if(r>=l&&(c=u?r+1:r-1),r<l)if(c=r,u&&"bendpoint"!==n.type&&l-1===r)iP(t,l)<n.relativeLocation&&c++;return c}return 0===o?r:i.connectionStart?0===r?0:null:i.connectionEnd&&r===e.length-2?t.length-2:null}(n,t,s,i);if(null===u)return{x:r,y:o};if(u<0||u>t.length-2)return{x:r,y:o};var l,p,h,f,d,m,g=rP(n,c),v=rP(t,u),y=s.position,b=(f=y,d=VT((h=g)[0],h[1]),m=VT(h[0],f),0===d?0:m/d),w=(l=v,p=HT(g),HT(l)-p);if("bendpoint"===s.type){var _=t.length-n.length,x=s.bendpointIndex,k=n[x];if(-1!==t.indexOf(k))return{x:r,y:o};if(0===_){var E=t[x];return{x:E.x-s.position.x,y:E.y-s.position.y}}_<0&&0!==x&&x<n.length-1&&(b=iP(n,x))}var S,j,M=(v[1].x-v[0].x)*b+v[0].x,A=(v[1].y-v[0].y)*b+v[0].y,C=(S={x:a.x-y.x,y:a.y-y.y},(j=w)?{x:Math.cos(j)*S.x-Math.sin(j)*S.y,y:Math.sin(j)*S.x+Math.cos(j)*S.y}:S);return Zk({x:r=M+C.x-a.x,y:o=A+C.y-a.y})}function iP(e,t){var n=VT(e[t-1],e[t]);return n/(n+VT(e[t],e[t+1]))}function rP(e,t){return[e[t],e[t+1]]}function oP(e,t,n){var i=MM(t),r=MM(n),o=AM(e,i),a=o.x*(n.width/t.width),s=o.y*(n.height/t.height);return Zk({x:r.x+a,y:r.y+s})}function aP(e,t,n){var i=MM(e),r=MM(t),o=MM(n),a=AM(e,i),s=AM(i,r),c=function(e,t,n){var i=Yk(t),r=Yk(n);if(function(e,t){return function(e,t){return e.right!==t.right&&e.left!==t.left}(e,t)||function(e,t){return e.top!==t.top&&e.bottom!==t.bottom}(e,t)}(i,r))return null;var o,a,s=Qk(t,e);if("top"===s)o={x:0,y:r.bottom-i.bottom};else if("bottom"===s)o={x:0,y:r.top-i.top};else if("right"===s)o={x:r.left-i.left,y:0};else{if("left"!==s)return null;o={x:r.right-i.right,y:0}}if(a={x:e.x+o.x,y:e.y+o.y},Qk(n,a)!==s)return null;return o}(i,t,n);if(c)return c;var u=s.x*(n.width/t.width),l=s.y*(n.height/t.height),p=o.x+u,h=o.y+l;return Zk({x:p+a.x-e.x,y:h+a.y-e.y})}var sP={width:90,height:20};function cP(e,t,n,i){$C.call(this,e),this.postExecute("element.updateProperties",(function(e){var n=e.context,i=n.element,r=n.properties;"name"in r&&t.updateLabel(i,r.name)})),this.postExecute(["shape.create","connection.create"],(function(e){var n=e.context;if(!1!==(n.hints||{}).createElementsBehavior){var r=n.shape||n.connection,o=r.businessObject;if(!Pj(r)&&Mj(r)&&sj(r)){var a=Tj(r),s=i.getExternalLabelBounds(sP,sj(r));t.createLabel(r,a,{id:o.id+"_label",businessObject:o,width:s.width,height:s.height})}}})),this.postExecute("shape.delete",(function(e){var n=e.context,i=n.labelTarget,r=n.hints||{};i&&!1!==r.unsetLabel&&t.updateLabel(i,null,null,{removeShape:!1})})),this.postExecute(["label.create"],(function(e){var t,i=e.context.shape;i.labelTarget&&ij(i.labelTarget||i,"od:BoardElement")&&((t=i.businessObject.di).label||(t.label=n.create("odDi:OdLabel",{bounds:n.create("dc:Bounds")})),ux(t.label.bounds,{x:i.x,y:i.y,width:i.width,height:i.height}))})),this.postExecute(["connection.layout","connection.updateWaypoints"],(function(e){var n=e.context;if(!1!==(n.hints||{}).labelBehavior){var i,r=n.connection.label;r&&r.parent&&(i=function(e){var t=e.context,n=t.connection,i=n.label,r=ux({},t.hints),o=t.newWaypoints||n.waypoints,a=t.oldWaypoints;return void 0===r.startChanged&&(r.startChanged=!!r.connectionStart),void 0===r.endChanged&&(r.endChanged=!!r.connectionEnd),nP(i,o,a,r)}(e),t.moveShape(r,i))}})),this.postExecute(["shape.replace"],(function(e){var t=e.context,n=t.newShape,i=t.oldShape,r=rj(n);r&&Mj(r)&&i.label&&n.label&&(n.label.x=i.label.x,n.label.y=i.label.y)})),this.postExecute("shape.resize",(function(e){var n,i=e.context,r=i.shape,o=i.newBounds,a=i.oldBounds;if(Aj(r)){var s=r.label,c=function(e,t,n){return Zk(AM(oP(e,t,n),e))}(function(e,t){if(!t.length)return;var n=function(e,t){return ex(t.map((function(t){return{line:t,distance:$T(e,t)}})),"distance")[0].line}(e,t);return UT(e,n)}(Jk(s),[[{x:(n=a).x,y:n.y},{x:n.x+(n.width||0),y:n.y}],[{x:n.x+(n.width||0),y:n.y},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y+(n.height||0)},{x:n.x+(n.width||0),y:n.y+(n.height||0)}],[{x:n.x,y:n.y},{x:n.x,y:n.y+(n.height||0)}]]),a,o);t.moveShape(s,c)}}))}function uP(e,t,n,i){t.invoke($C,this),this.preExecute("shape.delete",(function(e){var t=e.context.shape,n=t.businessObject;Pj(t)||i.unclaimId(n.id,n)})),this.preExecute("canvas.updateRoot",(function(){var t=e.getRootElement().businessObject;n.ids.unclaim(t.id)}))}function lP(e,t,n){$C.call(this,e),this.postExecute("element.updateLabel",(function(e){var n=e.element,i=e.newLabel;ij(n,"od:TextBox")&&pP(i)&&t.removeElements([n])}),!0),e.on("directEditing.cancel",1001,(function(e){var i=e.active.element;ij(i,"od:TextBox")&&pP(rj(i).name)&&(n._active=!1,t.removeElements([i]))}))}function pP(e){return!e||""===e}S_()(cP,$C),cP.$inject=["eventBus","modeling","odFactory","textRenderer"],S_()(uP,$C),uP.$inject=["canvas","injector","moddle","modeling"],S_()(lP,$C),lP.$inject=["eventBus","modeling","directEditing"];var hP={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","fixHoverBehavior","importDockingFix","labelBehavior","unclaimIdBehavior","emptyTextBoxBehavior"],adaptiveLabelPositioningBehavior:["type",OT],appendBehavior:["type",DT],fixHoverBehavior:["type",FT],importDockingFix:["type",NT],labelBehavior:["type",cP],unclaimIdBehavior:["type",uP],emptyTextBoxBehavior:["type",lP]};function fP(e){$C.call(this,e),this.init()}function dP(e){fP.call(this,e)}function mP(e){return ij(e,"od:Group")&&!e.labelTarget}function gP(e){return!e||Pj(e)}function vP(e,t){return gP(e)||gP(t)?null:!!function(e,t){return ij(e,"od:Object")&&ij(t,"od:Object")}(e,t)&&{type:"od:Link"}}function yP(e,t){return!(!Pj(e)&&!mP(e))||ij(e,"od:BoardElement")&&ij(t,"od:OdBoard")}function bP(e,t){return Array.isArray(e)||(e=[e]),1===e.length&&(!Pj(e[0])&&(!ij(t,"od:BoardElement")&&"attach"))}function wP(e,t){return!t||e.every((function(e){return yP(e,t)}))}function _P(e,t,n,i){return!!t&&(!(!Pj(e)&&!mP(e))||n!==t&&((!n||(r=n,-1===function(e){for(var t=[];e;)(e=e.parent)&&t.push(e);return t}(t).indexOf(r)))&&yP(e,t)));var r}function xP(e,t){return!!oj(e,["od:Object"])&&(!t||t.width>=50&&t.height>=50)}function kP(e,t){return!0}fP.$inject=["eventBus"],S_()(fP,$C),fP.prototype.addRule=function(e,t,n){var i=this;"string"==typeof e&&(e=[e]),e.forEach((function(e){i.canExecute(e,t,(function(e,t,i){return n(e)}),!0)}))},fP.prototype.init=function(){},S_()(dP,fP),dP.$inject=["eventBus"],dP.prototype.init=function(){this.addRule("connection.start",(function(e){return function(e){if(gP(e))return null;return ij(e,"od:Object")}(e.source)})),this.addRule("connection.create",(function(e){var t=e.source,n=e.target,i=(e.hints||{}).targetParent;i&&(n.parent=i);try{return vP(t,n)}finally{i&&(n.parent=null)}})),this.addRule("connection.reconnect",(function(e){e.connection;return vP(e.source,e.target)})),this.addRule("connection.updateWaypoints",(function(e){return{type:e.connection.type}})),this.addRule("shape.resize",(function(e){return xP(e.shape,e.newBounds)})),this.addRule("elements.create",(function(e){var t=e.elements,n=e.position,i=e.target;return W_(t,(function(e){return e.host?bP(e,e.host):_P(e,i,null,n)}))})),this.addRule("elements.move",(function(e){var t=e.target,n=e.shapes;e.position;return bP(n,t)||wP(n,t)})),this.addRule("shape.create",(function(e){return _P(e.shape,e.target,e.source,e.position)})),this.addRule("shape.attach",(function(e){return bP(e.shape,e.target,e.position)})),this.addRule("element.copy",(function(e){e.element,e.elements;return!0}))},dP.prototype.canConnect=vP,dP.prototype.canMove=wP,dP.prototype.canAttach=bP,dP.prototype.canDrop=yP,dP.prototype.canCreate=_P,dP.prototype.canReplace=function(e,t){return t},dP.prototype.canResize=xP,dP.prototype.canCopy=kP;var EP={__depends__:[uA],__init__:["odRules"],odRules:["type",dP]};function SP(e,t){e.on("saveXML.start",2e3,(function(){var e,n,i=t.getRootElement(),r=rj(i).di;e=H_(e=Rk([i],!1),(function(e){return e!==i&&!e.labelTarget})),n=K_(e,cj),r.set("planeElement",n)}))}SP.$inject=["eventBus","canvas"];var jP={__init__:["odDiOrdering"],odDiOrdering:["type",SP]};function MP(e){$C.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.parent=o.parent),n.parentIndex=o.index)})),this.preExecute(["shape.move","connection.move"],(function(e){var n=e.context,i=n.shape||n.connection,r=n.newParent||i.parent,o=t.getOrdering(i,r);o&&(void 0!==o.parent&&(n.newParent=o.parent),n.newParentIndex=o.index)}))}function AP(e,t,n){MP.call(this,e);var i=[{type:"od:Object",order:{level:5}},{type:"od:Link",order:{level:3}}];function r(e){var t=e.order;if(t||(e.order=t=function(e){if(e.labelTarget)return{level:10};var t=q_(i,(function(t){return oj(e,[t.type])}));return t&&t.order||{level:1}}(e)),!t)throw new Error("no order for <"+e.id+">");return t}this.getOrdering=function(e,i){if(e.labelTarget)return{parent:t.getRootElement(),index:-1};var o=r(e);o.containers&&(i=function(e,t,i){for(var r=t;r&&!oj(r,i);)r=r.parent;if(!r)throw new Error(n("no parent for {element} in {parent}",{element:e.id,parent:t.id}));return r}(e,i,o.containers));var a=i.children.indexOf(e),s=function(e,t){t=ix(t);var n=I_(e)?-1:void 0;return U_(e,(function(e,i){if(t(e,i))return n=i,!1})),n}(i.children,(function(t){return!(!e.labelTarget&&t.labelTarget)&&o.level<r(t).level}));return-1!==s&&-1!==a&&a<s&&(s-=1),{index:s,parent:i}}}MP.prototype.getOrdering=function(e,t){return null},S_()(MP,$C),AP.$inject=["eventBus","canvas","translate"],S_()(AP,MP);var CP={__depends__:[Sj],__init__:["odOrderingProvider"],odOrderingProvider:["type",AP]};function TP(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],(function(){this.clear(!1)}),this)}TP.$inject=["eventBus","injector"],TP.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";var n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction(n)},TP.prototype.canExecute=function(e,t){var n={command:e,context:t},i=this._getHandler(e),r=this._fire(e,"canExecute",n);if(void 0===r){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r},TP.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,!1!==e&&this._fire("changed",{trigger:"clear"})},TP.prototype.undo=function(){var e,t=this._getUndoAction();if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),(e=this._getUndoAction())&&e.id===t.id);)t=e;this._popAction()}},TP.prototype.redo=function(){var e,t=this._getRedoAction();if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),(e=this._getRedoAction())&&e.id===t.id);)t=e;this._popAction()}},TP.prototype.register=function(e,t){this._setHandler(e,t)},TP.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");var n=this._injector.instantiate(t);this.register(e,n)},TP.prototype.canUndo=function(){return!!this._getUndoAction()},TP.prototype.canRedo=function(){return!!this._getRedoAction()},TP.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},TP.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},TP.prototype._internalUndo=function(e){var t=this,n=e.command,i=e.context,r=this._getHandler(n);this._atomicDo((function(){t._fire(n,"revert",e),r.revert&&t._markDirty(r.revert(i)),t._revertedAction(e),t._fire(n,"reverted",e)}))},TP.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);var i,r,o,a=t?[e+"."+t,t]:[e];for(n=this._eventBus.createEvent(n),i=0;(r=a[i])&&(o=this._eventBus.fire("commandStack."+r,n),!n.cancelBubble);i++);return o},TP.prototype._createId=function(){return this._uid++},TP.prototype._atomicDo=function(e){var t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}},TP.prototype._internalExecute=function(e,t){var n=this,i=e.command,r=e.context,o=this._getHandler(i);if(!o)throw new Error("no command handler registered for <"+i+">");this._pushAction(e),t||(this._fire(i,"preExecute",e),o.preExecute&&o.preExecute(r),this._fire(i,"preExecuted",e)),this._atomicDo((function(){n._fire(i,"execute",e),o.execute&&n._markDirty(o.execute(r)),n._executedAction(e,t),n._fire(i,"executed",e)})),t||(this._fire(i,"postExecute",e),o.postExecute&&o.postExecute(r),this._fire(i,"postExecuted",e)),this._popAction(e)},TP.prototype._pushAction=function(e){var t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)},TP.prototype._popAction=function(){var e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:J_("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)},TP.prototype._markDirty=function(e){var t=this._currentExecution;e&&(e=I_(e)?e:[e],t.dirty=t.dirty.concat(e))},TP.prototype._executedAction=function(e,t){var n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)},TP.prototype._revertedAction=function(e){this._stackIdx--},TP.prototype._getHandler=function(e){return this._handlerMap[e]},TP.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};var PP={commandStack:["type",TP]},RP=new nM("tt");function BP(e,t){e.style.display=!1===t?"none":""}function OP(e,t){var n,i;this._eventBus=e,this._canvas=t,this._ids=RP,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=(n=t.getContainer(),i=Px('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />'),n.insertBefore(i,n.firstChild),i);var r=this;Tx.bind(this._tooltipRoot,".djs-tooltip","mousedown",(function(e){e.stopPropagation()})),Tx.bind(this._tooltipRoot,".djs-tooltip","mouseover",(function(e){r.trigger("mouseover",e)})),Tx.bind(this._tooltipRoot,".djs-tooltip","mouseout",(function(e){r.trigger("mouseout",e)})),this._init()}OP.$inject=["eventBus","canvas"],OP.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=ux({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t},OP.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(hx(n,"data-tooltip-id"));i&&("mouseover"===e&&i.timeout&&this.clearTimeout(i),"mouseout"===e&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))},OP.prototype.get=function(e){return"string"!=typeof e&&(e=e.id),this._tooltips[e]},OP.prototype.clearTimeout=function(e){if(e=this.get(e)){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}},OP.prototype.setTimeout=function(e){if(e=this.get(e)){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout((function(){t.remove(e)}),e.timeout)}},OP.prototype.remove=function(e){var t=this.get(e);t&&(Dx(t.html),Dx(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])},OP.prototype.show=function(){BP(this._tooltipRoot)},OP.prototype.hide=function(){BP(this._tooltipRoot,!1)},OP.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i},OP.prototype._addTooltip=function(e){var t,n=e.id,i=e.html,r=this._tooltipRoot;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),N_(i)&&(i=Px(i)),(t=Px('<div data-tooltip-id="'+n+'" class="djs-tooltip" style="position: absolute">')).appendChild(i),e.type&&vx(t).add("djs-tooltip-"+e.type),e.className&&vx(t).add(e.className),e.htmlContainer=t,r.appendChild(t),this._tooltips[n]=e,this._updateTooltip(e)},OP.prototype._updateTooltip=function(e){var t,n,i,r=e.position,o=e.htmlContainer;t=o,n=r.x,i=r.y,ux(t.style,{left:n+"px",top:i+"px"})},OP.prototype._updateTooltipVisibilty=function(e){U_(this._tooltips,(function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),BP(i,r))}))},OP.prototype._init=function(){var e=this;this._eventBus.on("canvas.viewbox.changing",(function(t){e.hide()})),this._eventBus.on("canvas.viewbox.changed",(function(t){var n;n=t.viewbox,e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}))};var IP={__init__:["tooltips"],tooltips:["type",OP]};function DP(e,t){if("function"!=typeof t)throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}function FP(e,t,n){$C.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",1400,(function(e){var t=e.context,n=t.shapes,i=t.validatedShapes;t.shapes=zP(n),t.validatedShapes=zP(i)})),i&&t.on("shape.move.start",250,(function(e){var t=e.context,n=t.shapes,r=[];U_(n,(function(e){U_(e.labels,(function(n){n.hidden||-1!==t.shapes.indexOf(n)||r.push(n),e.labelTarget&&r.push(e)}))})),U_(r,(function(e){i.makeDraggable(t,e,!0)}))})),this.preExecuted("elements.move",1400,(function(e){var t=e.context.closure,n=t.enclosedElements,i=[];U_(n,(function(e){U_(e.labels,(function(e){n[e.id]||i.push(e)}))})),t.addAll(i)})),this.preExecute(["connection.delete","shape.delete"],(function(e){var t=e.context;DP((t.connection||t.shape).labels,(function(e){n.removeShape(e,{nested:!0})}))})),this.execute("shape.delete",(function(e){var t=e.context,n=t.shape,i=n.labelTarget;i&&(t.labelTargetIndex=qk(i.labels,n),t.labelTarget=i,n.labelTarget=null)})),this.revert("shape.delete",(function(e){var t=e.context,n=t.shape,i=t.labelTarget,r=t.labelTargetIndex;i&&(Lk(i.labels,n,r),n.labelTarget=i)}))}function zP(e){return H_(e,(function(t){return-1===e.indexOf(t.labelTarget)}))}S_()(FP,$C),FP.$inject=["injector","eventBus","modeling"];var NP={__init__:["labelSupport"],labelSupport:["type",FP]};function LP(e,t,n,i,r){$C.call(this,t);var o=e.get("movePreview",!1);t.on("shape.move.start",1401,(function(e){var t,n,i=e.context,r=i.shapes,o=i.validatedShapes;i.shapes=(n=qP(t=r),Q_("id",t,n)),i.validatedShapes=function(e){var t=X_(e,"id");return H_(e,(function(e){for(;e;){if(e.host&&t[e.host.id])return!1;e=e.parent}return!0}))}(o)})),o&&t.on("shape.move.start",251,(function(e){var t=e.context;U_(qP(t.shapes),(function(e){o.makeDraggable(t,e,!0),U_(e.labels,(function(e){o.makeDraggable(t,e,!0)}))}))})),o&&t.on("shape.move.start",(function(e){var i=e.context.shapes;if(1===i.length){var r=i[0].host;r&&(n.addMarker(r,"attach-ok"),t.once(["shape.move.out","shape.move.cleanup"],(function(){n.removeMarker(r,"attach-ok")})))}})),this.preExecuted("elements.move",1401,(function(e){var t=e.context,n=t.closure;U_(qP(t.shapes),(function(e){n.add(e,n.topLevel[e.host.id])}))})),this.postExecuted("elements.move",(function(e){var t=e.context,n=t.shapes,i=t.newHost;i&&1!==n.length||U_(i?n:H_(n,(function(e){var t,i=e.host;return function(e){return!!e.host}(e)&&(t=i,!(-1!==n.indexOf(t)))})),(function(e){r.updateAttachment(e,i)}))})),this.postExecuted("elements.move",(function(e){U_(e.context.shapes,(function(e){U_(e.attachers,(function(e){U_(e.outgoing.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)})),U_(e.incoming.slice(),(function(e){i.allowed("connection.reconnect",{connection:e,source:e.source,target:e.target})||r.removeConnection(e)}))}))}))})),this.postExecute("shape.create",(function(e){var t=e.context,n=t.shape,i=t.host;i&&r.updateAttachment(n,i)})),this.postExecute("shape.replace",(function(e){var t=e.context,n=t.oldShape,o=t.newShape;DP(n.attachers,(function(e){"attach"===i.allowed("elements.move",{target:o,shapes:[e]})?r.updateAttachment(e,o):r.removeShape(e)})),o.attachers.length&&U_(o.attachers,(function(e){var t=aP(e,n,o);r.moveShape(e,t,e.parent)}))})),this.postExecute("shape.resize",(function(e){var t=e.context,n=t.shape,i=t.oldBounds,o=t.newBounds,a=n.attachers;!1!==(t.hints||{}).attachSupport&&U_(a,(function(e){var t=aP(e,i,o);r.moveShape(e,t,e.parent),U_(e.labels,(function(e){r.moveShape(e,t,e.parent)}))}))})),this.preExecute("shape.delete",(function(e){var t=e.context.shape;DP(t.attachers,(function(e){r.removeShape(e)})),t.host&&r.updateAttachment(t,null)}))}function qP(e){return C_(K_(e,(function(e){return e.attachers||[]})))}S_()(LP,$C),LP.$inject=["injector","eventBus","canvas","rules","modeling"];var HP={__depends__:[uA],__init__:["attachSupport"],attachSupport:["type",LP]};function UP(e,t){this._eventBus=e,this._dragging=t,this._tools=[],this._active=null}UP.$inject=["eventBus","dragging"],UP.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error('A tool has to be registered with it\'s "events"');n.push(e),this.bindEvents(e,t)},UP.prototype.isActive=function(e){return e&&this._active===e},UP.prototype.length=function(e){return this._tools.length},UP.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))},UP.prototype.bindEvents=function(e,t){var n=this._eventBus,i=this._dragging,r=[];n.on(t.tool+".init",(function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void i.cancel();this.setActive(e)}),this),U_(t,(function(e){r.push(e+".ended"),r.push(e+".canceled")})),n.on(r,250,(function(e){this._active&&(function(e){var t=e.originalEvent&&e.originalEvent.target;return t&&kx(t,'.group[data-group="tools"]')}(e)||this.setActive(null))}),this)};var $P={__depends__:[rA],__init__:["toolManager"],toolManager:["type",UP]};function VP(e,t){return-1!==e.indexOf(t)}var WP=Math.abs,GP=Math.round,KP={x:"width",y:"height"},ZP={n:"top",w:"left",s:"bottom",e:"right"},YP={n:"s",w:"e",s:"n",e:"w"};function XP(e,t,n,i,r,o,a){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=i,this._rules=r,this._toolManager=o,this._mouse=a;var s=this;o.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",(function(e){n.once("spaceTool.selection.ended",(function(){s.activateMakeSpace(e.originalEvent)}))})),n.on("spaceTool.move",1500,(function(e){var t=e.context,n=t.initialized;n||(n=t.initialized=s.init(e,t)),n&&QP(e)})),n.on("spaceTool.end",(function(e){var t=e.context,i=t.axis,r=t.direction,o=t.movingShapes,a=t.resizingShapes,c=t.start;if(t.initialized){QP(e);var u={x:0,y:0};u[i]=GP(e["d"+i]),s.makeSpace(o,a,u,r,c),n.once("spaceTool.ended",(function(e){s.activateSelection(e.originalEvent,!0,!0)}))}}))}function JP(e){return{top:e.top-20,right:e.right+20,bottom:e.bottom+20,left:e.left-20}}function QP(e){var t,n,i=e.context.spaceToolConstraints;i&&(F_(i.left)&&(t=Math.max(e.x,i.left),e.dx=e.dx+t-e.x,e.x=t),F_(i.right)&&(t=Math.min(e.x,i.right),e.dx=e.dx+t-e.x,e.x=t),F_(i.top)&&(n=Math.max(e.y,i.top),e.dy=e.dy+n-e.y,e.y=n),F_(i.bottom)&&(n=Math.min(e.y,i.bottom),e.dy=e.dy+n-e.y,e.y=n))}function eR(e,t){return-1!==e.indexOf(t)}function tR(e){return!!e.waypoints}function nR(e){return!!e.labelTarget}XP.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"],XP.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:"crosshair",data:{context:{reactivate:n}},trapClick:!1})},XP.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:"crosshair",data:{context:{}}})},XP.prototype.makeSpace=function(e,t,n,i,r){return this._modeling.createSpace(e,t,n,i,r)},XP.prototype.init=function(e,t){var n=WP(e.dx)>WP(e.dy)?"x":"y",i=e["d"+n],r=e[n]-i;if(WP(i)<5)return!1;i<0&&(i*=-1),Uj(e)&&(i*=-1);var o=function(e,t){if("x"===e){if(t>0)return"e";if(t<0)return"w"}if("y"===e){if(t>0)return"s";if(t<0)return"n"}return null}(n,i),a=Rk(this._canvas.getRootElement(),!0),s=this.calculateAdjustments(a,n,i,r);return ux(t,s,{axis:n,direction:o,spaceToolConstraints:function(e,t,n,i,r){var o=e.movingShapes,a=e.resizingShapes;if(!a.length)return;var s,c,u={};return U_(a,(function(e){var l,p,h,f=Yk(e),d=H_(e.children,(function(e){return!(tR(e)||nR(e)||eR(o,e)||eR(a,e))})),m=H_(e.children,(function(e){return!tR(e)&&!nR(e)&&eR(o,e)}));d.length&&(p=JP(Yk(Bk(d))),l=i-f[ZP[n]]+p[ZP[n]],"n"===n?u.bottom=c=F_(c)?Math.min(c,l):l:"w"===n?u.right=c=F_(c)?Math.min(c,l):l:"s"===n?u.top=s=F_(s)?Math.max(s,l):l:"e"===n&&(u.left=s=F_(s)?Math.max(s,l):l)),m.length&&(h=JP(Yk(Bk(m))),l=i-h[ZP[YP[n]]]+f[ZP[YP[n]]],"n"===n?u.bottom=c=F_(c)?Math.min(c,l):l:"w"===n?u.right=c=F_(c)?Math.min(c,l):l:"s"===n?u.top=s=F_(s)?Math.max(s,l):l:"e"===n&&(u.left=s=F_(s)?Math.max(s,l):l));var g=r&&r[e.id];g&&("n"===n?(l=i+e[KP[t]]-g[KP[t]],u.bottom=c=F_(c)?Math.min(c,l):l):"w"===n?(l=i+e[KP[t]]-g[KP[t]],u.right=c=F_(c)?Math.min(c,l):l):"s"===n?(l=i-e[KP[t]]+g[KP[t]],u.top=s=F_(s)?Math.max(s,l):l):"e"===n&&(l=i-e[KP[t]]+g[KP[t]],u.left=s=F_(s)?Math.max(s,l):l))})),u}(s,n,o,r,this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:o,shapes:s.resizingShapes,start:r})),start:r}),EM("resize-"+("x"===n?"ew":"ns")),!0},XP.prototype.calculateAdjustments=function(e,t,n,i){var r=this._rules,o=[],a=[];return U_(e,(function(e){if(e.parent&&!tR(e)){var s=e[t],c=s+e[KP[t]];return n>0&&s>i||n<0&&c<i?o.push(e):s<i&&c>i&&r.allowed("shape.resize",{shape:e})?a.push(e):void 0}})),{movingShapes:o,resizingShapes:a}},XP.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},XP.prototype.isActive=function(){var e=this._dragging.context();return e&&/^spaceTool/.test(e.prefix)};var iR=Math.max;function rR(e,t,n,i,r){function o(e,t){U_(e,(function(e){r.addDragger(e,t),n.addMarker(e,"djs-dragging")}))}e.on("spaceTool.selection.start",(function(e){var t=n.getLayer("space"),r=e.context,o="M 0,-10000 L 0,10000",a="M -10000,0 L 10000,0",s=tk("g");Hx(s,i.cls("djs-crosshair-group",["no-events"])),Nx(t,s);var c=tk("path");Hx(c,"d",o),Gx(c).add("djs-crosshair"),Nx(s,c);var u=tk("path");Hx(u,"d",a),Gx(u).add("djs-crosshair"),Nx(s,u),r.crosshairGroup=s})),e.on("spaceTool.selection.move",(function(e){jE(e.context.crosshairGroup,e.x,e.y)})),e.on("spaceTool.selection.cleanup",(function(e){var t=e.context.crosshairGroup;t&&Zx(t)})),e.on("spaceTool.move",250,(function(e){var a=e.context,s=a.line,c=a.axis,u=a.movingShapes,l=a.resizingShapes;if(a.initialized){if(!a.dragGroup){var p=n.getLayer("space");Hx(s=tk("path"),"d","M0,0 L0,0"),Gx(s).add("djs-crosshair"),Nx(p,s),a.line=s;var h=tk("g");Hx(h,i.cls("djs-drag-group",["no-events"])),Nx(n.getActiveLayer(),h),o(u,h),o(a.movingConnections=t.filter((function(e){var t=!1;U_(u,(function(n){U_(n.outgoing,(function(n){e===n&&(t=!0)}))}));var n=!1;U_(u,(function(t){U_(t.incoming,(function(t){e===t&&(n=!0)}))}));var i=!1;U_(l,(function(t){U_(t.outgoing,(function(t){e===t&&(i=!0)}))}));var r=!1;return U_(l,(function(t){U_(t.incoming,(function(t){e===t&&(r=!0)}))})),function(e){return e.waypoints}(e)&&(t||i)&&(n||r)})),h),a.dragGroup=h}if(!a.frameGroup){var f=tk("g");Hx(f,i.cls("djs-frame-group",["no-events"])),Nx(n.getActiveLayer(),f);var d=[];U_(l,(function(e){var t=r.addFrame(e,f),i=t.getBBox();d.push({element:t,initialBounds:i}),n.addMarker(e,"djs-resizing")})),a.frameGroup=f,a.frames=d}Hx(s,{d:{x:"M"+e.x+", -10000 L"+e.x+", 10000",y:"M -10000, "+e.y+" L 10000, "+e.y}[c]});var m={x:e.dx,y:e.dy};m[{x:"y",y:"x"}[a.axis]]=0,jE(a.dragGroup,m.x,m.y),U_(a.frames,(function(e){var t,n,i=e.element,r=e.initialBounds;"e"===a.direction?Hx(i,{width:iR(r.width+m.x,5)}):Hx(i,{width:t=iR(r.width-m.x,5),x:r.x+r.width-t}),"s"===a.direction?Hx(i,{height:iR(r.height+m.y,5)}):Hx(i,{height:n=iR(r.height-m.y,5),y:r.y+r.height-n})}))}})),e.on("spaceTool.cleanup",(function(e){var t=e.context,i=t.movingShapes,r=t.movingConnections,o=t.resizingShapes,a=t.line,s=t.dragGroup,c=t.frameGroup;U_(i,(function(e){n.removeMarker(e,"djs-dragging")})),U_(r,(function(e){n.removeMarker(e,"djs-dragging")})),s&&(Zx(a),Zx(s)),U_(o,(function(e){n.removeMarker(e,"djs-resizing")})),c&&Zx(c)}))}rR.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var oR={__init__:["spaceToolPreview"],__depends__:[rA,uA,$P,rC,wC],spaceTool:["type",XP],spaceToolPreview:["type",rR]};function aR(e){this._model=e}function sR(e,t,n,i){$C.call(this,e),this._odFactory=t,this._translate=i;var r=this;function o(e){U_(e.context.oldRoot.children,(function(e){ij(e,"od:BoardElement")&&r.updateParent(e)}))}function a(e){var t=e.context.shape;ij(t,"od:BoardElement")&&r.updateBounds(t)}function s(e){r.updateConnection(e.context)}function c(e){r.updateConnectionWaypoints(e.context.connection)}function u(e){r.updateAttachment(e.context)}this.executed(["connection.layout","connection.create"],(function(e){var t,i=e.context,r=i.hints||{};i.cropped||!1===r.createElementsBehavior||((t=i.connection).waypoints=n.getCroppedWaypoints(t),i.cropped=!0)})),this.reverted(["connection.layout"],(function(e){delete e.context.cropped})),this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],cR((function(e){var t=e.context;r.updateParent(t.shape||t.connection,t.oldParent)}))),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],cR((function(e){var t=e.context,n=t.shape||t.connection,i=t.parent||t.newParent;r.updateParent(n,i)}))),this.executed(["canvas.updateRoot"],o),this.reverted(["canvas.updateRoot"],o),this.executed(["shape.move","shape.create","shape.resize"],cR((function(e){"label"!==e.context.shape.type&&a(e)}))),this.reverted(["shape.move","shape.create","shape.resize"],cR((function(e){"label"!==e.context.shape.type&&a(e)}))),e.on("shape.changed",(function(e){"label"===e.element.type&&a({context:{shape:e.element}})})),this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],cR(s)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],cR(s)),this.executed(["connection.layout","connection.move","connection.updateWaypoints"],cR(c)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],cR(c)),this.executed(["element.updateAttachment"],cR(u)),this.reverted(["element.updateAttachment"],cR(u))}function cR(e){return function(t){var n=t.context;ij(n.shape||n.connection,"od:BoardElement")&&e(t)}}function uR(e,t,n){_E.call(this),this._odFactory=e,this._moddle=t,this._translate=n}function lR(e,t){this._modeling=e,this._canvas=t}function pR(e){this._modeling=e}function hR(e,t){this._canvas=e,this._layouter=t}aR.$inject=["moddle"],aR.prototype._needsId=function(e){return oj(e,["od:BoardElement"])},aR.prototype._ensureId=function(e){var t;t=ij(e,"od:Object")?"Object":(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))},aR.prototype.create=function(e,t){var n=this._model.create(e,t||{});return"od:Object"===e&&(n.attributeValues=""),this._ensureId(n),n},aR.prototype.createDiLabel=function(){return this.create("odDi:OdLabel",{bounds:this.createDiBounds()})},aR.prototype.createDiShape=function(e,t,n){return this.create("odDi:OdShape",ux({boardElement:e,bounds:this.createDiBounds(t)},n))},aR.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)},aR.prototype.createDiEdge=function(e,t,n){return this.create("odDi:Link",ux({boardElement:e},n))},aR.prototype.createDiPlane=function(e){return this.create("odDi:OdPlane",{boardElement:e})},aR.prototype.createDiWaypoints=function(e){var t=this;return K_(e,(function(e){return t.createDiWaypoint(e)}))},aR.prototype.createDiWaypoint=function(e){return this.create("dc:Point",lx(e,["x","y"]))},S_()(sR,$C),sR.$inject=["eventBus","odFactory","connectionDocking","translate"],sR.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host;n.attachedToRef=i&&i.businessObject},sR.prototype.updateParent=function(e,t){if(!(e instanceof yE)){var n=e.parent,i=e.businessObject,r=n&&n.businessObject,o=r&&r.di;this.updateSemanticParent(i,r),this.updateDiParent(i.di,o)}},sR.prototype.updateBounds=function(e){var t=e.businessObject.di,n=e instanceof yE?this._getLabel(t):t,i=n.bounds;i||(i=this._odFactory.createDiBounds(),n.set("bounds",i)),ux(i,{x:e.x,y:e.y,width:e.width,height:e.height})},sR.prototype.updateDiParent=function(e,t){if(t&&!ij(t,"odDi:OdPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(Nk(n,e),e.$parent=null)}},sR.prototype.updateSemanticParent=function(e,t,n){var i,r=this._translate;if(e.$parent!==t){if(ij(e,"od:BoardElement")&&(i="boardElements"),!i)throw new Error(r("no parent for {element} in {parent}",{element:e.id,parent:t.id}));var o;if(e.$parent&&Nk(o=e.$parent.get(i),e),t?((o=t.get(i)).push(e),e.$parent=t):e.$parent=null,n){var a=n.get(i);Nk(o,e),t&&(a||(a=[],t.set(i,a)),a.push(e))}}},sR.prototype.updateConnection=function(e){var t=e.connection,n=rj(t),i=rj(t.source),r=rj(t.target),o=ij(n,"od:Link");n.sourceRef!==i&&(o&&(Nk(n.sourceRef&&n.sourceRef.get("links"),n),i&&i.get("links")&&i.get("links").push(n)),n.sourceRef=i),n.targetRef!==r&&(n.targetRef=r),this.updateConnectionWaypoints(t),this.updateDiConnection(n.di,i,r)},sR.prototype.updateConnectionWaypoints=function(e){e.businessObject.di.set("waypoint",this._odFactory.createDiWaypoints(e.waypoints))},sR.prototype.updateDiConnection=function(e,t,n){e.sourceElement&&e.sourceElement.boardElement!==t&&(e.sourceElement=t&&t.di),e.targetElement&&e.targetElement.boardElement!==n&&(e.targetElement=n&&n.di)},sR.prototype._getLabel=function(e){return e.label||(e.label=this._odFactory.createDiLabel()),e.label},S_()(uR,_E),uR.$inject=["odFactory","moddle","translate"],uR.prototype.baseCreate=_E.prototype.create,uR.prototype.create=function(e,t){return"label"===e?this.baseCreate(e,ux({type:"label"},jj,t)):this.createOdElement(e,t)},uR.prototype.createOdElement=function(e,t){var n,i=this._translate,r=(t=t||{}).businessObject;if(!r){if(!t.type)throw new Error(i("no shape type specified"));r=this._odFactory.create(t.type)}return r.di||(r.di="root"===e?this._odFactory.createDiPlane(r,[],{id:r.id+"_di"}):"connection"===e?this._odFactory.createDiEdge(r,[],{id:r.id+"_di"}):this._odFactory.createDiShape(r,{},{id:r.id+"_di"})),t.di&&(ux(r.di,t.di),delete t.di),function(e,t,n){U_(n,(function(n){void 0!==t[n]&&function(e,t,n){e[n]=t[n],delete t[n]}(e,t,n)}))}(r,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),n=this._getDefaultSize(r),t=ux({businessObject:r,id:r.id},n,t),this.baseCreate(e,t)},uR.prototype._getDefaultSize=function(e){return ij(e,"od:Object")?{width:150,height:90}:{width:100,height:80}},lR.$inject=["modeling","canvas"],lR.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,i=e.alignment;U_(n,(function(e){var n={x:0,y:0};i.left?n.x=i.left-e.x:i.right?n.x=i.right-e.width-e.x:i.center?n.x=i.center-Math.round(e.width/2)-e.x:i.top?n.y=i.top-e.y:i.bottom?n.y=i.bottom-e.height-e.y:i.middle&&(n.y=i.middle-Math.round(e.height/2)-e.y),t.moveElements([e],n,e.parent)}))},lR.prototype.postExecute=function(e){},pR.$inject=["modeling"],pR.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,r=e.hints||{};i=e.shape=this._modeling.createShape(i,e.position,n,{attach:r.attach}),e.shape=i},pR.prototype.postExecute=function(e){var t,n,i=e.hints||{};t=e.source,n=e.shape,G_(t.outgoing,(function(e){return e.target===n}))||(i.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))},hR.$inject=["canvas","layouter"],hR.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,r=e.parent,o=e.parentIndex,a=e.hints;if(!n||!i)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,a)),this._canvas.addConnection(t,r,o),t},hR.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var fR=Math.round;function dR(e){this._modeling=e}function mR(e){return!!e.waypoints}dR.$inject=["modeling"],dR.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,r=e.position,o=e.hints,a=this._modeling;U_(t,(function(e){F_(e.x)||(e.x=0),F_(e.y)||(e.y=0)}));var s=Bk(t);U_(t,(function(e){mR(e)&&(e.waypoints=K_(e.waypoints,(function(e){return{x:fR(e.x-s.x-s.width/2+r.x),y:fR(e.y-s.y-s.height/2+r.y)}}))),ux(e,{x:fR(e.x-s.x-s.width/2+r.x),y:fR(e.y-s.y-s.height/2+r.y)})}));var c=Ak(t),u={};U_(t,(function(e){if(mR(e))u[e.id]=F_(i)?a.createConnection(u[e.source.id],u[e.target.id],i,e,e.parent||n,o):a.createConnection(u[e.source.id],u[e.target.id],e,e.parent||n,o);else{var t=ux({},o);-1===c.indexOf(e)&&(t.autoResize=!1),u[e.id]=F_(i)?a.createShape(e,lx(e,["x","y","width","height"]),e.parent||n,i,t):a.createShape(e,lx(e,["x","y","width","height"]),e.parent||n,t)}})),e.elements=Y_(u)};var gR=Math.round;function vR(e){this._canvas=e}function yR(e){vR.call(this,e)}vR.$inject=["canvas"],vR.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,r=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return void 0!==n.width?ux(t,n):ux(t,{x:n.x-gR(t.width/2),y:n.y-gR(t.height/2)}),this._canvas.addShape(t,i,r),t},vR.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t},S_()(yR,vR),yR.$inject=["canvas"];var bR=vR.prototype.execute;yR.prototype.execute=function(e){var t=e.shape;return function(e){["width","height"].forEach((function(t){void 0===e[t]&&(e[t]=0)}))}(t),t.labelTarget=e.labelTarget,bR.call(this,e)};var wR=vR.prototype.revert;function _R(e,t){this._canvas=e,this._modeling=t}function xR(e,t){this._modeling=e,this._elementRegistry=t}function kR(e,t){this._canvas=e,this._modeling=t}function ER(e){this._modeling=e}yR.prototype.revert=function(e){return e.shape.labelTarget=null,wR.call(this,e)},_R.$inject=["canvas","modeling"],_R.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=qk(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t},_R.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,Lk(n.children,t,i),this._canvas.addConnection(t,n),t},xR.$inject=["modeling","elementRegistry"],xR.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry;U_(e.elements,(function(e){n.get(e.id)&&(e.waypoints?t.removeConnection(e):t.removeShape(e))}))},kR.$inject=["canvas","modeling"],kR.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;DP(n.incoming,(function(e){t.removeConnection(e,{nested:!0})})),DP(n.outgoing,(function(e){t.removeConnection(e,{nested:!0})})),DP(n.children,(function(e){e.waypoints?t.removeConnection(e,{nested:!0}):t.removeShape(e,{nested:!0})}))},kR.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=qk(i.children,n),t.removeShape(n),n},kR.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,r=e.oldParentIndex;return Lk(i.children,n,r),t.addShape(n,i),n},ER.$inject=["modeling"];var SR={x:"y",y:"x"};function jR(e,t){this._layouter=e,this._canvas=t}function MR(){}function AR(e,t,n){var i=BR(e),r=OR(i,t),o=i[0];return r.length?r[r.length-1]:oP(o.original||o,n,t)}function CR(e,t,n){var i=BR(e),r=OR(i,t),o=i[i.length-1];return r.length?r[0]:oP(o.original||o,n,t)}function TR(e,t,n){var i=BR(e),r=RR(t,n),o=i[0];return oP(o.original||o,r,t)}function PR(e,t,n){var i=BR(e),r=RR(t,n),o=i[i.length-1];return oP(o.original||o,r,t)}function RR(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function BR(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function OR(e,t){return H_(K_(e,IR),(function(e){return function(e,t){return"intersect"===Qk(t,e,1)}(e,t)}))}function IR(e){return e.original||e}function DR(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function FR(e){this._modeling=e}function zR(e){this._helper=new FR(e)}function NR(e){this._modeling=e,this._helper=new FR(e)}function LR(e){this._modeling=e}function qR(e){return e.original||e}function HR(e,t){this._modeling=e,this._rules=t}function UR(e){this._modeling=e}function $R(e){this._modeling=e}function VR(e){return ux({},e)}function WR(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function GR(e,t,n){var i=WR(n);return/e|s/.test(n)?e[i]>t:/n|w/.test(n)?e[i]<t:void 0}function KR(e,t){return-1!==e.indexOf(t)}function ZR(e){this._modeling=e}function YR(e){this._modeling=e}function XR(e,t){return Nk(e&&e.attachers,t)}function JR(e,t,n){if(e){var i=e.attachers;i||(e.attachers=i=[]),Lk(i,t,n)}}function QR(){}function eB(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",(function(){i.registerHandlers(n)}))}ER.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,i=e.axis,r=e.dimension;function o(e,t){e.range.min=Math.min(t[i],e.range.min),e.range.max=Math.max(t[i]+t[r],e.range.max)}function a(e){return e[i]+e[r]/2}function s(e){return e.length-1}function c(e){return e.max-e.min}var u,l,p=n[0],h=s(n),f=n[h],d=0;U_(n,(function(e,u){var l,p,f;e.elements.length<2?u&&u!==n.length-1&&(o(e,e.elements[0]),d+=c(e.range)):(p=(l=ex(e.elements,i))[0],u===h&&(p=l[s(l)]),f=a(p),e.range=null,U_(l,(function(n){!function(e,n){var r={y:0};r[i]=e-a(n),r[i]&&(r[SR[i]]=0,t.moveElements([n],r,n.parent))}(f,n),null!==e.range?o(e,n):e.range={min:n[i],max:n[i]+n[r]}})),u&&u!==n.length-1&&(d+=c(e.range)))})),l=Math.abs(f.range.min-p.range.max),(u=Math.round((l-d)/(n.length-1)))<n.length-1||U_(n,(function(e,o){var a,s={};e!==p&&e!==f&&(a=n[o-1],e.range.max=0,U_(e.elements,(function(n,o){s[SR[i]]=0,s[i]=a.range.max-n[i]+u,e.range.min!==n[i]&&(s[i]+=n[i]-e.range.min),s[i]&&t.moveElements([n],s,n.parent),e.range.max=Math.max(n[i]+n[r],o?e.range.max:0)})))}))},ER.prototype.postExecute=function(e){},jR.$inject=["layouter","canvas"],jR.prototype.execute=function(e){var t=e.connection;return ux(e,{oldWaypoints:t.waypoints}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t},jR.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t},MR.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldParent=o,e.oldParentIndex=Nk(o.children,t),Lk(i.children,t,r),t.parent=i,U_(t.waypoints,(function(e){e.x+=n.x,e.y+=n.y,e.original&&(e.original.x+=n.x,e.original.y+=n.y)})),t},MR.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,r=e.oldParentIndex,o=e.delta;return Nk(n.children,t),Lk(i.children,t,r),t.parent=i,U_(t.waypoints,(function(e){e.x-=o.x,e.y-=o.y,e.original&&(e.original.x-=o.x,e.original.y-=o.y)})),t},DR.prototype.add=function(e,t){return this.addAll([e],t)},DR.prototype.addAll=function(e,t){return ux(this,function(e,t,n){R_(t)&&(t=!0),D_(t)&&(n=t,t=!0);var i=Dk((n=n||{}).allShapes),r=Dk(n.allConnections),o=Dk(n.enclosedElements),a=Dk(n.enclosedConnections),s=Dk(n.topLevel,t&&X_(e,(function(e){return e.id})));function c(e){s[e.source.id]&&s[e.target.id]&&(s[e.id]=[e]),i[e.source.id]&&i[e.target.id]&&(a[e.id]=o[e.id]=e),r[e.id]=e}return Tk(e,(function(e){if(o[e.id]=e,!e.waypoints)return i[e.id]=e,U_(e.incoming,c),U_(e.outgoing,c),e.children;a[e.id]=r[e.id]=e})),{allShapes:i,allConnections:r,topLevel:s,enclosedConnections:a,enclosedElements:o}}(e,!!t,this)),this},FR.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]},FR.prototype.moveClosure=function(e,t,n,i,r){var o=this._modeling,a=e.allShapes,s=e.allConnections,c=e.enclosedConnections,u=e.topLevel,l=!1;r&&r.parent===n&&(l=!0),U_(a,(function(e){o.moveShape(e,t,u[e.id]&&!l&&n,{recurse:!1,layout:!1})})),U_(s,(function(e){var i=!!a[e.source.id],r=!!a[e.target.id];c[e.id]&&i&&r?o.moveConnection(e,t,u[e.id]&&!l&&n):o.layoutConnection(e,{connectionStart:i&&TR(e,e.source,t),connectionEnd:r&&PR(e,e.target,t)})}))},FR.prototype.getClosure=function(e){return(new DR).addAll(e,!0)},zR.$inject=["modeling"],zR.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)},zR.prototype.postExecute=function(e){var t,n=e.hints;n&&n.primaryShape&&(t=n.primaryShape,n.oldParent=t.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,t)},NR.$inject=["modeling"],NR.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,o=t.parent;return e.oldBounds=lx(t,["x","y","width","height"]),e.oldParent=o,e.oldParentIndex=Nk(o.children,t),Lk(i.children,t,r),ux(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t},NR.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,r=this._modeling;!1!==i.layout&&(U_(t.incoming,(function(e){r.layoutConnection(e,{connectionEnd:PR(e,t,n)})})),U_(t.outgoing,(function(e){r.layoutConnection(e,{connectionStart:TR(e,t,n)})}))),!1!==i.recurse&&this.moveChildren(e)},NR.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,r=e.delta;return Lk(n.children,t,i),ux(t,{parent:n,x:t.x-r.x,y:t.y-r.y}),t},NR.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)},NR.prototype.getNewParent=function(e){return e.newParent||e.shape.parent},LR.$inject=["modeling"],LR.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,r=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return I_(r)&&(e.oldWaypoints=i.waypoints,i.waypoints=r),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i},LR.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,r=e.dockingOrPoints,o=e.hints||{},a={};o.connectionStart&&(a.connectionStart=o.connectionStart),o.connectionEnd&&(a.connectionEnd=o.connectionEnd),!1!==o.layoutConnection&&(!n||i&&"source"!==o.docking||(a.connectionStart=a.connectionStart||qR(I_(r)?r[0]:r)),!i||n&&"target"!==o.docking||(a.connectionEnd=a.connectionEnd||qR(I_(r)?r[r.length-1]:r)),o.newWaypoints&&(a.waypoints=o.newWaypoints),this._modeling.layoutConnection(t,a))},LR.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,r=e.connection;return t&&(r.source=t),n&&(r.target=n),i&&(r.waypoints=i),r},HR.$inject=["modeling","rules"],HR.prototype.preExecute=function(e){var t,n=this,i=this._modeling,r=this._rules,o=e.oldShape,a=e.newData,s=e.hints||{};function c(e,t,n){return r.allowed("connection.reconnect",{connection:n,source:e,target:t})}var u,l={x:a.x,y:a.y},p={x:o.x,y:o.y,width:o.width,height:o.height};t=e.newShape=e.newShape||n.createShape(a,l,o.parent,s),o.host&&i.updateAttachment(t,o.host),!1!==s.moveChildren&&(u=o.children.slice(),i.moveElements(u,{x:0,y:0},t,s));var h=o.incoming.slice(),f=o.outgoing.slice();U_(h,(function(e){c(e.source,t,e)&&n.reconnectEnd(e,t,CR(e,t,p),s)})),U_(f,(function(e){var i=e.target;c(t,i,e)&&n.reconnectStart(e,t,AR(e,t,p),s)}))},HR.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)},HR.prototype.execute=function(e){},HR.prototype.revert=function(e){},HR.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)},HR.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)},HR.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)},UR.$inject=["modeling"],UR.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},ux(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},UR.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds;!1!==(e.hints||{}).layout&&(U_(n.incoming,(function(e){t.layoutConnection(e,{connectionEnd:CR(e,n,i)})})),U_(n.outgoing,(function(e){t.layoutConnection(e,{connectionStart:AR(e,n,i)})})))},UR.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return ux(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t},$R.$inject=["modeling"],$R.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,r=e.resizingShapes,o=e.start,a={};this.moveShapes(i,t),U_(r,(function(e){a[e.id]=function(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}(e)})),this.resizeShapes(r,t,n),this.updateConnectionWaypoints(function(e,t){var n=[];return U_(e.concat(t),(function(i){var r=i.incoming,o=i.outgoing;U_(r.concat(o),(function(i){var r=i.source,o=i.target;(VP(e,r)||VP(e,o)||VP(t,r)||VP(t,o))&&(VP(n,i)||n.push(i))}))})),n}(i,r),t,n,o,i,r,a)},$R.prototype.execute=function(){},$R.prototype.revert=function(){},$R.prototype.moveShapes=function(e,t){var n=this;U_(e,(function(e){n._modeling.moveShape(e,t,null,{autoResize:!1,layout:!1,recurse:!1})}))},$R.prototype.resizeShapes=function(e,t,n){var i=this;U_(e,(function(e){var r=function(e,t,n){var i=e.x,r=e.y,o=e.width,a=e.height,s=n.x,c=n.y;switch(t){case"n":return{x:i,y:r+c,width:o,height:a-c};case"s":return{x:i,y:r,width:o,height:a+c};case"w":return{x:i+s,y:r,width:o-s,height:a};case"e":return{x:i,y:r,width:o+s,height:a};default:throw new Error("unknown direction: "+t)}}(e,n,t);i._modeling.resizeShape(e,r,null,{attachSupport:!1,autoResize:!1,layout:!1})}))},$R.prototype.updateConnectionWaypoints=function(e,t,n,i,r,o,a){var s=this,c=r.concat(o);U_(e,(function(e){var u=e.source,l=e.target,p=function(e){return K_(e.waypoints,(function(e){return(e=VR(e)).original&&(e.original=VR(e.original)),e}))}(e),h=WR(n),f={labelBehavior:!1};KR(c,u)&&KR(c,l)?(p=K_(p,(function(e){return GR(e,i,n)&&(e[h]=e[h]+t[h]),e.original&&GR(e.original,i,n)&&(e.original[h]=e.original[h]+t[h]),e})),s._modeling.updateWaypoints(e,p,{labelBehavior:!1})):(KR(c,u)||KR(c,l))&&(KR(r,u)?f.connectionStart=TR(e,u,t):KR(r,l)?f.connectionEnd=PR(e,l,t):KR(o,u)?f.connectionStart=AR(e,u,a[u.id]):KR(o,l)&&(f.connectionEnd=CR(e,l,a[l.id])),s._modeling.layoutConnection(e,f))}))},ZR.$inject=["modeling"],ZR.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=function e(t){var n={};return U_(t,(function(t){n[t.id]=t.hidden,t.children&&(n=ux({},n,e(t.children)))})),n}(n),t.collapsed=!t.collapsed;var i=function e(t,n){var i=[];return U_(t,(function(t){t.hidden=n,i=i.concat(t),t.children&&(i=i.concat(e(t.children,t.collapsed||n)))})),i}(n,t.collapsed);return[t].concat(i)},ZR.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,i=function e(t,n){var i=[];return U_(t,(function(t){t.hidden=n[t.id],i=i.concat(t),t.children&&(i=i.concat(e(t.children,n)))})),i}(t.children,n);return t.collapsed=!t.collapsed,[t].concat(i)},YR.$inject=["modeling"],YR.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=XR(i,t),JR(n,t),t.host=n,t},YR.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,r=e.attacherIdx;return t.host=i,XR(n,t),JR(i,t,r),t},QR.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t},QR.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t},eB.$inject=["eventBus","elementFactory","commandStack"],eB.prototype.getHandlers=function(){return{"shape.append":pR,"shape.create":vR,"shape.delete":kR,"shape.move":NR,"shape.resize":UR,"shape.replace":HR,"shape.toggleCollapse":ZR,spaceTool:$R,"label.create":yR,"connection.create":hR,"connection.delete":_R,"connection.move":MR,"connection.layout":jR,"connection.updateWaypoints":QR,"connection.reconnect":LR,"elements.create":dR,"elements.move":zR,"elements.delete":xR,"elements.distribute":ER,"elements.align":lR,"element.updateAttachment":YR}},eB.prototype.registerHandlers=function(e){U_(this.getHandlers(),(function(t,n){e.registerHandler(n,t)}))},eB.prototype.moveShape=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=null);var o={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("shape.move",o)},eB.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)},eB.prototype.moveElements=function(e,t,n,i){var r,o=(i=i||{}).attach,a=n;!0===o?(r=n,a=n.parent):!1===o&&(r=null);var s={shapes:e,delta:t,newParent:a,newHost:r,hints:i};this._commandStack.execute("elements.move",s)},eB.prototype.moveConnection=function(e,t,n,i,r){"object"==typeof i&&(r=i,i=void 0);var o={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("connection.move",o)},eB.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)},eB.prototype.createConnection=function(e,t,n,i,r,o){"object"==typeof n&&(o=r,r=i,i=n,n=void 0);var a={source:e,target:t,parent:r,parentIndex:n,connection:i=this._create("connection",i),hints:o};return this._commandStack.execute("connection.create",a),a.connection},eB.prototype.createShape=function(e,t,n,i,r){"number"!=typeof i&&(r=i,i=void 0);var o,a,s=(r=r||{}).attach;e=this._create("shape",e),s?(o=n.parent,a=n):o=n;var c={position:t,shape:e,parent:o,parentIndex:i,host:a,hints:r};return this._commandStack.execute("shape.create",c),c.shape},eB.prototype.createElements=function(e,t,n,i,r){I_(e)||(e=[e]),"number"!=typeof i&&(r=i,i=void 0);var o={position:t,elements:e,parent:n,parentIndex:i,hints:r=r||{}};return this._commandStack.execute("elements.create",o),o.elements},eB.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);var r={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape},eB.prototype.appendShape=function(e,t,n,i,r){r=r||{};var o={source:e,position:n,target:i,shape:t=this._create("shape",t),connection:r.connection,connectionParent:r.connectionParent,hints:r};return this._commandStack.execute("shape.append",o),o.shape},eB.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)},eB.prototype.distributeElements=function(e,t,n){var i={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",i)},eB.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)},eB.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)},eB.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape},eB.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)},eB.prototype.resizeShape=function(e,t,n,i){var r={shape:e,newBounds:t,minBounds:n,hints:i};this._commandStack.execute("shape.resize",r)},eB.prototype.createSpace=function(e,t,n,i,r){var o={delta:n,direction:i,movingShapes:e,resizingShapes:t,start:r};this._commandStack.execute("spaceTool",o)},eB.prototype.updateWaypoints=function(e,t,n){var i={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)},eB.prototype.reconnect=function(e,t,n,i,r){var o={connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:r||{}};this._commandStack.execute("connection.reconnect",o)},eB.prototype.reconnectStart=function(e,t,n,i){i||(i={}),this.reconnect(e,t,e.target,n,ux(i,{docking:"source"}))},eB.prototype.reconnectEnd=function(e,t,n,i){i||(i={}),this.reconnect(e,e.source,t,n,ux(i,{docking:"target"}))},eB.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)},eB.prototype._create=function(e,t){return t instanceof mE?t:this._elementFactory.create(e,t)},eB.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)};var tB={width:0,height:0};function nB(e,t,n,i,r){this._elementRegistry=e,this._moddle=t,this._translate=n,this._modeling=i,this._textRenderer=r}function iB(e,t){return"id"in e&&e.id!==t.id}function rB(e,t){U_(t,(function(t,n){"di"!==n?e.set(n,t):e.di&&function(e,t){U_(t,(function(t,n){e.set(n,t)}))}(e.di,t)}))}nB.$inject=["elementRegistry","moddle","translate","modeling","textRenderer"],nB.prototype.execute=function(e){var t=e.element,n=[t],i=this._translate;if(!t)throw new Error(i("element required"));var r=this._elementRegistry,o=this._moddle.ids,a=t.businessObject,s=function(e){var t=ux({},e);return oB.forEach((function(n){n in e&&(t[n]=rj(t[n]))})),t}(e.properties),c=e.oldProperties||function(e,t){return V_(Z_(t),(function(n,i){return n[i]="di"!==i?e.get(i):function(e,t){return V_(t,(function(t,n){return t[n]=e.get(n),t}),{})}(e.di,Z_(t.di)),n}),{})}(a,s);return iB(s,a)&&(o.unclaim(a.id),r.updateId(t,s.id),o.claim(s.id,a)),rB(a,s),e.oldProperties=c,e.changed=n,n},nB.prototype.postExecute=function(e){var t=e.element.label,n=t&&rj(t).name;if(n){var i=this._textRenderer.getExternalLabelBounds(t,n);this._modeling.resizeShape(t,i,tB)}},nB.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,r=t.businessObject,o=this._elementRegistry,a=this._moddle.ids;return rB(r,i),iB(n,r)&&(a.unclaim(n.id),o.updateId(t,i.id),a.claim(i.id,r)),e.changed};var oB=["default"];function aB(e,t){this._canvas=e,this._modeling=t}function sB(e){this._moddle=e}aB.$inject=["canvas","modeling"],aB.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=t.getRootElement(),o=r.businessObject,a=o.$parent,s=o.di;t.setRootElement(n,!0),Lk(a.rootElements,i),i.$parent=a,Nk(a.rootElements,o),o.$parent=null,o.di=null,s.boardElement=i,i.di=s,e.oldRoot=r},aB.prototype.revert=function(e){var t=this._canvas,n=e.newRoot.businessObject,i=e.oldRoot,r=i.businessObject,o=n.$parent,a=n.di;t.setRootElement(i,!0),Nk(o.rootElements,n),n.$parent=null,Lk(o.rootElements,r),r.$parent=o,n.di=null,a.boardElement=r,r.di=a},sB.$inject=["moddle"],sB.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.claim(n,i):t.unclaim(n)},sB.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element;e.claiming?t.unclaim(n):t.claim(n,i)};var cB={width:0,height:0};function uB(e,t){function n(e,t){var n=e.label||e,i=e.labelTarget||e;return function(e,t){var n=e.businessObject,i=aj(n);i&&(n[i]=t)}(n,t),[n,i]}this.preExecute=function(t){var n=t.element,i=n.businessObject,r=t.newLabel;if(!Pj(n)&&Mj(n)&&!Aj(n)&&!lB(r)){var o=Tj(n);o={x:o.x,y:o.y+7},e.createLabel(n,o,{id:i.id+"_label",businessObject:i})}},this.execute=function(e){return e.oldLabel=sj(e.element),n(e.element,e.newLabel)},this.revert=function(e){return n(e.element,e.oldLabel)},this.postExecute=function(n){var i=n.element,r=i.label||i,o=n.newLabel,a=n.newBounds,s=n.hints||{};if(Pj(r))if(Pj(r)&&lB(o))!1!==s.removeShape&&e.removeShape(r,{unsetLabel:!1});else{var c=sj(r);void 0===a&&(a=t.getExternalLabelBounds(r,c)),a&&e.resizeShape(r,a,cB)}}}function lB(e){return!e||!e.trim()}function pB(e,t,n,i){eB.call(this,e,t,n),this._odRules=i}function hB(){}uB.$inject=["modeling","textRenderer"],S_()(pB,eB),pB.$inject=["eventBus","elementFactory","commandStack","odRules"],pB.prototype.getHandlers=function(){var e=eB.prototype.getHandlers.call(this);return e["element.updateProperties"]=nB,e["canvas.updateRoot"]=aB,e["id.updateClaim"]=sB,e["element.updateLabel"]=uB,e},pB.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})},pB.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})},pB.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})},pB.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})},pB.prototype.connect=function(e,t,n,i){var r=this._odRules;if(n||(n=r.canConnect(e,t)),n)return this.createConnection(e,t,n,e.parent,i)},hB.prototype.layoutConnection=function(e,t){return[(t=t||{}).connectionStart||Jk(t.source||e.source),t.connectionEnd||Jk(t.target||e.target)]};var fB=Math.round,dB={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function mB(e,t,n){var i,r,o,a=Qk(t,e,5),s=n.split(":")[0],c=fB((t.x-e.x)/2+e.x),u=fB((t.y-e.y)/2+e.y),l=(o=a,{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[s].test(o)),p=/h|r|l/.test(s),h=!1;return l?(i=p?{x:c,y:e.y}:{x:e.x,y:u},r=p?"h:h":"v:v"):(r=p?"h:v":"v:h",function(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}(a,s)?p?(h=u===e.y,i={x:e.x+20*(/l/.test(s)?-1:1),y:h?u+20:u}):i={x:(h=c===e.x)?c+20:c,y:e.y+20*(/t/.test(s)?-1:1)}:i={x:c,y:u}),{waypoints:vB(e,i,r).concat(i),directions:r,turnNextDirections:h}}function gB(e){return e.split(":").reverse().join(":")}function vB(e,t,n){if(!function(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}(n=n||"h:h"))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(xB(n)){var i=function(e,t,n){return mB(e,t,n)}(e,t,n),r=function(e,t,n){var i=mB(t,e,gB(n));return{waypoints:i.waypoints.slice().reverse(),directions:gB(i.directions),turnNextDirections:i.turnNextDirections}}(e,t,n),o=function(e,t){var n=e.directions.split(":")[1],i=t.directions.split(":")[0];e.turnNextDirections&&(n="h"==n?"v":"h"),t.turnNextDirections&&(i="h"==i?"v":"h");var r=n+":"+i;return{waypoints:vB(e.waypoints[e.waypoints.length-1],t.waypoints[0],r),directions:r}}(i,r);return[].concat(i.waypoints,o.waypoints,r.waypoints)}return function(e,t,n){var i=fB((t.x-e.x)/2+e.x),r=fB((t.y-e.y)/2+e.y);if("h:v"===n)return[{x:t.x,y:e.y}];if("v:h"===n)return[{x:e.x,y:t.y}];if("h:h"===n)return[{x:i,y:e.y},{x:i,y:t.y}];if("v:v"===n)return[{x:e.x,y:r},{x:t.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}(e,t,n)}function yB(e,t,n,i,r){var o=$_(r&&r.preferredLayouts||[],"straight")[0]||"h:h",a=Qk(e,t,dB[o]||0),s=function(e,t){if(xB(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}(a,o);n=n||Jk(e),i=i||Jk(t);var c=s.split(":");return function(e,t,n){var i=vB(e,t,n);return i.unshift(e),i.push(t),EB(i)}(kB(n,e,c[0],function(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}(a)),kB(i,t,c[1],a),s)}function bB(e,t,n,i,r,o){var a;return I_(n)&&(r=n,o=i,n=Jk(e),i=Jk(t)),r=r||[],(a=-1!==(o=ux({preferredLayouts:[]},o)).preferredLayouts.indexOf("straight")&&function(e,t,n,i,r){var o,a,s={};if(a=Qk(e,t),!/^(top|bottom|left|right)$/.test(a))return null;/top|bottom/.test(a)&&(o="x");/left|right/.test(a)&&(o="y");return"target"===r.preserveDocking?wB(o,i,e)?(s[o]=i[o],[{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y,original:{x:void 0!==s.x?s.x:n.x,y:void 0!==s.y?s.y:n.y}},{x:i.x,y:i.y}]):null:wB(o,n,t)?(s[o]=n[o],[{x:n.x,y:n.y},{x:void 0!==s.x?s.x:i.x,y:void 0!==s.y?s.y:i.y,original:{x:void 0!==s.x?s.x:i.x,y:void 0!==s.y?s.y:i.y}}]):null}(e,t,n,i,o))||(a=o.connectionEnd&&function(e,t,n,i){var r=i.slice().reverse();return(r=_B(e,t,n,r))?r.reverse():null}(t,e,i,r))?a:(a=o.connectionStart&&_B(e,t,n,r))||(!o.connectionStart&&!o.connectionEnd&&r&&r.length?r:yB(e,t,n,i,o))}function wB(e,t,n){return function(e,t,n){return e>=t&&e<=n}(t[e],n[e],n[e]+n[{x:"width",y:"height"}[e]])}function _B(e,t,n,i){if(function(e){return e.length<3||!(e.length>4)&&!!q_(e,(function(t,n){var i=e[n-1];return i&&Hk(t,i)<3}))}(i))return null;var r,o=i[0],a=i.slice();return a[0]=n,a[1]=function(e,t,n){switch($k(t,e)){case"v":return{x:n.x,y:e.y};case"h":return{x:e.x,y:n.y}}return{x:e.x,y:e.y}}(a[1],o,n),(r=function(e,t,n){var i;for(i=e.length-2;0!==i;i--)if(Vk(e[i],t,20)||Vk(e[i],n,20))return e.slice(i);return e}(a,e,t))!==a&&(a=_B(e,t,n,r)),a&&$k(a)?null:a}function xB(e){return e&&/t|r|b|l/.test(e)}function kB(e,t,n,i){if("h"===n&&(n=/left/.test(i)?"l":"r"),"v"===n&&(n=/top/.test(i)?"t":"b"),"t"===n)return{original:e,x:e.x,y:t.y};if("r"===n)return{original:e,x:t.x+t.width,y:e.y};if("b"===n)return{original:e,x:e.x,y:t.y+t.height};if("l"===n)return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function EB(e){return e.reduce((function(t,n,i){return Uk(t[t.length-1],e[i+1],n,0)||t.push(n),t}),[])}function SB(){}function jB(e,t){return e?e.original||e:Jk(t)}function MB(e,t){var n=t.waypoints,i=n&&n.length&&Qk(n[0],e);return"top"===i?["t:r"]:"right"===i?["r:b"]:"left"===i?["l:t"]:["b:l"]}function AB(e){return ux({original:e.point.original||e.point},e.actual)}function CB(e,t){this._elementRegistry=e,this._graphicsFactory=t}S_()(SB,hB),SB.prototype.layoutConnection=function(e,t){t||(t={});var n,i,r=t.source||e.source,o=t.target||e.target,a=t.waypoints||e.waypoints,s=t.connectionStart,c=t.connectionEnd;return s||(s=jB(a&&a[0],r)),c||(c=jB(a&&a[a.length-1],o)),ij(e,"od:Link")&&(n=r===o?{preferredLayouts:MB(r,e)}:{preferredLayouts:["h:h"]}),n&&(i=EB(bB(r,o,s,c,a,n=ux(n,t)))),i||[s,c]},CB.$inject=["elementRegistry","graphicsFactory"],CB.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var i=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),o=e.waypoints.slice(i.idx+1,r.idx);return o.unshift(AB(i)),o.push(AB(r)),o},CB.prototype.getDockingPoint=function(e,t,n){var i,r,o=e.waypoints;return{point:r=o[i=n?0:o.length-1],actual:this._getIntersection(t,e,n)||r,idx:i}},CB.prototype._getIntersection=function(e,t,n){return eE(this._getShapePath(e),this._getConnectionPath(t),n)},CB.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)},CB.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)},CB.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};var TB={__init__:["modeling","odUpdater"],__depends__:[hP,EP,jP,CP,PP,IP,NP,HP,tM,gT,oR],odFactory:["type",aR],odUpdater:["type",sR],elementFactory:["type",uR],modeling:["type",pB],layouter:["type",SB],connectionDocking:["type",CB]},PB=Math.round;function RB(e,t,n,i,r){function o(e,t,n,i){return r.allowed("elements.move",{shapes:e,delta:t,position:n,target:i})}function a(e,n,i,r){if(D_(i)&&(r=i,i=!1),!n.waypoints&&n.parent){var o=function(e){return{x:e.x+PB(e.width/2),y:e.y+PB(e.height/2)}}(n);return t.init(e,o,"shape.move",{cursor:"grabbing",autoActivate:i,data:{shape:n,context:r||{}}}),!0}}e.on("shape.move.start",1500,(function(e){var t,n,r=e.context,o=e.shape,a=i.get().slice();-1===a.indexOf(o)&&(a=[o]),n=X_(t=a,"id"),ux(r,{shapes:a=H_(t,(function(e){for(;e=e.parent;)if(n[e.id])return!1;return!0})),validatedShapes:a,shape:o})})),e.on("shape.move.start",1250,(function(e){var t=e.context,n=t.validatedShapes;if(!(t.canExecute=o(n)))return!1})),e.on("shape.move.move",500,(function(e){var t,n=e.context,i=n.validatedShapes,r=e.hover,a={x:e.dx,y:e.dy};t=o(i,a,{x:e.x,y:e.y},r),n.delta=a,n.canExecute=t,n.target=null!==t?r:null})),e.on("shape.move.end",(function(e){var t=e.context,i=t.delta,r=t.canExecute,o="attach"===r,a=t.shapes;if(!1===r)return!1;i.x=PB(i.x),i.y=PB(i.y),0===i.x&&0===i.y||n.moveElements(a,i,t.target,{primaryShape:t.shape,attach:o})})),e.on("element.mousedown",(function(e){if(Hj(e)){var t=zj(e);if(!t)throw new Error("must supply DOM mousedown event");return a(t,e.element)}})),this.start=a}RB.$inject=["eventBus","dragging","modeling","selection","rules"];var BB="drop-ok",OB="drop-not-ok",IB="new-parent",DB="attach-ok";function FB(e,t,n,i){function r(e){return function(e){return H_(e,(function(t){return!function(e){return e.waypoints}(t)||q_(e,tx({id:t.source.id}))&&q_(e,tx({id:t.target.id}))}))}(o(e))}function o(e){var t=Rk(e,!0),n=K_(t,(function(e){return(e.incoming||[]).concat(e.outgoing||[])}));return C_(t.concat(n))}function a(e,n){[DB,BB,OB,IB].forEach((function(i){i===n?t.addMarker(e,i):t.removeMarker(e,i)}))}e.on("shape.move.start",499,(function(e){var a=e.context,s=a.shapes,c=a.allDraggedElements,u=r(s);if(!a.dragGroup){var l=tk("g");Hx(l,n.cls("djs-drag-group",["no-events"])),Nx(t.getActiveLayer(),l),a.dragGroup=l}u.forEach((function(e){i.addDragger(e,a.dragGroup)})),U_(c=c?C_([c,o(s)]):o(s),(function(e){t.addMarker(e,"djs-dragging")})),a.allDraggedElements=c,a.differentParents=1!==Z_(X_(s,(function(e){return e.parent&&e.parent.id}))).length})),e.on("shape.move.move",499,(function(e){var t=e.context,n=t.dragGroup,i=t.target,r=t.shape.parent,o=t.canExecute;i&&("attach"===o?a(i,DB):t.canExecute&&i&&i.id!==r.id?a(i,IB):a(i,t.canExecute?BB:OB)),jE(n,e.dx,e.dy)})),e.on(["shape.move.out","shape.move.cleanup"],(function(e){var t=e.context.target;t&&a(t,null)})),e.on("shape.move.cleanup",(function(e){var n=e.context,i=n.allDraggedElements,r=n.dragGroup;U_(i,(function(e){t.removeMarker(e,"djs-dragging")})),r&&Zx(r)})),this.makeDraggable=function(e,n,r){i.addDragger(n,e.dragGroup),r&&t.addMarker(n,"djs-dragging"),e.allDraggedElements?e.allDraggedElements.push(n):e.allDraggedElements=[n]}}FB.$inject=["eventBus","canvas","styles","previewSupport"];var zB={__depends__:[Kj,tM,Yj,uA,rA,rC],__init__:["move","movePreview"],move:["type",RB],movePreview:["type",FB]};function NB(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",(function(e){var t=e.tool;n.updateToolHighlight(t)})),e.on("i18n.changed",(function(){n._update()})),e.on("diagram.init",(function(){n._diagramInitialized=!0,n._rebuild()}))}function LB(e,t){var n=t.getPaletteEntries();return z_(n)?n(e):(U_(n,(function(t,n){e[n]=t})),e)}NB.$inject=["eventBus","canvas"],NB.prototype.registerProvider=function(e,t){t||(t=e,e=1e3),this._eventBus.on("palette.getProviders",e,(function(e){e.providers.push(t)})),this._rebuild()},NB.prototype.getEntries=function(){return this._getProviders().reduce(LB,{})},NB.prototype._rebuild=function(){this._diagramInitialized&&(this._getProviders().length&&(this._container||this._init(),this._update()))},NB.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),i=this._container=Px(NB.HTML_MARKUP);n.appendChild(i),vx(n).add("djs-palette-shown"),Tx.bind(i,".djs-palette-toggle, .entry","click",(function(t){var n=t.delegateTarget;if(xx(n,".djs-palette-toggle"))return e.toggle();e.trigger("click",t)})),Mx.bind(i,"mousedown",(function(e){e.stopPropagation()})),Tx.bind(i,".entry","dragstart",(function(t){e.trigger("dragstart",t)})),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:i})},NB.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers},NB.prototype._toggleState=function(e){e=e||{};var t,n=this._getParentContainer(),i=this._container,r=this._eventBus,o=vx(i),a=vx(n);t="twoColumn"in e?e.twoColumn:this._needsCollapse(n.clientHeight,this._entries||{}),o.toggle("two-column",t),a.toggle("djs-palette-two-column",t),"open"in e&&(o.toggle("open",e.open),a.toggle("djs-palette-open",e.open)),r.fire("palette.changed",{twoColumn:t,open:this.isOpen()})},NB.prototype._update=function(){var e=Ox(".djs-palette-entries",this._container),t=this._entries=this.getEntries();bx(e),U_(t,(function(t,n){var i=t.group||"default",r=Ox("[data-group="+i+"]",e);r||(r=Px('<div class="group" data-group="'+i+'"></div>'),e.appendChild(r));var o,a,s,c=t.html||(t.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),u=Px(c);r.appendChild(u),t.separator||(hx(u,"data-action",n),t.title&&hx(u,"title",t.title),t.className&&(o=u,a=t.className,s=vx(o),(I_(a)?a:a.split(/\s+/g)).forEach((function(e){s.add(e)}))),t.imageUrl&&u.appendChild(Px('<img src="'+t.imageUrl+'">')))})),this.open()},NB.prototype.trigger=function(e,t,n){var i,r,o,a=this._entries,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();(i=a[hx(s,"data-action")])&&(r=i.action,o=t.originalEvent||t,z_(r)?"click"===e&&r(o,n):r[e]&&r[e](o,n),t.preventDefault())},NB.prototype._layoutChanged=function(){this._toggleState({})},NB.prototype._needsCollapse=function(e,t){return e<46*Object.keys(t).length+50},NB.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},NB.prototype.open=function(){this._toggleState({open:!0})},NB.prototype.toggle=function(e){this.isOpen()?this.close():this.open()},NB.prototype.isActiveTool=function(e){return e&&this._activeTool===e},NB.prototype.updateToolHighlight=function(e){var t;this._toolsContainer||(t=Ox(".djs-palette-entries",this._container),this._toolsContainer=Ox("[data-group=tools]",t)),U_(this._toolsContainer.children,(function(t){var n=t.getAttribute("data-action");if(n){var i=vx(t);n=n.replace("-tool",""),i.contains("entry")&&n===e?i.add("highlighted-entry"):i.remove("highlighted-entry")}}))},NB.prototype.isOpen=function(){return vx(this._container).has("open")},NB.prototype._getParentContainer=function(){return this._canvas.getContainer()},NB.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var qB={__init__:["palette"],palette:["type",NB]};function HB(e,t,n,i,r,o,a){this._selection=r,this._dragging=n,this._mouse=a;var s=this,c=function(e){var n,i=t.getActiveLayer();Hx(n=e.frame=tk("rect"),{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Nx(i,n)},u=function(e){var t=e.frame,n=e.bbox;Hx(t,{x:n.x,y:n.y,width:n.width,height:n.height})},l=function(e){e.frame&&Zx(e.frame)};o.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",(function(t){var n=t.originalEvent.target;(t.hover||n instanceof SVGElement)&&e.once("lasso.selection.ended",(function(){s.activateLasso(t.originalEvent,!0)}))})),e.on("lasso.end",(function(e){var t=UB(e),n=i.filter((function(e){return e}));s.select(n,t)})),e.on("lasso.start",(function(e){var t=e.context;t.bbox=UB(e),c(t)})),e.on("lasso.move",(function(e){var t=e.context;t.bbox=UB(e),u(t)})),e.on("lasso.cleanup",(function(e){var t=e.context;l(t)})),e.on("element.mousedown",1500,(function(e){if($j(e))return s.activateLasso(e.originalEvent),!0}))}function UB(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y};return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?{x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?{x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?{x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?{x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:{x:n.x,y:n.y,width:0,height:0}}HB.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"],HB.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:"crosshair",data:{context:{}}})},HB.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:"crosshair",data:{context:{}}})},HB.prototype.select=function(e,t){var n=function(e,t){var n={};return U_(e,(function(e){var i=e;i.waypoints&&(i=Bk(i)),!F_(t.y)&&i.x>t.x&&(n[e.id]=e),!F_(t.x)&&i.y>t.y&&(n[e.id]=e),i.x>t.x&&i.y>t.y&&(F_(t.width)&&F_(t.height)&&i.width+i.x<t.width+t.x&&i.height+i.y<t.height+t.y?n[e.id]=e:F_(t.width)&&F_(t.height)||(n[e.id]=e))})),n}(e,t);this._selection.select(Y_(n))},HB.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)},HB.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};var $B={__depends__:[$P,wC],__init__:["lassoTool"],lassoTool:["type",HB]};function VB(e,t,n,i,r,o){this._dragging=n,this._mouse=o;var a=this,s=i.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",1500,(function(e){if(Uj(e))return a.activateMove(e.originalEvent,!0),!1})),s&&s.addListener(1500,(function(e){if(WB(e.keyEvent)&&!a.isActive()){var t=a._mouse.getLastMoveEvent();a.activateMove(t,!!t)}}),"keyboard.keydown"),s&&s.addListener(1500,(function(e){WB(e.keyEvent)&&a.isActive()&&a.toggle()}),"keyboard.keyup"),e.on("hand.end",(function(t){var n=t.originalEvent.target;if(!(t.hover||n instanceof SVGElement))return!1;e.once("hand.ended",(function(){a.activateMove(t.originalEvent,{reactivate:!0})}))})),e.on("hand.move.move",(function(e){var n=t.viewbox().scale;t.scroll({dx:e.dx*n,dy:e.dy*n})})),e.on("hand.move.end",(function(t){var n=t.context.reactivate;return!Uj(t)&&n&&e.once("hand.move.ended",(function(e){a.activateHand(e.originalEvent,!0,!0)})),!1}))}function WB(e){return pM(" ",e)}VB.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"],VB.prototype.activateMove=function(e,t,n){"object"==typeof t&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:"grab",data:{context:n||{}}})},VB.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:"grab",data:{context:{reactivate:n}}})},VB.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)},VB.prototype.isActive=function(){var e=this._dragging.context();return!!e&&/^(hand|hand\.move)$/.test(e.prefix)};var GB={__depends__:[$P,wC],__init__:["handTool"],handTool:["type",VB]};function KB(e,t,n,i,r,o,a){var s=this;this._dragging=t,this._rules=o,this._mouse=a,r.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",(function(e){var t=e.context,n=e.hover,r=t.canStartConnect=s.canStartConnect(n);null!==r&&(t.startTarget=n,i.addMarker(n,r?"connect-ok":"connect-not-ok"))})),e.on(["global-connect.out","global-connect.cleanup"],(function(e){var t=e.context.startTarget,n=e.context.canStartConnect;t&&i.removeMarker(t,n?"connect-ok":"connect-not-ok")})),e.on(["global-connect.ended"],(function(t){var i=t.context.startTarget,r={x:t.x,y:t.y};if(s.canStartConnect(i))return e.once("element.out",(function(){e.once(["connect.ended","connect.canceled"],(function(){e.fire("global-connect.drag.ended")})),n.start(null,i,r)})),!1}))}KB.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"],KB.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})},KB.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)},KB.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)},KB.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};var ZB={__depends__:[UA,uA,rA,$P,wC],globalConnect:["type",KB]};function YB(e,t,n,i,r,o,a,s){this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=o,this._globalConnect=a,this._translate=s,e.registerProvider(this)}YB.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"],YB.prototype.getPaletteEntries=function(e){var t={},n=this._create,i=this._elementFactory,r=this._spaceTool,o=this._lassoTool,a=this._handTool,s=this._globalConnect,c=this._translate;function u(e,t,r,o,a){function s(t){var r=i.createShape(ux({type:e},a));n.start(t,r)}var u=e.replace(/^od:/,"");return{group:t,className:r,title:o||c("Create {type}",{type:u}),action:{dragstart:s,click:s}}}return ux(t,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:c("Activate the hand tool"),action:{click:function(e){a.activateHand(e)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:c("Activate the lasso tool"),action:{click:function(e){o.activateSelection(e)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:c("Activate the create/remove space tool"),action:{click:function(e){r.activateSelection(e)}}},"tool-separator":{group:"tools",separator:!0},"create-object":u("od:Object","od-elements","od-icon-object",c("Create object")),"object-linker":{group:"od-elements",className:"bpmn-icon-connection",title:c("Link objects"),action:{click:function(e){s.start(e)}}},"od-separator":{group:"od-elements",separator:!0},"create.text-box":u("od:TextBox","text","pjs-text-box",c("Create text"))}),t};var XB={__depends__:[qB,dC,oR,$B,GB,ZB,Sj],__init__:["paletteProvider"],paletteProvider:["type",YB]};function JB(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function QB(e){this._snapValues={}}JB.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]},JB.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,-1===this._snapLocations.indexOf(e)&&this._snapLocations.push(e)},JB.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)},JB.prototype.getSnapLocations=function(){return this._snapLocations},JB.prototype.setSnapLocations=function(e){this._snapLocations=e},JB.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new QB).initDefaults(this._defaultSnaps),n},QB.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),-1===n.x.indexOf(t.x)&&n.x.push(t.x),-1===n.y.indexOf(t.y)&&n.y.push(t.y)},QB.prototype.snap=function(e,t,n,i){var r=this._snapValues[t];return r&&function(e,t,n){var i,r;for(n=void 0===n?10:n,i=0;i<t.length;i++)if(r=t[i],TA(r-e)<=n)return r}(e[n],r[n],i)},QB.prototype.initDefaults=function(e){var t=this;U_(e||{},(function(e,n){U_(e,(function(e){t.add(n,e)}))}))};function eO(e,t,n){var i=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],(function(e){i.initSnap(e)})),t.on(["create.move","create.end","shape.move.move","shape.move.end"],1250,(function(e){var t=e.context,r=t.shape,o=t.snapContext,a=t.target;if((!e.originalEvent||!lM(e.originalEvent))&&!BA(e)&&a){var s=o.pointsForTarget(a);s.initialized||((s=i.addSnapTargetPoints(s,r,a)).initialized=!0),n.snap(e,s)}})),t.on(["create.cleanup","shape.move.cleanup"],(function(){n.hide()}))}function tO(e){return!!e.labelTarget}function nO(e){e.invoke(eO,this)}eO.$inject=["elementRegistry","eventBus","snapping"],eO.prototype.initSnap=function(e){var t,n=this._elementRegistry,i=e.context,r=i.shape,o=i.snapContext;o||(o=i.snapContext=new JB);var a=(t=n.get(r.id)?RA(r,e):{x:e.x+RA(r).x,y:e.y+RA(r).y}).x-r.width/2,s=t.y-r.height/2,c=t.x+r.width/2,u=t.y+r.height/2;return o.setSnapOrigin("mid",{x:t.x-e.x,y:t.y-e.y}),tO(r)||(o.setSnapOrigin("top-left",{x:a-e.x,y:s-e.y}),o.setSnapOrigin("bottom-right",{x:c-e.x,y:u-e.y})),o},eO.prototype.addSnapTargetPoints=function(e,t,n){return U_(this.getSnapTargets(t,n),(function(n){if(tO(n))tO(t)&&e.add("mid",RA(n));else if(n.waypoints){if(n.waypoints.length<3)return;U_(n.waypoints.slice(1,-1),(function(t){e.add("mid",t)}))}else{e.add("mid",RA(n))}})),F_(t.x)&&F_(t.y)?(this._elementRegistry.get(t.id)&&e.add("mid",RA(t)),e):e},eO.prototype.getSnapTargets=function(e,t){return IA(t).filter((function(e){return!e.hidden}))},S_()(nO,eO),nO.$inject=["injector"],nO.prototype.initSnap=function(e){return eO.prototype.initSnap.call(this,e)},nO.prototype.addSnapTargetPoints=function(e,t,n){return eO.prototype.addSnapTargetPoints.call(this,e,t,n)},nO.prototype.getSnapTargets=function(e,t){return eO.prototype.getSnapTargets.call(this,e,t)};function iO(e,t){var n=this;e.on(["resize.start"],(function(e){n.initSnap(e)})),e.on(["resize.move","resize.end"],1250,(function(e){var i=e.context,r=i.shape,o=r.parent,a=i.direction,s=i.snapContext;if(!(e.originalEvent&&lM(e.originalEvent)||BA(e))){var c=s.pointsForTarget(o);c.initialized||((c=n.addSnapTargetPoints(c,r,o,a)).initialized=!0),function(e){return"n"===e||"s"===e}(a)&&OA(e,"x",e.x),function(e){return"e"===e||"w"===e}(a)&&OA(e,"y",e.y),t.snap(e,c)}})),e.on(["resize.cleanup"],(function(){t.hide()}))}function rO(e,t){var n=Jk(e),i=Yk(e),r={x:n.x,y:n.y};return-1!==t.indexOf("n")?r.y=i.top:-1!==t.indexOf("s")&&(r.y=i.bottom),-1!==t.indexOf("e")?r.x=i.right:-1!==t.indexOf("w")&&(r.x=i.left),r}iO.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,r=t.snapContext;r||(r=t.snapContext=new JB);var o=rO(n,i);return r.setSnapOrigin("corner",{x:o.x-e.x,y:o.y-e.y}),r},iO.prototype.addSnapTargetPoints=function(e,t,n,i){return U_(this.getSnapTargets(t,n),(function(t){var n;e.add("corner",{x:(n=t).x+n.width,y:n.y+n.height}),e.add("corner",function(e){return{x:e.x,y:e.y}}(t))})),e.add("corner",rO(t,i)),e},iO.$inject=["eventBus","snapping"],iO.prototype.getSnapTargets=function(e,t){return IA(t).filter((function(t){return!(n=t,i=e,n.host===i||function(e){return!!e.waypoints}(t)||function(e){return!!e.hidden}(t)||function(e){return!!e.labelTarget}(t));var n,i}))};function oO(e){this._canvas=e,this._asyncHide=ax(sx(this.hide,this),1e3)}oO.$inject=["canvas"],oO.prototype.snap=function(e,t){var n=e.context.snapContext,i=n.getSnapLocations(),r={x:BA(e,"x"),y:BA(e,"y")};U_(i,(function(i){var o=n.getSnapOrigin(i),a={x:e.x+o.x,y:e.y+o.y};if(U_(["x","y"],(function(e){var n;r[e]||void 0!==(n=t.snap(a,i,e,7))&&(r[e]={value:n,originValue:n-o[e]})})),r.x&&r.y)return!1})),this.showSnapLine("vertical",r.x&&r.x.value),this.showSnapLine("horizontal",r.y&&r.y.value),U_(["x","y"],(function(t){var n=r[t];D_(n)&&OA(e,t,n.originValue)}))},oO.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=tk("path");return Hx(n,{d:"M0,0 L0,0"}),Gx(n).add("djs-snap-line"),Nx(t,n),{update:function(t){F_(t)?Hx(n,"horizontal"===e?{d:"M-100000,"+t+" L+100000,"+t,display:""}:{d:"M "+t+",-100000 L "+t+", +100000",display:""}):Hx(n,{display:"none"})}}},oO.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},oO.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()},oO.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]},oO.prototype.hide=function(){U_(this._snapLines,(function(e){e.update()}))};var aO={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",eO],resizeSnapping:["type",iO],snapping:["type",oO]},sO=["x","y"];function cO(e){e.on(["connect.hover","connect.move","connect.end"],1250,(function(e){var t,n=e.context,i=n.canExecute,r=n.start,o=n.hover;e.originalEvent&&lM(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),i&&o&&function(e,t,n){sO.forEach((function(i){var r=uO(i,t);e[i]<t[i]+n?OA(e,i,t[i]+n):e[i]>t[i]+r-n&&OA(e,i,t[i]+r-n)}))}(e,o,10),o&&(t=i,G_(["od:Link"],(function(e){return function(e,t){return e&&e.type===t}(t,e)})))&&(n.connectionStart=RA(r),oj(o,["od:Object"])&&function(e,t){var n=RA(t);sO.forEach((function(i){(function(e,t,n){return e[n]>t[n]+20&&e[n]<t[n]+uO(n,t)-20})(e,t,i)&&OA(e,i,n[i])}))}(e,o)))}))}function uO(e,t){return"x"===e?t.width:t.height}cO.$inject=["eventBus"];var lO={__depends__:[aO],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",cO],createMoveSnapping:["type",nO]};function pO(e){nj.call(this,e)}function hO(e,t){var n=new FileReader;n.onload=async function(e){const n=e.target.result;await t(n)},n.readAsText(e)}function fO(e){window.hasOwnProperty("electron")?window.electron.message("info",e):alert(msg)}function dO(e){window.hasOwnProperty("electron")?window.electron.message("error",e):alert(msg)}function mO(e){e.preventDefault(),e.stopPropagation()}function gO(e,t){const n=e/t*100;return Math.round(100*n)/100}S_()(pO,nj),pO.Viewer=uM,pO.NavigatedViewer=FM,pO.prototype.createDiagram=function(){return this.importXML('<?xml version="1.0" encoding="UTF-8"?>\n<od:definitions xmlns:od="http://tk/schema/od" xmlns:odDi="http://tk/schema/odDi">\n    <od:odBoard id="Board_debug" />\n    <odDi:odRootBoard id="RootBoard_debug">\n        <odDi:odPlane id="Plane_debug" boardElement="Board_debug" />\n    </odDi:odRootBoard>\n</od:definitions>')},pO.prototype._interactionModules=[xM,TM,WM,DM],pO.prototype._modelingModules=[uT,JM,sA,NA,UA,VA,gC,RC,dC,FC,nT,rT,dT,RT,TB,zB,XB,CT,lO],pO.prototype._modules=[].concat(uM.prototype._modules,pO.prototype._interactionModules,pO.prototype._modelingModules);var vO=null;function yO(){return vO}function bO(e){vO=e}async function wO(e,t){console.log("sendClickEvent",arguments);var n=yO();if(n.isEtOn){const n=await window.eyeTracker.sendClickEvent(e,t);n.sucess||console.error(n.msg),window.hasOwnProperty("clientTests")&&(window.clientTests.lastRelevantClick={clickTimestamp:e,clickedElement:t})}}n(42);function _O(e,t,n,i,r){console.log("createUpdateProcessHierarchyExplorer",arguments);var o=yO();null==o.processHierarchyExplorer?o.processHierarchyExplorer=[{id:e,label:t}]:r<o.processHierarchyExplorer.length&&(o.processHierarchyExplorer=o.processHierarchyExplorer.splice(0,r)),o.processHierarchyExplorer.push({id:n,label:i})}function xO(e,t){console.log("renderProcessHierarchyExplorer",arguments);var n=yO(),i=document.getElementById("process-hierarchy-content");i.innerHTML="",n.processHierarchyExplorer.length>1&&n.processHierarchyExplorer.forEach((n,r,o)=>{if(""!=i.innerHTML){const e=document.createElement("span");e.setAttribute("class","arrowhead"),e.innerHTML=" > ",i.appendChild(e)}const a=document.createElement("span");a.setAttribute("id","process-hierarchy-sub-process-link-to_"+n.label),a.setAttribute("class",(r==o.length-1?"laststep":"step")+" gaze-element"),a.setAttribute("data-element-id","process-hierarchy-sub-process-link-to_"+n.label),a.innerHTML=n.label,a.onclick=()=>{wO(Date.now(),a.getAttribute("data-element-id")),OO(e,t,n.id,n.label,r)},i.appendChild(a)})}function kO(){var e=yO();document.getElementById("process-hierarchy-content").innerHTML="",e.processHierarchyExplorer=null}function EO(e){console.log("resetModel",arguments);var t=document.querySelector('[id="model'+e+'-container"]');if(null!=t){var n=t.querySelector('[class="bts-palette"]');if(null!=n){var i=!t.querySelector('[class="bts-palette"]').hasAttribute("hidden");i&&t.querySelector('[class="bts-toggle-mode"]').click()}var r=t.querySelectorAll('[class="djs-overlay-container"]'),o=t.querySelectorAll('[class="viewport"]');1==Object.keys(r).length&&1==Object.keys(o).length?(o[0].removeAttribute("transform"),r[0].style.removeProperty("transform"),r[0].style.removeProperty("transform-origin")):console.error("Object.keys(djs_overlay_container).length==1 && Object.keys(viewport).length==1 not satified")}else console.error("document.querySelector('[id=model'+fileId+'-container]') is null")}function SO(e){console.log("resetNavTabsAndTabs",arguments);const t=yO();if(null!=e){if("newTab"==t.linkingSubProcessesMode||"no"==t.linkingSubProcessesMode){var n=document.getElementById("nav-tabs").querySelectorAll(".tab-link");for(let e=0;e<n.length;++e){const t=n[e];PO(t.getAttribute("file").replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),""),t,!1)}IO(!1,!1,e),dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}else if("withinTab"==t.linkingSubProcessesMode){for(const[e,n]of Object.entries(t.models))EO(e);IO(!0,!1,e),kO(),dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}}else document.getElementById("nav-tabs-and-tabs").style.display="none",dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}function jO(e,t){console.log("showModelsGroup",arguments);var n=yO();if(null!=e)for(const i of Object.values(n.models))i.groupId==e?(document.getElementById("model"+i.id+"-explorerItem").style.display="block",document.querySelector("#model"+i.id+"-container .bts-toggle-mode").style.display=1==t?"block":"none"):(document.getElementById("model"+i.id+"-explorerItem").style.display="none",document.querySelector("#model"+i.id+"-container .bts-toggle-mode").style.display="none");else for(const e of Object.values(n.models))document.getElementById("model"+e.id+"-explorerItem").style.display="none"}function MO(e){console.log("addToTabHeader",arguments);var t=yO();const n=document.getElementById("model"+e+"-content").getAttribute("fileName");if(null==document.getElementById("model"+e)){const i=document.createElement("div");i.setAttribute("id","model"+e),i.setAttribute("class","tab-link gaze-element"),i.setAttribute("data-element-id","tab-header-tab-link-to_"+n),i.setAttribute("file",n),i.setAttribute("draggable",!0),i.addEventListener("dragstart",CO),i.addEventListener("drop",TO),i.addEventListener("dragenter",mO),i.addEventListener("dragover",mO);const r=document.createElement("span");r.innerHTML=n,r.setAttribute("class","fileName gaze-element"),r.setAttribute("data-element-id","tab-link-to_"+n),r.setAttribute("file",n),r.addEventListener("click",(function(t){wO(Date.now(),r.getAttribute("data-element-id")),RO(e,!1,!0)})),i.appendChild(r);const o=document.createElement("img");o.setAttribute("class","close gaze-element"),o.setAttribute("data-element-id","close-button-tab-link-to_"+n),o.setAttribute("file",n),o.setAttribute("src","icons/close-tab.svg"),o.onclick=()=>{wO(Date.now(),o.getAttribute("data-element-id")),PO(e,i,!0)},null==t.models[e].unclosable||t.models[e].unclosable||i.appendChild(o),document.getElementById("nav-tabs").appendChild(i),AO(document.getElementById("nav-tabs"),"openning",i)}}function AO(e,t,n){console.log("setScrollPosition",arguments);const i=n.offsetLeft,r=i+n.offsetWidth,o=e.offsetWidth,a=e.scrollLeft,s=e.scrollLeft+o;if(console.log("tabHeaderStartPos",i),console.log("tabHeaderEndPos",r),console.log("container width",o),console.log("containerViewStart",a),console.log("containerViewEnd",s),"openning"==t){if(r>o){const t=r-o;e.scrollLeft=t}}else"changingTab"==t&&(i>=a&&i<s||(e.scrollLeft=i))}function CO(e){console.log("tabDragStart",arguments);const t=e.target,n=t.getAttribute("file"),i=document.querySelector('.tab-link[file="'+n+'"]'),r=Array.prototype.slice.call(document.getElementById("nav-tabs").children).indexOf(i);e.dataTransfer.setData("text/plain",r)}function TO(e){console.log("tabDropped",arguments),mO(e);const t=e.dataTransfer.getData("text/plain"),n=e.target,i=n.getAttribute("file"),r=document.querySelector('.tab-link[file="'+i+'"]'),o=Array.prototype.slice.call(document.getElementById("nav-tabs").children).indexOf(r);if(t!=o){const e=document.getElementById("nav-tabs").children[t];e.remove(),o<t?r.before(e):r.after(e)}}function PO(e,t,n){console.log("closeTabInteraction",arguments);var i=yO();EO(e),t.remove(),"flex"==document.getElementById("model"+e+"-container").style.display&&(document.getElementById("model"+e+"-container").style.display="none",i.activeTab=""),n&&dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}function RO(e,t,n){console.log("changeTab",arguments);var i=yO();const r=document.getElementById("model"+e+"-content"),o=r.getAttribute("fileName");var a,s,c;for("none"!=document.getElementById("index-tab").style.display&&(document.getElementById("index-tab").style.display="none"),s=document.getElementsByClassName("tab-container"),a=0;a<s.length;a++)s[a].style.display="none";const u=document.getElementById("model"+e+"-container");if(u.style.display="flex",!t){for(c=document.getElementsByClassName("tab-link"),a=0;a<c.length;a++)c[a].className=c[a].className.replace(" active","");const t=document.getElementById("model"+e);t.className+=" active",AO(document.getElementById("nav-tabs"),"changingTab",t)}i.activeTab=o,n&&dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}function BO(e){console.log("openInTab",arguments),MO(e),RO(e,!1,!0)}async function OO(e,t,n,i,r){console.log("openWithinTab",arguments),_O(e,t,n,i,r),xO(e,t),RO(n,!0,!0)}function IO(e,t,n){console.log("openMainTab function",arguments);var i=yO();for(const[r,o]of Object.entries(i.models))if(o.mainTab&&o.groupId==n){e||MO(r),RO(r,e,t);break}}function DO(){console.log("setMainTab function",arguments);var e=yO();const t=document.getElementsByClassName("set-as-main");for(let n=0;n<t.length;n++)t[n].checked&&(e.models[t[n].getAttribute("modelId")].mainTab=t[n].checked)}function FO(){console.log("setUnclosableTabs",arguments);var e=yO();const t=document.getElementsByClassName("unclosable-tab");for(let n=0;n<t.length;n++)e.models[t[n].getAttribute("modelId")].unclosable=t[n].checked}var zO=n(63),NO=n.n(zO);n(200);async function LO(e){console.log("loadQuestions",arguments);var t=yO();try{const n=await NO.a.fromCSV(e);n.show(),t.questions=n.toCollection().map(e=>({...e,showSimulation:e.hasOwnProperty("showSimulation")?e.showSimulation:0}));const i=window.globalParameters.RQUIRED_COLUMNS_IN_QUESTION_FILE;if(!qO(n,i,window.globalParameters.QUESTION_TYPES_SUPPORTED))throw"required columns or question types not supported";return!0}catch(e){const t="An error occured, check the validity of the file";return console.error(t),dO(t),!1}}function qO(e,t,n){console.log("checkNeccesaryColumnsInQuestionsFile",arguments);let i=(e,t)=>t.every(t=>e.includes(t));const r=i(e.listColumns(),t),o=i(n,e.unique("type").toArray().flat());return r&&o}function HO(){console.log("generateQuestionsSequence",arguments);var e=yO();const t=new NO.a(e.questions);document.getElementById("start-questions-btn").onclick=()=>UO(),document.getElementById("questions-ready").style.display="block",t.map((e,n,i)=>{const r=document.createElement("div");r.setAttribute("id","question"+n),r.setAttribute("class","question gaze-element"),r.setAttribute("data-element-id","question-area-for-questionID_"+e.get("id")),document.getElementById("questions").append(r);const o=document.createElement("div");o.setAttribute("class","title gaze-element"),o.setAttribute("data-element-id","title-for-questionID_"+e.get("id")),o.innerHTML=e.get("question"),r.append(o);const a=document.createElement("div");a.setAttribute("class","answer-and-next"),r.append(a);const s=document.createElement("div");if(s.setAttribute("class","answer gaze-element"),s.setAttribute("data-element-id","answer_area_for_questionID_"+e.get("id")),a.append(s),"open-question"==e.get("type")){console.log("open-question");const t=document.createElement("div");t.setAttribute("id","long-answer-question"+n),t.innerHTML='<input type="text" id="long-answer-question'+n+'-answer" class="form-input gaze-element" data-element-id="long-answer-for-questionID_'+e.get("id")+'" />',s.append(t);const i=document.getElementById("long-answer-question"+n+"-answer");i.addEventListener("click",()=>wO(Date.now(),i.getAttribute("data-element-id")))}else if("multiple-choice"==e.get("type")){console.log("multiple-choice");const t=document.createElement("div");t.setAttribute("id","multiple-choice-question"+n),s.append(t);const i=document.createElement("div");i.setAttribute("class","choices"),t.append(i);var c=e.get("options").split(";");for(let t=0;t<c.length;t++){const r=document.createElement("div");r.setAttribute("class","choice"),r.innerHTML='<div class="radio-and-text gaze-element" data-element-id="option-answer-for-questionID_'+e.get("id")+"_option_"+c[t]+'"><input class="radio" id="option-answer-for-questionID_'+e.get("id")+"_option_"+t+'" data-element-id="option-answer-radio-for-questionID_'+e.get("id")+"_option_"+c[t]+'" type="radio" value="'+c[t]+'" name="multiple-choice-question'+n+'-answer"/><span class="text">'+c[t]+"</span></div>",i.append(r);const o=document.getElementById("option-answer-for-questionID_"+e.get("id")+"_option_"+t);o.addEventListener("click",()=>wO(Date.now(),o.getAttribute("data-element-id")))}}else console.error(e.get("type")+"is an unkown question type");const u=document.createElement("div");u.setAttribute("class","next gaze-element"),u.setAttribute("data-element-id","next-button-area-in-questionID_"+e.get("id")),u.innerHTML='<button class="next-btn" data-element-id="next-button-inner-in-questionID_'+e.get("id")+'" id="next-question'+n+'-btn">Next</button>',a.append(u),document.getElementById("next-question"+n+"-btn").onclick=async()=>{const i=document.getElementById("next-question"+n+"-btn");wO(Date.now(),i.getAttribute("data-element-id"));const r="open-question"==e.get("type")?document.getElementById("long-answer-question"+n+"-answer").value:"multiple-choice"==e.get("type")&&null!=document.querySelector('input[name="multiple-choice-question'+n+'-answer"]:checked')?document.querySelector('input[name="multiple-choice-question'+n+'-answer"]:checked').value:"",o=n+1<t.count()?t.getRow(n+1):null;await $O(n,n+1,t.count(),e,r,o)}})}function UO(){console.log("startQuestions",arguments);var e=yO();const t=new NO.a(e.questions);$O(null,0,t.count(),null,null,t.getRow(0))}async function $O(e,t,n,i,r,o){console.log("nextQuestion",arguments);var a=yO();if(!a.isEtOn){const e="Eye-tracking has not started yet";return dO(e),console.error(e),null}0==t?(document.getElementById("questions-ready").style.display="none",await VO(o,t),document.getElementById("question"+t).style.display="block",jO(o.get("model-group"),o.get("showSimulation")),SO(o.get("model-group"))):t<n?(document.getElementById("question"+e).style.display="none",await WO(i,e,r),await VO(o,t),document.getElementById("question"+t).style.display="block",jO(o.get("model-group"),o.get("showSimulation")),SO(o.get("model-group"))):t>=n&&(document.getElementById("question"+e).style.display="none",await WO(i,e,r),document.getElementById("questions-over").style.display="block",SO(),vF())}async function VO(e,t){console.log("QuestionOnset",arguments);const n=e.get("question"),i=e.get("id"),r=Date.now(),o="questionOnset";console.log("questionText ",n),console.log("questionTimestamp ",r),console.log("questionEventType ",o),console.log("questionPosition",t),console.log("questionLogId",i),await GO(r,o,t,n,"",i)}async function WO(e,t,n){console.log("QuestionOffset",arguments);const i=e.get("question"),r=e.get("id"),o=Date.now(),a="questionOffset";console.log("questionText ",i),console.log("questionAnswer",n),console.log("questionTimestamp ",o),console.log("questionEventType ",a),console.log("questionPosition",t),console.log("questionLogId",r),await GO(o,a,t,i,n,r)}async function GO(e,t,n,i,r,o){console.log("sendQuestionEvent",arguments),window.hasOwnProperty("clientTests")&&"questionOnset"==t&&(window.clientTests.lastOnSetQuestionEvent={questionTimestamp:e,questionEventType:t,questionPosition:n,questionText:i,questionAnswer:r,questionID:o}),window.hasOwnProperty("clientTests")&&"questionOffset"==t&&(window.clientTests.lastOffSetQuestionEvent={questionTimestamp:e,questionEventType:t,questionPosition:n,questionText:i,questionAnswer:r,questionID:o});const a=await window.eyeTracker.sendQuestionEvent(e,t,n,i,r,o);a.sucess||console.error(a.msg)}async function KO(e,t,n,i){console.log("sendSimulationEvent",arguments);var r=yO();if(r.isEtOn){const r=await window.eyeTracker.sendSimulationEvent(e,t,n,i);r.sucess||console.error(r.msg)}}function ZO(){window.progress.onUpdateProcessingMessage((async function(e){console.log("onUpdateProcessingMessage",arguments);const t=e[0],n=e[1];await YO(t,n)}))}async function YO(e,t){console.log("updateProcessingMessage",arguments),("string"==typeof t&&""!=t?window.externalProgressWindows[t].document:document).getElementById("wait-progress").innerHTML=e,await XO(window.globalParameters.DELAY_FOR_RENDRING)}function XO(e){return console.log("delay",arguments),new Promise(t=>{setTimeout(()=>{t(2)},e)})}async function JO(e,t,n){console.log("showGeneralWaitingScreen",arguments),null!=e&&(document.getElementById("wait-title").innerHTML=e),document.getElementById(n).style.display="none",document.getElementById(t).style.display="all-content"==t?"inline-block":"block",await XO(window.globalParameters.DELAY_FOR_RENDRING)}async function QO(e,t){console.log("hideGeneralWaitingScreen",arguments),document.getElementById(e).style.display="all-content"==e?"inline-block":"block",document.getElementById(t).style.display="none",document.getElementById("wait-title").innerHTML="",document.getElementById("wait-progress").innerHTML="",await XO(window.globalParameters.DELAY_FOR_RENDRING)}function eI(e,t,n){console.log("moveFromTo",arguments),nI(e),document.getElementById(t).style.display=n}function tI(e,t,n){console.log("updateTextAndDisplayDomElement",arguments),document.getElementById(e).innerText=t,document.getElementById(e).style.display=n}function nI(e){console.log("hideElement",arguments),document.getElementById(e).style.display="none"}function iI(e,t){console.log("displayElement",arguments),"none"!=t?document.getElementById(e).style.display=t:console.error("Use hideElement() instead")}function rI(e){console.log("hideChildElements",arguments);const t=document.getElementById(e);for(const e of t.children)e.style.display="none"}async function oI(e){console.log("populateParticipantFileSelect",arguments);var t=document.getElementById(e);if(0==t.options.length||1==t.options.length&&""==t.options[0].value){const e=await window.analysis.getStatesInfo();for(const[i,r]of Object.entries(e)){var n=document.createElement("option");n.value=i,n.innerHTML=r+" ("+i+")",t.appendChild(n)}}}function aI(e,t){const n=document.getElementById(e);var i,r=[],o=n&&n.options;if("value"!=t&&"text"!=t)return console.error("unsuported outType",t),null;for(var a=0,s=o.length;a<s;a++)(i=o[a]).selected&&r.push(i[t]);return r}function sI(e){console.log("updateShownUserConfig",arguments),document.getElementById("user-config-content").innerHTML="";for(const[t,n]of Object.entries(e))document.getElementById("user-config-content").innerHTML+="<span class=key>"+t+"</span>: <span class=value>"+n+"</span><br>"}var cI={};function uI(){return cI}function lI(e,t){cI[e]=t,console.log("new generalModelsRegistry",cI)}var pI=[];function hI(e){Array.from(e).forEach(e=>pI.push(e))}function fI(){return pI.shift()}function dI(){return pI.length}const mI={BpmnModeler:yy,BpmnNavigatedViewer:Za,OdmModeler:pO,OdmNavigatedViewer:FM};function gI(){console.log("registerFileUpload",arguments);var e=document.getElementById("upload-zone");e.addEventListener("dragover",vI,!1),e.addEventListener("drop",(function(e){yI(e)}),!1)}function vI(e){console.log("handleDragOver function",arguments),mO(e),e.dataTransfer.dropEffect="copy"}async function yI(e){if(console.log("handleDroppedFiles",arguments),e.dataTransfer.isForTestingPurpose)return void bI(e.dataTransfer.files[0]);var t=yO();mO(e);const n=e.dataTransfer.files;if(hI(n),"multiple"==t.importMode)console.log("multiple files import mode"),console.log("files",n),await bI(fI());else if("single"==t.importMode)if(console.log("single file import mode"),1==dI())await bI(fI());else{const e="only a single file can be imported";console.error(e),dO(e)}}async function bI(e){console.log("traverseItem",arguments);var t=yO();"data-collection"==t.mode?hO(e,async t=>{await xI(e,t),await wI()}):"analysis"==t.mode&&await _I(e)}async function wI(){dI()>0?await bI(fI()):await QO("all-content","wait")}async function _I(e){console.log("traverseAnalysisFile",arguments);var t=yO();const n=e.name,i=n.split(".").pop();var r=e.path;if(await window.state.doesStateExist(r)){const e="analysis file already exists";return dO(e),console.error(e),void await wI()}if(e.isForTestingPurpose&&(r=e.localFilePath),t.temp.expectedExtensions.includes(i)&&"analysis"==t.temp.expectedArtifact)await JO("Loading "+n+"... <br><br> This step can take several minutes depending on the size of the file","wait","all-content"),window.utils.readState(n,r,t),CI();else{dO("unkown analysis file")}}async function xI(e,t){console.log("traverseDataCollectionFile function",arguments);var n=yO();const i=e.name,r=i.split(".").pop();if(console.log("fileExtension",r),await JO("Loading "+i+"...","wait","all-content"),n.temp.expectedExtensions.includes(r)&&"session"==n.temp.expectedArtifact)await kI(e);else if(n.temp.expectedExtensions.includes(r)&&"models"==n.temp.expectedArtifact)await SI(i,t);else if(n.temp.expectedExtensions.includes(r)&&"questions"==n.temp.expectedArtifact)await EI(e);else{const e="File type or content not expected";dO(e),console.error(e)}}async function kI(e,t){console.log("traverseSessionFile",arguments);var n=yO(),i=e.path;e.isForTestingPurpose&&(i=e.localFilePath),await window.utils.readState(e.name,i,n,t),PI()}async function EI(e){if(console.log("traverseQuestionsFile",arguments),await LO(e)){rF(!1)}}async function SI(e,t,n=""){console.log("traverseModelsFile",arguments);var i=yO();const r=e.replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),"");if(i.models.hasOwnProperty(r)){const t=e+" (id: "+r+") is already added";dO(t),console.error(t)}else{const o={id:r,fileName:e,path:n,xml:t};i.models[r]=o;try{await BI(o.xml,o.id,o.fileName,o.path),jI(o)}catch(e){AI(o),console.error(o.fileName+" is invalid"),dO(o.fileName+" is invalid")}}}function jI(e){console.log("createModelFileInfoBlock",arguments);var t=yO();const n=document.createElement("div");n.setAttribute("id","fileinfo-"+e.id),n.setAttribute("class","row"),nI("upload-label");const i=t.models[e.id].isMain?"checked":"";n.innerHTML='<div class="column file-info">'+e.fileName+'</div><div class="column"><input type="checkbox" class="set-as-main" id="set-as-main-'+e.id+'" name="set-as-main" modelId="'+e.id+'" '+i+'/>Set as main</div><div class="column"><input class="unclosable-tab" id="unclosable-tab-'+e.id+'" modelId="'+e.id+'" type="checkbox" '+i+'/>Unclosable Tab</div><div class="column">Group: <input class="group-assignement" modelId="'+e.id+'" type="text" size="2" name="group-assignement-for-file-'+e.id+'" id="group-assignement-for-file-'+e.id+'" value="1"></div><div class="column"><button class="remove-btn" id="remove-'+e.id+'"">Remove</button></div>',document.getElementById("file-list").appendChild(n),document.getElementById("remove-"+e.id).onclick=()=>removeFile(e)}function MI(e){console.log("createAnalysisFileInfoBlock",arguments);yO();const t=document.createElement("div");t.setAttribute("id","fileinfo-"+e.path),t.setAttribute("class","row"),nI("upload-label"),t.innerHTML='<div class="column file-info">'+e.name+"</div>",document.getElementById("file-list").appendChild(t)}function AI(e){console.log("removeModelFile",arguments);var t=yO();delete t.models[e.id],null!=document.getElementById("fileinfo-"+e.id)&&document.getElementById("fileinfo-"+e.id).remove(),document.getElementById("model"+e.id+"-container").remove(),document.getElementById("model"+e.id+"-explorerItem").remove()}function CI(){console.log("stateReadListener",arguments),window.utils.onStateRead((async function(e){console.log("onStateRead",arguments);const t=e[0],n={name:e[1],path:e[2]};MI(n),await TI(t),await wI()}))}async function TI(e){console.log("stateRead",arguments);var t=yO();if(e.sucess){for(const[n,i]of Object.entries(e.data.models))t.models.hasOwnProperty(n)||(console.log("new model ",e.data.models[n]),t.models[n]=e.data.models[n],await BI(t.models[n].xml,t.models[n].id,t.models[n].fileName,t.models[n].path));null==t.questions&&(t.questions=[]),e.data.questions.forEach((function(e){null==t.questions.find(t=>t.id==e.id)?(console.log("new question ",e),t.questions.push(e)):console.log("existng question",e)}))}else console.error(e.msg),dO(e.msg);await QO("all-content","wait")}function PI(){console.log("sessionReadListener",arguments),window.utils.onSessionRead((async function(e){console.log("onSessionRead",arguments);const t=e[0];await RI(t)}))}async function RI(e){console.log("sessionRead",arguments);const t=e.sucess,n=e.msg,i=e.data;if(t){bO(i);var r=yO();console.log("state",r);for(const[e,t]of Object.entries(r.models))await BI(r.models[e].xml,r.models[e].id,r.models[e].fileName,r.models[e].path);rF(!0)}else console.error(e.msg),dO(n)}async function BI(e,t,n,i){console.log("processModel",arguments);var r=yO();II(i,n,t),DI(t,n),console.log("creating model");var o=await FI(n,t,e);if(console.log("model created"),"data-collection"==r.mode&&(r.models[t].isMain=OI(o)),"analysis"==r.mode){var a={};a.elementRegistry=o.get("elementRegistry"),"Bpmn"==o.language&&(a.commandStack=o.get("commandStack")),a.overlays=o.get("overlays"),a.language=o.language,lI(t,a)}console.log(n,"is valid")}function OI(e){console.log("isMain",arguments);const t=e.get("canvas").getRootElement().id;return console.log("processId",t),"Bpmn"==e.language&&"main"==t.toLowerCase()}function II(e,t,n){console.log("constructDirectoryExplorer",arguments);var i=yO(),r=(e=e.slice(0,-1)).split("/"),o=[];for(let e=0;e<r.length;e++)if(o.push(r[e]),null==document.getElementById("explorer-group-"+o.join("/"))&&""!=r[e]){var a=document.createElement("li");a.setAttribute("class","folder gaze-element"),a.setAttribute("data-element-id","file-explorer-folder_"+r[e]),a.innerHTML=r[e];var s=document.createElement("ul");if(s.setAttribute("id","explorer-group-"+o.join("/")),a.appendChild(s),1==o.length)document.getElementById("explorer-groups").appendChild(a);else{var c=o.slice(0,-1);document.getElementById("explorer-group-"+c.join("/")).appendChild(a)}}var u=document.createElement("li");u.setAttribute("id","model"+n+"-explorerItem"),u.setAttribute("class","file gaze-element"),u.setAttribute("data-element-id","file-explorer-file_"+t),"data-collection"==i.mode&&(u.style.display="none"),u.setAttribute("fileName",t),u.innerHTML=t,u.onclick=function(e){wO(Date.now(),u.getAttribute("data-element-id")),MO(n),RO(n,!1,!0)},""!=e?document.getElementById("explorer-group-"+e).appendChild(u):document.getElementById("explorer-groups").appendChild(u)}function DI(e,t){console.log("createTabContainer",arguments);const n=document.createElement("div");n.setAttribute("id","model"+e+"-container"),n.setAttribute("class","tab-container"),document.getElementById("tabs-containers").appendChild(n);const i=document.createElement("div");i.setAttribute("id","model"+e+"-content-holder"),i.setAttribute("class","model-content-holder"),n.appendChild(i);const r=document.createElement("div");r.setAttribute("id","model"+e+"-content"),r.setAttribute("fileName",t),r.setAttribute("class","model-content"),i.appendChild(r)}async function FI(e,t,n,i){console.log("createModel function",arguments);var r=yO();i=i||"model"+t+"-content";var o=document.createElement("div");o.setAttribute("id",i+"-model"+t+"-object"),o.setAttribute("hierarchy","main-model"),o.setAttribute("class","canvas main-model"),o.setAttribute("FileName",e),document.getElementById(i).append(o);var a=null,s=null;if(e.endsWith("bpmn"))s="Bpmn";else{if(!e.endsWith("odm"))throw"Unknown file format";s="Odm"}if("data-collection"==r.mode)a="NavigatedViewer";else{if("analysis"!=r.mode)throw"Unknown state";a="Modeler"}var c=await HI(s,a,i,t,n);c.on("canvas.viewbox.changed",e=>{console.log("canvas.viewbox.changed on tab ",r.activeTab),dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}),"data-collection"==r.mode&&"Bpmn"==s&&(qI("#model"+t+"-container .bts-content",e),zI(t,e),NI(t,e),LI(t)),UI(i+"-model"+t+"-object");const u=c.get("canvas").getRootElement().id;return $I(c,t,u,i),c}function zI(e,t){const n=document.querySelector("#model"+e+"-container");n.querySelectorAll(".bts-entry").forEach(e=>{e.addEventListener("click",()=>{dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const n=e.getAttribute("title")||"";wO(Date.now(),n),console.log("click -- bts-entry",[t,n])})}),n.querySelectorAll(".bts-toggle-mode").forEach(e=>{e.addEventListener("click",()=>{dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const e="bts-toggle-simulation";wO(Date.now(),e),console.log("click -- bts-toggle-mode",[t,e])})}),n.querySelectorAll(".bts-log .bts-icon, .bts-log .bts-close").forEach(e=>{e.addEventListener("click",()=>{dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const e="bts-simulation-log-close";wO(Date.now(),e),console.log("click -- bts-log-close",[t,e])})}),n.querySelectorAll(".bts-animation-speed-button[data-speed]").forEach(e=>{e.addEventListener("click",()=>{dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const n=e.getAttribute("title")||"",i=e.getAttribute("data-speed");wO(Date.now(),n),console.log("click -- bts-animation-speed-button[data-speed]",[t,n,i])})}),n.addEventListener("click",e=>{const n=e.target.closest(".bts-context-pad");if(n){dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const e=n.getAttribute("title")||"",i=n.closest("[data-container-id]")?n.closest("[data-container-id]").getAttribute("data-container-id"):"";wO(Date.now(),e+" - "+i),console.log("click -- bts-context-pad",[t,e,i])}})}function NI(e,t){const n=document.querySelector("#model"+e+"-container");n.querySelectorAll(".bts-entry").forEach(e=>{const t=e.getAttribute("title")||"";e.setAttribute("data-element-id","bts-entry - "+t)}),n.querySelectorAll(".bts-animation-speed-button[data-speed]").forEach(e=>{const t=e.getAttribute("title")||"";e.getAttribute("data-speed");e.setAttribute("data-element-id","bts-speed-button - "+t)}),n.querySelectorAll(".bts-log").forEach(e=>{e.setAttribute("data-element-id","bts-log")}),n.querySelectorAll(".bts-notifications").forEach(e=>{e.setAttribute("data-element-id","bts-notifications")}),n.querySelectorAll(".bts-toggle-mode").forEach(e=>{e.setAttribute("data-element-id","bts-toggle-simulation")})}function LI(e){document.querySelector("#model"+e+"-container").querySelectorAll(".bts-entry.disabled").forEach((function(e){e.style.pointerEvents="auto",e.style.cursor="default"}))}function qI(e,t){const n=document.querySelector(e);if(!n)return void console.error("Target node not found:",e);const i=new MutationObserver((function(e,n){for(const n of e)"childList"===n.type&&n.addedNodes.forEach(e=>{if(1===e.nodeType&&e.classList.contains("bts-entry")&&e.classList.contains("info")){dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY);const n=e.getAttribute("data-scope-id"),i=e.querySelector(".bts-text"),r=i?i.getAttribute("title"):"";console.log("File:",t,"| Simulation ID:",n,"| Simulation Event:",r),KO(Date.now(),t,n,r)}})}));return i.observe(n,{childList:!0,subtree:!0}),i}async function HI(e,t,n,i,r){console.log("setUpModelerObject function",arguments);const o={canvas:{deferUpdate:!0},container:"#"+n+"-model"+i+"-object"};"Bpmn"===e&&"NavigatedViewer"===t&&(o.additionalModules=[k_],console.log("TokenSimulationModule added"));const a=new mI[e+t](o);return a.language=e,await a.importXML(r),a}function UI(e){console.log("removeBPMNioLogo function",arguments),document.getElementById(e).querySelector(".bjs-powered-by").remove()}function $I(e,t,n,i){console.log("linkSubProcesses",arguments);var r=yO(),o=e.get("elementRegistry")._elements;Object.keys(o).forEach(e=>{if("bpmn:SubProcess"==o[e].element.type&&1==o[e].element.collapsed){const a=o[e].element.id,s=a.replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),""),c=o[e].element.businessObject.name,u=document.getElementById(i).querySelector('[data-element-id="'+a+'"]');"newTab"==r.linkingSubProcessesMode?(u.addEventListener("click",(function(e){mO(e),wO(Date.now(),u.getAttribute("data-element-id")),VI(a,s)&&BO(s)})),YI(u,".djs-hit, .djs-hit-all","pointer")):"withinTab"==r.linkingSubProcessesMode?(u.addEventListener("click",(function(e){mO(e),wO(Date.now(),u.getAttribute("data-element-id")),VI(a,s)&&OO(t,n,s,c)})),YI(u,".djs-hit, .djs-hit-all","pointer")):u.addEventListener("click",(function(e){mO(e)}))}})}function VI(e,t){console.log("isFileLoaded",arguments);var n=yO();return!!n.models.hasOwnProperty(t)||(console.log(e,"(id: "+t+") was not loaded"),!1)}function WI(){console.log("assignModelsToGroups",arguments);var e=yO();const t=document.getElementsByClassName("group-assignement");for(let n=0;n<t.length;n++)e.models[t[n].getAttribute("modelId")].groupId=t[n].value}function GI(){console.log("areModelsCorrectlyGrouped",arguments);var e={msg:"",sucess:!0};return KI()?(ZI()||(e.msg+="Each group should have one main model.",e.sucess=!1),e):(e.msg="Some models are missing a group Id.",e.sucess=!1,e)}function KI(){console.log("areAllModelsAssignedToGroupId",arguments);const e=document.getElementsByClassName("group-assignement");for(let t=0;t<e.length;t++)if(""==e[t].value)return!1;return!0}function ZI(){console.log("doEachGroupHasOnlyOneMainModel",arguments);var e={};const t=document.getElementsByClassName("group-assignement");for(let n=0;n<t.length;n++){const i=t[n].getAttribute("modelId"),r=t[n].value;e.hasOwnProperty(r)||(e[r]=0);document.getElementById("set-as-main-"+i).checked&&(e[r]=e[r]+1)}for(const t of Object.values(e))if(1!=t)return!1;return!0}function YI(e,t,n){for(var i=e.querySelectorAll(t),r=0;r<i.length;r++)i[r].style.cursor=n}var XI={heatmapActive:!1,projectionAndMappingActive:!1};function JI(e){XI.heatmapActive=e}function QI(){return XI.heatmapActive}function eD(e){XI.projectionAndMappingActive=e}const{DataFrame:tD}=n(63);async function nD(){console.log("enableHeatmapOption function",arguments),await window.analysis.shouldEnableHeatmap()&&(document.getElementById("heatmap-btn").src="icons/heatmap_enabled.svg",document.getElementById("heatmap-btn").onclick=()=>rD())}function iD(){console.log("disableHeatmapOption function",arguments),document.getElementById("heatmap-btn").onclick=null,document.getElementById("heatmap-btn").src="icons/heatmap_disabled.svg"}async function rD(){console.log("heatmapInteraction",arguments),QI()?(await JO("Clearing the heatmap and overlays","wait","all-content"),await uD(),await QO("all-content","wait"),nI("user-configuration")):(await oD(),await oI("participants-files-heatmap"),document.getElementById("measure").onchange=lD,document.getElementById("close-heatmap-settings").onclick=pD,document.getElementById("submit-heatmap-form").onclick=()=>aD(),iI("heatmap-settings-modal","block"))}async function oD(){console.log("populateQuestionIDSelect",arguments);const e=document.getElementById("question"),t=await window.globalParameters.QUESTION_TEXT_PREVIEW_LENGTH;if(e.options.length<=1){const i=yO().questions;for(let r=0;r<i.length;r++){var n=document.createElement("option");n.value=i[r].id,n.innerHTML=i[r].id+" ("+i[r].question.slice(0,t)+(i[r].question.length>t?"...":"")+")",e.appendChild(n)}}}async function aD(){console.log("applyHeatmapSettingsInteraction function",arguments);const e=uI();console.log("generalModelsRegistry",e);const t=aI("participants-files-heatmap","value"),n=aI("participants-files-heatmap","text"),i=document.getElementById("measure"),r=i.options[i.selectedIndex].getAttribute("measure"),o=i.options[i.selectedIndex].getAttribute("measureType"),a=document.getElementById("aggregation"),s=a.value,c=a.options[a.selectedIndex].getAttribute("aggregationType"),u=document.getElementById("question"),l=u.value,p=u.options[u.selectedIndex].innerText;if(console.log("questionID",l),""==r||""==s||""==l||0==t.length)return dO("Please select a participants/measure/aggregation/questionID "),!1;await JO("Preparing the heatmap and the overlays","wait","all-content");const h={poolsLanes:document.getElementById("inc-pools-lanes").checked,groups:document.getElementById("inc-groups").checked,expendedSubProcesses:document.getElementById("inc-expended-sub-processes").checked,processes:document.getElementById("inc-processes").checked,edges:document.getElementById("inc-edges").checked};JI(!0);const f=document.getElementById("timestamp-unit").value,d={Participants:n.toString(),Question:p,Measure:r,Aggregation:s};sI(d);const m={};Object.keys(e).forEach(t=>{m[t]={},Object.keys(e[t].elementRegistry._elements).forEach(n=>{m[t][n]={},m[t][n].type=e[t].elementRegistry._elements[n].element.type,m[t][n].collapsed=e[t].elementRegistry._elements[n].element.collapsed})}),console.log("elementRegistryTypes",m);const g=await window.analysis.generateHeatMap(t,m,r,o,s,h,l);cD(g,e,r,s,c,f),document.getElementById("feature-text").innerText="Heatmap and Overlays",pD(),iI("user-configuration","block"),await QO("all-content","wait")}function sD(e){console.log("clearHeatmapContent function",arguments);for(const[t,n]of Object.entries(e)){const i=n.language;for(const[r,o]of Object.entries(n.elementRegistry._elements))"Bpmn"==i&&"bpmn:Collaboration"==o.element.type?o.secondaryGfx.style.backgroundColor="":"Bpmn"!=i||"bpmn:SequenceFlow"!=o.element.type&&"bpmn:MessageFlow"!=o.element.type&&"bpmn:DataInputAssociation"!=o.element.type&&"bpmn:DataOutputAssociation"!=o.element.type?"Bpmn"==i&&"bpmn:Group"==o.element.type?(o.gfx.children[0].children[0].style.stroke="black",o.gfx.children[0].children[0].style.strokeWidth="1px"):"Bpmn"==i?e[t].commandStack.execute("element.setColor",{elements:[o.element],colors:{fill:""}}):"Odm"==i&&"od:OdBoard"==o.element.type?o.secondaryGfx.style.backgroundColor="":"Odm"==i&&"od:Link"==o.element.type?o.gfx.children[0].children[0].style.stroke="black":"Odm"==i&&"od:Object"==o.element.type&&(o.gfx.children[0].children[0].style.fill="white",o.gfx.children[0].children[0].style.fillOpacity=""):o.gfx.children[0].children[0].style.stroke="black";e[t].overlays.remove({type:"heatmap-info"})}}function cD(e,t,n,i,r,o){console.log("visitsHeatMap function ",arguments),e.forEach((function(e){const a=e["heatMapColorScale_"+n+"_"+i];if(isNaN(a))console.error("Cannot construct heatmap with one element only");else{const a=e.element,c=null!=e.tabName?e.tabName.replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),""):"",u=e[n+"_"+i],l=e["heatMapColor_"+n+"_"+i];if(null!=t[c]&&null!=t[c].elementRegistry._elements[a]){console.log("found");const e=t[c].elementRegistry._elements[a].element,p=t[c].language;console.log("language",p),"Bpmn"==p&&"bpmn:Collaboration"==e.type?t[c].elementRegistry._elements[a].secondaryGfx.style.backgroundColor=l:"Bpmn"!=p||"bpmn:SequenceFlow"!=e.type&&"bpmn:MessageFlow"!=e.type&&"bpmn:DataInputAssociation"!=e.type&&"bpmn:DataOutputAssociation"!=e.type?"Bpmn"==p&&"bpmn:Group"==e.type?(t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.stroke=l,t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.strokeWidth="4px"):"Bpmn"==p?t[c].commandStack.execute("element.setColor",{elements:[e],colors:{fill:l}}):"Odm"==p&&"od:OdBoard"==e.type?t[c].elementRegistry._elements[a].secondaryGfx.style.backgroundColor=l:"Odm"==p&&"od:Link"==e.type?t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.stroke=l:"Odm"==p&&"od:Object"==e.type&&(t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.fill=l,t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.fillOpacity="0.95"):t[c].elementRegistry._elements[a].gfx.children[0].children[0].style.stroke=l;var s={measure:n+" ("+i+")",value:u.toFixed(2)+" "+("time"==r?o:"")};t[c].overlays.add(e,"heatmap-info",vD(fD(c,e,e.id,s))),hD(c,e,e.id)}}}))}async function uD(){console.log("clearHeatmap function",arguments),JI(!1);const e=uI();console.log("generalModelsRegistry",e),console.log("start"),sD(e),console.log("end"),document.getElementById("feature-text").innerText=""}function lD(){console.log("heatmapAggregationsInteraction function",arguments);const e=document.getElementById("measure"),t=document.getElementById("aggregation"),n=e.options[e.selectedIndex].getAttribute("aggregations");Array.prototype.forEach.call(document.getElementsByClassName("aggr"),(function(e){e.style.display="none"})),""!=n&&n.split("-").forEach((function(e){iI(e+"-aggr","block")})),t.options[0].selected=!0}function pD(){console.log("closeHeatmapSettingsInteraction function",arguments),nI("heatmap-settings-modal")}function hD(e,t,n){const i=document.querySelector("[id=model"+e+'-container] [data-element-id="'+t.id+'"]');i.addEventListener("mouseenter",(function(){const t=document.getElementById("model"+e+"_"+n+"_tooptip_overlay");null!=t&&(t.style.display="block")})),i.addEventListener("mouseleave",(function(){const t=document.getElementById("model"+e+"_"+n+"_tooptip_overlay");null!=t&&(t.style.display="none")}))}function fD(e,t,n,i){return'<div id="model'+e+"_"+n+'_tooptip_overlay" class="tooltip">               <div class="tooltip-content">'+function(e){return'<div class="tooltip-header">               <div class="tooltip-container">'+e.type.split(":")[1]+"</div>            </div>"}(t)+function(e){var t=_.without(e,"");if(0==t.length)return'<div class="tooltip-no-properties ">No properties found</div>';return t.join("")}([dD(t),mD(i)])+"</div>             </div>"}function dD(e){return'<div class="tooltip-container">               <div class="tooltip-subheader">General</div>'+gD("Id",e.id)+gD("Name",e.businessObject.name)+"</div>"}function mD(e){return'<div class="tooltip-container">               <div class="tooltip-subheader">Heatmap</div>'+gD(e.measure,e.value)+"</div>"}function gD(e,t){return function(e,t,n){return null==t?"":`<div class="tooltip-line"><span class="tooltip-key">${e}:&nbsp;</span><span class="tooltip-value ${n}">${t}</span></div>`}(e,t,"tooltip-value-text")}function vD(e){return{position:{top:-30,left:0},scale:!1,show:{maxZoom:2},html:e}}n(200);const{DataFrame:yD}=n(63);async function bD(){await JO("Please wait while the fixation filter is being applied...","wait","all-content");const e={status:"init",algorithm:"IVT",isInterpolation:document.getElementById("is-interpolation").checked,maxGapLength:document.getElementById("max-gap-length").value,isNoiceReduction:document.getElementById("is-noice-reduction").checked,noiseReductionMethod:document.getElementById("noise-reduction-method").value,windowSize:document.getElementById("window-size").value,windowLength:document.getElementById("window-length").value,velocityThreshold:document.getElementById("Velocity-threshold").value,isDiscardShortFixations:document.getElementById("is-discard-short-fixations").checked,minimumFixationDuration:document.getElementById("minimum-fixation-duration").value,isMergeAdjacentFixations:document.getElementById("is-merge-adjacent-fixations").checked,maximumTimeBetweenFixations:document.getElementById("maximum-time-between-fixations").value,maximumAngleBetweenFixations:document.getElementById("maximum-angle-between-fixations").value,fixationMappingHandling:document.getElementById("fixation-mapping-handling").value};window.Rserver.fixationFilter(e)}async function wD(e,t){console.log(e,t),t?(uD(),nD(),await QO("all-content","wait"),iI("loaded-content-view","flex"),nI("fixation-settings-view")):(dO(e),await QO("all-content","wait"))}async function _D(){console.log("closeFixationSettings",arguments),nI("fixation-settings-view"),iI("loaded-content-view","flex")}function xD(){["is-interpolation","is-noice-reduction","is-discard-short-fixations","is-merge-adjacent-fixations"].forEach(e=>{document.getElementById(e).onclick=()=>{var t=document.getElementsByClassName(e);Array.prototype.forEach.call(t,(function(e){e.disabled=!e.disabled}))}})}n(734);function kD(){document.getElementById("close-download").onclick=ED,document.getElementById("submit-download-form").onclick=()=>async function(){const e=document.getElementById("download-file-type"),t=e.options[e.selectedIndex].value;console.log(t),await JO("Please wait while the download is being prepared","wait","all-content");const n=await window.utils.stateDownload("EyeMind",!0,t);await QO("all-content","wait"),n.sucess?fO(n.msg):dO(n.msg)}(),document.getElementById("download-modal").style.display="block"}function ED(){document.getElementById("download-modal").style.display="none"}var SD=null;function jD(e){SD=e}function MD(){return SD}function AD(){window.eyeTracker.onMapGazestoElementsFromPageSnapshot((function(e){console.log("mapGazestoElementsFromPageSnapshot",arguments);const t=e[0],n=e[1],i=e[2],r=e[3],o=e[4];null!=o&&(console.log("snapshots set"),jD(o));const a=CD(t);window.eyeTracker.dataMapped(a,n,i,r)}))}function CD(e){console.log("mapGazestoElementsFromPageSnapshot function ",arguments);var t=MD(),n=-1,i=[];const r=e.length;for(let o=0;o<r;o++){const r=e[o];null!=r.x&&null!=r.y&&null!=r.snapshotId&&-1!=r.snapshotId&&null!=t[r.snapshotId]?(n!=r.snapshotId&&(n=r.snapshotId,document.body.innerHTML=t[n].code),r.tabName=t[n].tabName,r.element=PD(r.x,r.y,t[n].screenX,t[n].screenY)):(r.tabName="",r.element=""),i.push(r)}return i}function TD(e,t,n,i,r){return PD(e,t,i,r,n)}function PD(e,t,n,i,r){r=r||document;const o=parseFloat(e)-n,a=parseFloat(t)-i,s=r.elementFromPoint(o,a),c=RD(s,"svg, .djs-element, .gaze-element, .bts-entry, .bts-context-pad, .bts-animation-speed-button[data-speed], .bts-notifications, .bts-log, .bts-toggle-mode",!0);let u=null!=c?c.getAttribute("data-element-id"):"";if(null!=c&&null==u){const e=RD(s,"[data-container-id]",!0);if(e){const t=e.querySelector(".bts-context-pad");if(t){const n=e.getAttribute("data-container-id");u=`${t.getAttribute("title")} - ${n}`}}else{const e=RD(s,".bts-log",!0);if(e){const t=RD(e,"[data-element-id]",!0);t&&(u=t.getAttribute("data-element-id"))}}}return u}function RD(e,t,n){for(var i=n?e:e.parentNode;i&&i.nodeType!==document.DOCUMENT_NODE&&i.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(BD(i,t))return i;i=i.parentNode}return BD(i,t)?i:null}function BD(e,t){if(!e||1!==e.nodeType)return!1;for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1}async function OD(){await oI("participant-file-gaze-projection"),XI.projectionAndMappingActive?(await JO("Clearing the gaze projections","wait","all-content"),await async function(){eD(!1),document.getElementById("feature-text").innerText="",nI("gaze-correction"),LD(),function(){const e=document.querySelectorAll(".tab-container");for(const t of e){t.querySelector(".model-content[filename]").style.display="block"}}(),nD()}(),await QO("all-content","wait"),nI("user-configuration")):(document.getElementById("close-gaze-projection").onclick=ID,document.getElementById("submit-gaze-projection-form").onclick=()=>async function(){console.log("applyProjectionSettings",arguments);var e=document.getElementById("gaze-sample-size-in-percentage").value;const t=document.getElementById("participant-file-gaze-projection").value;console.log("stateFile",t);const n=document.getElementById("participant-file-gaze-projection").options[document.getElementById("participant-file-gaze-projection").selectedIndex].text;if(isNaN(e)||""==t)return dO("missing/incorrect input fields"),!1;await window.state.areAreGazesCorrectedOfState(t)&&fO("A gaze-correction for this participant/file already exist.\nIMPORTANT NOTE: The gaze projections and corrections will be applied on the raw data and not the corrected one");const i={"Sampling Ratio":e=parseFloat(e)/100,"Participant/file":n};sI(i);const r=await window.analysis.getRandomGazeSet(e,t);console.log("randomGazeSet",r);const o=await window.state.getSnapshotsOfState(t);await JO("Generating gaze projections","wait","all-content"),eD(!0),document.getElementById("feature-text").innerText="Gaze Projections and Mapping",iD(),zD();const a=await UD(r,o,0,0,e);DD(r,o,e,t,i),ND(a,null,null),iI("user-configuration","block"),iI("gaze-correction","block"),await QO("all-content","wait"),ID()}(),iI("gaze-projection-modal","block"),fO("For correct gaze corrections, make sure to set the same screen dimension as the one used for the data collection"))}function ID(){nI("gaze-projection-modal")}function DD(e,t,n,i,r){document.getElementById("apply-correction-offset").disabled=!0,document.getElementById("update-correction-offset").onclick=()=>{!async function(e,t,n,i){const r=parseFloat(document.getElementById("gaze-correction-x-offset-model").value),o=parseFloat(document.getElementById("gaze-correction-y-offset-model").value);if(i["X offset"]=r,i["Y offset"]=o,sI(i),FD(),isNaN(r)||isNaN(o))dO("Please provide a valid value for both x offset and y offset."),document.getElementById("apply-correction-offset").disabled=!0;else{await JO("Updating gaze projections using the given offset.","wait","all-content");const i=await UD(e,t,r,o,n);LD(),ND(i,r,o),document.getElementById("apply-correction-offset").disabled=!1,await QO("all-content","wait")}}(e,t,n,r)},document.getElementById("apply-correction-offset").onclick=()=>{!async function(e,t){console.log("applyCorrectionOffsetInteraction",arguments);const n=parseFloat(document.getElementById("gaze-correction-x-offset-model").value),i=parseFloat(document.getElementById("gaze-correction-y-offset-model").value);Number.isInteger(n)&&Number.isInteger(i)?(await $D(e,n,i,t),FD()):dO("Please provide a valid value for both x offset and y offset.")}(t,i)}}function FD(){document.getElementById("gaze-correction-x-offset-model").value="",document.getElementById("gaze-correction-y-offset-model").value=""}function zD(){const e=document.querySelectorAll(".tab-container");for(const t of e){t.querySelector(".model-content[filename]").style.display="none"}}function ND(e,t,n){const i=document.querySelectorAll(".tab-container");for(const t of i){const n=t.querySelector(".model-content[filename]").getAttribute("filename").replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),"");var r=document.createElement("div");r.setAttribute("id","model"+n+"-projections-container"),r.setAttribute("class","projections-container");t.querySelector("[id='model"+n+"-content-holder']").appendChild(r),e.hasOwnProperty(n)&&(qD(null,-1,e[n],n,r),e[n].forEach((e,t,i)=>qD(e,t,i,n,r)))}}function LD(){const e=document.querySelectorAll(".projections-container");for(let t=0;t<e.length;t++)e[t].remove()}function qD(e,t,n,i,r){var o=document.createElement("div");o.setAttribute("id","model"+i+"-projected-model-snapshot"+t),o.setAttribute("class","projected-snapshot"),r.appendChild(o),-1==t&&(o.style.display="block");var a=document.createElement("div");if(a.setAttribute("id","model"+i+"-snapshots-navigation"),a.setAttribute("class","snapshots-navigation"),o.appendChild(a),null!=e){var s=document.createElement("div");s.setAttribute("id","model"+i+"-snapshot"+t),s.setAttribute("class","snapshot");const n=e.area.width,r=e.area.height;s.style.width=n+"px",s.style.height=r+"px",s.appendChild(e.code),o.appendChild(s)}-1!=t?(a.innerHTML="<button id='model"+i+"-snapshots-navigation-prev-btn-snapshot"+t+"' class='btn'>Previous snapshot</button><button id='model"+i+"-snapshots-navigation-next-btn-snapshot"+t+"' class='btn'>Next snapshot</button>",document.getElementById("model"+i+"-snapshots-navigation-prev-btn-snapshot"+t).disabled=!(t>0),document.getElementById("model"+i+"-snapshots-navigation-next-btn-snapshot"+t).disabled=!(t<n.length-1),document.getElementById("model"+i+"-snapshots-navigation-prev-btn-snapshot"+t).onclick=()=>{HD(t,t-1,i)},document.getElementById("model"+i+"-snapshots-navigation-next-btn-snapshot"+t).onclick=()=>{HD(t,t+1,i)}):(a.innerHTML="<button id='model"+i+"-snapshots-navigation-preview-btn-snapshot' class='btn'>Preview snapshots</button>",document.getElementById("model"+i+"-snapshots-navigation-preview-btn-snapshot").onclick=()=>{HD(t,t+1,i)})}function HD(e,t,n){nI("model"+n+"-projected-model-snapshot"+e),iI("model"+n+"-projected-model-snapshot"+t,"block")}async function UD(e,t,n,i,r){console.log("generateGazeProjection",arguments);var o="",a=-1,s="",c="",u={},l={};const p=0,h=e.length;for(let r=p;r<h;r++){const m=e[r];if("eye-tracker"==m.eventSource){const e=t[m.snapshotId];if(!isNaN(e.id)&&null!=e.boundingClientRect){const t=JSON.parse(e.boundingClientRect);e.id!=a&&(a=e.id,c=(s=e.tabName).replace(new RegExp(window.globalParameters.MODELS_ID_REGEX,"g"),""),o=KD(e.code,""),(l={}).code=o.querySelector("[filename='"+s+"'].main-model svg[data-element-id]"),l.area=t,console.log("svgModel.area",l.area),null==u[c]?u[c]=[l]:u[c].push(l));const r=m.x-e.screenX-t.left+n,p=m.y-e.screenY-t.top+i;if(r>0&&p>0){var f="http://www.w3.org/2000/svg",d=document.createElementNS(f,"circle");d.setAttributeNS(null,"cx",r),d.setAttributeNS(null,"cy",p),d.setAttributeNS(null,"r",1),d.setAttributeNS(null,"style","fill: red;"),l.code.appendChild(d)}}}r%window.globalParameters.REPORT_FREQUENCY==0&&await YO("Projections on "+s+": "+gO(r-p,h-p)+"% complete",document)}return u}async function $D(e,t,n,i){console.log("initiateOffsetCorrection",arguments);const r=await window.state.getStyleParametersOfState(i);console.log("styleParameters",r);const o=GD(e);var a=window.open("about:blank","","_blank, width="+(o.width+window.globalParameters.AREA_OFFSET)+", height="+(o.height+window.globalParameters.AREA_OFFSET)+", directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no");a.document.body.innerHTML="<div class='centered-content'><button id='startCorrection' class='start-correction-btn'>Start</button><span class='start-correction-text'>Do not close or resize this window!</span></div>",a.document.head.innerHTML="<style>"+r+"</style>",a.document.body.style.margin=0,a.document.body.style.padding=0,window.hasOwnProperty("externalMappingWindows")||(window.externalMappingWindows={});const s="Window"+Date.now();window.externalMappingWindows[s]=a;var c=-1;a.document.getElementById("startCorrection").onclick=async()=>{await JO("Applying the correction offset to the whole gaze data","wait","all-content"),a.document.getElementById("startCorrection").style.display="none",window.analysis.applyCorrectionOffset(s,i,c,t,n)}}function VD(e,t,n,i,r,o,a){const s=window.externalMappingWindows[i],c=MD();for(const[t,n]of Object.values(e).entries())if("eye-tracker"==n.eventSource){const e=c[n.snapshotId],t=JSON.parse(e.boundingClientRect);if(!isNaN(e.id)){if(e.id!=r){r=e.id;var u=null!=e.code?KD(e.code,"").querySelector("[filename='"+e.tabName+"'].main-model svg[data-element-id]"):null;u=null!=u?"<div style='padding:0px;margin:0px;width:"+t.width+"px;height:"+t.height+"px'>"+u.outerHTML+"</div>":"",s.document.body.innerHTML=u}if(n["leftX-correction"]=null!=n.leftX?o:null,n["leftX-corrected"]=null!=n.leftX?n.leftX+o:null,n["rightX-correction"]=null!=n.rightX?o:null,n["rightX-corrected"]=null!=n.rightX?n.rightX+o:null,n["leftY-correction"]=null!=n.leftY?a:null,n["leftY-corrected"]=null!=n.leftY?n.leftY+a:null,n["rightY-correction"]=null!=n.rightY?a:null,n["rightY-corrected"]=null!=n.rightY?n.rightY+a:null,n["x-correction"]=null!=n.x?o:null,n["x-corrected"]=null!=n.x?n.x+o:null,n["y-correction"]=null!=n.y?a:null,n["y-corrected"]=null!=n.y?n.y+a:null,null!=n["x-corrected"]&&null!=n["y-corrected"]&&null!=t){const i=n["x-corrected"]-t.left,r=n["y-corrected"]-t.top;n["element-with-correction"]=TD(i,r,s.document,e.screenX,e.screenY)}else n["element-with-correction"]=""}}return{gazeDataFragment:e,snapshotId:r}}async function WD(e,t){window.externalMappingWindows[e].close(),await window.state.setAreGazesCorrectedOfState(t,!0),await QO("all-content","wait"),fO("correction offset applied to data. \nRemember to run the fixation filter again to consider the corrected data in your analysis (e.g., for fixation heatmaps and overlays).")}function GD(e){const t={width:0,height:0};for(const n of Object.values(e)){const e=JSON.parse(n.boundingClientRect);null!=e&&(e.width>t.width&&(t.width=e.width),e.height>t.height&&(t.height=e.height))}return t}function KD(e,t){var n=document.implementation.createHTMLDocument(t);return n.body.innerHTML=e,n}async function ZD(){var e=yO();e.mode="analysis",e.importMode="multiple",e.temp.expectedArtifact="analysis",e.temp.expectedExtensions=["json"],window.hasOwnProperty("electron")&&window.Rserver.startRserver(),ZO(),window.analysis.onApplyCorrectionOnGazeFragment((function(e){console.log("onApplyCorrectionOnGazeFragment",arguments);var t=e[0],n=e[1];const i=e[2],r=e[3],o=e[4];var a=e[5];const s=e[6],c=e[7],u=e[8];null!=s&&(console.log("snapshots set"),jD(s));const l=VD(n,0,0,o,a,c,u);n=l.gazeDataFragment,a=l.snapshotId,window.analysis.gazeDataFragmentMapped(t,n,i,r,o,a,c,u)})),window.analysis.onCompleteCorrectionListener((async function(e){console.log("onCompleteCorrectionListener",arguments);const t=e[0],n=e[1];await WD(t,n)})),window.Rserver.onCompleteFixationFilterListener((async function(e){console.log("completeFixationFilterListener",arguments);const t=e[0],n=e[1];await wD(t,n)})),document.getElementById("main-view").style.display="none",document.getElementById("import-view").style.display="flex",document.getElementById("upload-label").innerText="Drop BPM Eye Mind gaze files",gI(),document.getElementById("fixation-filter-btn").onclick=()=>{!async function(){console.log("loadETSettingsView",arguments),nI("loaded-content-view"),iI("fixation-settings-view","flex"),document.getElementById("submit-apply-fixation-settings-form").onclick=()=>{bD()},xD(),document.getElementById("close-fixation-settings-projection").onclick=()=>{_D()}}()},document.getElementById("mode-text").innerText="Analysis Mode",document.getElementById("feature-text").innerText="",document.getElementById("analysis-icons").style.display="block",document.getElementById("projections-mapping-btn").onclick=()=>OD(),document.getElementById("download-btn").onclick=()=>kD(),document.getElementById("questions-container").style.display="none",document.getElementById("process-files").onclick=()=>{YD(),nD()}}function YD(){console.log("loadModels",arguments);var e=yO();document.getElementById("import-view").style.display="none",document.getElementById("loaded-content-view").style.display="flex","data-collection"==e.mode&&(document.getElementById("index-tab").style.display="block");const t=document.getElementById("to-tab-right"),n=document.getElementById("to-tab-left"),i=20;return t.onclick=function(){document.getElementById("nav-tabs").scrollLeft+=i},n.onclick=function(){document.getElementById("nav-tabs").scrollLeft-=i},!0}function XD(e){console.log("closeModalOutsideClickInteraction",arguments),e.target!=document.getElementById("startET-modal")&&e.target!=document.getElementById("heatmap-settings-modal")&&e.target!=document.getElementById("download-modal")||(e.target.style.display="none")}n(200);function JD(){console.log("eyeTrackingModeInteraction",arguments);var e=yO();e.mode="data-collection",eI("main-view","data-collection-session-options-view","flex"),document.getElementById("load-session").onclick=()=>QD(),document.getElementById("new-session").onclick=()=>eF(),gI()}function QD(){console.log("loadSessionInteraction",arguments),eI("data-collection-session-options-view","import-view","flex"),tI("upload-label","Drop a session file","block");var e=yO();e.importMode="single",e.temp.expectedArtifact="session",e.temp.expectedExtensions=["json"]}function eF(){console.log("newSessionInteraction",arguments);var e=yO();eI("data-collection-session-options-view","data-collection-settings-view","flex"),document.getElementById("proceed-data-collection-settings").onclick=()=>{const t=document.getElementById("linking-sub-processes");e.linkingSubProcessesMode=t.options[t.selectedIndex].value,console.log("state.linkingSubProcessesMode",e.linkingSubProcessesMode),tF()},document.getElementById("process-files").onclick=()=>{const t=GI();if(!t.sucess){const e=t.msg;return dO(e),console.error(e),!1}if(0!=!Object.keys(e.models).length){const e="No models to load";return dO(e),console.error(e),!1}nF()}}function tF(){console.log("importModelsInteraction",arguments),eI("data-collection-settings-view","import-view","flex"),tI("upload-label","Drop models files","block");var e=yO();e.importMode="multiple",e.temp.expectedArtifact="models",e.temp.expectedExtensions=["bpmn","odm"]}function nF(){console.log("importQuestionsInteraction",arguments),eI("data-collection-session-options-view","import-view","flex"),rI("upload-zone"),tI("upload-label","Drop questions csv files","block");var e=yO();e.importMode="single",e.temp.expectedArtifact="questions",e.temp.expectedExtensions=["csv"]}async function iF(){console.log("saveSessionInteraction",arguments);var e=yO();if(uF()){e.processedGazeData={xScreenDim:document.getElementById("x-dim").value,yScreenDim:document.getElementById("y-dim").value,screenDistance:document.getElementById("screen-distance").value,monitorSize:document.getElementById("monitor-size").value,experimentID:document.getElementById("experiment-id").value,experimenterID:document.getElementById("experimenter-id").value,additionalNotes:document.getElementById("additional-notes").value};const t=await window.utils.saveSession(e);t.sucess?fO(t.msg):dO(t.msg)}}function rF(e){console.log("prepareDataCollectionContent",arguments);var t=yO();"newTab"!=t.linkingSubProcessesMode&&"withinTab"!=t.linkingSubProcessesMode||(document.getElementById("explorer").style.display="none"),HO();const n=YD();e||(WI(),DO(),FO()),document.getElementById("mode-text").innerText="Eye-tracking Mode",document.getElementById("feature-text").innerText="",document.getElementById("eye-tracking-icons").style.display="block",document.getElementById("record-btn").onclick=()=>oF(),document.getElementById("close-startET-modal").onclick=sF,document.getElementById("submit-recording-form").onclick=()=>cF(),document.getElementById("save-session").onclick=()=>iF(),n&&window.hasOwnProperty("electron")&&window.electron.putFullScreen()}function oF(){console.log("recordETInteraction",arguments),aF(),document.getElementById("recording-id").value="R"+Date.now(),document.getElementById("startET-modal").style.display="block"}function aF(){console.log("loadRecordingFormData",arguments);var e=yO();e.processedGazeData.hasOwnProperty("xScreenDim")&&(document.getElementById("x-dim").value=e.processedGazeData.xScreenDim),e.processedGazeData.hasOwnProperty("yScreenDim")&&(document.getElementById("y-dim").value=e.processedGazeData.yScreenDim),e.processedGazeData.hasOwnProperty("screenDistance")&&(document.getElementById("screen-distance").value=e.processedGazeData.screenDistance),e.processedGazeData.hasOwnProperty("monitorSize")&&(document.getElementById("monitor-size").value=e.processedGazeData.monitorSize),e.processedGazeData.hasOwnProperty("experimentID")&&(document.getElementById("experiment-id").value=e.processedGazeData.experimentID),e.processedGazeData.hasOwnProperty("experimenterID")&&(document.getElementById("experimenter-id").value=e.processedGazeData.experimenterID),e.processedGazeData.hasOwnProperty("additionalNotes")&&(document.getElementById("additional-notes").value=e.processedGazeData.additionalNotes)}function sF(){console.log("closeStartETModalInteraction",arguments),document.getElementById("startET-modal").style.display="none"}async function cF(){console.log("startETInteraction",arguments);yO();if(uF()){var e=!1;try{await hF(document.getElementById("x-dim").value,document.getElementById("y-dim").value),e=!0}catch(e){const t="Cannot setup the eye-tracking session. Please make sure that the eye-tracking server is running.";dO(t),console.error(t)}if(e){document.getElementById("submit-recording-form").onclick=null,document.getElementById("record-btn").onclick=null,await lF(),document.getElementById("startET-modal").style.display="none",document.getElementById("record-btn").src="icons/record_disabled.svg",document.getElementById("record-btn").style.cursor="default",document.getElementById("stop-btn").src="icons/stop_enabled.svg",document.getElementById("stop-btn").style.cursor="pointer",document.getElementById("stop-btn").onclick=()=>vF();try{fF(Date.now(),document.body.innerHTML,window.screenX,window.screenY),UO()}catch(e){const t="Eror when starting the eye-tracking";dO(t),console.error(t)}}}}function uF(){return!(""==document.getElementById("recording-id").value||isNaN(Number(document.getElementById("x-dim").value))||""==document.getElementById("x-dim").value||isNaN(Number(document.getElementById("y-dim").value))||""==document.getElementById("y-dim").value||isNaN(Number(document.getElementById("screen-distance").value))||""==document.getElementById("screen-distance").value||isNaN(Number(document.getElementById("monitor-size").value))||""==document.getElementById("monitor-size").value)||(dO("Some required fields are missing or invalid"),!1)}async function lF(){console.log("initiateETsession",arguments);var e=yO();e.processedGazeData={xScreenDim:document.getElementById("x-dim").value,yScreenDim:document.getElementById("y-dim").value,screenDistance:document.getElementById("screen-distance").value,monitorSize:document.getElementById("monitor-size").value,recordingID:document.getElementById("recording-id").value,participantID:document.getElementById("participant-id").value,experimentID:document.getElementById("experiment-id").value,experimenterID:document.getElementById("experimenter-id").value,additionalNotes:document.getElementById("additional-notes").value,gazeData:""},e.styleParameters=await pF()}async function pF(){console.log("getStyleParameters",arguments);var e="";const t=document.querySelectorAll("link");for(var n=0;n<t.length;n++){const i=t[n].getAttribute("href"),r=await fetch(i);e+=" "+await r.text()}return e}async function hF(e,t){console.log("setupTracking function");const n=await window.eyeTracker.setupTracking(e,t);if(console.log("res",n),!n.sucess)throw n.msg}function fF(e,t,n,i){yO().isEtOn=!0}function dF(e,t,n,i){console.log("takesnapshot",arguments);var r=yO();if(console.log("state to be used in snapshot",r),r.isEtOn){var o={};if(o.timestamp=e,o.code=t,o.screenX=0,o.screenY=0,o.id=r.snapshotsCounter,o.tabName=r.activeTab,null!=o.tabName&&""!=o.tabName){const e=Array.from(document.querySelectorAll(".tab-container")).filter(e=>"flex"==window.getComputedStyle(e).getPropertyValue("display"))[0].querySelector("svg[data-element-id]");o.boundingClientRect=JSON.stringify(e.getBoundingClientRect())}else o.boundingClientRect=null;console.log("taken snapshot",o),mF(o),gF(o),r.snapshotsCounter++,window.hasOwnProperty("clientTests")&&(window.clientTests.lastSnapshot=o)}else console.log("snapshot not taken,  isEtOn=",r.isEtOn)}async function mF(e){console.log("sendSnapshotID",arguments);const t=await window.eyeTracker.sendSnapshotID(e);t.sucess||console.error(t.msg)}async function gF(e){console.log("sendFullSnapshot ",arguments);const t=await window.eyeTracker.sendFullSnapshot(e);t.sucess||console.error(t.msg)}async function vF(){console.log("stopETInteraction",arguments);var e=yO();document.getElementById("stop-btn").onclick=null,document.getElementById("stop-btn").src="icons/stop_disabled.svg",document.getElementById("stop-btn").style.cursor="default",await JO("Please wait while the gaze data is being processed<br>Do not resize this window","wait","all-content");var t=wF(e.styleParameters);window.hasOwnProperty("externalProgressWindows")||(window.externalProgressWindows={});const n="Window"+Date.now();window.externalProgressWindows[n]=t,ZO(),yF(n),_F()}function yF(e){console.log("endTracking function ",arguments);var t=yO();t.isEtOn=!1,bF(e)}function bF(e){console.log("processGazeData function ",arguments);var t=yO();AD(),window.eyeTracker.processGazeData(t,e)}function wF(e){console.log("initiateProgressWindow",arguments);var t=window.open("about:blank","","_blank, width=500, height=200, directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=no,resizable=no");const n=document.getElementById("wait").cloneNode(!0);return t.document.body.appendChild(n),t.document.getElementById("wait-icon").remove(),t.document.head.innerHTML="<style>"+e+"</style>",t}function _F(){console.log("completeProcessingListener",arguments),window.eyeTracker.onCompleteProcessingListener((async function(e){console.log("onCompleteProcessingListener",arguments);const t=e[0],n=e[1],i=e[2];await xF(t,n,i)}))}async function xF(e,t,n){console.log("completeProcessing",arguments),window.externalProgressWindows[e].close(),document.getElementById("all-content").style.display="none",await QO("finished-processing-gaze-data","wait"),window.hasOwnProperty("electron")&&window.electron.removeFullScreen(),n?fO(t):dO(t)}const{ipcRenderer:kF}=window;(async function(){bO(await window.state.getState())})().then(()=>{!function(){console.log("DisableCriticalKeys",arguments),window.onkeydown=function(e){(e.ctrlKey||e.altKey)&&82!=e.keyCode&&73!=e.keyCode&&e.preventDefault()}}(),function(){console.log("handleWindowRefresh",arguments),window.electron.removeFullScreen(),window.state.clearState(),window.state.clearStates()}(),function(){console.log("takeSnapshotOnWindowResize",arguments),window.electron.onBrowserResize((function(e){console.log("onBrowserResize"),dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}))}(),function(){console.log("takeSnapshotOnWindowMovement",arguments),window.electron.onBrowserMovement((function(e){console.log("onBrowserMovement"),dF(Date.now(),document.body.innerHTML,window.screenX,window.screenY)}))}(),function(){console.log("modeSelectionListeners",arguments),document.getElementById("eye-tracking").onclick=()=>{JD()},document.getElementById("analysis").onclick=()=>ZD()}(),function(){console.log("testListeners",arguments),window.clientTests={},window.clientTests.getClientState=()=>yO(),window.clientTests.openMainTabInWithinTabLinks=e=>IO(!0,!1,e),window.clientTests.resetModel=e=>EO(e),window.clientTests.resetNavTabsAndTabs=e=>SO(e)}(),window.onclick=XD})},function(e,t,n){"use strict";n.r(t),n.d(t,"request",(function(){return g})),n.d(t,"html",(function(){return y})),n.d(t,"json",(function(){return b})),n.d(t,"text",(function(){return w})),n.d(t,"xml",(function(){return _})),n.d(t,"csv",(function(){return S})),n.d(t,"tsv",(function(){return j}));function i(){}function r(e,t){var n=new i;if(e instanceof i)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(r=e[o],o,e),r)}else if(e)for(var s in e)n.set(s,e[s]);return n}i.prototype=r.prototype={constructor:i,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var o=r;function a(){}var s=o.prototype;function c(e,t){var n=new a;if(e instanceof a)e.each((function(e){n.add(e)}));else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}a.prototype=c.prototype={constructor:a,has:s.has,add:function(e){return this["$"+(e+="")]=e,this},remove:s.remove,clear:s.clear,values:s.keys,size:s.size,empty:s.empty,each:s.each};var u={value:function(){}};function l(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new p(i)}function p(e){this._=e}function h(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function f(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function d(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=u,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}p.prototype=l.prototype={constructor:p,on:function(e,t){var n,i=this._,r=h(e+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=d(i[n],e.name,t);else if(null==t)for(n in i)i[n]=d(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=f(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new p(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};var m=l,g=function(e,t){var n,i,r,a,s=m("beforesend","progress","load","error"),c=o(),u=new XMLHttpRequest,l=null,p=null,h=0;function f(e){var t,i=u.status;if(!i&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||i>=200&&i<300||304===i){if(r)try{t=r.call(n,u)}catch(e){return void s.call("error",n,e)}else t=u;s.call("load",n,t)}else s.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(e)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=f:u.onreadystatechange=function(e){u.readyState>3&&f(e)},u.onprogress=function(e){s.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c.get(e):(null==t?c.remove(e):c.set(e,t+""),n)},mimeType:function(e){return arguments.length?(i=null==e?null:e+"",n):i},responseType:function(e){return arguments.length?(a=e,n):a},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?l:(l=null==e?null:e+"",n)},password:function(e){return arguments.length<1?p:(p=null==e?null:e+"",n)},response:function(e){return r=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,o){return u.open(t,e,!0,l,p),null==i||c.has("accept")||c.set("accept",i+",*/*"),u.setRequestHeader&&c.each((function(e,t){u.setRequestHeader(t,e)})),null!=i&&u.overrideMimeType&&u.overrideMimeType(i),null!=a&&(u.responseType=a),h>0&&(u.timeout=h),null==o&&"function"==typeof r&&(o=r,r=null),null!=o&&1===o.length&&(o=function(e){return function(t,n){e(null==t?n:null)}}(o)),null!=o&&n.on("error",o).on("load",(function(e){o(null,e)})),s.call("beforesend",n,u),u.send(null==r?null:r),n},abort:function(){return u.abort(),n},on:function(){var e=s.on.apply(s,arguments);return e===s?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n};var v=function(e,t){return function(n,i){var r=g(n).mimeType(e).response(t);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},y=v("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),b=v("application/json",(function(e){return JSON.parse(e.responseText)})),w=v("text/plain",(function(e){return e.responseText})),_=v("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),x=n(136),k=function(e,t){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=g(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(E(t,i=e)):i},o.row(i),r?o.get(r):o}};function E(e,t){return function(n){return e(n.responseText,t)}}var S=k("text/csv",x.csvParse),j=k("text/tab-separated-values",x.tsvParse)},,,,function(e,t,n){(function(t){var n;n=void 0!==t?t:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),i=n.length,r=-1,o="",a=n.charCodeAt(0);++r<i;)0!=(t=n.charCodeAt(r))?o+=t>=1&&t<=31||127==t||0==r&&t>=48&&t<=57||1==r&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==r&&1==i&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(r):n.charAt(r):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(n)}).call(this,n(17))}]);
//# sourceMappingURL=app.js.map